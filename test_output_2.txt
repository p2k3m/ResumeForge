
> resumeforge@1.0.0 test
> node --experimental-vm-modules node_modules/jest/bin/jest.js tests/server.test.js

[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`
(node:32412) ExperimentalWarning: VM Modules is an experimental feature. This feature could change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
  console.log
    {"timestamp":"2025-11-29T11:12:36.573Z","level":"info","message":"http_request_received","requestId":"8749e1e8-b91e-4d3b-baba-f31a90e660e4","method":"GET","path":"/healthz","template":"unknown","session":"8749e1e8-b91e-4d3b-baba-f31a90e660e4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8749e1e8-b91e-4d3b-baba-f31a90e660e4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:37.430Z","level":"info","message":"http_request_completed","requestId":"8749e1e8-b91e-4d3b-baba-f31a90e660e4","method":"GET","path":"/healthz","statusCode":200,"durationMs":858,"contentLength":"15","template":"unknown","session":"8749e1e8-b91e-4d3b-baba-f31a90e660e4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8749e1e8-b91e-4d3b-baba-f31a90e660e4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:37.520Z","level":"info","message":"http_request_received","requestId":"d8ecf0fe-f0ce-4128-9224-eba20e37aa33","method":"GET","path":"/favicon.ico","template":"unknown","session":"d8ecf0fe-f0ce-4128-9224-eba20e37aa33","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d8ecf0fe-f0ce-4128-9224-eba20e37aa33","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:37.531Z","level":"info","message":"http_request_completed","requestId":"d8ecf0fe-f0ce-4128-9224-eba20e37aa33","method":"GET","path":"/favicon.ico","statusCode":204,"durationMs":10,"template":"unknown","session":"d8ecf0fe-f0ce-4128-9224-eba20e37aa33","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d8ecf0fe-f0ce-4128-9224-eba20e37aa33","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:37.553Z","level":"info","message":"http_request_received","requestId":"98a2ab90-6943-4329-aae0-d8e195ea39ac","method":"GET","path":"/assets/index-missing.css","template":"unknown","session":"98a2ab90-6943-4329-aae0-d8e195ea39ac","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98a2ab90-6943-4329-aae0-d8e195ea39ac","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:37.579Z","level":"info","message":"client_asset_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-missing.css","path":"/assets/index-missing.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:37.586Z","level":"info","message":"http_request_completed","requestId":"98a2ab90-6943-4329-aae0-d8e195ea39ac","method":"GET","path":"/assets/index-missing.css","statusCode":200,"durationMs":33,"contentLength":"18","template":"unknown","session":"98a2ab90-6943-4329-aae0-d8e195ea39ac","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98a2ab90-6943-4329-aae0-d8e195ea39ac","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:37.621Z","level":"info","message":"http_request_received","requestId":"c4d2280f-5710-4bed-8b8a-1af5be8dbefd","method":"GET","path":"/assets/index-88182d50.css","template":"unknown","session":"c4d2280f-5710-4bed-8b8a-1af5be8dbefd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c4d2280f-5710-4bed-8b8a-1af5be8dbefd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:37.641Z","level":"info","message":"http_request_completed","requestId":"c4d2280f-5710-4bed-8b8a-1af5be8dbefd","method":"GET","path":"/assets/index-88182d50.css","statusCode":200,"durationMs":19,"contentLength":"52930","template":"unknown","session":"c4d2280f-5710-4bed-8b8a-1af5be8dbefd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c4d2280f-5710-4bed-8b8a-1af5be8dbefd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:37.654Z","level":"info","message":"client_asset_hashed_local_served","assetPath":"/assets/index-88182d50.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:37.672Z","level":"info","message":"http_request_received","requestId":"83556e84-53e5-4d4d-a301-f8e93c5c15ee","method":"GET","path":"/prod/assets/index-latest.css","template":"unknown","session":"83556e84-53e5-4d4d-a301-f8e93c5c15ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83556e84-53e5-4d4d-a301-f8e93c5c15ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:37.686Z","level":"info","message":"http_request_completed","requestId":"83556e84-53e5-4d4d-a301-f8e93c5c15ee","method":"GET","path":"/prod/assets/index-latest.css","statusCode":200,"durationMs":13,"contentLength":"52930","template":"unknown","session":"83556e84-53e5-4d4d-a301-f8e93c5c15ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83556e84-53e5-4d4d-a301-f8e93c5c15ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:37.692Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:37.705Z","level":"info","message":"http_request_received","requestId":"88d8ce0b-a51b-4d2a-93e8-87ceddafb0a8","method":"HEAD","path":"/assets/index-meta.js","template":"unknown","session":"88d8ce0b-a51b-4d2a-93e8-87ceddafb0a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"88d8ce0b-a51b-4d2a-93e8-87ceddafb0a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:37.742Z","level":"info","message":"client_asset_s3_head_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-meta.js","path":"/assets/index-meta.js","method":"HEAD","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:37.745Z","level":"info","message":"http_request_completed","requestId":"88d8ce0b-a51b-4d2a-93e8-87ceddafb0a8","method":"HEAD","path":"/assets/index-meta.js","statusCode":200,"durationMs":40,"contentLength":"1234","template":"unknown","session":"88d8ce0b-a51b-4d2a-93e8-87ceddafb0a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"88d8ce0b-a51b-4d2a-93e8-87ceddafb0a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:37.769Z","level":"info","message":"http_request_received","requestId":"5e47174e-2f6e-4df3-ab80-f80beff872dc","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"5e47174e-2f6e-4df3-ab80-f80beff872dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e47174e-2f6e-4df3-ab80-f80beff872dc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:37.786Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-test-alias.css","path":"assets/index-test-alias.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-test-alias.css","s3Key":"assets/index-test-alias.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:37.790Z","level":"info","message":"http_request_completed","requestId":"5e47174e-2f6e-4df3-ab80-f80beff872dc","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":21,"contentLength":"23","template":"unknown","session":"5e47174e-2f6e-4df3-ab80-f80beff872dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e47174e-2f6e-4df3-ab80-f80beff872dc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:37.803Z","level":"info","message":"http_request_received","requestId":"c14af955-0bb0-451c-91c4-dca5bc4b0171","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"c14af955-0bb0-451c-91c4-dca5bc4b0171","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c14af955-0bb0-451c-91c4-dca5bc4b0171","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:37.814Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-manifest-only.css","path":"assets/index-manifest-only.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-manifest-only.css","s3Key":"assets/index-manifest-only.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:37.818Z","level":"info","message":"http_request_completed","requestId":"c14af955-0bb0-451c-91c4-dca5bc4b0171","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":16,"contentLength":"31","template":"unknown","session":"c14af955-0bb0-451c-91c4-dca5bc4b0171","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c14af955-0bb0-451c-91c4-dca5bc4b0171","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:37.830Z","level":"info","message":"http_request_received","requestId":"b85c1f85-78f6-480c-b949-2832e3ae3216","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"b85c1f85-78f6-480c-b949-2832e3ae3216","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b85c1f85-78f6-480c-b949-2832e3ae3216","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:37.837Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/prod/latest/assets/index-prefixed.css","path":"static/client/prod/latest/assets/index-prefixed.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-prefixed.css","s3Key":"static/client/prod/latest/assets/index-prefixed.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:37.840Z","level":"info","message":"http_request_completed","requestId":"b85c1f85-78f6-480c-b949-2832e3ae3216","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":10,"contentLength":"26","template":"unknown","session":"b85c1f85-78f6-480c-b949-2832e3ae3216","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b85c1f85-78f6-480c-b949-2832e3ae3216","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:37.854Z","level":"info","message":"http_request_received","requestId":"85c8c2ed-0d9f-4d8d-908c-9f5863210f8a","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"85c8c2ed-0d9f-4d8d-908c-9f5863210f8a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85c8c2ed-0d9f-4d8d-908c-9f5863210f8a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:39.270Z","level":"warn","message":"client_asset_alias_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-missing.css","path":"assets/index-missing.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-missing.css","s3Key":"assets/index-missing.css","error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:530:23)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at send (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7616:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at executeWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7619:16)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1093:32)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1352:30)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at serveIndexAssetAlias (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1463:3)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:1112:5)
      at handleIndexAssetAliasRequest (server.js:1352:24)
      at serveIndexAssetAlias (server.js:1463:3)

  console.log
    {"timestamp":"2025-11-29T11:12:39.303Z","level":"info","message":"client_asset_alias_fallback_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-existing.css","path":"assets/index-existing.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-existing.css","s3Key":"assets/index-existing.css","manifestFallback":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.308Z","level":"info","message":"http_request_completed","requestId":"85c8c2ed-0d9f-4d8d-908c-9f5863210f8a","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":1454,"contentLength":"26","template":"unknown","session":"85c8c2ed-0d9f-4d8d-908c-9f5863210f8a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85c8c2ed-0d9f-4d8d-908c-9f5863210f8a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.327Z","level":"info","message":"http_request_received","requestId":"8c0334b9-4f73-49bc-9fb5-149690900740","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"8c0334b9-4f73-49bc-9fb5-149690900740","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8c0334b9-4f73-49bc-9fb5-149690900740","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.338Z","level":"info","message":"http_request_completed","requestId":"8c0334b9-4f73-49bc-9fb5-149690900740","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","statusCode":200,"durationMs":11,"contentLength":"52930","template":"unknown","session":"8c0334b9-4f73-49bc-9fb5-149690900740","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8c0334b9-4f73-49bc-9fb5-149690900740","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.341Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.363Z","level":"info","message":"http_request_received","requestId":"03b57091-b126-4a66-affd-da5f4a46fbed","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","template":"unknown","session":"03b57091-b126-4a66-affd-da5f4a46fbed","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"03b57091-b126-4a66-affd-da5f4a46fbed","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.369Z","level":"info","message":"http_request_completed","requestId":"03b57091-b126-4a66-affd-da5f4a46fbed","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","statusCode":200,"durationMs":6,"contentLength":"52930","template":"unknown","session":"03b57091-b126-4a66-affd-da5f4a46fbed","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"03b57091-b126-4a66-affd-da5f4a46fbed","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.374Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.386Z","level":"info","message":"http_request_received","requestId":"7e867e22-505f-4196-aec8-849dec9482fc","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-88182d50.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","template":"unknown","session":"7e867e22-505f-4196-aec8-849dec9482fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e867e22-505f-4196-aec8-849dec9482fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.394Z","level":"info","message":"http_request_completed","requestId":"7e867e22-505f-4196-aec8-849dec9482fc","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-88182d50.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","statusCode":200,"durationMs":8,"contentLength":"52930","template":"unknown","session":"7e867e22-505f-4196-aec8-849dec9482fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7e867e22-505f-4196-aec8-849dec9482fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.397Z","level":"info","message":"client_asset_alias_local_served","path":"/assets/index-88182d50.css","method":"GET","proxy":true,"aliasPath":"/assets/index-latest.css","annotatedAlias":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.408Z","level":"info","message":"http_request_received","requestId":"b23fe2eb-40da-412b-b598-e5ad58858513","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"b23fe2eb-40da-412b-b598-e5ad58858513","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b23fe2eb-40da-412b-b598-e5ad58858513","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.417Z","level":"info","message":"client_asset_alias_proxy_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-88182d50.css","path":"assets/index-88182d50.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-88182d50.css","s3Key":"assets/index-88182d50.css","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.419Z","level":"info","message":"http_request_completed","requestId":"b23fe2eb-40da-412b-b598-e5ad58858513","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","statusCode":200,"durationMs":11,"contentLength":"32","template":"unknown","session":"b23fe2eb-40da-412b-b598-e5ad58858513","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b23fe2eb-40da-412b-b598-e5ad58858513","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.427Z","level":"info","message":"http_request_received","requestId":"9e4e49fd-3c7c-42e0-8d67-022d0c7fce68","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-88182d50.css","template":"unknown","session":"9e4e49fd-3c7c-42e0-8d67-022d0c7fce68","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9e4e49fd-3c7c-42e0-8d67-022d0c7fce68","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:39.435Z","level":"warn","message":"client_asset_proxy_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-88182d50.css","path":"/assets/index-88182d50.css","method":"GET","proxy":true,"error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:703:21)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at send (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7616:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at executeWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7619:16)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1093:32)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:18952:30)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:1112:5)
      at server.js:18952:24

  console.log
    {"timestamp":"2025-11-29T11:12:39.453Z","level":"info","message":"http_request_completed","requestId":"9e4e49fd-3c7c-42e0-8d67-022d0c7fce68","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-88182d50.css","statusCode":200,"durationMs":26,"contentLength":"52930","template":"unknown","session":"9e4e49fd-3c7c-42e0-8d67-022d0c7fce68","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9e4e49fd-3c7c-42e0-8d67-022d0c7fce68","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.470Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","path":"/assets/index-88182d50.css","proxy":true,"degradedFrom":"/assets/index-88182d50.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:39.473Z","level":"warn","message":"client_asset_proxy_degraded_to_alias","path":"/assets/index-88182d50.css","method":"GET","proxy":true,"aliasPath":"/assets/index-latest.css","degradedFrom":"/assets/index-88182d50.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:19004:9)

  console.log
    {"timestamp":"2025-11-29T11:12:39.495Z","level":"info","message":"http_request_received","requestId":"7992e857-7b5a-4a26-a890-fcc964ba6aa2","method":"GET","path":"/assets/index-88182d50.css","template":"unknown","session":"7992e857-7b5a-4a26-a890-fcc964ba6aa2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7992e857-7b5a-4a26-a890-fcc964ba6aa2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:39.500Z","level":"warn","message":"client_asset_s3_fallback_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-88182d50.css","path":"/assets/index-88182d50.css","method":"GET","error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:740:21)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at send (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7616:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at executeWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7619:16)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1093:32)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1149:24)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:1112:5)
      at tryServeHashedIndexAssetFromS3 (server.js:1149:18)

  console.log
    {"timestamp":"2025-11-29T11:12:39.518Z","level":"info","message":"http_request_completed","requestId":"7992e857-7b5a-4a26-a890-fcc964ba6aa2","method":"GET","path":"/assets/index-88182d50.css","statusCode":200,"durationMs":23,"contentLength":"52930","template":"unknown","session":"7992e857-7b5a-4a26-a890-fcc964ba6aa2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7992e857-7b5a-4a26-a890-fcc964ba6aa2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.523Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","hashedPath":"/assets/index-88182d50.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:39.525Z","level":"warn","message":"hashed_index_asset_degraded_to_alias","hashedPath":"/assets/index-88182d50.css","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:1201:7)

  console.log
    {"timestamp":"2025-11-29T11:12:39.545Z","level":"info","message":"http_request_received","requestId":"b3cd0487-e8f3-4a98-b853-6a336bbc4861","method":"GET","path":"/api/static-proxy?asset=..%2Fsecrets.txt","template":"unknown","session":"b3cd0487-e8f3-4a98-b853-6a336bbc4861","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b3cd0487-e8f3-4a98-b853-6a336bbc4861","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:39.552Z","level":"warn","message":"api_error_response","requestId":"b3cd0487-e8f3-4a98-b853-6a336bbc4861","status":400,"error":{"code":"INVALID_STATIC_ASSET_PATH","message":"Provide a valid static asset path to proxy.","details":{},"requestId":"b3cd0487-e8f3-4a98-b853-6a336bbc4861"},"template":"unknown","session":"b3cd0487-e8f3-4a98-b853-6a336bbc4861","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b3cd0487-e8f3-4a98-b853-6a336bbc4861","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:3825:3)
      at sendError (server.js:18888:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at SendStream.error (node_modules/serve-static/index.js:121:7)
      at SendStream.error (node_modules/send/index.js:270:17)
      at SendStream.onStatError (node_modules/send/index.js:417:12)
      at next (node_modules/send/index.js:730:16)
      at onstat (node_modules/send/index.js:719:14)

  console.log
    {"timestamp":"2025-11-29T11:12:39.577Z","level":"info","message":"http_request_completed","requestId":"b3cd0487-e8f3-4a98-b853-6a336bbc4861","method":"GET","path":"/api/static-proxy?asset=..%2Fsecrets.txt","statusCode":400,"durationMs":32,"contentLength":"182","template":"unknown","session":"b3cd0487-e8f3-4a98-b853-6a336bbc4861","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b3cd0487-e8f3-4a98-b853-6a336bbc4861","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.592Z","level":"info","message":"http_request_received","requestId":"99423794-b2b4-497e-b9e5-b8101501dde7","method":"GET","path":"/api/static-manifest","template":"unknown","session":"99423794-b2b4-497e-b9e5-b8101501dde7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"99423794-b2b4-497e-b9e5-b8101501dde7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.608Z","level":"info","message":"http_request_completed","requestId":"99423794-b2b4-497e-b9e5-b8101501dde7","method":"GET","path":"/api/static-manifest","statusCode":200,"durationMs":16,"contentLength":"301","template":"unknown","session":"99423794-b2b4-497e-b9e5-b8101501dde7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"99423794-b2b4-497e-b9e5-b8101501dde7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.617Z","level":"info","message":"http_request_received","requestId":"21a20f30-5447-4f51-ba03-4969c4057949","method":"GET","path":"/api/static-manifest","template":"unknown","session":"21a20f30-5447-4f51-ba03-4969c4057949","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21a20f30-5447-4f51-ba03-4969c4057949","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.625Z","level":"info","message":"http_request_completed","requestId":"21a20f30-5447-4f51-ba03-4969c4057949","method":"GET","path":"/api/static-manifest","statusCode":200,"durationMs":8,"contentLength":"195","template":"unknown","session":"21a20f30-5447-4f51-ba03-4969c4057949","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21a20f30-5447-4f51-ba03-4969c4057949","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.633Z","level":"info","message":"http_request_received","requestId":"30b0973b-26d2-46c8-8ef0-ca650a2f8895","method":"GET","path":"/api/static-manifest?refresh=1","template":"unknown","session":"30b0973b-26d2-46c8-8ef0-ca650a2f8895","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"30b0973b-26d2-46c8-8ef0-ca650a2f8895","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.641Z","level":"info","message":"http_request_completed","requestId":"30b0973b-26d2-46c8-8ef0-ca650a2f8895","method":"GET","path":"/api/static-manifest?refresh=1","statusCode":200,"durationMs":8,"contentLength":"195","template":"unknown","session":"30b0973b-26d2-46c8-8ef0-ca650a2f8895","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"30b0973b-26d2-46c8-8ef0-ca650a2f8895","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.649Z","level":"info","message":"http_request_received","requestId":"bac47699-432e-4177-a0e2-ff33ce3ee094","method":"GET","path":"/api/static-manifest","template":"unknown","session":"bac47699-432e-4177-a0e2-ff33ce3ee094","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bac47699-432e-4177-a0e2-ff33ce3ee094","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:39.659Z","level":"warn","message":"client_asset_manifest_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/manifest.json","error":{"name":"Error","message":"manifest not found","stack":"Error: manifest not found\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:837:22)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at send (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7616:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at executeWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7619:16)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:834:30)\n    at loadStaticAssetManifestFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:917:4)\n    at loadStaticAssetManifestFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:19024:28)\n    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/serve-static/index.js:121:7)\n    at SendStream.emit (node:events:513:28)\n    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:270:17)\n    at SendStream.onStatError (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:417:12)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:730:16)\n    at onstat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:719:14)\n    at FSReqCallback.oncomplete (node:fs:206:21)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:909:7)
      at loadStaticAssetManifestFromS3 (server.js:924:12)
      at server.js:19024:22

  console.error
    {"timestamp":"2025-11-29T11:12:39.671Z","level":"error","message":"api_error_response","requestId":"bac47699-432e-4177-a0e2-ff33ce3ee094","status":503,"error":{"code":"STATIC_MANIFEST_UNAVAILABLE","message":"Static asset manifest is not currently available. Please try again shortly.","details":{},"requestId":"bac47699-432e-4177-a0e2-ff33ce3ee094"},"template":"unknown","session":"bac47699-432e-4177-a0e2-ff33ce3ee094","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bac47699-432e-4177-a0e2-ff33ce3ee094","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:3825:3)
      at sendError (server.js:19029:14)

  console.log
    {"timestamp":"2025-11-29T11:12:39.686Z","level":"info","message":"http_request_completed","requestId":"bac47699-432e-4177-a0e2-ff33ce3ee094","method":"GET","path":"/api/static-manifest","statusCode":503,"durationMs":37,"contentLength":"216","template":"unknown","session":"bac47699-432e-4177-a0e2-ff33ce3ee094","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bac47699-432e-4177-a0e2-ff33ce3ee094","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.719Z","level":"info","message":"http_request_received","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","method":"POST","path":"/api/process-cv","template":"unknown","session":"7819c9af-3bf4-4c71-ba6b-20f308088c15","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7819c9af-3bf4-4c71-ba6b-20f308088c15","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.758Z","level":"info","message":"process_cv_started","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","jobId":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","manualJobDescriptionProvided":true,"template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.764Z","level":"info","message":"template_selection","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","jobId":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:39.770Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","jobId":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:24934:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24574:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:12:39.794Z","level":"info","message":"initial_upload_completed","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","jobId":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","bucket":"test-bucket","key":"cv/candidate/7819c9af-3bf4-4c71-ba6b-20f308088c15/incoming/original.pdf","template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.868Z","level":"info","message":"resume_text_extracted","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","jobId":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","characters":57,"template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.876Z","level":"info","message":"resume_classified","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","jobId":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.887Z","level":"info","message":"raw_upload_relocated","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","jobId":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","bucket":"test-bucket","fromKey":"cv/candidate/7819c9af-3bf4-4c71-ba6b-20f308088c15/incoming/original.pdf","toKey":"cv/professional_summary/7819c9af-3bf4-4c71-ba6b-20f308088c15/original.pdf","template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.891Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","jobId":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","bucket":"test-bucket","key":"cv/professional_summary/7819c9af-3bf4-4c71-ba6b-20f308088c15/original.pdf","template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.893Z","level":"info","message":"dynamo_initial_record_written","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","jobId":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","bucket":"test-bucket","key":"cv/professional_summary/7819c9af-3bf4-4c71-ba6b-20f308088c15/original.pdf","template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.897Z","level":"info","message":"upload_metadata_written","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","jobId":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","bucket":"test-bucket","key":"cv/professional_summary/7819c9af-3bf4-4c71-ba6b-20f308088c15/logs/log.json","template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.898Z","level":"info","message":"job_description_supplied_manually","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","jobId":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","characters":174,"template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.905Z","level":"info","message":"job_description_analyzed","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","jobId":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","jobTitle":"","jobSkills":5,"template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.921Z","level":"info","message":"resume_skills_analyzed","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","jobId":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.934Z","level":"info","message":"llm_call_metrics","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"7819c9af-3bf4-4c71-ba6b-20f308088c15","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"7819c9af-3bf4-4c71-ba6b-20f308088c15","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:39.949Z","level":"info","message":"process_cv_scoring_completed","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","jobId":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.038Z","level":"info","message":"llm_call_metrics","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"7819c9af-3bf4-4c71-ba6b-20f308088c15","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"7819c9af-3bf4-4c71-ba6b-20f308088c15","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.047Z","level":"info","message":"generation_section_rewrite_completed","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","jobId":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","generationRunId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.050Z","level":"info","message":"llm_call_metrics","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"7819c9af-3bf4-4c71-ba6b-20f308088c15","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"7819c9af-3bf4-4c71-ba6b-20f308088c15","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.087Z","level":"info","message":"generation_resume_verified","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","jobId":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","generationRunId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:40.150Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","jobId":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","generationRunId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20337:7)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:40.177Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","jobId":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","generationRunId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20526:7)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:40.192Z","level":"info","message":"generation_cover_letters_completed","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","jobId":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","generationRunId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","variants":2,"fallbackApplied":true,"template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.200Z","level":"info","message":"pdf_generation_attempt","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","jobId":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","generationRunId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7819c9af-3bf4-4c71-ba6b-20f308088c15/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/7819c9af-3bf4-4c71-ba6b-20f308088c15/enhanced_modern.pdf","session":"7819c9af-3bf4-4c71-ba6b-20f308088c15","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7819c9af-3bf4-4c71-ba6b-20f308088c15","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.205Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","jobId":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","generationRunId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7819c9af-3bf4-4c71-ba6b-20f308088c15/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7819c9af-3bf4-4c71-ba6b-20f308088c15","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7819c9af-3bf4-4c71-ba6b-20f308088c15","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.207Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","jobId":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","generationRunId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7819c9af-3bf4-4c71-ba6b-20f308088c15/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/7819c9af-3bf4-4c71-ba6b-20f308088c15/enhanced_modern.pdf","session":"7819c9af-3bf4-4c71-ba6b-20f308088c15","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7819c9af-3bf4-4c71-ba6b-20f308088c15","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.212Z","level":"info","message":"pdf_generation_attempt","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","jobId":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","generationRunId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7819c9af-3bf4-4c71-ba6b-20f308088c15/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/7819c9af-3bf4-4c71-ba6b-20f308088c15/enhanced_professional.pdf","session":"7819c9af-3bf4-4c71-ba6b-20f308088c15","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7819c9af-3bf4-4c71-ba6b-20f308088c15","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.215Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","jobId":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","generationRunId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7819c9af-3bf4-4c71-ba6b-20f308088c15/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7819c9af-3bf4-4c71-ba6b-20f308088c15","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7819c9af-3bf4-4c71-ba6b-20f308088c15","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.218Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","jobId":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","generationRunId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7819c9af-3bf4-4c71-ba6b-20f308088c15/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/7819c9af-3bf4-4c71-ba6b-20f308088c15/enhanced_professional.pdf","session":"7819c9af-3bf4-4c71-ba6b-20f308088c15","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7819c9af-3bf4-4c71-ba6b-20f308088c15","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.221Z","level":"info","message":"pdf_generation_attempt","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","jobId":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","generationRunId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7819c9af-3bf4-4c71-ba6b-20f308088c15/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/7819c9af-3bf4-4c71-ba6b-20f308088c15/cover_letter_cover_modern.pdf","session":"7819c9af-3bf4-4c71-ba6b-20f308088c15","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7819c9af-3bf4-4c71-ba6b-20f308088c15","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.223Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","jobId":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","generationRunId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7819c9af-3bf4-4c71-ba6b-20f308088c15/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7819c9af-3bf4-4c71-ba6b-20f308088c15","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7819c9af-3bf4-4c71-ba6b-20f308088c15","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.228Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","jobId":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","generationRunId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7819c9af-3bf4-4c71-ba6b-20f308088c15/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/7819c9af-3bf4-4c71-ba6b-20f308088c15/cover_letter_cover_modern.pdf","session":"7819c9af-3bf4-4c71-ba6b-20f308088c15","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7819c9af-3bf4-4c71-ba6b-20f308088c15","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.235Z","level":"info","message":"pdf_generation_attempt","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","jobId":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","generationRunId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7819c9af-3bf4-4c71-ba6b-20f308088c15/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/7819c9af-3bf4-4c71-ba6b-20f308088c15/cover_letter_cover_professional.pdf","session":"7819c9af-3bf4-4c71-ba6b-20f308088c15","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7819c9af-3bf4-4c71-ba6b-20f308088c15","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.243Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","jobId":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","generationRunId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7819c9af-3bf4-4c71-ba6b-20f308088c15/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7819c9af-3bf4-4c71-ba6b-20f308088c15","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7819c9af-3bf4-4c71-ba6b-20f308088c15","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.245Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","jobId":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","generationRunId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7819c9af-3bf4-4c71-ba6b-20f308088c15/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/7819c9af-3bf4-4c71-ba6b-20f308088c15/cover_letter_cover_professional.pdf","session":"7819c9af-3bf4-4c71-ba6b-20f308088c15","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7819c9af-3bf4-4c71-ba6b-20f308088c15","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.271Z","level":"info","message":"llm_call_metrics","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"7819c9af-3bf4-4c71-ba6b-20f308088c15","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"7819c9af-3bf4-4c71-ba6b-20f308088c15","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.275Z","level":"info","message":"generation_completed","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","jobId":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","generationRunId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","enhancedScore":80,"outputs":5,"template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.285Z","level":"info","message":"placeholder_record_deleted","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","jobId":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","placeholderIdentifier":"7819c9af-3bf4-4c71-ba6b-20f308088c15","template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"260ca5c8-fa41-48af-99f2-5fcdf94a05ed","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.289Z","level":"info","message":"http_request_completed","requestId":"7819c9af-3bf4-4c71-ba6b-20f308088c15","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":570,"contentLength":"58133","template":"unknown","session":"7819c9af-3bf4-4c71-ba6b-20f308088c15","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7819c9af-3bf4-4c71-ba6b-20f308088c15","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.304Z","level":"info","message":"http_request_received","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","method":"POST","path":"/api/process-cv","template":"unknown","session":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.340Z","level":"info","message":"process_cv_started","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","jobId":"dfd543e4-490c-42a5-8b17-0724c2da04b6","manualJobDescriptionProvided":true,"template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.344Z","level":"info","message":"template_selection","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","jobId":"dfd543e4-490c-42a5-8b17-0724c2da04b6","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:40.346Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","jobId":"dfd543e4-490c-42a5-8b17-0724c2da04b6","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:24934:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24574:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:12:40.361Z","level":"info","message":"initial_upload_completed","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","jobId":"dfd543e4-490c-42a5-8b17-0724c2da04b6","bucket":"test-bucket","key":"cv/candidate/3a1c4c56-d00a-4b16-9e42-094eddbfe3d0/incoming/original.pdf","template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.378Z","level":"info","message":"resume_text_extracted","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","jobId":"dfd543e4-490c-42a5-8b17-0724c2da04b6","characters":57,"template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.381Z","level":"info","message":"resume_classified","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","jobId":"dfd543e4-490c-42a5-8b17-0724c2da04b6","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.385Z","level":"info","message":"raw_upload_relocated","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","jobId":"dfd543e4-490c-42a5-8b17-0724c2da04b6","bucket":"test-bucket","fromKey":"cv/candidate/3a1c4c56-d00a-4b16-9e42-094eddbfe3d0/incoming/original.pdf","toKey":"cv/professional_summary/3a1c4c56-d00a-4b16-9e42-094eddbfe3d0/original.pdf","template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.389Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","jobId":"dfd543e4-490c-42a5-8b17-0724c2da04b6","bucket":"test-bucket","key":"cv/professional_summary/3a1c4c56-d00a-4b16-9e42-094eddbfe3d0/original.pdf","template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.392Z","level":"info","message":"dynamo_initial_record_written","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","jobId":"dfd543e4-490c-42a5-8b17-0724c2da04b6","bucket":"test-bucket","key":"cv/professional_summary/3a1c4c56-d00a-4b16-9e42-094eddbfe3d0/original.pdf","template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.394Z","level":"info","message":"upload_metadata_written","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","jobId":"dfd543e4-490c-42a5-8b17-0724c2da04b6","bucket":"test-bucket","key":"cv/professional_summary/3a1c4c56-d00a-4b16-9e42-094eddbfe3d0/logs/log.json","template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.395Z","level":"info","message":"job_description_supplied_manually","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","jobId":"dfd543e4-490c-42a5-8b17-0724c2da04b6","characters":174,"template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.397Z","level":"info","message":"job_description_analyzed","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","jobId":"dfd543e4-490c-42a5-8b17-0724c2da04b6","jobTitle":"","jobSkills":5,"template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.400Z","level":"info","message":"resume_skills_analyzed","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","jobId":"dfd543e4-490c-42a5-8b17-0724c2da04b6","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.404Z","level":"info","message":"llm_call_metrics","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.409Z","level":"info","message":"process_cv_scoring_completed","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","jobId":"dfd543e4-490c-42a5-8b17-0724c2da04b6","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.435Z","level":"info","message":"llm_call_metrics","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.439Z","level":"info","message":"generation_section_rewrite_completed","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","jobId":"dfd543e4-490c-42a5-8b17-0724c2da04b6","generationRunId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.441Z","level":"info","message":"llm_call_metrics","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.476Z","level":"info","message":"generation_resume_verified","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","jobId":"dfd543e4-490c-42a5-8b17-0724c2da04b6","generationRunId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:40.487Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","jobId":"dfd543e4-490c-42a5-8b17-0724c2da04b6","generationRunId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20337:7)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:40.513Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","jobId":"dfd543e4-490c-42a5-8b17-0724c2da04b6","generationRunId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20526:7)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:40.531Z","level":"info","message":"generation_cover_letters_completed","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","jobId":"dfd543e4-490c-42a5-8b17-0724c2da04b6","generationRunId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","variants":2,"fallbackApplied":true,"template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.534Z","level":"info","message":"pdf_generation_attempt","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","jobId":"dfd543e4-490c-42a5-8b17-0724c2da04b6","generationRunId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/3a1c4c56-d00a-4b16-9e42-094eddbfe3d0/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/3a1c4c56-d00a-4b16-9e42-094eddbfe3d0/enhanced_modern.pdf","session":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.536Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","jobId":"dfd543e4-490c-42a5-8b17-0724c2da04b6","generationRunId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/3a1c4c56-d00a-4b16-9e42-094eddbfe3d0/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.537Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","jobId":"dfd543e4-490c-42a5-8b17-0724c2da04b6","generationRunId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/3a1c4c56-d00a-4b16-9e42-094eddbfe3d0/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/3a1c4c56-d00a-4b16-9e42-094eddbfe3d0/enhanced_modern.pdf","session":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.539Z","level":"info","message":"pdf_generation_attempt","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","jobId":"dfd543e4-490c-42a5-8b17-0724c2da04b6","generationRunId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/3a1c4c56-d00a-4b16-9e42-094eddbfe3d0/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/3a1c4c56-d00a-4b16-9e42-094eddbfe3d0/enhanced_professional.pdf","session":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.541Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","jobId":"dfd543e4-490c-42a5-8b17-0724c2da04b6","generationRunId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/3a1c4c56-d00a-4b16-9e42-094eddbfe3d0/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.542Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","jobId":"dfd543e4-490c-42a5-8b17-0724c2da04b6","generationRunId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/3a1c4c56-d00a-4b16-9e42-094eddbfe3d0/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/3a1c4c56-d00a-4b16-9e42-094eddbfe3d0/enhanced_professional.pdf","session":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.544Z","level":"info","message":"pdf_generation_attempt","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","jobId":"dfd543e4-490c-42a5-8b17-0724c2da04b6","generationRunId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/3a1c4c56-d00a-4b16-9e42-094eddbfe3d0/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/3a1c4c56-d00a-4b16-9e42-094eddbfe3d0/cover_letter_cover_modern.pdf","session":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.545Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","jobId":"dfd543e4-490c-42a5-8b17-0724c2da04b6","generationRunId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/3a1c4c56-d00a-4b16-9e42-094eddbfe3d0/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.547Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","jobId":"dfd543e4-490c-42a5-8b17-0724c2da04b6","generationRunId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/3a1c4c56-d00a-4b16-9e42-094eddbfe3d0/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/3a1c4c56-d00a-4b16-9e42-094eddbfe3d0/cover_letter_cover_modern.pdf","session":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.551Z","level":"info","message":"pdf_generation_attempt","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","jobId":"dfd543e4-490c-42a5-8b17-0724c2da04b6","generationRunId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/3a1c4c56-d00a-4b16-9e42-094eddbfe3d0/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/3a1c4c56-d00a-4b16-9e42-094eddbfe3d0/cover_letter_cover_professional.pdf","session":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.553Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","jobId":"dfd543e4-490c-42a5-8b17-0724c2da04b6","generationRunId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/3a1c4c56-d00a-4b16-9e42-094eddbfe3d0/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.555Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","jobId":"dfd543e4-490c-42a5-8b17-0724c2da04b6","generationRunId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/3a1c4c56-d00a-4b16-9e42-094eddbfe3d0/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/3a1c4c56-d00a-4b16-9e42-094eddbfe3d0/cover_letter_cover_professional.pdf","session":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.567Z","level":"info","message":"llm_call_metrics","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.570Z","level":"info","message":"generation_completed","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","jobId":"dfd543e4-490c-42a5-8b17-0724c2da04b6","generationRunId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","enhancedScore":80,"outputs":5,"template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.574Z","level":"info","message":"placeholder_record_deleted","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","jobId":"dfd543e4-490c-42a5-8b17-0724c2da04b6","placeholderIdentifier":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfd543e4-490c-42a5-8b17-0724c2da04b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.580Z","level":"info","message":"http_request_completed","requestId":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":276,"contentLength":"58133","template":"unknown","session":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3a1c4c56-d00a-4b16-9e42-094eddbfe3d0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.626Z","level":"info","message":"http_request_received","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","method":"POST","path":"/api/process-cv","template":"unknown","session":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.633Z","level":"info","message":"process_cv_started","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","jobId":"403fac6e-bf57-4a7c-815c-f9607f5bb462","manualJobDescriptionProvided":true,"template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.636Z","level":"info","message":"template_selection","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","jobId":"403fac6e-bf57-4a7c-815c-f9607f5bb462","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:40.638Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","jobId":"403fac6e-bf57-4a7c-815c-f9607f5bb462","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:24934:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24574:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:12:40.654Z","level":"info","message":"initial_upload_completed","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","jobId":"403fac6e-bf57-4a7c-815c-f9607f5bb462","bucket":"test-bucket","key":"cv/candidate/e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0/incoming/original.pdf","template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.656Z","level":"info","message":"resume_text_extracted","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","jobId":"403fac6e-bf57-4a7c-815c-f9607f5bb462","characters":57,"template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.659Z","level":"info","message":"resume_classified","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","jobId":"403fac6e-bf57-4a7c-815c-f9607f5bb462","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.661Z","level":"info","message":"raw_upload_relocated","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","jobId":"403fac6e-bf57-4a7c-815c-f9607f5bb462","bucket":"test-bucket","fromKey":"cv/candidate/e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0/incoming/original.pdf","toKey":"cv/professional_summary/e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0/original.pdf","template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.662Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","jobId":"403fac6e-bf57-4a7c-815c-f9607f5bb462","bucket":"test-bucket","key":"cv/professional_summary/e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0/original.pdf","template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.664Z","level":"info","message":"dynamo_initial_record_written","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","jobId":"403fac6e-bf57-4a7c-815c-f9607f5bb462","bucket":"test-bucket","key":"cv/professional_summary/e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0/original.pdf","template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.666Z","level":"info","message":"upload_metadata_written","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","jobId":"403fac6e-bf57-4a7c-815c-f9607f5bb462","bucket":"test-bucket","key":"cv/professional_summary/e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0/logs/log.json","template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.667Z","level":"info","message":"session_transition_change_log_removed","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","jobId":"403fac6e-bf57-4a7c-815c-f9607f5bb462","bucket":"test-bucket","removedKeys":["cv/candidate/session-old/logs/change-log.json","cv/candidate/session-old/artifacts/changelog.json"],"template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.669Z","level":"info","message":"job_description_supplied_manually","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","jobId":"403fac6e-bf57-4a7c-815c-f9607f5bb462","characters":174,"template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.670Z","level":"info","message":"job_description_analyzed","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","jobId":"403fac6e-bf57-4a7c-815c-f9607f5bb462","jobTitle":"","jobSkills":5,"template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.672Z","level":"info","message":"resume_skills_analyzed","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","jobId":"403fac6e-bf57-4a7c-815c-f9607f5bb462","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.674Z","level":"info","message":"llm_call_metrics","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.676Z","level":"info","message":"process_cv_scoring_completed","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","jobId":"403fac6e-bf57-4a7c-815c-f9607f5bb462","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.688Z","level":"info","message":"llm_call_metrics","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.701Z","level":"info","message":"generation_section_rewrite_completed","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","jobId":"403fac6e-bf57-4a7c-815c-f9607f5bb462","generationRunId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.704Z","level":"info","message":"llm_call_metrics","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.732Z","level":"info","message":"generation_resume_verified","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","jobId":"403fac6e-bf57-4a7c-815c-f9607f5bb462","generationRunId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:40.752Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","jobId":"403fac6e-bf57-4a7c-815c-f9607f5bb462","generationRunId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20337:7)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:40.772Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","jobId":"403fac6e-bf57-4a7c-815c-f9607f5bb462","generationRunId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20526:7)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:40.784Z","level":"info","message":"generation_cover_letters_completed","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","jobId":"403fac6e-bf57-4a7c-815c-f9607f5bb462","generationRunId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","variants":2,"fallbackApplied":true,"template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.791Z","level":"info","message":"pdf_generation_attempt","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","jobId":"403fac6e-bf57-4a7c-815c-f9607f5bb462","generationRunId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0/enhanced_modern.pdf","session":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.793Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","jobId":"403fac6e-bf57-4a7c-815c-f9607f5bb462","generationRunId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.795Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","jobId":"403fac6e-bf57-4a7c-815c-f9607f5bb462","generationRunId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0/enhanced_modern.pdf","session":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.797Z","level":"info","message":"pdf_generation_attempt","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","jobId":"403fac6e-bf57-4a7c-815c-f9607f5bb462","generationRunId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0/enhanced_professional.pdf","session":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.798Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","jobId":"403fac6e-bf57-4a7c-815c-f9607f5bb462","generationRunId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.799Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","jobId":"403fac6e-bf57-4a7c-815c-f9607f5bb462","generationRunId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0/enhanced_professional.pdf","session":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.801Z","level":"info","message":"pdf_generation_attempt","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","jobId":"403fac6e-bf57-4a7c-815c-f9607f5bb462","generationRunId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0/cover_letter_cover_modern.pdf","session":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.803Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","jobId":"403fac6e-bf57-4a7c-815c-f9607f5bb462","generationRunId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.806Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","jobId":"403fac6e-bf57-4a7c-815c-f9607f5bb462","generationRunId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0/cover_letter_cover_modern.pdf","session":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.812Z","level":"info","message":"pdf_generation_attempt","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","jobId":"403fac6e-bf57-4a7c-815c-f9607f5bb462","generationRunId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0/cover_letter_cover_professional.pdf","session":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.819Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","jobId":"403fac6e-bf57-4a7c-815c-f9607f5bb462","generationRunId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.823Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","jobId":"403fac6e-bf57-4a7c-815c-f9607f5bb462","generationRunId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0/cover_letter_cover_professional.pdf","session":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.839Z","level":"info","message":"llm_call_metrics","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.843Z","level":"info","message":"generation_completed","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","jobId":"403fac6e-bf57-4a7c-815c-f9607f5bb462","generationRunId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","enhancedScore":80,"outputs":5,"template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.849Z","level":"info","message":"placeholder_record_deleted","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","jobId":"403fac6e-bf57-4a7c-815c-f9607f5bb462","placeholderIdentifier":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"403fac6e-bf57-4a7c-815c-f9607f5bb462","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.857Z","level":"info","message":"http_request_completed","requestId":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":231,"contentLength":"58133","template":"unknown","session":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e6ecbdd4-6e90-4d8f-ab03-9b987edcbda0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.963Z","level":"info","message":"http_request_received","requestId":"repeat","method":"POST","path":"/api/process-cv","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.970Z","level":"info","message":"process_cv_started","requestId":"repeat","jobId":"repeat","manualJobDescriptionProvided":true,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:40.971Z","level":"info","message":"template_selection","requestId":"repeat","jobId":"repeat","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:40.974Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"repeat","jobId":"repeat","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:24934:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24574:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:12:40.987Z","level":"info","message":"initial_upload_completed","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.002Z","level":"info","message":"resume_text_extracted","requestId":"repeat","jobId":"repeat","characters":57,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.005Z","level":"info","message":"resume_classified","requestId":"repeat","jobId":"repeat","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.006Z","level":"info","message":"raw_upload_relocated","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","fromKey":"cv/candidate/repeat/incoming/original.pdf","toKey":"cv/professional_summary/repeat/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.008Z","level":"info","message":"dynamo_initial_record_written","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/professional_summary/repeat/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.009Z","level":"info","message":"upload_metadata_written","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/professional_summary/repeat/logs/log.json","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.010Z","level":"info","message":"session_transition_change_log_removed","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","removedKeys":["cv/candidate/repeat/logs/change-log.json","cv/candidate/repeat/artifacts/changelog.json"],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.011Z","level":"info","message":"job_description_supplied_manually","requestId":"repeat","jobId":"repeat","characters":174,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.012Z","level":"info","message":"job_description_analyzed","requestId":"repeat","jobId":"repeat","jobTitle":"","jobSkills":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.015Z","level":"info","message":"resume_skills_analyzed","requestId":"repeat","jobId":"repeat","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.018Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.021Z","level":"info","message":"process_cv_scoring_completed","requestId":"repeat","jobId":"repeat","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.030Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.032Z","level":"info","message":"generation_section_rewrite_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.034Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.044Z","level":"info","message":"generation_resume_verified","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:41.063Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20337:7)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:41.078Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20526:7)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:41.090Z","level":"info","message":"generation_cover_letters_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","variants":2,"fallbackApplied":true,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.095Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.096Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.098Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.100Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.102Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.103Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.105Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.106Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.107Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.110Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.112Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.114Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.127Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.134Z","level":"info","message":"generation_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","enhancedScore":80,"outputs":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.139Z","level":"info","message":"http_request_completed","requestId":"repeat","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":176,"contentLength":"57353","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.145Z","level":"info","message":"http_request_received","requestId":"accb46fc-5982-465c-9645-57e028f45291","method":"POST","path":"/api/process-cv","template":"unknown","session":"accb46fc-5982-465c-9645-57e028f45291","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"accb46fc-5982-465c-9645-57e028f45291","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.152Z","level":"info","message":"process_cv_started","requestId":"accb46fc-5982-465c-9645-57e028f45291","jobId":"f8ca5a58-8acb-49e1-a91a-cba7590fcb0f","manualJobDescriptionProvided":false,"template":"unknown","session":"f8ca5a58-8acb-49e1-a91a-cba7590fcb0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f8ca5a58-8acb-49e1-a91a-cba7590fcb0f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.155Z","level":"info","message":"template_selection","requestId":"accb46fc-5982-465c-9645-57e028f45291","jobId":"f8ca5a58-8acb-49e1-a91a-cba7590fcb0f","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"f8ca5a58-8acb-49e1-a91a-cba7590fcb0f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f8ca5a58-8acb-49e1-a91a-cba7590fcb0f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:41.157Z","level":"warn","message":"job_description_missing","requestId":"accb46fc-5982-465c-9645-57e028f45291","jobId":"f8ca5a58-8acb-49e1-a91a-cba7590fcb0f","template":"unknown","session":"f8ca5a58-8acb-49e1-a91a-cba7590fcb0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f8ca5a58-8acb-49e1-a91a-cba7590fcb0f","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:24898:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24574:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-11-29T11:12:41.168Z","level":"warn","message":"api_error_response","requestId":"accb46fc-5982-465c-9645-57e028f45291","jobId":"f8ca5a58-8acb-49e1-a91a-cba7590fcb0f","status":400,"error":{"code":"JOB_DESCRIPTION_REQUIRED","message":"manualJobDescription required","details":{"field":"manualJobDescription"},"requestId":"accb46fc-5982-465c-9645-57e028f45291","jobId":"f8ca5a58-8acb-49e1-a91a-cba7590fcb0f"},"template":"unknown","session":"f8ca5a58-8acb-49e1-a91a-cba7590fcb0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f8ca5a58-8acb-49e1-a91a-cba7590fcb0f","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:3825:3)
      at sendError (server.js:24899:14)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24574:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:12:41.179Z","level":"info","message":"http_request_completed","requestId":"accb46fc-5982-465c-9645-57e028f45291","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":34,"contentLength":"244","template":"unknown","session":"accb46fc-5982-465c-9645-57e028f45291","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"accb46fc-5982-465c-9645-57e028f45291","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.186Z","level":"info","message":"http_request_received","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","method":"POST","path":"/api/process-cv","template":"unknown","session":"5330e415-3a69-42f0-8ad0-0f1dec85730b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5330e415-3a69-42f0-8ad0-0f1dec85730b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.190Z","level":"info","message":"process_cv_started","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","jobId":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","manualJobDescriptionProvided":true,"template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.191Z","level":"info","message":"template_selection","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","jobId":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:41.193Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","jobId":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:24934:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24574:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:12:41.205Z","level":"info","message":"initial_upload_completed","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","jobId":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","bucket":"test-bucket","key":"cv/candidate/5330e415-3a69-42f0-8ad0-0f1dec85730b/incoming/original.pdf","template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.209Z","level":"info","message":"resume_text_extracted","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","jobId":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","characters":57,"template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.209Z","level":"info","message":"resume_classified","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","jobId":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.210Z","level":"info","message":"raw_upload_relocated","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","jobId":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","bucket":"test-bucket","fromKey":"cv/candidate/5330e415-3a69-42f0-8ad0-0f1dec85730b/incoming/original.pdf","toKey":"cv/professional_summary/5330e415-3a69-42f0-8ad0-0f1dec85730b/original.pdf","template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.212Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","jobId":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","bucket":"test-bucket","key":"cv/professional_summary/5330e415-3a69-42f0-8ad0-0f1dec85730b/original.pdf","template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.214Z","level":"info","message":"dynamo_initial_record_written","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","jobId":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","bucket":"test-bucket","key":"cv/professional_summary/5330e415-3a69-42f0-8ad0-0f1dec85730b/original.pdf","template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.216Z","level":"info","message":"upload_metadata_written","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","jobId":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","bucket":"test-bucket","key":"cv/professional_summary/5330e415-3a69-42f0-8ad0-0f1dec85730b/logs/log.json","template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.217Z","level":"info","message":"job_description_supplied_manually","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","jobId":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","characters":59,"template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.218Z","level":"info","message":"job_description_analyzed","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","jobId":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","jobTitle":"","jobSkills":5,"template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.220Z","level":"info","message":"resume_skills_analyzed","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","jobId":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.221Z","level":"info","message":"llm_call_metrics","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"5330e415-3a69-42f0-8ad0-0f1dec85730b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"5330e415-3a69-42f0-8ad0-0f1dec85730b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.224Z","level":"info","message":"process_cv_scoring_completed","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","jobId":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.233Z","level":"info","message":"llm_call_metrics","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"ea2430c235b24028819e3e632af324e68724bbc1d27bee61065e3e4452249d1c","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"5330e415-3a69-42f0-8ad0-0f1dec85730b","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"5330e415-3a69-42f0-8ad0-0f1dec85730b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.234Z","level":"info","message":"generation_section_rewrite_completed","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","jobId":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","generationRunId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.235Z","level":"info","message":"llm_call_metrics","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"5ccfe9db3e82fa26357ec9c5a8fa36d7c5cf260bf775e906492a22db0355a609","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"5330e415-3a69-42f0-8ad0-0f1dec85730b","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"5330e415-3a69-42f0-8ad0-0f1dec85730b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.256Z","level":"info","message":"generation_resume_verified","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","jobId":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","generationRunId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:41.275Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","jobId":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","generationRunId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20337:7)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:41.287Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","jobId":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","generationRunId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20526:7)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:41.298Z","level":"info","message":"generation_cover_letters_completed","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","jobId":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","generationRunId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","variants":2,"fallbackApplied":true,"template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.300Z","level":"info","message":"pdf_generation_attempt","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","jobId":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","generationRunId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5330e415-3a69-42f0-8ad0-0f1dec85730b/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/5330e415-3a69-42f0-8ad0-0f1dec85730b/enhanced_modern.pdf","session":"5330e415-3a69-42f0-8ad0-0f1dec85730b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5330e415-3a69-42f0-8ad0-0f1dec85730b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.302Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","jobId":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","generationRunId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5330e415-3a69-42f0-8ad0-0f1dec85730b/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5330e415-3a69-42f0-8ad0-0f1dec85730b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5330e415-3a69-42f0-8ad0-0f1dec85730b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.304Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","jobId":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","generationRunId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5330e415-3a69-42f0-8ad0-0f1dec85730b/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/5330e415-3a69-42f0-8ad0-0f1dec85730b/enhanced_modern.pdf","session":"5330e415-3a69-42f0-8ad0-0f1dec85730b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5330e415-3a69-42f0-8ad0-0f1dec85730b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.305Z","level":"info","message":"pdf_generation_attempt","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","jobId":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","generationRunId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5330e415-3a69-42f0-8ad0-0f1dec85730b/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/5330e415-3a69-42f0-8ad0-0f1dec85730b/enhanced_professional.pdf","session":"5330e415-3a69-42f0-8ad0-0f1dec85730b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5330e415-3a69-42f0-8ad0-0f1dec85730b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.306Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","jobId":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","generationRunId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5330e415-3a69-42f0-8ad0-0f1dec85730b/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5330e415-3a69-42f0-8ad0-0f1dec85730b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5330e415-3a69-42f0-8ad0-0f1dec85730b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.308Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","jobId":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","generationRunId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5330e415-3a69-42f0-8ad0-0f1dec85730b/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/5330e415-3a69-42f0-8ad0-0f1dec85730b/enhanced_professional.pdf","session":"5330e415-3a69-42f0-8ad0-0f1dec85730b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5330e415-3a69-42f0-8ad0-0f1dec85730b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.310Z","level":"info","message":"pdf_generation_attempt","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","jobId":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","generationRunId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5330e415-3a69-42f0-8ad0-0f1dec85730b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/5330e415-3a69-42f0-8ad0-0f1dec85730b/cover_letter_cover_modern.pdf","session":"5330e415-3a69-42f0-8ad0-0f1dec85730b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5330e415-3a69-42f0-8ad0-0f1dec85730b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.312Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","jobId":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","generationRunId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5330e415-3a69-42f0-8ad0-0f1dec85730b/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"5330e415-3a69-42f0-8ad0-0f1dec85730b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5330e415-3a69-42f0-8ad0-0f1dec85730b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.314Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","jobId":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","generationRunId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5330e415-3a69-42f0-8ad0-0f1dec85730b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/5330e415-3a69-42f0-8ad0-0f1dec85730b/cover_letter_cover_modern.pdf","session":"5330e415-3a69-42f0-8ad0-0f1dec85730b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5330e415-3a69-42f0-8ad0-0f1dec85730b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.317Z","level":"info","message":"pdf_generation_attempt","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","jobId":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","generationRunId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5330e415-3a69-42f0-8ad0-0f1dec85730b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/5330e415-3a69-42f0-8ad0-0f1dec85730b/cover_letter_cover_professional.pdf","session":"5330e415-3a69-42f0-8ad0-0f1dec85730b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5330e415-3a69-42f0-8ad0-0f1dec85730b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.318Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","jobId":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","generationRunId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5330e415-3a69-42f0-8ad0-0f1dec85730b/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"5330e415-3a69-42f0-8ad0-0f1dec85730b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5330e415-3a69-42f0-8ad0-0f1dec85730b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.319Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","jobId":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","generationRunId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5330e415-3a69-42f0-8ad0-0f1dec85730b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/5330e415-3a69-42f0-8ad0-0f1dec85730b/cover_letter_cover_professional.pdf","session":"5330e415-3a69-42f0-8ad0-0f1dec85730b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5330e415-3a69-42f0-8ad0-0f1dec85730b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.326Z","level":"info","message":"llm_call_metrics","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"5330e415-3a69-42f0-8ad0-0f1dec85730b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"5330e415-3a69-42f0-8ad0-0f1dec85730b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.329Z","level":"info","message":"generation_completed","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","jobId":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","generationRunId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","enhancedScore":80,"outputs":5,"template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.335Z","level":"info","message":"placeholder_record_deleted","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","jobId":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","placeholderIdentifier":"5330e415-3a69-42f0-8ad0-0f1dec85730b","template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fd4e6f3-2d7d-4f4a-8c53-9767e9be2a10","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.339Z","level":"info","message":"http_request_completed","requestId":"5330e415-3a69-42f0-8ad0-0f1dec85730b","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":153,"contentLength":"55048","template":"unknown","session":"5330e415-3a69-42f0-8ad0-0f1dec85730b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5330e415-3a69-42f0-8ad0-0f1dec85730b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.372Z","level":"info","message":"http_request_received","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","method":"POST","path":"/api/process-cv","template":"unknown","session":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.385Z","level":"info","message":"process_cv_started","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","jobId":"005809f6-eb12-4861-a80b-d777c4dc81b6","manualJobDescriptionProvided":true,"template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.388Z","level":"info","message":"template_selection","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","jobId":"005809f6-eb12-4861-a80b-d777c4dc81b6","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:41.391Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","jobId":"005809f6-eb12-4861-a80b-d777c4dc81b6","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:24934:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24574:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:12:41.420Z","level":"info","message":"initial_upload_completed","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","jobId":"005809f6-eb12-4861-a80b-d777c4dc81b6","bucket":"test-bucket","key":"cv/candidate/e6eb20e4-865a-42c3-ac47-69cef5d12b0a/incoming/original.pdf","template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.432Z","level":"info","message":"resume_text_extracted","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","jobId":"005809f6-eb12-4861-a80b-d777c4dc81b6","characters":57,"template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.434Z","level":"info","message":"resume_classified","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","jobId":"005809f6-eb12-4861-a80b-d777c4dc81b6","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.436Z","level":"info","message":"raw_upload_relocated","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","jobId":"005809f6-eb12-4861-a80b-d777c4dc81b6","bucket":"test-bucket","fromKey":"cv/candidate/e6eb20e4-865a-42c3-ac47-69cef5d12b0a/incoming/original.pdf","toKey":"cv/professional_summary/e6eb20e4-865a-42c3-ac47-69cef5d12b0a/original.pdf","template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.438Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","jobId":"005809f6-eb12-4861-a80b-d777c4dc81b6","bucket":"test-bucket","key":"cv/professional_summary/e6eb20e4-865a-42c3-ac47-69cef5d12b0a/original.pdf","template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.440Z","level":"info","message":"dynamo_initial_record_written","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","jobId":"005809f6-eb12-4861-a80b-d777c4dc81b6","bucket":"test-bucket","key":"cv/professional_summary/e6eb20e4-865a-42c3-ac47-69cef5d12b0a/original.pdf","template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.453Z","level":"info","message":"upload_metadata_written","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","jobId":"005809f6-eb12-4861-a80b-d777c4dc81b6","bucket":"test-bucket","key":"cv/professional_summary/e6eb20e4-865a-42c3-ac47-69cef5d12b0a/logs/log.json","template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.455Z","level":"info","message":"job_description_supplied_manually","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","jobId":"005809f6-eb12-4861-a80b-d777c4dc81b6","characters":32,"template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.457Z","level":"info","message":"job_description_analyzed","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","jobId":"005809f6-eb12-4861-a80b-d777c4dc81b6","jobTitle":"","jobSkills":5,"template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.461Z","level":"info","message":"resume_skills_analyzed","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","jobId":"005809f6-eb12-4861-a80b-d777c4dc81b6","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.465Z","level":"info","message":"llm_call_metrics","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.485Z","level":"info","message":"process_cv_scoring_completed","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","jobId":"005809f6-eb12-4861-a80b-d777c4dc81b6","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.503Z","level":"info","message":"llm_call_metrics","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"4ee429ea92424e8e19e4720211137d476a19f7274074e1702e9c42fe53b6fed7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.507Z","level":"info","message":"generation_section_rewrite_completed","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","jobId":"005809f6-eb12-4861-a80b-d777c4dc81b6","generationRunId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.510Z","level":"info","message":"llm_call_metrics","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"b847d6e14d4cae3ee14cd5dbb7c4a4ca1658d965fe5c0b4564eb95e9b23995e3","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.543Z","level":"info","message":"generation_resume_verified","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","jobId":"005809f6-eb12-4861-a80b-d777c4dc81b6","generationRunId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:41.559Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","jobId":"005809f6-eb12-4861-a80b-d777c4dc81b6","generationRunId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20337:7)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:41.577Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","jobId":"005809f6-eb12-4861-a80b-d777c4dc81b6","generationRunId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20526:7)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:41.592Z","level":"info","message":"generation_cover_letters_completed","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","jobId":"005809f6-eb12-4861-a80b-d777c4dc81b6","generationRunId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","variants":2,"fallbackApplied":true,"template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.596Z","level":"info","message":"pdf_generation_attempt","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","jobId":"005809f6-eb12-4861-a80b-d777c4dc81b6","generationRunId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e6eb20e4-865a-42c3-ac47-69cef5d12b0a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/e6eb20e4-865a-42c3-ac47-69cef5d12b0a/enhanced_modern.pdf","session":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.603Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","jobId":"005809f6-eb12-4861-a80b-d777c4dc81b6","generationRunId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e6eb20e4-865a-42c3-ac47-69cef5d12b0a/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.605Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","jobId":"005809f6-eb12-4861-a80b-d777c4dc81b6","generationRunId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e6eb20e4-865a-42c3-ac47-69cef5d12b0a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/e6eb20e4-865a-42c3-ac47-69cef5d12b0a/enhanced_modern.pdf","session":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.607Z","level":"info","message":"pdf_generation_attempt","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","jobId":"005809f6-eb12-4861-a80b-d777c4dc81b6","generationRunId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e6eb20e4-865a-42c3-ac47-69cef5d12b0a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/e6eb20e4-865a-42c3-ac47-69cef5d12b0a/enhanced_professional.pdf","session":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.608Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","jobId":"005809f6-eb12-4861-a80b-d777c4dc81b6","generationRunId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e6eb20e4-865a-42c3-ac47-69cef5d12b0a/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.609Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","jobId":"005809f6-eb12-4861-a80b-d777c4dc81b6","generationRunId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e6eb20e4-865a-42c3-ac47-69cef5d12b0a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/e6eb20e4-865a-42c3-ac47-69cef5d12b0a/enhanced_professional.pdf","session":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.611Z","level":"info","message":"pdf_generation_attempt","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","jobId":"005809f6-eb12-4861-a80b-d777c4dc81b6","generationRunId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e6eb20e4-865a-42c3-ac47-69cef5d12b0a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/e6eb20e4-865a-42c3-ac47-69cef5d12b0a/cover_letter_cover_modern.pdf","session":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.613Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","jobId":"005809f6-eb12-4861-a80b-d777c4dc81b6","generationRunId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e6eb20e4-865a-42c3-ac47-69cef5d12b0a/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.614Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","jobId":"005809f6-eb12-4861-a80b-d777c4dc81b6","generationRunId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e6eb20e4-865a-42c3-ac47-69cef5d12b0a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/e6eb20e4-865a-42c3-ac47-69cef5d12b0a/cover_letter_cover_modern.pdf","session":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.616Z","level":"info","message":"pdf_generation_attempt","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","jobId":"005809f6-eb12-4861-a80b-d777c4dc81b6","generationRunId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e6eb20e4-865a-42c3-ac47-69cef5d12b0a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/e6eb20e4-865a-42c3-ac47-69cef5d12b0a/cover_letter_cover_professional.pdf","session":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.617Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","jobId":"005809f6-eb12-4861-a80b-d777c4dc81b6","generationRunId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e6eb20e4-865a-42c3-ac47-69cef5d12b0a/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.618Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","jobId":"005809f6-eb12-4861-a80b-d777c4dc81b6","generationRunId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e6eb20e4-865a-42c3-ac47-69cef5d12b0a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/e6eb20e4-865a-42c3-ac47-69cef5d12b0a/cover_letter_cover_professional.pdf","session":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.630Z","level":"info","message":"llm_call_metrics","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.632Z","level":"info","message":"generation_completed","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","jobId":"005809f6-eb12-4861-a80b-d777c4dc81b6","generationRunId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","enhancedScore":80,"outputs":5,"template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.638Z","level":"info","message":"placeholder_record_deleted","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","jobId":"005809f6-eb12-4861-a80b-d777c4dc81b6","placeholderIdentifier":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"005809f6-eb12-4861-a80b-d777c4dc81b6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.641Z","level":"info","message":"http_request_completed","requestId":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":269,"contentLength":"53771","template":"unknown","session":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e6eb20e4-865a-42c3-ac47-69cef5d12b0a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.652Z","level":"info","message":"http_request_received","requestId":"8924e60d-befc-4dbb-b608-19c84ada7f52","method":"POST","path":"/api/process-cv","template":"unknown","session":"8924e60d-befc-4dbb-b608-19c84ada7f52","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8924e60d-befc-4dbb-b608-19c84ada7f52","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:41.657Z","level":"warn","message":"job_description_prohibited_html_detected","requestId":"8924e60d-befc-4dbb-b608-19c84ada7f52","jobId":"dda043e2-9f7c-4259-b4dd-be893dafd264","template":"unknown","session":"dda043e2-9f7c-4259-b4dd-be893dafd264","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dda043e2-9f7c-4259-b4dd-be893dafd264","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:24791:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24574:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-11-29T11:12:41.671Z","level":"warn","message":"api_error_response","requestId":"8924e60d-befc-4dbb-b608-19c84ada7f52","jobId":"dda043e2-9f7c-4259-b4dd-be893dafd264","status":400,"error":{"code":"JOB_DESCRIPTION_PROHIBITED_TAGS","message":"Remove HTML tags like <script> before continuing.","details":{"field":"manualJobDescription"},"requestId":"8924e60d-befc-4dbb-b608-19c84ada7f52","jobId":"dda043e2-9f7c-4259-b4dd-be893dafd264"},"template":"unknown","session":"dda043e2-9f7c-4259-b4dd-be893dafd264","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dda043e2-9f7c-4259-b4dd-be893dafd264","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:3825:3)
      at sendError (server.js:24792:14)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24574:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:12:41.681Z","level":"info","message":"http_request_completed","requestId":"8924e60d-befc-4dbb-b608-19c84ada7f52","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":29,"contentLength":"271","template":"unknown","session":"8924e60d-befc-4dbb-b608-19c84ada7f52","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8924e60d-befc-4dbb-b608-19c84ada7f52","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.689Z","level":"info","message":"http_request_received","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","method":"POST","path":"/api/process-cv","template":"unknown","session":"d33b08f4-ce00-4373-b4e3-523d7a460277","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d33b08f4-ce00-4373-b4e3-523d7a460277","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.694Z","level":"info","message":"process_cv_started","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","jobId":"8fba3674-4d41-465c-bb1e-d48d1cc41802","manualJobDescriptionProvided":true,"template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.695Z","level":"info","message":"template_selection","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","jobId":"8fba3674-4d41-465c-bb1e-d48d1cc41802","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:41.696Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","jobId":"8fba3674-4d41-465c-bb1e-d48d1cc41802","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:24934:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24574:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:12:41.709Z","level":"info","message":"initial_upload_completed","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","jobId":"8fba3674-4d41-465c-bb1e-d48d1cc41802","bucket":"test-bucket","key":"cv/candidate/d33b08f4-ce00-4373-b4e3-523d7a460277/incoming/original.pdf","template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.712Z","level":"info","message":"resume_text_extracted","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","jobId":"8fba3674-4d41-465c-bb1e-d48d1cc41802","characters":57,"template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.713Z","level":"info","message":"resume_classified","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","jobId":"8fba3674-4d41-465c-bb1e-d48d1cc41802","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.715Z","level":"info","message":"raw_upload_relocated","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","jobId":"8fba3674-4d41-465c-bb1e-d48d1cc41802","bucket":"test-bucket","fromKey":"cv/candidate/d33b08f4-ce00-4373-b4e3-523d7a460277/incoming/original.pdf","toKey":"cv/professional_summary/d33b08f4-ce00-4373-b4e3-523d7a460277/original.pdf","template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.720Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","jobId":"8fba3674-4d41-465c-bb1e-d48d1cc41802","bucket":"test-bucket","key":"cv/professional_summary/d33b08f4-ce00-4373-b4e3-523d7a460277/original.pdf","template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.721Z","level":"info","message":"dynamo_initial_record_written","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","jobId":"8fba3674-4d41-465c-bb1e-d48d1cc41802","bucket":"test-bucket","key":"cv/professional_summary/d33b08f4-ce00-4373-b4e3-523d7a460277/original.pdf","template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.722Z","level":"info","message":"upload_metadata_written","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","jobId":"8fba3674-4d41-465c-bb1e-d48d1cc41802","bucket":"test-bucket","key":"cv/professional_summary/d33b08f4-ce00-4373-b4e3-523d7a460277/logs/log.json","template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.724Z","level":"info","message":"job_description_supplied_manually","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","jobId":"8fba3674-4d41-465c-bb1e-d48d1cc41802","characters":31,"template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.725Z","level":"info","message":"job_description_analyzed","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","jobId":"8fba3674-4d41-465c-bb1e-d48d1cc41802","jobTitle":"","jobSkills":5,"template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.727Z","level":"info","message":"resume_skills_analyzed","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","jobId":"8fba3674-4d41-465c-bb1e-d48d1cc41802","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.729Z","level":"info","message":"llm_call_metrics","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"d33b08f4-ce00-4373-b4e3-523d7a460277","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"d33b08f4-ce00-4373-b4e3-523d7a460277","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.733Z","level":"info","message":"process_cv_scoring_completed","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","jobId":"8fba3674-4d41-465c-bb1e-d48d1cc41802","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.740Z","level":"info","message":"llm_call_metrics","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"3b6fa31427cfe80be95734691ddba88dda63de26496df29477f91bd398cefbfa","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"d33b08f4-ce00-4373-b4e3-523d7a460277","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"d33b08f4-ce00-4373-b4e3-523d7a460277","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.741Z","level":"info","message":"generation_section_rewrite_completed","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","jobId":"8fba3674-4d41-465c-bb1e-d48d1cc41802","generationRunId":"d33b08f4-ce00-4373-b4e3-523d7a460277","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.742Z","level":"info","message":"llm_call_metrics","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"eedd7612e0b87e24dbfb4e165754c9448ec3573f7db56a3242654c71c3ca223b","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"d33b08f4-ce00-4373-b4e3-523d7a460277","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"d33b08f4-ce00-4373-b4e3-523d7a460277","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.750Z","level":"info","message":"generation_resume_verified","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","jobId":"8fba3674-4d41-465c-bb1e-d48d1cc41802","generationRunId":"d33b08f4-ce00-4373-b4e3-523d7a460277","template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:41.760Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","jobId":"8fba3674-4d41-465c-bb1e-d48d1cc41802","generationRunId":"d33b08f4-ce00-4373-b4e3-523d7a460277","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20337:7)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:41.776Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","jobId":"8fba3674-4d41-465c-bb1e-d48d1cc41802","generationRunId":"d33b08f4-ce00-4373-b4e3-523d7a460277","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20526:7)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:41.791Z","level":"info","message":"generation_cover_letters_completed","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","jobId":"8fba3674-4d41-465c-bb1e-d48d1cc41802","generationRunId":"d33b08f4-ce00-4373-b4e3-523d7a460277","variants":2,"fallbackApplied":true,"template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.796Z","level":"info","message":"pdf_generation_attempt","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","jobId":"8fba3674-4d41-465c-bb1e-d48d1cc41802","generationRunId":"d33b08f4-ce00-4373-b4e3-523d7a460277","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d33b08f4-ce00-4373-b4e3-523d7a460277/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/d33b08f4-ce00-4373-b4e3-523d7a460277/enhanced_modern.pdf","session":"d33b08f4-ce00-4373-b4e3-523d7a460277","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d33b08f4-ce00-4373-b4e3-523d7a460277","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.797Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","jobId":"8fba3674-4d41-465c-bb1e-d48d1cc41802","generationRunId":"d33b08f4-ce00-4373-b4e3-523d7a460277","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d33b08f4-ce00-4373-b4e3-523d7a460277/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"d33b08f4-ce00-4373-b4e3-523d7a460277","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d33b08f4-ce00-4373-b4e3-523d7a460277","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.799Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","jobId":"8fba3674-4d41-465c-bb1e-d48d1cc41802","generationRunId":"d33b08f4-ce00-4373-b4e3-523d7a460277","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d33b08f4-ce00-4373-b4e3-523d7a460277/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/d33b08f4-ce00-4373-b4e3-523d7a460277/enhanced_modern.pdf","session":"d33b08f4-ce00-4373-b4e3-523d7a460277","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d33b08f4-ce00-4373-b4e3-523d7a460277","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.800Z","level":"info","message":"pdf_generation_attempt","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","jobId":"8fba3674-4d41-465c-bb1e-d48d1cc41802","generationRunId":"d33b08f4-ce00-4373-b4e3-523d7a460277","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d33b08f4-ce00-4373-b4e3-523d7a460277/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/d33b08f4-ce00-4373-b4e3-523d7a460277/enhanced_professional.pdf","session":"d33b08f4-ce00-4373-b4e3-523d7a460277","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d33b08f4-ce00-4373-b4e3-523d7a460277","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.801Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","jobId":"8fba3674-4d41-465c-bb1e-d48d1cc41802","generationRunId":"d33b08f4-ce00-4373-b4e3-523d7a460277","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d33b08f4-ce00-4373-b4e3-523d7a460277/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"d33b08f4-ce00-4373-b4e3-523d7a460277","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d33b08f4-ce00-4373-b4e3-523d7a460277","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.802Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","jobId":"8fba3674-4d41-465c-bb1e-d48d1cc41802","generationRunId":"d33b08f4-ce00-4373-b4e3-523d7a460277","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d33b08f4-ce00-4373-b4e3-523d7a460277/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/d33b08f4-ce00-4373-b4e3-523d7a460277/enhanced_professional.pdf","session":"d33b08f4-ce00-4373-b4e3-523d7a460277","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d33b08f4-ce00-4373-b4e3-523d7a460277","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.804Z","level":"info","message":"pdf_generation_attempt","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","jobId":"8fba3674-4d41-465c-bb1e-d48d1cc41802","generationRunId":"d33b08f4-ce00-4373-b4e3-523d7a460277","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d33b08f4-ce00-4373-b4e3-523d7a460277/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/d33b08f4-ce00-4373-b4e3-523d7a460277/cover_letter_cover_modern.pdf","session":"d33b08f4-ce00-4373-b4e3-523d7a460277","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d33b08f4-ce00-4373-b4e3-523d7a460277","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.805Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","jobId":"8fba3674-4d41-465c-bb1e-d48d1cc41802","generationRunId":"d33b08f4-ce00-4373-b4e3-523d7a460277","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d33b08f4-ce00-4373-b4e3-523d7a460277/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"d33b08f4-ce00-4373-b4e3-523d7a460277","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d33b08f4-ce00-4373-b4e3-523d7a460277","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.807Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","jobId":"8fba3674-4d41-465c-bb1e-d48d1cc41802","generationRunId":"d33b08f4-ce00-4373-b4e3-523d7a460277","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d33b08f4-ce00-4373-b4e3-523d7a460277/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/d33b08f4-ce00-4373-b4e3-523d7a460277/cover_letter_cover_modern.pdf","session":"d33b08f4-ce00-4373-b4e3-523d7a460277","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d33b08f4-ce00-4373-b4e3-523d7a460277","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.811Z","level":"info","message":"pdf_generation_attempt","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","jobId":"8fba3674-4d41-465c-bb1e-d48d1cc41802","generationRunId":"d33b08f4-ce00-4373-b4e3-523d7a460277","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d33b08f4-ce00-4373-b4e3-523d7a460277/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/d33b08f4-ce00-4373-b4e3-523d7a460277/cover_letter_cover_professional.pdf","session":"d33b08f4-ce00-4373-b4e3-523d7a460277","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d33b08f4-ce00-4373-b4e3-523d7a460277","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.813Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","jobId":"8fba3674-4d41-465c-bb1e-d48d1cc41802","generationRunId":"d33b08f4-ce00-4373-b4e3-523d7a460277","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d33b08f4-ce00-4373-b4e3-523d7a460277/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"d33b08f4-ce00-4373-b4e3-523d7a460277","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d33b08f4-ce00-4373-b4e3-523d7a460277","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.816Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","jobId":"8fba3674-4d41-465c-bb1e-d48d1cc41802","generationRunId":"d33b08f4-ce00-4373-b4e3-523d7a460277","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d33b08f4-ce00-4373-b4e3-523d7a460277/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/d33b08f4-ce00-4373-b4e3-523d7a460277/cover_letter_cover_professional.pdf","session":"d33b08f4-ce00-4373-b4e3-523d7a460277","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d33b08f4-ce00-4373-b4e3-523d7a460277","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.825Z","level":"info","message":"llm_call_metrics","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"d33b08f4-ce00-4373-b4e3-523d7a460277","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"d33b08f4-ce00-4373-b4e3-523d7a460277","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.830Z","level":"info","message":"generation_completed","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","jobId":"8fba3674-4d41-465c-bb1e-d48d1cc41802","generationRunId":"d33b08f4-ce00-4373-b4e3-523d7a460277","enhancedScore":80,"outputs":5,"template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.833Z","level":"info","message":"placeholder_record_deleted","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","jobId":"8fba3674-4d41-465c-bb1e-d48d1cc41802","placeholderIdentifier":"d33b08f4-ce00-4373-b4e3-523d7a460277","template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fba3674-4d41-465c-bb1e-d48d1cc41802","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.837Z","level":"info","message":"http_request_completed","requestId":"d33b08f4-ce00-4373-b4e3-523d7a460277","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":148,"contentLength":"53718","template":"unknown","session":"d33b08f4-ce00-4373-b4e3-523d7a460277","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d33b08f4-ce00-4373-b4e3-523d7a460277","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.846Z","level":"info","message":"http_request_received","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","method":"POST","path":"/api/process-cv","template":"unknown","session":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.851Z","level":"info","message":"process_cv_started","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","jobId":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","manualJobDescriptionProvided":true,"template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.853Z","level":"info","message":"template_selection","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","jobId":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:41.855Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","jobId":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:24934:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24574:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:12:41.866Z","level":"info","message":"initial_upload_completed","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","jobId":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","bucket":"test-bucket","key":"cv/candidate/00e3fa34-da37-4ae1-ac95-5cf4ddebd070/incoming/original.pdf","template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.869Z","level":"info","message":"resume_text_extracted","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","jobId":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","characters":57,"template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.869Z","level":"info","message":"resume_classified","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","jobId":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.875Z","level":"info","message":"raw_upload_relocated","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","jobId":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","bucket":"test-bucket","fromKey":"cv/candidate/00e3fa34-da37-4ae1-ac95-5cf4ddebd070/incoming/original.pdf","toKey":"cv/professional_summary/00e3fa34-da37-4ae1-ac95-5cf4ddebd070/original.pdf","template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.876Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","jobId":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","bucket":"test-bucket","key":"cv/professional_summary/00e3fa34-da37-4ae1-ac95-5cf4ddebd070/original.pdf","template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.878Z","level":"info","message":"dynamo_initial_record_written","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","jobId":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","bucket":"test-bucket","key":"cv/professional_summary/00e3fa34-da37-4ae1-ac95-5cf4ddebd070/original.pdf","template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.879Z","level":"info","message":"upload_metadata_written","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","jobId":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","bucket":"test-bucket","key":"cv/professional_summary/00e3fa34-da37-4ae1-ac95-5cf4ddebd070/logs/log.json","template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.880Z","level":"info","message":"job_description_supplied_manually","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","jobId":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","characters":174,"template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.883Z","level":"info","message":"job_description_analyzed","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","jobId":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","jobTitle":"","jobSkills":5,"template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.884Z","level":"info","message":"resume_skills_analyzed","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","jobId":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.885Z","level":"info","message":"llm_call_metrics","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.887Z","level":"info","message":"process_cv_scoring_completed","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","jobId":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.894Z","level":"info","message":"llm_call_metrics","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.895Z","level":"info","message":"generation_section_rewrite_completed","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","jobId":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","generationRunId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.896Z","level":"info","message":"llm_call_metrics","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.903Z","level":"info","message":"generation_resume_verified","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","jobId":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","generationRunId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:41.909Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","jobId":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","generationRunId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20337:7)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:41.920Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","jobId":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","generationRunId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20526:7)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:41.934Z","level":"info","message":"generation_cover_letters_completed","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","jobId":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","generationRunId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","variants":2,"fallbackApplied":true,"template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.936Z","level":"info","message":"pdf_generation_attempt","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","jobId":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","generationRunId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/00e3fa34-da37-4ae1-ac95-5cf4ddebd070/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/00e3fa34-da37-4ae1-ac95-5cf4ddebd070/enhanced_modern.pdf","session":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.937Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","jobId":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","generationRunId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/00e3fa34-da37-4ae1-ac95-5cf4ddebd070/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.938Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","jobId":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","generationRunId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/00e3fa34-da37-4ae1-ac95-5cf4ddebd070/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/00e3fa34-da37-4ae1-ac95-5cf4ddebd070/enhanced_modern.pdf","session":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.939Z","level":"info","message":"pdf_generation_attempt","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","jobId":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","generationRunId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/00e3fa34-da37-4ae1-ac95-5cf4ddebd070/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/00e3fa34-da37-4ae1-ac95-5cf4ddebd070/enhanced_professional.pdf","session":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.939Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","jobId":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","generationRunId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/00e3fa34-da37-4ae1-ac95-5cf4ddebd070/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.940Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","jobId":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","generationRunId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/00e3fa34-da37-4ae1-ac95-5cf4ddebd070/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/00e3fa34-da37-4ae1-ac95-5cf4ddebd070/enhanced_professional.pdf","session":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.941Z","level":"info","message":"pdf_generation_attempt","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","jobId":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","generationRunId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/00e3fa34-da37-4ae1-ac95-5cf4ddebd070/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/00e3fa34-da37-4ae1-ac95-5cf4ddebd070/cover_letter_cover_modern.pdf","session":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.942Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","jobId":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","generationRunId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/00e3fa34-da37-4ae1-ac95-5cf4ddebd070/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.943Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","jobId":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","generationRunId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/00e3fa34-da37-4ae1-ac95-5cf4ddebd070/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/00e3fa34-da37-4ae1-ac95-5cf4ddebd070/cover_letter_cover_modern.pdf","session":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.945Z","level":"info","message":"pdf_generation_attempt","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","jobId":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","generationRunId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/00e3fa34-da37-4ae1-ac95-5cf4ddebd070/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/00e3fa34-da37-4ae1-ac95-5cf4ddebd070/cover_letter_cover_professional.pdf","session":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.946Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","jobId":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","generationRunId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/00e3fa34-da37-4ae1-ac95-5cf4ddebd070/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.947Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","jobId":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","generationRunId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/00e3fa34-da37-4ae1-ac95-5cf4ddebd070/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/00e3fa34-da37-4ae1-ac95-5cf4ddebd070/cover_letter_cover_professional.pdf","session":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.954Z","level":"info","message":"llm_call_metrics","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.964Z","level":"info","message":"generation_completed","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","jobId":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","generationRunId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","enhancedScore":80,"outputs":5,"template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.970Z","level":"info","message":"placeholder_record_deleted","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","jobId":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","placeholderIdentifier":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6cf39ffd-ca73-4bee-be4e-5b5f484933e9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.972Z","level":"info","message":"http_request_completed","requestId":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":126,"contentLength":"58133","template":"unknown","session":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"00e3fa34-da37-4ae1-ac95-5cf4ddebd070","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.979Z","level":"info","message":"http_request_received","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","method":"POST","path":"/api/process-cv","template":"unknown","session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.984Z","level":"info","message":"process_cv_started","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","jobId":"64015194-ac5a-4198-b820-bdc02bd71afb","manualJobDescriptionProvided":true,"template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:41.985Z","level":"info","message":"template_selection","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","jobId":"64015194-ac5a-4198-b820-bdc02bd71afb","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:41.987Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","jobId":"64015194-ac5a-4198-b820-bdc02bd71afb","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:24934:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24574:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:12:41.999Z","level":"info","message":"initial_upload_completed","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","jobId":"64015194-ac5a-4198-b820-bdc02bd71afb","bucket":"test-bucket","key":"cv/candidate/9bb21984-7500-4ecc-80bc-e373daa58d2a/incoming/original.pdf","template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.000Z","level":"info","message":"resume_text_extracted","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","jobId":"64015194-ac5a-4198-b820-bdc02bd71afb","characters":57,"template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.001Z","level":"info","message":"resume_classified","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","jobId":"64015194-ac5a-4198-b820-bdc02bd71afb","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.002Z","level":"info","message":"raw_upload_relocated","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","jobId":"64015194-ac5a-4198-b820-bdc02bd71afb","bucket":"test-bucket","fromKey":"cv/candidate/9bb21984-7500-4ecc-80bc-e373daa58d2a/incoming/original.pdf","toKey":"cv/professional_summary/9bb21984-7500-4ecc-80bc-e373daa58d2a/original.pdf","template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.006Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","jobId":"64015194-ac5a-4198-b820-bdc02bd71afb","bucket":"test-bucket","key":"cv/professional_summary/9bb21984-7500-4ecc-80bc-e373daa58d2a/original.pdf","template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.007Z","level":"info","message":"dynamo_initial_record_written","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","jobId":"64015194-ac5a-4198-b820-bdc02bd71afb","bucket":"test-bucket","key":"cv/professional_summary/9bb21984-7500-4ecc-80bc-e373daa58d2a/original.pdf","template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.008Z","level":"info","message":"upload_metadata_written","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","jobId":"64015194-ac5a-4198-b820-bdc02bd71afb","bucket":"test-bucket","key":"cv/professional_summary/9bb21984-7500-4ecc-80bc-e373daa58d2a/logs/log.json","template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.010Z","level":"info","message":"job_description_supplied_manually","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","jobId":"64015194-ac5a-4198-b820-bdc02bd71afb","characters":174,"template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.011Z","level":"info","message":"job_description_analyzed","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","jobId":"64015194-ac5a-4198-b820-bdc02bd71afb","jobTitle":"","jobSkills":5,"template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.013Z","level":"info","message":"resume_skills_analyzed","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","jobId":"64015194-ac5a-4198-b820-bdc02bd71afb","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.014Z","level":"info","message":"llm_call_metrics","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.017Z","level":"info","message":"process_cv_scoring_completed","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","jobId":"64015194-ac5a-4198-b820-bdc02bd71afb","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.error
    {"timestamp":"2025-11-29T11:12:42.026Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","sample":"not json","template":"unknown","session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at Object.logStructured [as error] (server.js:3337:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:8340:20)
      at generateEnhancedDocumentsResponse (server.js:19975:26)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:42.066Z","level":"info","message":"llm_call_metrics","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.068Z","level":"info","message":"llm_call_metrics","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.069Z","level":"info","message":"generation_section_rewrite_completed","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","jobId":"64015194-ac5a-4198-b820-bdc02bd71afb","generationRunId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.071Z","level":"info","message":"llm_call_metrics","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"89e63aad97eee35da336c4707bebe46001a38648f790cb26108fe67f8c6eef15","skillCount":5,"template":"project_summary","session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:42.085Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","jobId":"64015194-ac5a-4198-b820-bdc02bd71afb","generationRunId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20337:7)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:42.110Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","jobId":"64015194-ac5a-4198-b820-bdc02bd71afb","generationRunId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20526:7)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:42.123Z","level":"info","message":"generation_cover_letters_completed","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","jobId":"64015194-ac5a-4198-b820-bdc02bd71afb","generationRunId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","variants":2,"fallbackApplied":true,"template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.128Z","level":"info","message":"pdf_generation_attempt","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","jobId":"64015194-ac5a-4198-b820-bdc02bd71afb","generationRunId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9bb21984-7500-4ecc-80bc-e373daa58d2a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/9bb21984-7500-4ecc-80bc-e373daa58d2a/enhanced_modern.pdf","session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.131Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","jobId":"64015194-ac5a-4198-b820-bdc02bd71afb","generationRunId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9bb21984-7500-4ecc-80bc-e373daa58d2a/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.134Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","jobId":"64015194-ac5a-4198-b820-bdc02bd71afb","generationRunId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9bb21984-7500-4ecc-80bc-e373daa58d2a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/9bb21984-7500-4ecc-80bc-e373daa58d2a/enhanced_modern.pdf","session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.136Z","level":"info","message":"pdf_generation_attempt","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","jobId":"64015194-ac5a-4198-b820-bdc02bd71afb","generationRunId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9bb21984-7500-4ecc-80bc-e373daa58d2a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/9bb21984-7500-4ecc-80bc-e373daa58d2a/enhanced_professional.pdf","session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.138Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","jobId":"64015194-ac5a-4198-b820-bdc02bd71afb","generationRunId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9bb21984-7500-4ecc-80bc-e373daa58d2a/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.139Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","jobId":"64015194-ac5a-4198-b820-bdc02bd71afb","generationRunId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9bb21984-7500-4ecc-80bc-e373daa58d2a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/9bb21984-7500-4ecc-80bc-e373daa58d2a/enhanced_professional.pdf","session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.141Z","level":"info","message":"pdf_generation_attempt","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","jobId":"64015194-ac5a-4198-b820-bdc02bd71afb","generationRunId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9bb21984-7500-4ecc-80bc-e373daa58d2a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/9bb21984-7500-4ecc-80bc-e373daa58d2a/cover_letter_cover_modern.pdf","session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.142Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","jobId":"64015194-ac5a-4198-b820-bdc02bd71afb","generationRunId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9bb21984-7500-4ecc-80bc-e373daa58d2a/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.143Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","jobId":"64015194-ac5a-4198-b820-bdc02bd71afb","generationRunId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9bb21984-7500-4ecc-80bc-e373daa58d2a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/9bb21984-7500-4ecc-80bc-e373daa58d2a/cover_letter_cover_modern.pdf","session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.145Z","level":"info","message":"pdf_generation_attempt","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","jobId":"64015194-ac5a-4198-b820-bdc02bd71afb","generationRunId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9bb21984-7500-4ecc-80bc-e373daa58d2a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/9bb21984-7500-4ecc-80bc-e373daa58d2a/cover_letter_cover_professional.pdf","session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.147Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","jobId":"64015194-ac5a-4198-b820-bdc02bd71afb","generationRunId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9bb21984-7500-4ecc-80bc-e373daa58d2a/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.149Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","jobId":"64015194-ac5a-4198-b820-bdc02bd71afb","generationRunId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9bb21984-7500-4ecc-80bc-e373daa58d2a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/9bb21984-7500-4ecc-80bc-e373daa58d2a/cover_letter_cover_professional.pdf","session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.154Z","level":"info","message":"llm_call_metrics","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.156Z","level":"info","message":"generation_completed","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","jobId":"64015194-ac5a-4198-b820-bdc02bd71afb","generationRunId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","enhancedScore":80,"outputs":5,"template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.159Z","level":"info","message":"placeholder_record_deleted","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","jobId":"64015194-ac5a-4198-b820-bdc02bd71afb","placeholderIdentifier":"9bb21984-7500-4ecc-80bc-e373daa58d2a","template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64015194-ac5a-4198-b820-bdc02bd71afb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.162Z","level":"info","message":"http_request_completed","requestId":"9bb21984-7500-4ecc-80bc-e373daa58d2a","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":183,"contentLength":"58091","template":"unknown","session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9bb21984-7500-4ecc-80bc-e373daa58d2a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.172Z","level":"info","message":"http_request_received","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","method":"POST","path":"/api/process-cv","template":"unknown","session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.180Z","level":"info","message":"process_cv_started","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","jobId":"40d05348-254d-4935-9b52-434e55b749ee","manualJobDescriptionProvided":true,"template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.183Z","level":"info","message":"template_selection","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","jobId":"40d05348-254d-4935-9b52-434e55b749ee","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:42.186Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","jobId":"40d05348-254d-4935-9b52-434e55b749ee","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:24934:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24574:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:12:42.207Z","level":"info","message":"initial_upload_completed","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","jobId":"40d05348-254d-4935-9b52-434e55b749ee","bucket":"test-bucket","key":"cv/candidate/2d31bb32-736f-495c-b87e-521243b4288c/incoming/original.pdf","template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.209Z","level":"info","message":"resume_text_extracted","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","jobId":"40d05348-254d-4935-9b52-434e55b749ee","characters":57,"template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.210Z","level":"info","message":"resume_classified","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","jobId":"40d05348-254d-4935-9b52-434e55b749ee","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.212Z","level":"info","message":"raw_upload_relocated","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","jobId":"40d05348-254d-4935-9b52-434e55b749ee","bucket":"test-bucket","fromKey":"cv/candidate/2d31bb32-736f-495c-b87e-521243b4288c/incoming/original.pdf","toKey":"cv/professional_summary/2d31bb32-736f-495c-b87e-521243b4288c/original.pdf","template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.214Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","jobId":"40d05348-254d-4935-9b52-434e55b749ee","bucket":"test-bucket","key":"cv/professional_summary/2d31bb32-736f-495c-b87e-521243b4288c/original.pdf","template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.215Z","level":"info","message":"dynamo_initial_record_written","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","jobId":"40d05348-254d-4935-9b52-434e55b749ee","bucket":"test-bucket","key":"cv/professional_summary/2d31bb32-736f-495c-b87e-521243b4288c/original.pdf","template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.217Z","level":"info","message":"upload_metadata_written","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","jobId":"40d05348-254d-4935-9b52-434e55b749ee","bucket":"test-bucket","key":"cv/professional_summary/2d31bb32-736f-495c-b87e-521243b4288c/logs/log.json","template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.218Z","level":"info","message":"job_description_supplied_manually","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","jobId":"40d05348-254d-4935-9b52-434e55b749ee","characters":174,"template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.219Z","level":"info","message":"job_description_analyzed","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","jobId":"40d05348-254d-4935-9b52-434e55b749ee","jobTitle":"","jobSkills":5,"template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.221Z","level":"info","message":"resume_skills_analyzed","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","jobId":"40d05348-254d-4935-9b52-434e55b749ee","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.223Z","level":"info","message":"llm_call_metrics","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.224Z","level":"info","message":"process_cv_scoring_completed","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","jobId":"40d05348-254d-4935-9b52-434e55b749ee","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.236Z","level":"info","message":"llm_call_metrics","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.238Z","level":"info","message":"generation_section_rewrite_completed","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","jobId":"40d05348-254d-4935-9b52-434e55b749ee","generationRunId":"2d31bb32-736f-495c-b87e-521243b4288c","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.240Z","level":"info","message":"llm_call_metrics","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.242Z","level":"info","message":"llm_call_metrics","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.271Z","level":"info","message":"generation_resume_verified","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","jobId":"40d05348-254d-4935-9b52-434e55b749ee","generationRunId":"2d31bb32-736f-495c-b87e-521243b4288c","template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.error
    {"timestamp":"2025-11-29T11:12:42.285Z","level":"error","message":"ai_response_missing_json","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","jobId":"40d05348-254d-4935-9b52-434e55b749ee","generationRunId":"2d31bb32-736f-495c-b87e-521243b4288c","template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at Object.logStructured [as error] (server.js:3337:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20257:26)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:42.294Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","jobId":"40d05348-254d-4935-9b52-434e55b749ee","generationRunId":"2d31bb32-736f-495c-b87e-521243b4288c","attempt":1,"template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20262:11)
      at server.js:26533:28

  console.error
    {"timestamp":"2025-11-29T11:12:42.305Z","level":"error","message":"ai_response_missing_json","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","jobId":"40d05348-254d-4935-9b52-434e55b749ee","generationRunId":"2d31bb32-736f-495c-b87e-521243b4288c","template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at Object.logStructured [as error] (server.js:3337:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20257:26)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:42.319Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","jobId":"40d05348-254d-4935-9b52-434e55b749ee","generationRunId":"2d31bb32-736f-495c-b87e-521243b4288c","attempt":2,"template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20262:11)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:42.339Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","jobId":"40d05348-254d-4935-9b52-434e55b749ee","generationRunId":"2d31bb32-736f-495c-b87e-521243b4288c","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20526:7)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:42.351Z","level":"info","message":"generation_cover_letters_completed","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","jobId":"40d05348-254d-4935-9b52-434e55b749ee","generationRunId":"2d31bb32-736f-495c-b87e-521243b4288c","variants":2,"fallbackApplied":true,"template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.354Z","level":"info","message":"pdf_generation_attempt","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","jobId":"40d05348-254d-4935-9b52-434e55b749ee","generationRunId":"2d31bb32-736f-495c-b87e-521243b4288c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2d31bb32-736f-495c-b87e-521243b4288c/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/2d31bb32-736f-495c-b87e-521243b4288c/enhanced_modern.pdf","session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.355Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","jobId":"40d05348-254d-4935-9b52-434e55b749ee","generationRunId":"2d31bb32-736f-495c-b87e-521243b4288c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2d31bb32-736f-495c-b87e-521243b4288c/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.357Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","jobId":"40d05348-254d-4935-9b52-434e55b749ee","generationRunId":"2d31bb32-736f-495c-b87e-521243b4288c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2d31bb32-736f-495c-b87e-521243b4288c/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/2d31bb32-736f-495c-b87e-521243b4288c/enhanced_modern.pdf","session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.359Z","level":"info","message":"pdf_generation_attempt","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","jobId":"40d05348-254d-4935-9b52-434e55b749ee","generationRunId":"2d31bb32-736f-495c-b87e-521243b4288c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2d31bb32-736f-495c-b87e-521243b4288c/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/2d31bb32-736f-495c-b87e-521243b4288c/enhanced_professional.pdf","session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.361Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","jobId":"40d05348-254d-4935-9b52-434e55b749ee","generationRunId":"2d31bb32-736f-495c-b87e-521243b4288c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2d31bb32-736f-495c-b87e-521243b4288c/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.366Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","jobId":"40d05348-254d-4935-9b52-434e55b749ee","generationRunId":"2d31bb32-736f-495c-b87e-521243b4288c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2d31bb32-736f-495c-b87e-521243b4288c/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/2d31bb32-736f-495c-b87e-521243b4288c/enhanced_professional.pdf","session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.369Z","level":"info","message":"pdf_generation_attempt","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","jobId":"40d05348-254d-4935-9b52-434e55b749ee","generationRunId":"2d31bb32-736f-495c-b87e-521243b4288c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2d31bb32-736f-495c-b87e-521243b4288c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/2d31bb32-736f-495c-b87e-521243b4288c/cover_letter_cover_modern.pdf","session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.371Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","jobId":"40d05348-254d-4935-9b52-434e55b749ee","generationRunId":"2d31bb32-736f-495c-b87e-521243b4288c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2d31bb32-736f-495c-b87e-521243b4288c/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.373Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","jobId":"40d05348-254d-4935-9b52-434e55b749ee","generationRunId":"2d31bb32-736f-495c-b87e-521243b4288c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2d31bb32-736f-495c-b87e-521243b4288c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/2d31bb32-736f-495c-b87e-521243b4288c/cover_letter_cover_modern.pdf","session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.377Z","level":"info","message":"pdf_generation_attempt","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","jobId":"40d05348-254d-4935-9b52-434e55b749ee","generationRunId":"2d31bb32-736f-495c-b87e-521243b4288c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2d31bb32-736f-495c-b87e-521243b4288c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/2d31bb32-736f-495c-b87e-521243b4288c/cover_letter_cover_professional.pdf","session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.379Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","jobId":"40d05348-254d-4935-9b52-434e55b749ee","generationRunId":"2d31bb32-736f-495c-b87e-521243b4288c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2d31bb32-736f-495c-b87e-521243b4288c/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.383Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","jobId":"40d05348-254d-4935-9b52-434e55b749ee","generationRunId":"2d31bb32-736f-495c-b87e-521243b4288c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2d31bb32-736f-495c-b87e-521243b4288c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/2d31bb32-736f-495c-b87e-521243b4288c/cover_letter_cover_professional.pdf","session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.397Z","level":"info","message":"llm_call_metrics","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.403Z","level":"info","message":"generation_completed","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","jobId":"40d05348-254d-4935-9b52-434e55b749ee","generationRunId":"2d31bb32-736f-495c-b87e-521243b4288c","enhancedScore":80,"outputs":5,"template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.408Z","level":"info","message":"placeholder_record_deleted","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","jobId":"40d05348-254d-4935-9b52-434e55b749ee","placeholderIdentifier":"2d31bb32-736f-495c-b87e-521243b4288c","template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"40d05348-254d-4935-9b52-434e55b749ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.414Z","level":"info","message":"http_request_completed","requestId":"2d31bb32-736f-495c-b87e-521243b4288c","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":242,"contentLength":"59498","template":"unknown","session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d31bb32-736f-495c-b87e-521243b4288c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.430Z","level":"info","message":"http_request_received","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","method":"POST","path":"/api/process-cv","template":"unknown","session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.437Z","level":"info","message":"process_cv_started","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","jobId":"db19a900-8102-4b91-8634-fd3837eadaa8","manualJobDescriptionProvided":true,"template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.442Z","level":"info","message":"template_selection","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","jobId":"db19a900-8102-4b91-8634-fd3837eadaa8","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:42.444Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","jobId":"db19a900-8102-4b91-8634-fd3837eadaa8","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:24934:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24574:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:12:42.460Z","level":"info","message":"initial_upload_completed","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","jobId":"db19a900-8102-4b91-8634-fd3837eadaa8","bucket":"test-bucket","key":"cv/candidate/a4d6b506-c067-4a42-b546-a4d3d32dc900/incoming/original.pdf","template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.464Z","level":"info","message":"resume_text_extracted","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","jobId":"db19a900-8102-4b91-8634-fd3837eadaa8","characters":57,"template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.467Z","level":"info","message":"resume_classified","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","jobId":"db19a900-8102-4b91-8634-fd3837eadaa8","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.469Z","level":"info","message":"raw_upload_relocated","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","jobId":"db19a900-8102-4b91-8634-fd3837eadaa8","bucket":"test-bucket","fromKey":"cv/candidate/a4d6b506-c067-4a42-b546-a4d3d32dc900/incoming/original.pdf","toKey":"cv/professional_summary/a4d6b506-c067-4a42-b546-a4d3d32dc900/original.pdf","template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.471Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","jobId":"db19a900-8102-4b91-8634-fd3837eadaa8","bucket":"test-bucket","key":"cv/professional_summary/a4d6b506-c067-4a42-b546-a4d3d32dc900/original.pdf","template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.473Z","level":"info","message":"dynamo_initial_record_written","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","jobId":"db19a900-8102-4b91-8634-fd3837eadaa8","bucket":"test-bucket","key":"cv/professional_summary/a4d6b506-c067-4a42-b546-a4d3d32dc900/original.pdf","template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.474Z","level":"info","message":"upload_metadata_written","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","jobId":"db19a900-8102-4b91-8634-fd3837eadaa8","bucket":"test-bucket","key":"cv/professional_summary/a4d6b506-c067-4a42-b546-a4d3d32dc900/logs/log.json","template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.477Z","level":"info","message":"job_description_supplied_manually","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","jobId":"db19a900-8102-4b91-8634-fd3837eadaa8","characters":174,"template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.478Z","level":"info","message":"job_description_analyzed","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","jobId":"db19a900-8102-4b91-8634-fd3837eadaa8","jobTitle":"","jobSkills":5,"template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.480Z","level":"info","message":"resume_skills_analyzed","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","jobId":"db19a900-8102-4b91-8634-fd3837eadaa8","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.482Z","level":"info","message":"llm_call_metrics","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.485Z","level":"info","message":"process_cv_scoring_completed","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","jobId":"db19a900-8102-4b91-8634-fd3837eadaa8","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.509Z","level":"info","message":"llm_call_metrics","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.512Z","level":"info","message":"generation_section_rewrite_completed","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","jobId":"db19a900-8102-4b91-8634-fd3837eadaa8","generationRunId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.515Z","level":"info","message":"llm_call_metrics","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.518Z","level":"info","message":"llm_call_metrics","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.523Z","level":"info","message":"generation_resume_verified","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","jobId":"db19a900-8102-4b91-8634-fd3837eadaa8","generationRunId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.error
    {"timestamp":"2025-11-29T11:12:42.561Z","level":"error","message":"ai_response_missing_json","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","jobId":"db19a900-8102-4b91-8634-fd3837eadaa8","generationRunId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at Object.logStructured [as error] (server.js:3337:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20257:26)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:42.588Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","jobId":"db19a900-8102-4b91-8634-fd3837eadaa8","generationRunId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","attempt":1,"template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20262:11)
      at server.js:26533:28

  console.error
    {"timestamp":"2025-11-29T11:12:42.611Z","level":"error","message":"ai_response_missing_json","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","jobId":"db19a900-8102-4b91-8634-fd3837eadaa8","generationRunId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at Object.logStructured [as error] (server.js:3337:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20257:26)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:42.636Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","jobId":"db19a900-8102-4b91-8634-fd3837eadaa8","generationRunId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","attempt":2,"template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20262:11)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:42.667Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","jobId":"db19a900-8102-4b91-8634-fd3837eadaa8","generationRunId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20526:7)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:42.689Z","level":"info","message":"generation_cover_letters_completed","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","jobId":"db19a900-8102-4b91-8634-fd3837eadaa8","generationRunId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","variants":2,"fallbackApplied":true,"template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.692Z","level":"info","message":"pdf_generation_attempt","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","jobId":"db19a900-8102-4b91-8634-fd3837eadaa8","generationRunId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a4d6b506-c067-4a42-b546-a4d3d32dc900/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/a4d6b506-c067-4a42-b546-a4d3d32dc900/enhanced_modern.pdf","session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.694Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","jobId":"db19a900-8102-4b91-8634-fd3837eadaa8","generationRunId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a4d6b506-c067-4a42-b546-a4d3d32dc900/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.697Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","jobId":"db19a900-8102-4b91-8634-fd3837eadaa8","generationRunId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a4d6b506-c067-4a42-b546-a4d3d32dc900/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/a4d6b506-c067-4a42-b546-a4d3d32dc900/enhanced_modern.pdf","session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.699Z","level":"info","message":"pdf_generation_attempt","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","jobId":"db19a900-8102-4b91-8634-fd3837eadaa8","generationRunId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a4d6b506-c067-4a42-b546-a4d3d32dc900/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/a4d6b506-c067-4a42-b546-a4d3d32dc900/enhanced_professional.pdf","session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.704Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","jobId":"db19a900-8102-4b91-8634-fd3837eadaa8","generationRunId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a4d6b506-c067-4a42-b546-a4d3d32dc900/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.707Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","jobId":"db19a900-8102-4b91-8634-fd3837eadaa8","generationRunId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a4d6b506-c067-4a42-b546-a4d3d32dc900/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/a4d6b506-c067-4a42-b546-a4d3d32dc900/enhanced_professional.pdf","session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.709Z","level":"info","message":"pdf_generation_attempt","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","jobId":"db19a900-8102-4b91-8634-fd3837eadaa8","generationRunId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a4d6b506-c067-4a42-b546-a4d3d32dc900/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/a4d6b506-c067-4a42-b546-a4d3d32dc900/cover_letter_cover_modern.pdf","session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.711Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","jobId":"db19a900-8102-4b91-8634-fd3837eadaa8","generationRunId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a4d6b506-c067-4a42-b546-a4d3d32dc900/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.712Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","jobId":"db19a900-8102-4b91-8634-fd3837eadaa8","generationRunId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a4d6b506-c067-4a42-b546-a4d3d32dc900/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/a4d6b506-c067-4a42-b546-a4d3d32dc900/cover_letter_cover_modern.pdf","session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.718Z","level":"info","message":"pdf_generation_attempt","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","jobId":"db19a900-8102-4b91-8634-fd3837eadaa8","generationRunId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a4d6b506-c067-4a42-b546-a4d3d32dc900/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/a4d6b506-c067-4a42-b546-a4d3d32dc900/cover_letter_cover_professional.pdf","session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.720Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","jobId":"db19a900-8102-4b91-8634-fd3837eadaa8","generationRunId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a4d6b506-c067-4a42-b546-a4d3d32dc900/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.722Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","jobId":"db19a900-8102-4b91-8634-fd3837eadaa8","generationRunId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a4d6b506-c067-4a42-b546-a4d3d32dc900/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/a4d6b506-c067-4a42-b546-a4d3d32dc900/cover_letter_cover_professional.pdf","session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.734Z","level":"info","message":"llm_call_metrics","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.738Z","level":"info","message":"generation_completed","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","jobId":"db19a900-8102-4b91-8634-fd3837eadaa8","generationRunId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","enhancedScore":80,"outputs":5,"template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.745Z","level":"info","message":"placeholder_record_deleted","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","jobId":"db19a900-8102-4b91-8634-fd3837eadaa8","placeholderIdentifier":"a4d6b506-c067-4a42-b546-a4d3d32dc900","template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db19a900-8102-4b91-8634-fd3837eadaa8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.748Z","level":"info","message":"http_request_completed","requestId":"a4d6b506-c067-4a42-b546-a4d3d32dc900","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":318,"contentLength":"59498","template":"unknown","session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a4d6b506-c067-4a42-b546-a4d3d32dc900","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.765Z","level":"info","message":"http_request_received","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","method":"POST","path":"/api/process-cv","template":"unknown","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.772Z","level":"info","message":"process_cv_started","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","jobId":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","manualJobDescriptionProvided":true,"template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.775Z","level":"info","message":"template_selection","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","jobId":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:42.776Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","jobId":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:24934:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24574:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:12:42.799Z","level":"info","message":"initial_upload_completed","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","jobId":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","bucket":"test-bucket","key":"cv/candidate/9d1f702e-a9a4-430d-b85f-c710cc20464e/incoming/original.pdf","template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.801Z","level":"info","message":"resume_text_extracted","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","jobId":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","characters":57,"template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.802Z","level":"info","message":"resume_classified","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","jobId":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.803Z","level":"info","message":"raw_upload_relocated","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","jobId":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","bucket":"test-bucket","fromKey":"cv/candidate/9d1f702e-a9a4-430d-b85f-c710cc20464e/incoming/original.pdf","toKey":"cv/professional_summary/9d1f702e-a9a4-430d-b85f-c710cc20464e/original.pdf","template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.805Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","jobId":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","bucket":"test-bucket","key":"cv/professional_summary/9d1f702e-a9a4-430d-b85f-c710cc20464e/original.pdf","template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.807Z","level":"info","message":"dynamo_initial_record_written","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","jobId":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","bucket":"test-bucket","key":"cv/professional_summary/9d1f702e-a9a4-430d-b85f-c710cc20464e/original.pdf","template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.808Z","level":"info","message":"upload_metadata_written","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","jobId":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","bucket":"test-bucket","key":"cv/professional_summary/9d1f702e-a9a4-430d-b85f-c710cc20464e/logs/log.json","template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.810Z","level":"info","message":"job_description_supplied_manually","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","jobId":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","characters":174,"template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.811Z","level":"info","message":"job_description_analyzed","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","jobId":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","jobTitle":"","jobSkills":5,"template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.815Z","level":"info","message":"resume_skills_analyzed","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","jobId":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.819Z","level":"info","message":"llm_call_metrics","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.821Z","level":"info","message":"process_cv_scoring_completed","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","jobId":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.error
    {"timestamp":"2025-11-29T11:12:42.829Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","template":"unknown","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at Object.logStructured [as error] (server.js:3337:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:8340:20)
      at generateEnhancedDocumentsResponse (server.js:19975:26)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:42.845Z","level":"info","message":"llm_call_metrics","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.851Z","level":"info","message":"llm_call_metrics","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.855Z","level":"info","message":"generation_section_rewrite_completed","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","jobId":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","generationRunId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.859Z","level":"info","message":"llm_call_metrics","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:42.862Z","level":"info","message":"llm_call_metrics","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.error
    {"timestamp":"2025-11-29T11:12:42.919Z","level":"error","message":"ai_response_missing_json","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","jobId":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","generationRunId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at Object.logStructured [as error] (server.js:3337:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20257:26)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:42.971Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","jobId":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","generationRunId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","attempt":1,"template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20262:11)
      at server.js:26533:28

  console.error
    {"timestamp":"2025-11-29T11:12:42.985Z","level":"error","message":"ai_response_missing_json","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","jobId":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","generationRunId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at Object.logStructured [as error] (server.js:3337:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20257:26)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:43.017Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","jobId":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","generationRunId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","attempt":2,"template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20262:11)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:43.051Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","jobId":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","generationRunId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20526:7)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:43.086Z","level":"info","message":"generation_cover_letters_completed","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","jobId":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","generationRunId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","variants":2,"fallbackApplied":true,"template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.099Z","level":"info","message":"pdf_generation_attempt","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","jobId":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","generationRunId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9d1f702e-a9a4-430d-b85f-c710cc20464e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/9d1f702e-a9a4-430d-b85f-c710cc20464e/enhanced_modern.pdf","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.102Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","jobId":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","generationRunId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9d1f702e-a9a4-430d-b85f-c710cc20464e/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.106Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","jobId":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","generationRunId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9d1f702e-a9a4-430d-b85f-c710cc20464e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/9d1f702e-a9a4-430d-b85f-c710cc20464e/enhanced_modern.pdf","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.111Z","level":"info","message":"pdf_generation_attempt","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","jobId":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","generationRunId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9d1f702e-a9a4-430d-b85f-c710cc20464e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/9d1f702e-a9a4-430d-b85f-c710cc20464e/enhanced_professional.pdf","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.112Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","jobId":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","generationRunId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9d1f702e-a9a4-430d-b85f-c710cc20464e/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.114Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","jobId":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","generationRunId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9d1f702e-a9a4-430d-b85f-c710cc20464e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/9d1f702e-a9a4-430d-b85f-c710cc20464e/enhanced_professional.pdf","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.115Z","level":"info","message":"pdf_generation_attempt","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","jobId":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","generationRunId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9d1f702e-a9a4-430d-b85f-c710cc20464e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/9d1f702e-a9a4-430d-b85f-c710cc20464e/cover_letter_cover_modern.pdf","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.116Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","jobId":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","generationRunId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9d1f702e-a9a4-430d-b85f-c710cc20464e/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.117Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","jobId":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","generationRunId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9d1f702e-a9a4-430d-b85f-c710cc20464e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/9d1f702e-a9a4-430d-b85f-c710cc20464e/cover_letter_cover_modern.pdf","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.120Z","level":"info","message":"pdf_generation_attempt","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","jobId":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","generationRunId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9d1f702e-a9a4-430d-b85f-c710cc20464e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/9d1f702e-a9a4-430d-b85f-c710cc20464e/cover_letter_cover_professional.pdf","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.123Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","jobId":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","generationRunId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9d1f702e-a9a4-430d-b85f-c710cc20464e/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.131Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","jobId":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","generationRunId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9d1f702e-a9a4-430d-b85f-c710cc20464e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/9d1f702e-a9a4-430d-b85f-c710cc20464e/cover_letter_cover_professional.pdf","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.146Z","level":"info","message":"llm_call_metrics","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.155Z","level":"info","message":"generation_completed","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","jobId":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","generationRunId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","enhancedScore":80,"outputs":5,"template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.178Z","level":"info","message":"placeholder_record_deleted","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","jobId":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","placeholderIdentifier":"9d1f702e-a9a4-430d-b85f-c710cc20464e","template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47c4e4df-6dc4-49f3-b248-a9ce4283d1ee","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.183Z","level":"info","message":"http_request_completed","requestId":"9d1f702e-a9a4-430d-b85f-c710cc20464e","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":417,"contentLength":"58301","template":"unknown","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9d1f702e-a9a4-430d-b85f-c710cc20464e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.273Z","level":"info","message":"http_request_received","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","method":"POST","path":"/api/process-cv","template":"unknown","session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.283Z","level":"info","message":"process_cv_started","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","manualJobDescriptionProvided":true,"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.285Z","level":"info","message":"template_selection","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:43.288Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:24934:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24574:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:12:43.302Z","level":"info","message":"initial_upload_completed","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","bucket":"test-bucket","key":"cv/candidate/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/incoming/original.pdf","template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.304Z","level":"info","message":"resume_text_extracted","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","characters":57,"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.306Z","level":"info","message":"resume_classified","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.307Z","level":"info","message":"raw_upload_relocated","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","bucket":"test-bucket","fromKey":"cv/candidate/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/incoming/original.pdf","toKey":"cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/original.pdf","template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.308Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","bucket":"test-bucket","key":"cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/original.pdf","template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.311Z","level":"info","message":"dynamo_initial_record_written","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","bucket":"test-bucket","key":"cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/original.pdf","template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.313Z","level":"info","message":"upload_metadata_written","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","bucket":"test-bucket","key":"cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/logs/log.json","template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.313Z","level":"info","message":"job_description_supplied_manually","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","characters":174,"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.314Z","level":"info","message":"job_description_analyzed","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","jobTitle":"","jobSkills":5,"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.321Z","level":"info","message":"resume_skills_analyzed","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.326Z","level":"info","message":"llm_call_metrics","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.331Z","level":"info","message":"process_cv_scoring_completed","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.error
    {"timestamp":"2025-11-29T11:12:43.341Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","template":"unknown","session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at Object.logStructured [as error] (server.js:3337:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:8340:20)
      at generateEnhancedDocumentsResponse (server.js:19975:26)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:43.358Z","level":"info","message":"llm_call_metrics","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":2,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.360Z","level":"info","message":"llm_call_metrics","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.361Z","level":"info","message":"generation_section_rewrite_completed","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","generationRunId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.363Z","level":"info","message":"llm_call_metrics","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.365Z","level":"info","message":"llm_call_metrics","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.error
    {"timestamp":"2025-11-29T11:12:43.379Z","level":"error","message":"ai_response_missing_json","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","generationRunId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at Object.logStructured [as error] (server.js:3337:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20257:26)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:43.391Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","generationRunId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","attempt":1,"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20262:11)
      at server.js:26533:28

  console.error
    {"timestamp":"2025-11-29T11:12:43.407Z","level":"error","message":"ai_response_missing_json","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","generationRunId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at Object.logStructured [as error] (server.js:3337:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20257:26)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:43.423Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","generationRunId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","attempt":2,"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20262:11)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:43.444Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","generationRunId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20526:7)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:43.481Z","level":"info","message":"generation_cover_letters_completed","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","generationRunId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","variants":2,"fallbackApplied":true,"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.495Z","level":"info","message":"pdf_generation_attempt","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","generationRunId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/enhanced_modern.pdf","session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.497Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","generationRunId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.500Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","generationRunId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/enhanced_modern.pdf","session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.507Z","level":"info","message":"pdf_generation_attempt","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","generationRunId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/enhanced_professional.pdf","session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.510Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","generationRunId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.512Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","generationRunId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/enhanced_professional.pdf","session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.514Z","level":"info","message":"pdf_generation_attempt","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","generationRunId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/cover_letter_cover_modern.pdf","session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.515Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","generationRunId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.518Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","generationRunId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/cover_letter_cover_modern.pdf","session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.522Z","level":"info","message":"pdf_generation_attempt","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","generationRunId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/cover_letter_cover_professional.pdf","session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.524Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","generationRunId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.532Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","generationRunId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/cover_letter_cover_professional.pdf","session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:43.538Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","generationRunId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","artifactType":"original_upload","storageKey":"cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/original.pdf","template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","metadata":{"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"original_upload"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:21663:9)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:43.575Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","generationRunId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","artifactType":"version1","storageKey":"cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/modern/version1.pdf","template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","metadata":{"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"version1"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:21663:9)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:43.599Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","generationRunId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","artifactType":"version2","storageKey":"cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/professional/version2.pdf","template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","metadata":{"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"version2"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:21663:9)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:43.638Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","generationRunId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","artifactType":"cover_letter1","storageKey":"cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/cover_modern/cover_letter1.pdf","template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","metadata":{"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"cover_letter1"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:21663:9)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:43.650Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","generationRunId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","artifactType":"cover_letter2","storageKey":"cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/cover_professional/cover_letter2.pdf","template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","metadata":{"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"cover_letter2"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:21663:9)
      at server.js:26533:28

  console.error
    {"timestamp":"2025-11-29T11:12:43.673Z","level":"error","message":"generation_urls_missing","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","generationRunId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","requestedUrlCount":0,"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:21764:7)
      at server.js:26533:28

  console.error
    {"timestamp":"2025-11-29T11:12:43.698Z","level":"error","message":"api_error_response","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","status":500,"error":{"code":"AI_RESPONSE_INVALID","message":"Unable to prepare download links for the generated documents.","details":{"logs":{"s3":{"bucket":"test-bucket","key":"logs/errors/2025-11-29/2025-11-29t11-12-43-697z-a18e4de7-6d1d-48a1-9ca4-b62a88f7002f.json","status":"pending"}}},"requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff"},"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:3825:3)
      at sendError (server.js:21768:7)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:43.756Z","level":"warn","message":"generation_artifacts_cleaned_up","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","jobId":"457c2484-b4a6-4694-8000-2119b372f3ff","generationRunId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","reason":"no_valid_urls","deletedKeys":["cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/modern/version1.pdf","cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/professional/version2.pdf","cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/cover_modern/cover_letter1.pdf","cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/cover_professional/cover_letter2.pdf","cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/artifacts/original.json","cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/artifacts/version1.json","cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/artifacts/version2.json","cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/artifacts/cover-letter1.json","cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/artifacts/cover-letter2.json","cv/professional_summary/a18e4de7-6d1d-48a1-9ca4-b62a88f7002f/artifacts/changelog.json"],"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"457c2484-b4a6-4694-8000-2119b372f3ff","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:19691:9)
      at generateEnhancedDocumentsResponse (server.js:22296:7)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:43.779Z","level":"info","message":"http_request_completed","requestId":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","method":"POST","path":"/api/process-cv","statusCode":500,"durationMs":506,"contentLength":"396","template":"unknown","session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a18e4de7-6d1d-48a1-9ca4-b62a88f7002f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.800Z","level":"info","message":"http_request_received","requestId":"44d50363-3eed-4687-93ff-46db25d07078","method":"POST","path":"/api/refresh-download-link","template":"unknown","session":"44d50363-3eed-4687-93ff-46db25d07078","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44d50363-3eed-4687-93ff-46db25d07078","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.838Z","level":"info","message":"http_request_completed","requestId":"44d50363-3eed-4687-93ff-46db25d07078","method":"POST","path":"/api/refresh-download-link","statusCode":200,"durationMs":38,"contentLength":"232","template":"unknown","session":"44d50363-3eed-4687-93ff-46db25d07078","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44d50363-3eed-4687-93ff-46db25d07078","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.863Z","level":"info","message":"http_request_received","requestId":"d12bf1dd-681c-42f3-9f0b-5b01bf3fc673","method":"POST","path":"/api/refresh-download-link","template":"unknown","session":"d12bf1dd-681c-42f3-9f0b-5b01bf3fc673","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d12bf1dd-681c-42f3-9f0b-5b01bf3fc673","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:43.867Z","level":"warn","message":"api_error_response","requestId":"d12bf1dd-681c-42f3-9f0b-5b01bf3fc673","jobId":"job-123","status":404,"error":{"code":"DOWNLOAD_NOT_FOUND","message":"The requested download link is no longer available.","details":{},"requestId":"d12bf1dd-681c-42f3-9f0b-5b01bf3fc673","jobId":"job-123"},"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:3825:3)
      at sendError (server.js:24401:12)

  console.log
    {"timestamp":"2025-11-29T11:12:43.897Z","level":"info","message":"http_request_completed","requestId":"d12bf1dd-681c-42f3-9f0b-5b01bf3fc673","method":"POST","path":"/api/refresh-download-link","statusCode":404,"durationMs":34,"contentLength":"201","template":"unknown","session":"d12bf1dd-681c-42f3-9f0b-5b01bf3fc673","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d12bf1dd-681c-42f3-9f0b-5b01bf3fc673","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.907Z","level":"info","message":"http_request_received","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","method":"POST","path":"/api/process-cv","template":"unknown","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.915Z","level":"info","message":"process_cv_started","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","jobId":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","manualJobDescriptionProvided":true,"template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.919Z","level":"info","message":"template_selection","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","jobId":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:43.922Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","jobId":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:24934:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24574:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:12:43.937Z","level":"info","message":"initial_upload_completed","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","jobId":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","bucket":"test-bucket","key":"cv/candidate/1b4d7df1-20f4-4457-8a34-cae2ad0bc22f/incoming/original.pdf","template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.938Z","level":"info","message":"resume_text_extracted","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","jobId":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","characters":57,"template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.939Z","level":"info","message":"resume_classified","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","jobId":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.947Z","level":"info","message":"raw_upload_relocated","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","jobId":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","bucket":"test-bucket","fromKey":"cv/candidate/1b4d7df1-20f4-4457-8a34-cae2ad0bc22f/incoming/original.pdf","toKey":"cv/professional_summary/1b4d7df1-20f4-4457-8a34-cae2ad0bc22f/original.pdf","template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.948Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","jobId":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","bucket":"test-bucket","key":"cv/professional_summary/1b4d7df1-20f4-4457-8a34-cae2ad0bc22f/original.pdf","template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.949Z","level":"info","message":"dynamo_initial_record_written","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","jobId":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","bucket":"test-bucket","key":"cv/professional_summary/1b4d7df1-20f4-4457-8a34-cae2ad0bc22f/original.pdf","template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.953Z","level":"info","message":"upload_metadata_written","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","jobId":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","bucket":"test-bucket","key":"cv/professional_summary/1b4d7df1-20f4-4457-8a34-cae2ad0bc22f/logs/log.json","template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.955Z","level":"info","message":"job_description_supplied_manually","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","jobId":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","characters":174,"template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.957Z","level":"info","message":"job_description_analyzed","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","jobId":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","jobTitle":"","jobSkills":5,"template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.958Z","level":"info","message":"resume_skills_analyzed","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","jobId":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.961Z","level":"info","message":"llm_call_metrics","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.963Z","level":"info","message":"process_cv_scoring_completed","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","jobId":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.error
    {"timestamp":"2025-11-29T11:12:43.981Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","template":"unknown","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at Object.logStructured [as error] (server.js:3337:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:8340:20)
      at generateEnhancedDocumentsResponse (server.js:19975:26)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:43.991Z","level":"info","message":"llm_call_metrics","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.993Z","level":"info","message":"llm_call_metrics","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:43.994Z","level":"info","message":"generation_section_rewrite_completed","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","jobId":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","generationRunId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.021Z","level":"info","message":"llm_call_metrics","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.024Z","level":"info","message":"llm_call_metrics","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.error
    {"timestamp":"2025-11-29T11:12:44.046Z","level":"error","message":"ai_response_missing_json","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","jobId":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","generationRunId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at Object.logStructured [as error] (server.js:3337:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20257:26)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:44.061Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","jobId":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","generationRunId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","attempt":1,"template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20262:11)
      at server.js:26533:28

  console.error
    {"timestamp":"2025-11-29T11:12:44.078Z","level":"error","message":"ai_response_missing_json","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","jobId":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","generationRunId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at Object.logStructured [as error] (server.js:3337:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20257:26)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:44.091Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","jobId":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","generationRunId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","attempt":2,"template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20262:11)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:44.109Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","jobId":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","generationRunId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20526:7)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:44.119Z","level":"info","message":"generation_cover_letters_completed","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","jobId":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","generationRunId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","variants":2,"fallbackApplied":true,"template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.122Z","level":"info","message":"pdf_generation_attempt","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","jobId":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","generationRunId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1b4d7df1-20f4-4457-8a34-cae2ad0bc22f/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/1b4d7df1-20f4-4457-8a34-cae2ad0bc22f/enhanced_modern.pdf","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.124Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","jobId":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","generationRunId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1b4d7df1-20f4-4457-8a34-cae2ad0bc22f/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.126Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","jobId":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","generationRunId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1b4d7df1-20f4-4457-8a34-cae2ad0bc22f/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/1b4d7df1-20f4-4457-8a34-cae2ad0bc22f/enhanced_modern.pdf","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.128Z","level":"info","message":"pdf_generation_attempt","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","jobId":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","generationRunId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1b4d7df1-20f4-4457-8a34-cae2ad0bc22f/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/1b4d7df1-20f4-4457-8a34-cae2ad0bc22f/enhanced_professional.pdf","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.133Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","jobId":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","generationRunId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1b4d7df1-20f4-4457-8a34-cae2ad0bc22f/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.135Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","jobId":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","generationRunId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1b4d7df1-20f4-4457-8a34-cae2ad0bc22f/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/1b4d7df1-20f4-4457-8a34-cae2ad0bc22f/enhanced_professional.pdf","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.136Z","level":"info","message":"pdf_generation_attempt","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","jobId":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","generationRunId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1b4d7df1-20f4-4457-8a34-cae2ad0bc22f/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/1b4d7df1-20f4-4457-8a34-cae2ad0bc22f/cover_letter_cover_modern.pdf","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.138Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","jobId":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","generationRunId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1b4d7df1-20f4-4457-8a34-cae2ad0bc22f/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.139Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","jobId":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","generationRunId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1b4d7df1-20f4-4457-8a34-cae2ad0bc22f/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/1b4d7df1-20f4-4457-8a34-cae2ad0bc22f/cover_letter_cover_modern.pdf","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.141Z","level":"info","message":"pdf_generation_attempt","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","jobId":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","generationRunId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1b4d7df1-20f4-4457-8a34-cae2ad0bc22f/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/1b4d7df1-20f4-4457-8a34-cae2ad0bc22f/cover_letter_cover_professional.pdf","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.144Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","jobId":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","generationRunId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1b4d7df1-20f4-4457-8a34-cae2ad0bc22f/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.146Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","jobId":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","generationRunId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1b4d7df1-20f4-4457-8a34-cae2ad0bc22f/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/1b4d7df1-20f4-4457-8a34-cae2ad0bc22f/cover_letter_cover_professional.pdf","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.155Z","level":"info","message":"llm_call_metrics","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.158Z","level":"info","message":"generation_completed","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","jobId":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","generationRunId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","enhancedScore":80,"outputs":5,"template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.162Z","level":"info","message":"placeholder_record_deleted","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","jobId":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","placeholderIdentifier":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4842bbba-58b7-46f5-85f6-60cdbafc0d95","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.165Z","level":"info","message":"http_request_completed","requestId":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":258,"contentLength":"58301","template":"unknown","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b4d7df1-20f4-4457-8a34-cae2ad0bc22f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.175Z","level":"info","message":"http_request_received","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","method":"POST","path":"/api/process-cv","template":"unknown","session":"72726167-6f8d-4435-a9d3-5dff49401de8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72726167-6f8d-4435-a9d3-5dff49401de8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.182Z","level":"info","message":"process_cv_started","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","jobId":"f1463c34-52a5-44ec-9103-3a60435495b1","manualJobDescriptionProvided":true,"template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.184Z","level":"info","message":"template_selection","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","jobId":"f1463c34-52a5-44ec-9103-3a60435495b1","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:44.185Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","jobId":"f1463c34-52a5-44ec-9103-3a60435495b1","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:24934:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24574:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:12:44.200Z","level":"info","message":"initial_upload_completed","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","jobId":"f1463c34-52a5-44ec-9103-3a60435495b1","bucket":"test-bucket","key":"cv/candidate/72726167-6f8d-4435-a9d3-5dff49401de8/incoming/original.pdf","template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.203Z","level":"info","message":"resume_text_extracted","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","jobId":"f1463c34-52a5-44ec-9103-3a60435495b1","characters":57,"template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.204Z","level":"info","message":"resume_classified","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","jobId":"f1463c34-52a5-44ec-9103-3a60435495b1","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.205Z","level":"info","message":"raw_upload_relocated","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","jobId":"f1463c34-52a5-44ec-9103-3a60435495b1","bucket":"test-bucket","fromKey":"cv/candidate/72726167-6f8d-4435-a9d3-5dff49401de8/incoming/original.pdf","toKey":"cv/professional_summary/72726167-6f8d-4435-a9d3-5dff49401de8/original.pdf","template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.207Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","jobId":"f1463c34-52a5-44ec-9103-3a60435495b1","bucket":"test-bucket","key":"cv/professional_summary/72726167-6f8d-4435-a9d3-5dff49401de8/original.pdf","template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.209Z","level":"info","message":"dynamo_initial_record_written","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","jobId":"f1463c34-52a5-44ec-9103-3a60435495b1","bucket":"test-bucket","key":"cv/professional_summary/72726167-6f8d-4435-a9d3-5dff49401de8/original.pdf","template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.210Z","level":"info","message":"upload_metadata_written","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","jobId":"f1463c34-52a5-44ec-9103-3a60435495b1","bucket":"test-bucket","key":"cv/professional_summary/72726167-6f8d-4435-a9d3-5dff49401de8/logs/log.json","template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.211Z","level":"info","message":"job_description_supplied_manually","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","jobId":"f1463c34-52a5-44ec-9103-3a60435495b1","characters":174,"template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.213Z","level":"info","message":"job_description_analyzed","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","jobId":"f1463c34-52a5-44ec-9103-3a60435495b1","jobTitle":"","jobSkills":5,"template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.215Z","level":"info","message":"resume_skills_analyzed","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","jobId":"f1463c34-52a5-44ec-9103-3a60435495b1","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.217Z","level":"info","message":"llm_call_metrics","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"72726167-6f8d-4435-a9d3-5dff49401de8","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"72726167-6f8d-4435-a9d3-5dff49401de8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.221Z","level":"info","message":"process_cv_scoring_completed","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","jobId":"f1463c34-52a5-44ec-9103-3a60435495b1","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.231Z","level":"info","message":"llm_call_metrics","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"72726167-6f8d-4435-a9d3-5dff49401de8","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"72726167-6f8d-4435-a9d3-5dff49401de8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.233Z","level":"info","message":"generation_section_rewrite_completed","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","jobId":"f1463c34-52a5-44ec-9103-3a60435495b1","generationRunId":"72726167-6f8d-4435-a9d3-5dff49401de8","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.234Z","level":"info","message":"llm_call_metrics","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"72726167-6f8d-4435-a9d3-5dff49401de8","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"72726167-6f8d-4435-a9d3-5dff49401de8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.243Z","level":"info","message":"generation_resume_verified","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","jobId":"f1463c34-52a5-44ec-9103-3a60435495b1","generationRunId":"72726167-6f8d-4435-a9d3-5dff49401de8","template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:44.258Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","jobId":"f1463c34-52a5-44ec-9103-3a60435495b1","generationRunId":"72726167-6f8d-4435-a9d3-5dff49401de8","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20337:7)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:44.297Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","jobId":"f1463c34-52a5-44ec-9103-3a60435495b1","generationRunId":"72726167-6f8d-4435-a9d3-5dff49401de8","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20526:7)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:44.309Z","level":"info","message":"generation_cover_letters_completed","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","jobId":"f1463c34-52a5-44ec-9103-3a60435495b1","generationRunId":"72726167-6f8d-4435-a9d3-5dff49401de8","variants":2,"fallbackApplied":true,"template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.315Z","level":"info","message":"pdf_generation_attempt","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","jobId":"f1463c34-52a5-44ec-9103-3a60435495b1","generationRunId":"72726167-6f8d-4435-a9d3-5dff49401de8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/72726167-6f8d-4435-a9d3-5dff49401de8/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/72726167-6f8d-4435-a9d3-5dff49401de8/enhanced_modern.pdf","session":"72726167-6f8d-4435-a9d3-5dff49401de8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"72726167-6f8d-4435-a9d3-5dff49401de8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.318Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","jobId":"f1463c34-52a5-44ec-9103-3a60435495b1","generationRunId":"72726167-6f8d-4435-a9d3-5dff49401de8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/72726167-6f8d-4435-a9d3-5dff49401de8/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"72726167-6f8d-4435-a9d3-5dff49401de8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"72726167-6f8d-4435-a9d3-5dff49401de8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.319Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","jobId":"f1463c34-52a5-44ec-9103-3a60435495b1","generationRunId":"72726167-6f8d-4435-a9d3-5dff49401de8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/72726167-6f8d-4435-a9d3-5dff49401de8/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/72726167-6f8d-4435-a9d3-5dff49401de8/enhanced_modern.pdf","session":"72726167-6f8d-4435-a9d3-5dff49401de8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"72726167-6f8d-4435-a9d3-5dff49401de8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.321Z","level":"info","message":"pdf_generation_attempt","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","jobId":"f1463c34-52a5-44ec-9103-3a60435495b1","generationRunId":"72726167-6f8d-4435-a9d3-5dff49401de8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/72726167-6f8d-4435-a9d3-5dff49401de8/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/72726167-6f8d-4435-a9d3-5dff49401de8/enhanced_professional.pdf","session":"72726167-6f8d-4435-a9d3-5dff49401de8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"72726167-6f8d-4435-a9d3-5dff49401de8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.323Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","jobId":"f1463c34-52a5-44ec-9103-3a60435495b1","generationRunId":"72726167-6f8d-4435-a9d3-5dff49401de8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/72726167-6f8d-4435-a9d3-5dff49401de8/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"72726167-6f8d-4435-a9d3-5dff49401de8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"72726167-6f8d-4435-a9d3-5dff49401de8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.328Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","jobId":"f1463c34-52a5-44ec-9103-3a60435495b1","generationRunId":"72726167-6f8d-4435-a9d3-5dff49401de8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/72726167-6f8d-4435-a9d3-5dff49401de8/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/72726167-6f8d-4435-a9d3-5dff49401de8/enhanced_professional.pdf","session":"72726167-6f8d-4435-a9d3-5dff49401de8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"72726167-6f8d-4435-a9d3-5dff49401de8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.331Z","level":"info","message":"pdf_generation_attempt","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","jobId":"f1463c34-52a5-44ec-9103-3a60435495b1","generationRunId":"72726167-6f8d-4435-a9d3-5dff49401de8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/72726167-6f8d-4435-a9d3-5dff49401de8/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/72726167-6f8d-4435-a9d3-5dff49401de8/cover_letter_cover_modern.pdf","session":"72726167-6f8d-4435-a9d3-5dff49401de8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"72726167-6f8d-4435-a9d3-5dff49401de8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.335Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","jobId":"f1463c34-52a5-44ec-9103-3a60435495b1","generationRunId":"72726167-6f8d-4435-a9d3-5dff49401de8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/72726167-6f8d-4435-a9d3-5dff49401de8/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"72726167-6f8d-4435-a9d3-5dff49401de8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"72726167-6f8d-4435-a9d3-5dff49401de8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.338Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","jobId":"f1463c34-52a5-44ec-9103-3a60435495b1","generationRunId":"72726167-6f8d-4435-a9d3-5dff49401de8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/72726167-6f8d-4435-a9d3-5dff49401de8/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/72726167-6f8d-4435-a9d3-5dff49401de8/cover_letter_cover_modern.pdf","session":"72726167-6f8d-4435-a9d3-5dff49401de8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"72726167-6f8d-4435-a9d3-5dff49401de8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.340Z","level":"info","message":"pdf_generation_attempt","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","jobId":"f1463c34-52a5-44ec-9103-3a60435495b1","generationRunId":"72726167-6f8d-4435-a9d3-5dff49401de8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/72726167-6f8d-4435-a9d3-5dff49401de8/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/72726167-6f8d-4435-a9d3-5dff49401de8/cover_letter_cover_professional.pdf","session":"72726167-6f8d-4435-a9d3-5dff49401de8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"72726167-6f8d-4435-a9d3-5dff49401de8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.345Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","jobId":"f1463c34-52a5-44ec-9103-3a60435495b1","generationRunId":"72726167-6f8d-4435-a9d3-5dff49401de8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/72726167-6f8d-4435-a9d3-5dff49401de8/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"72726167-6f8d-4435-a9d3-5dff49401de8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"72726167-6f8d-4435-a9d3-5dff49401de8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.347Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","jobId":"f1463c34-52a5-44ec-9103-3a60435495b1","generationRunId":"72726167-6f8d-4435-a9d3-5dff49401de8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/72726167-6f8d-4435-a9d3-5dff49401de8/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/72726167-6f8d-4435-a9d3-5dff49401de8/cover_letter_cover_professional.pdf","session":"72726167-6f8d-4435-a9d3-5dff49401de8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"72726167-6f8d-4435-a9d3-5dff49401de8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.354Z","level":"info","message":"llm_call_metrics","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"72726167-6f8d-4435-a9d3-5dff49401de8","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"72726167-6f8d-4435-a9d3-5dff49401de8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.362Z","level":"info","message":"generation_completed","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","jobId":"f1463c34-52a5-44ec-9103-3a60435495b1","generationRunId":"72726167-6f8d-4435-a9d3-5dff49401de8","enhancedScore":80,"outputs":5,"template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.368Z","level":"info","message":"placeholder_record_deleted","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","jobId":"f1463c34-52a5-44ec-9103-3a60435495b1","placeholderIdentifier":"72726167-6f8d-4435-a9d3-5dff49401de8","template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1463c34-52a5-44ec-9103-3a60435495b1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.371Z","level":"info","message":"http_request_completed","requestId":"72726167-6f8d-4435-a9d3-5dff49401de8","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":196,"contentLength":"58133","template":"unknown","session":"72726167-6f8d-4435-a9d3-5dff49401de8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72726167-6f8d-4435-a9d3-5dff49401de8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.380Z","level":"info","message":"http_request_received","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","method":"POST","path":"/api/process-cv","template":"unknown","session":"1afeaa29-6e44-4834-a5a6-bee216434537","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1afeaa29-6e44-4834-a5a6-bee216434537","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.384Z","level":"info","message":"process_cv_started","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","jobId":"727778a1-436e-4d70-b502-b8e37955cf03","manualJobDescriptionProvided":true,"template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.386Z","level":"info","message":"template_selection","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","jobId":"727778a1-436e-4d70-b502-b8e37955cf03","template1":"classic","template2":"ats","coverTemplate1":"cover_classic","coverTemplate2":"cover_ats","availableCvTemplates":["classic","ats","modern","professional","2025"],"availableCoverTemplates":["cover_classic","cover_ats","cover_modern","cover_professional","cover_2025"],"template":"classic","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:44.387Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","jobId":"727778a1-436e-4d70-b502-b8e37955cf03","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:24934:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24574:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:12:44.401Z","level":"info","message":"initial_upload_completed","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","jobId":"727778a1-436e-4d70-b502-b8e37955cf03","bucket":"test-bucket","key":"cv/candidate/1afeaa29-6e44-4834-a5a6-bee216434537/incoming/original.pdf","template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.403Z","level":"info","message":"resume_text_extracted","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","jobId":"727778a1-436e-4d70-b502-b8e37955cf03","characters":57,"template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.404Z","level":"info","message":"resume_classified","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","jobId":"727778a1-436e-4d70-b502-b8e37955cf03","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.416Z","level":"info","message":"raw_upload_relocated","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","jobId":"727778a1-436e-4d70-b502-b8e37955cf03","bucket":"test-bucket","fromKey":"cv/candidate/1afeaa29-6e44-4834-a5a6-bee216434537/incoming/original.pdf","toKey":"cv/professional_summary/1afeaa29-6e44-4834-a5a6-bee216434537/original.pdf","template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.418Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","jobId":"727778a1-436e-4d70-b502-b8e37955cf03","bucket":"test-bucket","key":"cv/professional_summary/1afeaa29-6e44-4834-a5a6-bee216434537/original.pdf","template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.420Z","level":"info","message":"dynamo_initial_record_written","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","jobId":"727778a1-436e-4d70-b502-b8e37955cf03","bucket":"test-bucket","key":"cv/professional_summary/1afeaa29-6e44-4834-a5a6-bee216434537/original.pdf","template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.422Z","level":"info","message":"upload_metadata_written","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","jobId":"727778a1-436e-4d70-b502-b8e37955cf03","bucket":"test-bucket","key":"cv/professional_summary/1afeaa29-6e44-4834-a5a6-bee216434537/logs/log.json","template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.423Z","level":"info","message":"job_description_supplied_manually","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","jobId":"727778a1-436e-4d70-b502-b8e37955cf03","characters":174,"template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.424Z","level":"info","message":"job_description_analyzed","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","jobId":"727778a1-436e-4d70-b502-b8e37955cf03","jobTitle":"","jobSkills":5,"template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.430Z","level":"info","message":"resume_skills_analyzed","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","jobId":"727778a1-436e-4d70-b502-b8e37955cf03","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.433Z","level":"info","message":"llm_call_metrics","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"1afeaa29-6e44-4834-a5a6-bee216434537","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"1afeaa29-6e44-4834-a5a6-bee216434537","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.436Z","level":"info","message":"process_cv_scoring_completed","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","jobId":"727778a1-436e-4d70-b502-b8e37955cf03","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.479Z","level":"info","message":"llm_call_metrics","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"1afeaa29-6e44-4834-a5a6-bee216434537","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"1afeaa29-6e44-4834-a5a6-bee216434537","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.481Z","level":"info","message":"generation_section_rewrite_completed","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","jobId":"727778a1-436e-4d70-b502-b8e37955cf03","generationRunId":"1afeaa29-6e44-4834-a5a6-bee216434537","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.482Z","level":"info","message":"llm_call_metrics","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"1afeaa29-6e44-4834-a5a6-bee216434537","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"1afeaa29-6e44-4834-a5a6-bee216434537","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.489Z","level":"info","message":"generation_resume_verified","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","jobId":"727778a1-436e-4d70-b502-b8e37955cf03","generationRunId":"1afeaa29-6e44-4834-a5a6-bee216434537","template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:44.510Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","jobId":"727778a1-436e-4d70-b502-b8e37955cf03","generationRunId":"1afeaa29-6e44-4834-a5a6-bee216434537","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20337:7)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:44.525Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","jobId":"727778a1-436e-4d70-b502-b8e37955cf03","generationRunId":"1afeaa29-6e44-4834-a5a6-bee216434537","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20526:7)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:44.541Z","level":"info","message":"generation_cover_letters_completed","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","jobId":"727778a1-436e-4d70-b502-b8e37955cf03","generationRunId":"1afeaa29-6e44-4834-a5a6-bee216434537","variants":2,"fallbackApplied":true,"template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.546Z","level":"info","message":"pdf_generation_attempt","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","jobId":"727778a1-436e-4d70-b502-b8e37955cf03","generationRunId":"1afeaa29-6e44-4834-a5a6-bee216434537","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1afeaa29-6e44-4834-a5a6-bee216434537/","sessionId":"[REDACTED]","template":"classic","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/1afeaa29-6e44-4834-a5a6-bee216434537/enhanced_classic.pdf","session":"1afeaa29-6e44-4834-a5a6-bee216434537","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"1afeaa29-6e44-4834-a5a6-bee216434537","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.554Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","jobId":"727778a1-436e-4d70-b502-b8e37955cf03","generationRunId":"1afeaa29-6e44-4834-a5a6-bee216434537","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1afeaa29-6e44-4834-a5a6-bee216434537/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1afeaa29-6e44-4834-a5a6-bee216434537","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"1afeaa29-6e44-4834-a5a6-bee216434537","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.557Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","jobId":"727778a1-436e-4d70-b502-b8e37955cf03","generationRunId":"1afeaa29-6e44-4834-a5a6-bee216434537","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1afeaa29-6e44-4834-a5a6-bee216434537/","sessionId":"[REDACTED]","template":"classic","attempt":1,"bytes":3,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/1afeaa29-6e44-4834-a5a6-bee216434537/enhanced_classic.pdf","session":"1afeaa29-6e44-4834-a5a6-bee216434537","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"1afeaa29-6e44-4834-a5a6-bee216434537","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.564Z","level":"info","message":"pdf_generation_attempt","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","jobId":"727778a1-436e-4d70-b502-b8e37955cf03","generationRunId":"1afeaa29-6e44-4834-a5a6-bee216434537","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1afeaa29-6e44-4834-a5a6-bee216434537/","sessionId":"[REDACTED]","template":"ats","attempt":1,"totalAttempts":1,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/1afeaa29-6e44-4834-a5a6-bee216434537/enhanced_ats.pdf","session":"1afeaa29-6e44-4834-a5a6-bee216434537","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"1afeaa29-6e44-4834-a5a6-bee216434537","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.566Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","jobId":"727778a1-436e-4d70-b502-b8e37955cf03","generationRunId":"1afeaa29-6e44-4834-a5a6-bee216434537","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1afeaa29-6e44-4834-a5a6-bee216434537/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":["mode","atsMode"],"session":"1afeaa29-6e44-4834-a5a6-bee216434537","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"1afeaa29-6e44-4834-a5a6-bee216434537","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.572Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","jobId":"727778a1-436e-4d70-b502-b8e37955cf03","generationRunId":"1afeaa29-6e44-4834-a5a6-bee216434537","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1afeaa29-6e44-4834-a5a6-bee216434537/","sessionId":"[REDACTED]","template":"ats","attempt":1,"bytes":3,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/1afeaa29-6e44-4834-a5a6-bee216434537/enhanced_ats.pdf","session":"1afeaa29-6e44-4834-a5a6-bee216434537","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"1afeaa29-6e44-4834-a5a6-bee216434537","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.575Z","level":"info","message":"pdf_generation_attempt","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","jobId":"727778a1-436e-4d70-b502-b8e37955cf03","generationRunId":"1afeaa29-6e44-4834-a5a6-bee216434537","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1afeaa29-6e44-4834-a5a6-bee216434537/","sessionId":"[REDACTED]","template":"cover_classic","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/1afeaa29-6e44-4834-a5a6-bee216434537/cover_letter_cover_classic.pdf","session":"1afeaa29-6e44-4834-a5a6-bee216434537","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"1afeaa29-6e44-4834-a5a6-bee216434537","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.582Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","jobId":"727778a1-436e-4d70-b502-b8e37955cf03","generationRunId":"1afeaa29-6e44-4834-a5a6-bee216434537","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1afeaa29-6e44-4834-a5a6-bee216434537/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1afeaa29-6e44-4834-a5a6-bee216434537","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"1afeaa29-6e44-4834-a5a6-bee216434537","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.584Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","jobId":"727778a1-436e-4d70-b502-b8e37955cf03","generationRunId":"1afeaa29-6e44-4834-a5a6-bee216434537","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1afeaa29-6e44-4834-a5a6-bee216434537/","sessionId":"[REDACTED]","template":"cover_classic","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/1afeaa29-6e44-4834-a5a6-bee216434537/cover_letter_cover_classic.pdf","session":"1afeaa29-6e44-4834-a5a6-bee216434537","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"1afeaa29-6e44-4834-a5a6-bee216434537","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.589Z","level":"info","message":"pdf_generation_attempt","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","jobId":"727778a1-436e-4d70-b502-b8e37955cf03","generationRunId":"1afeaa29-6e44-4834-a5a6-bee216434537","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1afeaa29-6e44-4834-a5a6-bee216434537/","sessionId":"[REDACTED]","template":"cover_ats","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/1afeaa29-6e44-4834-a5a6-bee216434537/cover_letter_cover_ats.pdf","session":"1afeaa29-6e44-4834-a5a6-bee216434537","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"1afeaa29-6e44-4834-a5a6-bee216434537","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.592Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","jobId":"727778a1-436e-4d70-b502-b8e37955cf03","generationRunId":"1afeaa29-6e44-4834-a5a6-bee216434537","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1afeaa29-6e44-4834-a5a6-bee216434537/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1afeaa29-6e44-4834-a5a6-bee216434537","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"1afeaa29-6e44-4834-a5a6-bee216434537","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.594Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","jobId":"727778a1-436e-4d70-b502-b8e37955cf03","generationRunId":"1afeaa29-6e44-4834-a5a6-bee216434537","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1afeaa29-6e44-4834-a5a6-bee216434537/","sessionId":"[REDACTED]","template":"cover_ats","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/1afeaa29-6e44-4834-a5a6-bee216434537/cover_letter_cover_ats.pdf","session":"1afeaa29-6e44-4834-a5a6-bee216434537","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"1afeaa29-6e44-4834-a5a6-bee216434537","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.605Z","level":"info","message":"llm_call_metrics","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"1afeaa29-6e44-4834-a5a6-bee216434537","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"1afeaa29-6e44-4834-a5a6-bee216434537","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.613Z","level":"info","message":"generation_completed","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","jobId":"727778a1-436e-4d70-b502-b8e37955cf03","generationRunId":"1afeaa29-6e44-4834-a5a6-bee216434537","enhancedScore":80,"outputs":5,"template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.621Z","level":"info","message":"placeholder_record_deleted","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","jobId":"727778a1-436e-4d70-b502-b8e37955cf03","placeholderIdentifier":"1afeaa29-6e44-4834-a5a6-bee216434537","template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"727778a1-436e-4d70-b502-b8e37955cf03","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.625Z","level":"info","message":"http_request_completed","requestId":"1afeaa29-6e44-4834-a5a6-bee216434537","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":245,"contentLength":"57992","template":"unknown","session":"1afeaa29-6e44-4834-a5a6-bee216434537","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1afeaa29-6e44-4834-a5a6-bee216434537","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.642Z","level":"info","message":"http_request_received","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","method":"POST","path":"/api/process-cv","template":"unknown","session":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.655Z","level":"info","message":"process_cv_started","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","jobId":"27146358-a44b-42a7-803a-88a764a221ad","manualJobDescriptionProvided":true,"template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.658Z","level":"info","message":"template_selection","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","jobId":"27146358-a44b-42a7-803a-88a764a221ad","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:44.662Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","jobId":"27146358-a44b-42a7-803a-88a764a221ad","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:24934:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24574:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:12:44.680Z","level":"info","message":"initial_upload_completed","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","jobId":"27146358-a44b-42a7-803a-88a764a221ad","bucket":"test-bucket","key":"cv/candidate/866afeb5-385c-491c-a3a3-d64bbcd6fee3/incoming/original.pdf","template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.682Z","level":"info","message":"resume_text_extracted","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","jobId":"27146358-a44b-42a7-803a-88a764a221ad","characters":57,"template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.684Z","level":"info","message":"resume_classified","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","jobId":"27146358-a44b-42a7-803a-88a764a221ad","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.686Z","level":"info","message":"raw_upload_relocated","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","jobId":"27146358-a44b-42a7-803a-88a764a221ad","bucket":"test-bucket","fromKey":"cv/candidate/866afeb5-385c-491c-a3a3-d64bbcd6fee3/incoming/original.pdf","toKey":"cv/professional_summary/866afeb5-385c-491c-a3a3-d64bbcd6fee3/original.pdf","template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.689Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","jobId":"27146358-a44b-42a7-803a-88a764a221ad","bucket":"test-bucket","key":"cv/professional_summary/866afeb5-385c-491c-a3a3-d64bbcd6fee3/original.pdf","template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.691Z","level":"info","message":"dynamo_initial_record_written","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","jobId":"27146358-a44b-42a7-803a-88a764a221ad","bucket":"test-bucket","key":"cv/professional_summary/866afeb5-385c-491c-a3a3-d64bbcd6fee3/original.pdf","template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.694Z","level":"info","message":"upload_metadata_written","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","jobId":"27146358-a44b-42a7-803a-88a764a221ad","bucket":"test-bucket","key":"cv/professional_summary/866afeb5-385c-491c-a3a3-d64bbcd6fee3/logs/log.json","template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.698Z","level":"info","message":"job_description_supplied_manually","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","jobId":"27146358-a44b-42a7-803a-88a764a221ad","characters":174,"template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.700Z","level":"info","message":"job_description_analyzed","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","jobId":"27146358-a44b-42a7-803a-88a764a221ad","jobTitle":"","jobSkills":5,"template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.704Z","level":"info","message":"resume_skills_analyzed","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","jobId":"27146358-a44b-42a7-803a-88a764a221ad","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.706Z","level":"info","message":"llm_call_metrics","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.709Z","level":"info","message":"process_cv_scoring_completed","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","jobId":"27146358-a44b-42a7-803a-88a764a221ad","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.808Z","level":"info","message":"llm_call_metrics","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"02d97c4de2dc6045a8d84c10e35b0b09be1fff3da32b47fa5d4c293317deef58","addedSkillCount":0,"template":"resume_rewrite","session":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.924Z","level":"info","message":"generation_section_rewrite_completed","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","jobId":"27146358-a44b-42a7-803a-88a764a221ad","generationRunId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","modifiedTitle":"Lead Engineer","addedSkills":0,"template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.943Z","level":"info","message":"llm_call_metrics","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":10,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"3cb5bda2be537250e5bef0d91034f772d9c2c805c99b7e04ba145ecb904d5893","skillCount":5,"template":"project_summary","session":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:44.968Z","level":"info","message":"generation_resume_verified","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","jobId":"27146358-a44b-42a7-803a-88a764a221ad","generationRunId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:45.027Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","jobId":"27146358-a44b-42a7-803a-88a764a221ad","generationRunId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20337:7)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:45.049Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","jobId":"27146358-a44b-42a7-803a-88a764a221ad","generationRunId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20526:7)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:45.062Z","level":"info","message":"generation_cover_letters_completed","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","jobId":"27146358-a44b-42a7-803a-88a764a221ad","generationRunId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","variants":2,"fallbackApplied":true,"template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.064Z","level":"info","message":"pdf_generation_attempt","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","jobId":"27146358-a44b-42a7-803a-88a764a221ad","generationRunId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/866afeb5-385c-491c-a3a3-d64bbcd6fee3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/866afeb5-385c-491c-a3a3-d64bbcd6fee3/enhanced_modern.pdf","session":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.074Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","jobId":"27146358-a44b-42a7-803a-88a764a221ad","generationRunId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/866afeb5-385c-491c-a3a3-d64bbcd6fee3/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.076Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","jobId":"27146358-a44b-42a7-803a-88a764a221ad","generationRunId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/866afeb5-385c-491c-a3a3-d64bbcd6fee3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/866afeb5-385c-491c-a3a3-d64bbcd6fee3/enhanced_modern.pdf","session":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.079Z","level":"info","message":"pdf_generation_attempt","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","jobId":"27146358-a44b-42a7-803a-88a764a221ad","generationRunId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/866afeb5-385c-491c-a3a3-d64bbcd6fee3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/866afeb5-385c-491c-a3a3-d64bbcd6fee3/enhanced_professional.pdf","session":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.082Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","jobId":"27146358-a44b-42a7-803a-88a764a221ad","generationRunId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/866afeb5-385c-491c-a3a3-d64bbcd6fee3/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.085Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","jobId":"27146358-a44b-42a7-803a-88a764a221ad","generationRunId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/866afeb5-385c-491c-a3a3-d64bbcd6fee3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/866afeb5-385c-491c-a3a3-d64bbcd6fee3/enhanced_professional.pdf","session":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.087Z","level":"info","message":"pdf_generation_attempt","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","jobId":"27146358-a44b-42a7-803a-88a764a221ad","generationRunId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/866afeb5-385c-491c-a3a3-d64bbcd6fee3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/866afeb5-385c-491c-a3a3-d64bbcd6fee3/cover_letter_cover_modern.pdf","session":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.090Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","jobId":"27146358-a44b-42a7-803a-88a764a221ad","generationRunId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/866afeb5-385c-491c-a3a3-d64bbcd6fee3/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.092Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","jobId":"27146358-a44b-42a7-803a-88a764a221ad","generationRunId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/866afeb5-385c-491c-a3a3-d64bbcd6fee3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/866afeb5-385c-491c-a3a3-d64bbcd6fee3/cover_letter_cover_modern.pdf","session":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.100Z","level":"info","message":"pdf_generation_attempt","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","jobId":"27146358-a44b-42a7-803a-88a764a221ad","generationRunId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/866afeb5-385c-491c-a3a3-d64bbcd6fee3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/866afeb5-385c-491c-a3a3-d64bbcd6fee3/cover_letter_cover_professional.pdf","session":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.102Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","jobId":"27146358-a44b-42a7-803a-88a764a221ad","generationRunId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/866afeb5-385c-491c-a3a3-d64bbcd6fee3/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.107Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","jobId":"27146358-a44b-42a7-803a-88a764a221ad","generationRunId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/866afeb5-385c-491c-a3a3-d64bbcd6fee3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/866afeb5-385c-491c-a3a3-d64bbcd6fee3/cover_letter_cover_professional.pdf","session":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.124Z","level":"info","message":"llm_call_metrics","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"aebf306d7fe64238aa9b05fc3798c6e6698d8708e05d8dd31d0cadc8f2f74f38","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.130Z","level":"info","message":"generation_completed","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","jobId":"27146358-a44b-42a7-803a-88a764a221ad","generationRunId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","enhancedScore":80,"outputs":5,"template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.142Z","level":"info","message":"placeholder_record_deleted","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","jobId":"27146358-a44b-42a7-803a-88a764a221ad","placeholderIdentifier":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27146358-a44b-42a7-803a-88a764a221ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.148Z","level":"info","message":"http_request_completed","requestId":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":506,"contentLength":"59354","template":"unknown","session":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"866afeb5-385c-491c-a3a3-d64bbcd6fee3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.182Z","level":"info","message":"http_request_received","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","method":"POST","path":"/api/process-cv","template":"unknown","session":"95831835-3d8e-42ec-80e8-37cc594911ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"95831835-3d8e-42ec-80e8-37cc594911ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.194Z","level":"info","message":"process_cv_started","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","jobId":"8a805836-196b-4720-94b4-a78926cd0180","manualJobDescriptionProvided":true,"template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.196Z","level":"info","message":"template_selection","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","jobId":"8a805836-196b-4720-94b4-a78926cd0180","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:45.200Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","jobId":"8a805836-196b-4720-94b4-a78926cd0180","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:24934:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24574:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:12:45.216Z","level":"info","message":"initial_upload_completed","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","jobId":"8a805836-196b-4720-94b4-a78926cd0180","bucket":"test-bucket","key":"cv/candidate/95831835-3d8e-42ec-80e8-37cc594911ad/incoming/original.pdf","template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.219Z","level":"info","message":"resume_text_extracted","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","jobId":"8a805836-196b-4720-94b4-a78926cd0180","characters":57,"template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.220Z","level":"info","message":"resume_classified","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","jobId":"8a805836-196b-4720-94b4-a78926cd0180","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.222Z","level":"info","message":"raw_upload_relocated","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","jobId":"8a805836-196b-4720-94b4-a78926cd0180","bucket":"test-bucket","fromKey":"cv/candidate/95831835-3d8e-42ec-80e8-37cc594911ad/incoming/original.pdf","toKey":"cv/professional_summary/95831835-3d8e-42ec-80e8-37cc594911ad/original.pdf","template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.227Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","jobId":"8a805836-196b-4720-94b4-a78926cd0180","bucket":"test-bucket","key":"cv/professional_summary/95831835-3d8e-42ec-80e8-37cc594911ad/original.pdf","template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.229Z","level":"info","message":"dynamo_initial_record_written","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","jobId":"8a805836-196b-4720-94b4-a78926cd0180","bucket":"test-bucket","key":"cv/professional_summary/95831835-3d8e-42ec-80e8-37cc594911ad/original.pdf","template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.230Z","level":"info","message":"upload_metadata_written","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","jobId":"8a805836-196b-4720-94b4-a78926cd0180","bucket":"test-bucket","key":"cv/professional_summary/95831835-3d8e-42ec-80e8-37cc594911ad/logs/log.json","template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.231Z","level":"info","message":"job_description_supplied_manually","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","jobId":"8a805836-196b-4720-94b4-a78926cd0180","characters":174,"template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.233Z","level":"info","message":"job_description_analyzed","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","jobId":"8a805836-196b-4720-94b4-a78926cd0180","jobTitle":"","jobSkills":5,"template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.235Z","level":"info","message":"resume_skills_analyzed","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","jobId":"8a805836-196b-4720-94b4-a78926cd0180","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.237Z","level":"info","message":"llm_call_metrics","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"95831835-3d8e-42ec-80e8-37cc594911ad","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"95831835-3d8e-42ec-80e8-37cc594911ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.240Z","level":"info","message":"process_cv_scoring_completed","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","jobId":"8a805836-196b-4720-94b4-a78926cd0180","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.253Z","level":"info","message":"llm_call_metrics","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"95831835-3d8e-42ec-80e8-37cc594911ad","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"95831835-3d8e-42ec-80e8-37cc594911ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.256Z","level":"info","message":"generation_section_rewrite_completed","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","jobId":"8a805836-196b-4720-94b4-a78926cd0180","generationRunId":"95831835-3d8e-42ec-80e8-37cc594911ad","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.257Z","level":"info","message":"llm_call_metrics","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"9f21e6c3bcbaef44e0e62da79c13bb8790b57affdb114dc9f59fc273f882540c","skillCount":5,"template":"project_summary","session":"95831835-3d8e-42ec-80e8-37cc594911ad","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"95831835-3d8e-42ec-80e8-37cc594911ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.266Z","level":"info","message":"generation_resume_verified","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","jobId":"8a805836-196b-4720-94b4-a78926cd0180","generationRunId":"95831835-3d8e-42ec-80e8-37cc594911ad","template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:45.282Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","jobId":"8a805836-196b-4720-94b4-a78926cd0180","generationRunId":"95831835-3d8e-42ec-80e8-37cc594911ad","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20337:7)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:45.297Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","jobId":"8a805836-196b-4720-94b4-a78926cd0180","generationRunId":"95831835-3d8e-42ec-80e8-37cc594911ad","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20526:7)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:45.309Z","level":"info","message":"generation_cover_letters_completed","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","jobId":"8a805836-196b-4720-94b4-a78926cd0180","generationRunId":"95831835-3d8e-42ec-80e8-37cc594911ad","variants":2,"fallbackApplied":true,"template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.314Z","level":"info","message":"pdf_generation_attempt","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","jobId":"8a805836-196b-4720-94b4-a78926cd0180","generationRunId":"95831835-3d8e-42ec-80e8-37cc594911ad","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/95831835-3d8e-42ec-80e8-37cc594911ad/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/95831835-3d8e-42ec-80e8-37cc594911ad/enhanced_modern.pdf","session":"95831835-3d8e-42ec-80e8-37cc594911ad","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"95831835-3d8e-42ec-80e8-37cc594911ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.317Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","jobId":"8a805836-196b-4720-94b4-a78926cd0180","generationRunId":"95831835-3d8e-42ec-80e8-37cc594911ad","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/95831835-3d8e-42ec-80e8-37cc594911ad/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"95831835-3d8e-42ec-80e8-37cc594911ad","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"95831835-3d8e-42ec-80e8-37cc594911ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.319Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","jobId":"8a805836-196b-4720-94b4-a78926cd0180","generationRunId":"95831835-3d8e-42ec-80e8-37cc594911ad","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/95831835-3d8e-42ec-80e8-37cc594911ad/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/95831835-3d8e-42ec-80e8-37cc594911ad/enhanced_modern.pdf","session":"95831835-3d8e-42ec-80e8-37cc594911ad","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"95831835-3d8e-42ec-80e8-37cc594911ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.322Z","level":"info","message":"pdf_generation_attempt","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","jobId":"8a805836-196b-4720-94b4-a78926cd0180","generationRunId":"95831835-3d8e-42ec-80e8-37cc594911ad","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/95831835-3d8e-42ec-80e8-37cc594911ad/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/95831835-3d8e-42ec-80e8-37cc594911ad/enhanced_professional.pdf","session":"95831835-3d8e-42ec-80e8-37cc594911ad","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"95831835-3d8e-42ec-80e8-37cc594911ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.324Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","jobId":"8a805836-196b-4720-94b4-a78926cd0180","generationRunId":"95831835-3d8e-42ec-80e8-37cc594911ad","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/95831835-3d8e-42ec-80e8-37cc594911ad/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"95831835-3d8e-42ec-80e8-37cc594911ad","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"95831835-3d8e-42ec-80e8-37cc594911ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.326Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","jobId":"8a805836-196b-4720-94b4-a78926cd0180","generationRunId":"95831835-3d8e-42ec-80e8-37cc594911ad","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/95831835-3d8e-42ec-80e8-37cc594911ad/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/95831835-3d8e-42ec-80e8-37cc594911ad/enhanced_professional.pdf","session":"95831835-3d8e-42ec-80e8-37cc594911ad","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"95831835-3d8e-42ec-80e8-37cc594911ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.330Z","level":"info","message":"pdf_generation_attempt","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","jobId":"8a805836-196b-4720-94b4-a78926cd0180","generationRunId":"95831835-3d8e-42ec-80e8-37cc594911ad","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/95831835-3d8e-42ec-80e8-37cc594911ad/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/95831835-3d8e-42ec-80e8-37cc594911ad/cover_letter_cover_modern.pdf","session":"95831835-3d8e-42ec-80e8-37cc594911ad","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"95831835-3d8e-42ec-80e8-37cc594911ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.339Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","jobId":"8a805836-196b-4720-94b4-a78926cd0180","generationRunId":"95831835-3d8e-42ec-80e8-37cc594911ad","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/95831835-3d8e-42ec-80e8-37cc594911ad/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"95831835-3d8e-42ec-80e8-37cc594911ad","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"95831835-3d8e-42ec-80e8-37cc594911ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.342Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","jobId":"8a805836-196b-4720-94b4-a78926cd0180","generationRunId":"95831835-3d8e-42ec-80e8-37cc594911ad","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/95831835-3d8e-42ec-80e8-37cc594911ad/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/95831835-3d8e-42ec-80e8-37cc594911ad/cover_letter_cover_modern.pdf","session":"95831835-3d8e-42ec-80e8-37cc594911ad","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"95831835-3d8e-42ec-80e8-37cc594911ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.346Z","level":"info","message":"pdf_generation_attempt","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","jobId":"8a805836-196b-4720-94b4-a78926cd0180","generationRunId":"95831835-3d8e-42ec-80e8-37cc594911ad","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/95831835-3d8e-42ec-80e8-37cc594911ad/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/95831835-3d8e-42ec-80e8-37cc594911ad/cover_letter_cover_professional.pdf","session":"95831835-3d8e-42ec-80e8-37cc594911ad","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"95831835-3d8e-42ec-80e8-37cc594911ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.352Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","jobId":"8a805836-196b-4720-94b4-a78926cd0180","generationRunId":"95831835-3d8e-42ec-80e8-37cc594911ad","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/95831835-3d8e-42ec-80e8-37cc594911ad/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"95831835-3d8e-42ec-80e8-37cc594911ad","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"95831835-3d8e-42ec-80e8-37cc594911ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.355Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","jobId":"8a805836-196b-4720-94b4-a78926cd0180","generationRunId":"95831835-3d8e-42ec-80e8-37cc594911ad","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/95831835-3d8e-42ec-80e8-37cc594911ad/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/95831835-3d8e-42ec-80e8-37cc594911ad/cover_letter_cover_professional.pdf","session":"95831835-3d8e-42ec-80e8-37cc594911ad","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"95831835-3d8e-42ec-80e8-37cc594911ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.364Z","level":"info","message":"llm_call_metrics","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"95831835-3d8e-42ec-80e8-37cc594911ad","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"95831835-3d8e-42ec-80e8-37cc594911ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.367Z","level":"info","message":"generation_completed","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","jobId":"8a805836-196b-4720-94b4-a78926cd0180","generationRunId":"95831835-3d8e-42ec-80e8-37cc594911ad","enhancedScore":80,"outputs":5,"template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.370Z","level":"info","message":"placeholder_record_deleted","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","jobId":"8a805836-196b-4720-94b4-a78926cd0180","placeholderIdentifier":"95831835-3d8e-42ec-80e8-37cc594911ad","template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a805836-196b-4720-94b4-a78926cd0180","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.374Z","level":"info","message":"http_request_completed","requestId":"95831835-3d8e-42ec-80e8-37cc594911ad","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":192,"contentLength":"57968","template":"unknown","session":"95831835-3d8e-42ec-80e8-37cc594911ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"95831835-3d8e-42ec-80e8-37cc594911ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.385Z","level":"info","message":"http_request_received","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","method":"POST","path":"/api/process-cv","template":"unknown","session":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.393Z","level":"info","message":"process_cv_started","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","jobId":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","manualJobDescriptionProvided":true,"template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.395Z","level":"info","message":"template_selection","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","jobId":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:45.397Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","jobId":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:24934:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24574:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:12:45.414Z","level":"info","message":"initial_upload_completed","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","jobId":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","bucket":"test-bucket","key":"cv/candidate/dd4fa976-b563-47a8-8e8b-d7e5ae44ce37/incoming/original.pdf","template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.416Z","level":"info","message":"resume_text_extracted","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","jobId":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","characters":57,"template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.418Z","level":"info","message":"resume_classified","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","jobId":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.419Z","level":"info","message":"raw_upload_relocated","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","jobId":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","bucket":"test-bucket","fromKey":"cv/candidate/dd4fa976-b563-47a8-8e8b-d7e5ae44ce37/incoming/original.pdf","toKey":"cv/professional_summary/dd4fa976-b563-47a8-8e8b-d7e5ae44ce37/original.pdf","template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.421Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","jobId":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","bucket":"test-bucket","key":"cv/professional_summary/dd4fa976-b563-47a8-8e8b-d7e5ae44ce37/original.pdf","template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.421Z","level":"info","message":"dynamo_initial_record_written","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","jobId":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","bucket":"test-bucket","key":"cv/professional_summary/dd4fa976-b563-47a8-8e8b-d7e5ae44ce37/original.pdf","template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.423Z","level":"info","message":"upload_metadata_written","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","jobId":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","bucket":"test-bucket","key":"cv/professional_summary/dd4fa976-b563-47a8-8e8b-d7e5ae44ce37/logs/log.json","template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.425Z","level":"info","message":"job_description_supplied_manually","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","jobId":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","characters":174,"template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.428Z","level":"info","message":"job_description_analyzed","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","jobId":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","jobTitle":"","jobSkills":5,"template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.431Z","level":"info","message":"resume_skills_analyzed","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","jobId":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.434Z","level":"info","message":"llm_call_metrics","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.437Z","level":"info","message":"process_cv_scoring_completed","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","jobId":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.468Z","level":"info","message":"llm_call_metrics","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"c32b748981f4e178814e257598e9097dabf82d48f753e111da0149a2ea5fd9aa","addedSkillCount":0,"template":"resume_rewrite","session":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.474Z","level":"info","message":"generation_section_rewrite_completed","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","jobId":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","generationRunId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","modifiedTitle":"Name","addedSkills":0,"template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.482Z","level":"info","message":"llm_call_metrics","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"78ddb280a2cb83c23c85b1035eed8b3d5fbcd26529ae4529d14b4e3768cf61d3","skillCount":5,"template":"project_summary","session":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.498Z","level":"info","message":"generation_resume_verified","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","jobId":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","generationRunId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:45.514Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","jobId":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","generationRunId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20337:7)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:45.540Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","jobId":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","generationRunId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20526:7)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:45.555Z","level":"info","message":"generation_cover_letters_completed","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","jobId":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","generationRunId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","variants":2,"fallbackApplied":true,"template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.560Z","level":"info","message":"pdf_generation_attempt","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","jobId":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","generationRunId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/dd4fa976-b563-47a8-8e8b-d7e5ae44ce37/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/dd4fa976-b563-47a8-8e8b-d7e5ae44ce37/enhanced_modern.pdf","session":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.564Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","jobId":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","generationRunId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/dd4fa976-b563-47a8-8e8b-d7e5ae44ce37/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.573Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","jobId":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","generationRunId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/dd4fa976-b563-47a8-8e8b-d7e5ae44ce37/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/dd4fa976-b563-47a8-8e8b-d7e5ae44ce37/enhanced_modern.pdf","session":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.578Z","level":"info","message":"pdf_generation_attempt","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","jobId":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","generationRunId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/dd4fa976-b563-47a8-8e8b-d7e5ae44ce37/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/dd4fa976-b563-47a8-8e8b-d7e5ae44ce37/enhanced_professional.pdf","session":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.581Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","jobId":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","generationRunId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/dd4fa976-b563-47a8-8e8b-d7e5ae44ce37/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.588Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","jobId":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","generationRunId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/dd4fa976-b563-47a8-8e8b-d7e5ae44ce37/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/dd4fa976-b563-47a8-8e8b-d7e5ae44ce37/enhanced_professional.pdf","session":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.591Z","level":"info","message":"pdf_generation_attempt","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","jobId":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","generationRunId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/dd4fa976-b563-47a8-8e8b-d7e5ae44ce37/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/dd4fa976-b563-47a8-8e8b-d7e5ae44ce37/cover_letter_cover_modern.pdf","session":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.598Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","jobId":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","generationRunId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/dd4fa976-b563-47a8-8e8b-d7e5ae44ce37/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.601Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","jobId":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","generationRunId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/dd4fa976-b563-47a8-8e8b-d7e5ae44ce37/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/dd4fa976-b563-47a8-8e8b-d7e5ae44ce37/cover_letter_cover_modern.pdf","session":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.608Z","level":"info","message":"pdf_generation_attempt","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","jobId":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","generationRunId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/dd4fa976-b563-47a8-8e8b-d7e5ae44ce37/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/dd4fa976-b563-47a8-8e8b-d7e5ae44ce37/cover_letter_cover_professional.pdf","session":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.611Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","jobId":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","generationRunId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/dd4fa976-b563-47a8-8e8b-d7e5ae44ce37/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.614Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","jobId":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","generationRunId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/dd4fa976-b563-47a8-8e8b-d7e5ae44ce37/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/dd4fa976-b563-47a8-8e8b-d7e5ae44ce37/cover_letter_cover_professional.pdf","session":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.624Z","level":"info","message":"llm_call_metrics","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"f00232cc4d88fb824e148aeaa761067d77604cbc2577582275a91ed208cbe5af","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.627Z","level":"info","message":"generation_completed","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","jobId":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","generationRunId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","enhancedScore":80,"outputs":5,"template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.632Z","level":"info","message":"placeholder_record_deleted","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","jobId":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","placeholderIdentifier":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66df3dc5-cfef-49a7-b97c-af53acbad4cb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.635Z","level":"info","message":"http_request_completed","requestId":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":250,"contentLength":"59302","template":"unknown","session":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dd4fa976-b563-47a8-8e8b-d7e5ae44ce37","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.643Z","level":"info","message":"http_request_received","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","method":"POST","path":"/api/process-cv","template":"unknown","session":"e5d23533-7367-47c6-a4f7-333b058fa6d1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e5d23533-7367-47c6-a4f7-333b058fa6d1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.648Z","level":"info","message":"process_cv_started","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","jobId":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","manualJobDescriptionProvided":true,"template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.652Z","level":"info","message":"template_selection","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","jobId":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:45.655Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","jobId":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:24934:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24574:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:12:45.669Z","level":"info","message":"initial_upload_completed","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","jobId":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","bucket":"test-bucket","key":"cv/candidate/e5d23533-7367-47c6-a4f7-333b058fa6d1/incoming/original.pdf","template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.670Z","level":"info","message":"resume_text_extracted","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","jobId":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","characters":57,"template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.678Z","level":"info","message":"resume_classified","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","jobId":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.683Z","level":"info","message":"raw_upload_relocated","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","jobId":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","bucket":"test-bucket","fromKey":"cv/candidate/e5d23533-7367-47c6-a4f7-333b058fa6d1/incoming/original.pdf","toKey":"cv/professional_summary/e5d23533-7367-47c6-a4f7-333b058fa6d1/original.pdf","template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.685Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","jobId":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","bucket":"test-bucket","key":"cv/professional_summary/e5d23533-7367-47c6-a4f7-333b058fa6d1/original.pdf","template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.687Z","level":"info","message":"dynamo_initial_record_written","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","jobId":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","bucket":"test-bucket","key":"cv/professional_summary/e5d23533-7367-47c6-a4f7-333b058fa6d1/original.pdf","template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.689Z","level":"info","message":"upload_metadata_written","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","jobId":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","bucket":"test-bucket","key":"cv/professional_summary/e5d23533-7367-47c6-a4f7-333b058fa6d1/logs/log.json","template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.691Z","level":"info","message":"job_description_supplied_manually","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","jobId":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","characters":174,"template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.693Z","level":"info","message":"job_description_analyzed","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","jobId":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","jobTitle":"","jobSkills":5,"template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.696Z","level":"info","message":"resume_skills_analyzed","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","jobId":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.699Z","level":"info","message":"llm_call_metrics","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"e5d23533-7367-47c6-a4f7-333b058fa6d1","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e5d23533-7367-47c6-a4f7-333b058fa6d1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.703Z","level":"info","message":"process_cv_scoring_completed","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","jobId":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.715Z","level":"info","message":"llm_call_metrics","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"c32b748981f4e178814e257598e9097dabf82d48f753e111da0149a2ea5fd9aa","addedSkillCount":0,"template":"resume_rewrite","session":"e5d23533-7367-47c6-a4f7-333b058fa6d1","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"e5d23533-7367-47c6-a4f7-333b058fa6d1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.718Z","level":"info","message":"generation_section_rewrite_completed","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","jobId":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","generationRunId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","modifiedTitle":"Name","addedSkills":0,"template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.720Z","level":"info","message":"llm_call_metrics","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"968eb1ed4b9ef5f26cd87ba7e60f108acaf8c335efc2ef153d4aaa0b022ea8c8","skillCount":5,"template":"project_summary","session":"e5d23533-7367-47c6-a4f7-333b058fa6d1","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"e5d23533-7367-47c6-a4f7-333b058fa6d1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.730Z","level":"info","message":"generation_resume_verified","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","jobId":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","generationRunId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:45.749Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","jobId":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","generationRunId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20337:7)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:45.772Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","jobId":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","generationRunId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20526:7)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:45.787Z","level":"info","message":"generation_cover_letters_completed","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","jobId":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","generationRunId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","variants":2,"fallbackApplied":true,"template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.791Z","level":"info","message":"pdf_generation_attempt","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","jobId":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","generationRunId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e5d23533-7367-47c6-a4f7-333b058fa6d1/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/e5d23533-7367-47c6-a4f7-333b058fa6d1/enhanced_modern.pdf","session":"e5d23533-7367-47c6-a4f7-333b058fa6d1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e5d23533-7367-47c6-a4f7-333b058fa6d1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.796Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","jobId":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","generationRunId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e5d23533-7367-47c6-a4f7-333b058fa6d1/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e5d23533-7367-47c6-a4f7-333b058fa6d1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e5d23533-7367-47c6-a4f7-333b058fa6d1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.798Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","jobId":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","generationRunId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e5d23533-7367-47c6-a4f7-333b058fa6d1/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/e5d23533-7367-47c6-a4f7-333b058fa6d1/enhanced_modern.pdf","session":"e5d23533-7367-47c6-a4f7-333b058fa6d1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e5d23533-7367-47c6-a4f7-333b058fa6d1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.801Z","level":"info","message":"pdf_generation_attempt","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","jobId":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","generationRunId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e5d23533-7367-47c6-a4f7-333b058fa6d1/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/e5d23533-7367-47c6-a4f7-333b058fa6d1/enhanced_professional.pdf","session":"e5d23533-7367-47c6-a4f7-333b058fa6d1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e5d23533-7367-47c6-a4f7-333b058fa6d1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.808Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","jobId":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","generationRunId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e5d23533-7367-47c6-a4f7-333b058fa6d1/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e5d23533-7367-47c6-a4f7-333b058fa6d1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e5d23533-7367-47c6-a4f7-333b058fa6d1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.813Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","jobId":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","generationRunId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e5d23533-7367-47c6-a4f7-333b058fa6d1/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/e5d23533-7367-47c6-a4f7-333b058fa6d1/enhanced_professional.pdf","session":"e5d23533-7367-47c6-a4f7-333b058fa6d1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e5d23533-7367-47c6-a4f7-333b058fa6d1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.816Z","level":"info","message":"pdf_generation_attempt","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","jobId":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","generationRunId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e5d23533-7367-47c6-a4f7-333b058fa6d1/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/e5d23533-7367-47c6-a4f7-333b058fa6d1/cover_letter_cover_modern.pdf","session":"e5d23533-7367-47c6-a4f7-333b058fa6d1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e5d23533-7367-47c6-a4f7-333b058fa6d1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.821Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","jobId":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","generationRunId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e5d23533-7367-47c6-a4f7-333b058fa6d1/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e5d23533-7367-47c6-a4f7-333b058fa6d1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e5d23533-7367-47c6-a4f7-333b058fa6d1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.824Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","jobId":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","generationRunId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e5d23533-7367-47c6-a4f7-333b058fa6d1/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/e5d23533-7367-47c6-a4f7-333b058fa6d1/cover_letter_cover_modern.pdf","session":"e5d23533-7367-47c6-a4f7-333b058fa6d1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e5d23533-7367-47c6-a4f7-333b058fa6d1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.830Z","level":"info","message":"pdf_generation_attempt","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","jobId":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","generationRunId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e5d23533-7367-47c6-a4f7-333b058fa6d1/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/e5d23533-7367-47c6-a4f7-333b058fa6d1/cover_letter_cover_professional.pdf","session":"e5d23533-7367-47c6-a4f7-333b058fa6d1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e5d23533-7367-47c6-a4f7-333b058fa6d1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.838Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","jobId":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","generationRunId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e5d23533-7367-47c6-a4f7-333b058fa6d1/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e5d23533-7367-47c6-a4f7-333b058fa6d1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e5d23533-7367-47c6-a4f7-333b058fa6d1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.841Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","jobId":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","generationRunId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e5d23533-7367-47c6-a4f7-333b058fa6d1/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/e5d23533-7367-47c6-a4f7-333b058fa6d1/cover_letter_cover_professional.pdf","session":"e5d23533-7367-47c6-a4f7-333b058fa6d1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e5d23533-7367-47c6-a4f7-333b058fa6d1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.849Z","level":"info","message":"llm_call_metrics","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"f00232cc4d88fb824e148aeaa761067d77604cbc2577582275a91ed208cbe5af","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"e5d23533-7367-47c6-a4f7-333b058fa6d1","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e5d23533-7367-47c6-a4f7-333b058fa6d1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.862Z","level":"info","message":"generation_completed","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","jobId":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","generationRunId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","enhancedScore":80,"outputs":5,"template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.868Z","level":"info","message":"placeholder_record_deleted","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","jobId":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","placeholderIdentifier":"e5d23533-7367-47c6-a4f7-333b058fa6d1","template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b4863dd9-67f8-4a5f-877d-934b3e4bf4cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:45.886Z","level":"info","message":"http_request_completed","requestId":"e5d23533-7367-47c6-a4f7-333b058fa6d1","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":243,"contentLength":"59835","template":"unknown","session":"e5d23533-7367-47c6-a4f7-333b058fa6d1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e5d23533-7367-47c6-a4f7-333b058fa6d1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.043Z","level":"info","message":"http_request_received","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","method":"POST","path":"/api/process-cv","template":"unknown","session":"4af1182d-c4ab-4c26-898a-875a730ffacb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4af1182d-c4ab-4c26-898a-875a730ffacb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.055Z","level":"info","message":"process_cv_started","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","jobId":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","manualJobDescriptionProvided":true,"template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.078Z","level":"info","message":"template_selection","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","jobId":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:46.081Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","jobId":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:24934:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24574:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:12:46.100Z","level":"info","message":"initial_upload_completed","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","jobId":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","bucket":"test-bucket","key":"cv/candidate/4af1182d-c4ab-4c26-898a-875a730ffacb/incoming/original.pdf","template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.103Z","level":"info","message":"resume_text_extracted","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","jobId":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","characters":57,"template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.105Z","level":"info","message":"resume_classified","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","jobId":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.107Z","level":"info","message":"raw_upload_relocated","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","jobId":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","bucket":"test-bucket","fromKey":"cv/candidate/4af1182d-c4ab-4c26-898a-875a730ffacb/incoming/original.pdf","toKey":"cv/professional_summary/4af1182d-c4ab-4c26-898a-875a730ffacb/original.pdf","template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.108Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","jobId":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","bucket":"test-bucket","key":"cv/professional_summary/4af1182d-c4ab-4c26-898a-875a730ffacb/original.pdf","template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.109Z","level":"info","message":"dynamo_initial_record_written","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","jobId":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","bucket":"test-bucket","key":"cv/professional_summary/4af1182d-c4ab-4c26-898a-875a730ffacb/original.pdf","template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.113Z","level":"info","message":"upload_metadata_written","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","jobId":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","bucket":"test-bucket","key":"cv/professional_summary/4af1182d-c4ab-4c26-898a-875a730ffacb/logs/log.json","template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.115Z","level":"info","message":"job_description_supplied_manually","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","jobId":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","characters":174,"template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.123Z","level":"info","message":"job_description_analyzed","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","jobId":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","jobTitle":"","jobSkills":5,"template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.126Z","level":"info","message":"resume_skills_analyzed","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","jobId":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.128Z","level":"info","message":"llm_call_metrics","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"4af1182d-c4ab-4c26-898a-875a730ffacb","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4af1182d-c4ab-4c26-898a-875a730ffacb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.131Z","level":"info","message":"process_cv_scoring_completed","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","jobId":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.147Z","level":"info","message":"llm_call_metrics","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"4af1182d-c4ab-4c26-898a-875a730ffacb","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"4af1182d-c4ab-4c26-898a-875a730ffacb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.151Z","level":"info","message":"generation_section_rewrite_completed","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","jobId":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","generationRunId":"4af1182d-c4ab-4c26-898a-875a730ffacb","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.153Z","level":"info","message":"llm_call_metrics","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"4af1182d-c4ab-4c26-898a-875a730ffacb","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"4af1182d-c4ab-4c26-898a-875a730ffacb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.190Z","level":"info","message":"generation_resume_verified","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","jobId":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","generationRunId":"4af1182d-c4ab-4c26-898a-875a730ffacb","template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:46.203Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","jobId":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","generationRunId":"4af1182d-c4ab-4c26-898a-875a730ffacb","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20337:7)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:46.229Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","jobId":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","generationRunId":"4af1182d-c4ab-4c26-898a-875a730ffacb","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20526:7)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:46.253Z","level":"info","message":"generation_cover_letters_completed","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","jobId":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","generationRunId":"4af1182d-c4ab-4c26-898a-875a730ffacb","variants":2,"fallbackApplied":true,"template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.256Z","level":"info","message":"pdf_generation_attempt","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","jobId":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","generationRunId":"4af1182d-c4ab-4c26-898a-875a730ffacb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4af1182d-c4ab-4c26-898a-875a730ffacb/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/4af1182d-c4ab-4c26-898a-875a730ffacb/enhanced_modern.pdf","session":"4af1182d-c4ab-4c26-898a-875a730ffacb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4af1182d-c4ab-4c26-898a-875a730ffacb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.258Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","jobId":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","generationRunId":"4af1182d-c4ab-4c26-898a-875a730ffacb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4af1182d-c4ab-4c26-898a-875a730ffacb/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4af1182d-c4ab-4c26-898a-875a730ffacb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4af1182d-c4ab-4c26-898a-875a730ffacb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.264Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","jobId":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","generationRunId":"4af1182d-c4ab-4c26-898a-875a730ffacb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4af1182d-c4ab-4c26-898a-875a730ffacb/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/4af1182d-c4ab-4c26-898a-875a730ffacb/enhanced_modern.pdf","session":"4af1182d-c4ab-4c26-898a-875a730ffacb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4af1182d-c4ab-4c26-898a-875a730ffacb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.266Z","level":"info","message":"pdf_generation_attempt","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","jobId":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","generationRunId":"4af1182d-c4ab-4c26-898a-875a730ffacb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4af1182d-c4ab-4c26-898a-875a730ffacb/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/4af1182d-c4ab-4c26-898a-875a730ffacb/enhanced_professional.pdf","session":"4af1182d-c4ab-4c26-898a-875a730ffacb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4af1182d-c4ab-4c26-898a-875a730ffacb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.269Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","jobId":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","generationRunId":"4af1182d-c4ab-4c26-898a-875a730ffacb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4af1182d-c4ab-4c26-898a-875a730ffacb/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4af1182d-c4ab-4c26-898a-875a730ffacb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4af1182d-c4ab-4c26-898a-875a730ffacb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.277Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","jobId":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","generationRunId":"4af1182d-c4ab-4c26-898a-875a730ffacb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4af1182d-c4ab-4c26-898a-875a730ffacb/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/4af1182d-c4ab-4c26-898a-875a730ffacb/enhanced_professional.pdf","session":"4af1182d-c4ab-4c26-898a-875a730ffacb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4af1182d-c4ab-4c26-898a-875a730ffacb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.279Z","level":"info","message":"pdf_generation_attempt","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","jobId":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","generationRunId":"4af1182d-c4ab-4c26-898a-875a730ffacb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4af1182d-c4ab-4c26-898a-875a730ffacb/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/4af1182d-c4ab-4c26-898a-875a730ffacb/cover_letter_cover_modern.pdf","session":"4af1182d-c4ab-4c26-898a-875a730ffacb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4af1182d-c4ab-4c26-898a-875a730ffacb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.281Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","jobId":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","generationRunId":"4af1182d-c4ab-4c26-898a-875a730ffacb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4af1182d-c4ab-4c26-898a-875a730ffacb/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4af1182d-c4ab-4c26-898a-875a730ffacb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4af1182d-c4ab-4c26-898a-875a730ffacb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.285Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","jobId":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","generationRunId":"4af1182d-c4ab-4c26-898a-875a730ffacb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4af1182d-c4ab-4c26-898a-875a730ffacb/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/4af1182d-c4ab-4c26-898a-875a730ffacb/cover_letter_cover_modern.pdf","session":"4af1182d-c4ab-4c26-898a-875a730ffacb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4af1182d-c4ab-4c26-898a-875a730ffacb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.289Z","level":"info","message":"pdf_generation_attempt","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","jobId":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","generationRunId":"4af1182d-c4ab-4c26-898a-875a730ffacb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4af1182d-c4ab-4c26-898a-875a730ffacb/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/4af1182d-c4ab-4c26-898a-875a730ffacb/cover_letter_cover_professional.pdf","session":"4af1182d-c4ab-4c26-898a-875a730ffacb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4af1182d-c4ab-4c26-898a-875a730ffacb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.291Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","jobId":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","generationRunId":"4af1182d-c4ab-4c26-898a-875a730ffacb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4af1182d-c4ab-4c26-898a-875a730ffacb/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4af1182d-c4ab-4c26-898a-875a730ffacb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4af1182d-c4ab-4c26-898a-875a730ffacb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.296Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","jobId":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","generationRunId":"4af1182d-c4ab-4c26-898a-875a730ffacb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4af1182d-c4ab-4c26-898a-875a730ffacb/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/4af1182d-c4ab-4c26-898a-875a730ffacb/cover_letter_cover_professional.pdf","session":"4af1182d-c4ab-4c26-898a-875a730ffacb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4af1182d-c4ab-4c26-898a-875a730ffacb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.307Z","level":"info","message":"llm_call_metrics","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"4af1182d-c4ab-4c26-898a-875a730ffacb","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4af1182d-c4ab-4c26-898a-875a730ffacb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.310Z","level":"info","message":"generation_completed","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","jobId":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","generationRunId":"4af1182d-c4ab-4c26-898a-875a730ffacb","enhancedScore":80,"outputs":5,"template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.319Z","level":"info","message":"placeholder_record_deleted","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","jobId":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","placeholderIdentifier":"4af1182d-c4ab-4c26-898a-875a730ffacb","template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8534e267-a21c-4b51-b2d1-cbcbe00253f7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.322Z","level":"info","message":"http_request_completed","requestId":"4af1182d-c4ab-4c26-898a-875a730ffacb","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":279,"contentLength":"58133","template":"unknown","session":"4af1182d-c4ab-4c26-898a-875a730ffacb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4af1182d-c4ab-4c26-898a-875a730ffacb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.332Z","level":"info","message":"http_request_received","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","method":"POST","path":"/api/process-cv","template":"unknown","session":"512a059b-e6dc-4c00-8e6c-52e383918c0d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"512a059b-e6dc-4c00-8e6c-52e383918c0d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.339Z","level":"info","message":"process_cv_started","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","jobId":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","manualJobDescriptionProvided":true,"template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.341Z","level":"info","message":"template_selection","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","jobId":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:46.346Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","jobId":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:24934:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24574:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:12:46.359Z","level":"info","message":"initial_upload_completed","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","jobId":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","bucket":"test-bucket","key":"cv/candidate/512a059b-e6dc-4c00-8e6c-52e383918c0d/incoming/original.pdf","template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.361Z","level":"info","message":"resume_text_extracted","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","jobId":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","characters":57,"template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.363Z","level":"info","message":"resume_classified","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","jobId":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.364Z","level":"info","message":"raw_upload_relocated","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","jobId":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","bucket":"test-bucket","fromKey":"cv/candidate/512a059b-e6dc-4c00-8e6c-52e383918c0d/incoming/original.pdf","toKey":"cv/professional_summary/512a059b-e6dc-4c00-8e6c-52e383918c0d/original.pdf","template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.365Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","jobId":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","bucket":"test-bucket","key":"cv/professional_summary/512a059b-e6dc-4c00-8e6c-52e383918c0d/original.pdf","template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.366Z","level":"info","message":"dynamo_initial_record_written","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","jobId":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","bucket":"test-bucket","key":"cv/professional_summary/512a059b-e6dc-4c00-8e6c-52e383918c0d/original.pdf","template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.367Z","level":"info","message":"upload_metadata_written","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","jobId":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","bucket":"test-bucket","key":"cv/professional_summary/512a059b-e6dc-4c00-8e6c-52e383918c0d/logs/log.json","template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.368Z","level":"info","message":"job_description_supplied_manually","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","jobId":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","characters":174,"template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.370Z","level":"info","message":"job_description_analyzed","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","jobId":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","jobTitle":"","jobSkills":5,"template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.371Z","level":"info","message":"resume_skills_analyzed","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","jobId":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.374Z","level":"info","message":"llm_call_metrics","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"512a059b-e6dc-4c00-8e6c-52e383918c0d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"512a059b-e6dc-4c00-8e6c-52e383918c0d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.376Z","level":"info","message":"process_cv_scoring_completed","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","jobId":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.386Z","level":"info","message":"llm_call_metrics","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"9a6d2d1a9ce924151b6a4db0f761d85550b399b0c2990ac5bc2d2ac9b952bd0d","addedSkillCount":0,"template":"resume_rewrite","session":"512a059b-e6dc-4c00-8e6c-52e383918c0d","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"512a059b-e6dc-4c00-8e6c-52e383918c0d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.387Z","level":"info","message":"generation_section_rewrite_completed","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","jobId":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","generationRunId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","modifiedTitle":"Lead Engineer","addedSkills":0,"template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.393Z","level":"info","message":"generation_resume_verified","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","jobId":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","generationRunId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.407Z","level":"info","message":"generation_cover_letters_normalized","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","jobId":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","generationRunId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","variants":["cover_letter1","cover_letter2"],"template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:46.411Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","jobId":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","generationRunId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing"]}],"template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20337:7)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:46.431Z","level":"info","message":"generation_cover_letters_confident_closing_applied","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","jobId":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","generationRunId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","variants":["cover_letter1"],"template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.433Z","level":"info","message":"generation_cover_letters_completed","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","jobId":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","generationRunId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","variants":2,"fallbackApplied":true,"template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.435Z","level":"info","message":"pdf_generation_attempt","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","jobId":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","generationRunId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/512a059b-e6dc-4c00-8e6c-52e383918c0d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/512a059b-e6dc-4c00-8e6c-52e383918c0d/enhanced_modern.pdf","session":"512a059b-e6dc-4c00-8e6c-52e383918c0d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"512a059b-e6dc-4c00-8e6c-52e383918c0d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.437Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","jobId":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","generationRunId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/512a059b-e6dc-4c00-8e6c-52e383918c0d/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"512a059b-e6dc-4c00-8e6c-52e383918c0d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"512a059b-e6dc-4c00-8e6c-52e383918c0d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.439Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","jobId":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","generationRunId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/512a059b-e6dc-4c00-8e6c-52e383918c0d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/512a059b-e6dc-4c00-8e6c-52e383918c0d/enhanced_modern.pdf","session":"512a059b-e6dc-4c00-8e6c-52e383918c0d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"512a059b-e6dc-4c00-8e6c-52e383918c0d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.440Z","level":"info","message":"pdf_generation_attempt","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","jobId":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","generationRunId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/512a059b-e6dc-4c00-8e6c-52e383918c0d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/512a059b-e6dc-4c00-8e6c-52e383918c0d/enhanced_professional.pdf","session":"512a059b-e6dc-4c00-8e6c-52e383918c0d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"512a059b-e6dc-4c00-8e6c-52e383918c0d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.448Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","jobId":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","generationRunId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/512a059b-e6dc-4c00-8e6c-52e383918c0d/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"512a059b-e6dc-4c00-8e6c-52e383918c0d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"512a059b-e6dc-4c00-8e6c-52e383918c0d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.451Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","jobId":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","generationRunId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/512a059b-e6dc-4c00-8e6c-52e383918c0d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/512a059b-e6dc-4c00-8e6c-52e383918c0d/enhanced_professional.pdf","session":"512a059b-e6dc-4c00-8e6c-52e383918c0d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"512a059b-e6dc-4c00-8e6c-52e383918c0d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.452Z","level":"info","message":"pdf_generation_attempt","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","jobId":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","generationRunId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/512a059b-e6dc-4c00-8e6c-52e383918c0d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/512a059b-e6dc-4c00-8e6c-52e383918c0d/cover_letter_cover_modern.pdf","session":"512a059b-e6dc-4c00-8e6c-52e383918c0d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"512a059b-e6dc-4c00-8e6c-52e383918c0d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.453Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","jobId":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","generationRunId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/512a059b-e6dc-4c00-8e6c-52e383918c0d/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"512a059b-e6dc-4c00-8e6c-52e383918c0d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"512a059b-e6dc-4c00-8e6c-52e383918c0d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.455Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","jobId":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","generationRunId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/512a059b-e6dc-4c00-8e6c-52e383918c0d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/512a059b-e6dc-4c00-8e6c-52e383918c0d/cover_letter_cover_modern.pdf","session":"512a059b-e6dc-4c00-8e6c-52e383918c0d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"512a059b-e6dc-4c00-8e6c-52e383918c0d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.457Z","level":"info","message":"pdf_generation_attempt","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","jobId":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","generationRunId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/512a059b-e6dc-4c00-8e6c-52e383918c0d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/512a059b-e6dc-4c00-8e6c-52e383918c0d/cover_letter_cover_professional.pdf","session":"512a059b-e6dc-4c00-8e6c-52e383918c0d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"512a059b-e6dc-4c00-8e6c-52e383918c0d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.460Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","jobId":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","generationRunId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/512a059b-e6dc-4c00-8e6c-52e383918c0d/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"512a059b-e6dc-4c00-8e6c-52e383918c0d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"512a059b-e6dc-4c00-8e6c-52e383918c0d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.462Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","jobId":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","generationRunId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/512a059b-e6dc-4c00-8e6c-52e383918c0d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/512a059b-e6dc-4c00-8e6c-52e383918c0d/cover_letter_cover_professional.pdf","session":"512a059b-e6dc-4c00-8e6c-52e383918c0d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"512a059b-e6dc-4c00-8e6c-52e383918c0d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.472Z","level":"info","message":"llm_call_metrics","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"aebf306d7fe64238aa9b05fc3798c6e6698d8708e05d8dd31d0cadc8f2f74f38","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"512a059b-e6dc-4c00-8e6c-52e383918c0d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"512a059b-e6dc-4c00-8e6c-52e383918c0d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.474Z","level":"info","message":"generation_completed","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","jobId":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","generationRunId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","enhancedScore":80,"outputs":5,"template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.477Z","level":"info","message":"placeholder_record_deleted","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","jobId":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","placeholderIdentifier":"512a059b-e6dc-4c00-8e6c-52e383918c0d","template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb5b3ca2-9c01-451c-8b7d-fbb8826d8d80","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.480Z","level":"info","message":"http_request_completed","requestId":"512a059b-e6dc-4c00-8e6c-52e383918c0d","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":148,"contentLength":"46262","template":"unknown","session":"512a059b-e6dc-4c00-8e6c-52e383918c0d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"512a059b-e6dc-4c00-8e6c-52e383918c0d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.488Z","level":"info","message":"http_request_received","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","method":"POST","path":"/api/process-cv","template":"unknown","session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.493Z","level":"info","message":"process_cv_started","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","jobId":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","manualJobDescriptionProvided":true,"template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.494Z","level":"info","message":"template_selection","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","jobId":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:46.496Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","jobId":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:24934:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24574:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:12:46.507Z","level":"info","message":"initial_upload_completed","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","jobId":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","bucket":"test-bucket","key":"cv/candidate/4249e324-a8d5-48e9-b614-3730cee97fab/incoming/original.pdf","template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.509Z","level":"info","message":"resume_text_extracted","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","jobId":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","characters":57,"template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.510Z","level":"info","message":"resume_classified","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","jobId":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.512Z","level":"info","message":"raw_upload_relocated","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","jobId":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","bucket":"test-bucket","fromKey":"cv/candidate/4249e324-a8d5-48e9-b614-3730cee97fab/incoming/original.pdf","toKey":"cv/professional_summary/4249e324-a8d5-48e9-b614-3730cee97fab/original.pdf","template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.512Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","jobId":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","bucket":"test-bucket","key":"cv/professional_summary/4249e324-a8d5-48e9-b614-3730cee97fab/original.pdf","template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.513Z","level":"info","message":"dynamo_initial_record_written","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","jobId":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","bucket":"test-bucket","key":"cv/professional_summary/4249e324-a8d5-48e9-b614-3730cee97fab/original.pdf","template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.514Z","level":"info","message":"upload_metadata_written","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","jobId":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","bucket":"test-bucket","key":"cv/professional_summary/4249e324-a8d5-48e9-b614-3730cee97fab/logs/log.json","template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.518Z","level":"info","message":"job_description_supplied_manually","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","jobId":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","characters":174,"template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.519Z","level":"info","message":"job_description_analyzed","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","jobId":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","jobTitle":"","jobSkills":5,"template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.521Z","level":"info","message":"resume_skills_analyzed","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","jobId":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.523Z","level":"info","message":"llm_call_metrics","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.524Z","level":"info","message":"process_cv_scoring_completed","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","jobId":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.error
    {"timestamp":"2025-11-29T11:12:46.530Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","sample":"Here is your revised resume text without JSON formatting.","template":"unknown","session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at Object.logStructured [as error] (server.js:3337:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:8340:20)
      at generateEnhancedDocumentsResponse (server.js:19975:26)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:46.542Z","level":"info","message":"llm_call_metrics","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.546Z","level":"info","message":"llm_call_metrics","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.548Z","level":"info","message":"generation_section_rewrite_completed","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","jobId":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","generationRunId":"4249e324-a8d5-48e9-b614-3730cee97fab","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.550Z","level":"info","message":"llm_call_metrics","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"d230fd9d3c6f4e6f7bb7c385f22b3a147a5c937619c1919bfb6f5e09096df674","skillCount":5,"template":"project_summary","session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:46.563Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","jobId":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","generationRunId":"4249e324-a8d5-48e9-b614-3730cee97fab","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20337:7)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:46.582Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","jobId":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","generationRunId":"4249e324-a8d5-48e9-b614-3730cee97fab","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20526:7)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:46.594Z","level":"info","message":"generation_cover_letters_completed","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","jobId":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","generationRunId":"4249e324-a8d5-48e9-b614-3730cee97fab","variants":2,"fallbackApplied":true,"template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.597Z","level":"info","message":"pdf_generation_attempt","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","jobId":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","generationRunId":"4249e324-a8d5-48e9-b614-3730cee97fab","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4249e324-a8d5-48e9-b614-3730cee97fab/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/4249e324-a8d5-48e9-b614-3730cee97fab/enhanced_modern.pdf","session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.598Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","jobId":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","generationRunId":"4249e324-a8d5-48e9-b614-3730cee97fab","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4249e324-a8d5-48e9-b614-3730cee97fab/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.602Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","jobId":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","generationRunId":"4249e324-a8d5-48e9-b614-3730cee97fab","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4249e324-a8d5-48e9-b614-3730cee97fab/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/4249e324-a8d5-48e9-b614-3730cee97fab/enhanced_modern.pdf","session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.606Z","level":"info","message":"pdf_generation_attempt","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","jobId":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","generationRunId":"4249e324-a8d5-48e9-b614-3730cee97fab","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4249e324-a8d5-48e9-b614-3730cee97fab/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/4249e324-a8d5-48e9-b614-3730cee97fab/enhanced_professional.pdf","session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.608Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","jobId":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","generationRunId":"4249e324-a8d5-48e9-b614-3730cee97fab","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4249e324-a8d5-48e9-b614-3730cee97fab/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.611Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","jobId":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","generationRunId":"4249e324-a8d5-48e9-b614-3730cee97fab","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4249e324-a8d5-48e9-b614-3730cee97fab/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/4249e324-a8d5-48e9-b614-3730cee97fab/enhanced_professional.pdf","session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.615Z","level":"info","message":"pdf_generation_attempt","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","jobId":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","generationRunId":"4249e324-a8d5-48e9-b614-3730cee97fab","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4249e324-a8d5-48e9-b614-3730cee97fab/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/4249e324-a8d5-48e9-b614-3730cee97fab/cover_letter_cover_modern.pdf","session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.616Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","jobId":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","generationRunId":"4249e324-a8d5-48e9-b614-3730cee97fab","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4249e324-a8d5-48e9-b614-3730cee97fab/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.620Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","jobId":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","generationRunId":"4249e324-a8d5-48e9-b614-3730cee97fab","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4249e324-a8d5-48e9-b614-3730cee97fab/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/4249e324-a8d5-48e9-b614-3730cee97fab/cover_letter_cover_modern.pdf","session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.625Z","level":"info","message":"pdf_generation_attempt","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","jobId":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","generationRunId":"4249e324-a8d5-48e9-b614-3730cee97fab","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4249e324-a8d5-48e9-b614-3730cee97fab/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/4249e324-a8d5-48e9-b614-3730cee97fab/cover_letter_cover_professional.pdf","session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.630Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","jobId":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","generationRunId":"4249e324-a8d5-48e9-b614-3730cee97fab","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4249e324-a8d5-48e9-b614-3730cee97fab/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.633Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","jobId":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","generationRunId":"4249e324-a8d5-48e9-b614-3730cee97fab","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4249e324-a8d5-48e9-b614-3730cee97fab/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/4249e324-a8d5-48e9-b614-3730cee97fab/cover_letter_cover_professional.pdf","session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.647Z","level":"info","message":"llm_call_metrics","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.649Z","level":"info","message":"generation_completed","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","jobId":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","generationRunId":"4249e324-a8d5-48e9-b614-3730cee97fab","enhancedScore":80,"outputs":5,"template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.661Z","level":"info","message":"placeholder_record_deleted","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","jobId":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","placeholderIdentifier":"4249e324-a8d5-48e9-b614-3730cee97fab","template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4f9d8eae-7062-4213-9fdc-4655f34a1ca4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.665Z","level":"info","message":"http_request_completed","requestId":"4249e324-a8d5-48e9-b614-3730cee97fab","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":177,"contentLength":"57871","template":"unknown","session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4249e324-a8d5-48e9-b614-3730cee97fab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.680Z","level":"info","message":"http_request_received","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","method":"POST","path":"/api/process-cv","template":"unknown","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.685Z","level":"info","message":"process_cv_started","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","manualJobDescriptionProvided":true,"template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.687Z","level":"info","message":"template_selection","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:46.689Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:24934:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24574:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:12:46.702Z","level":"info","message":"initial_upload_completed","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","bucket":"test-bucket","key":"cv/candidate/9af34ec3-d013-4d16-99a8-5b1b31d2640e/incoming/original.pdf","template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.704Z","level":"info","message":"resume_text_extracted","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","characters":57,"template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.705Z","level":"info","message":"resume_classified","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.708Z","level":"info","message":"raw_upload_relocated","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","bucket":"test-bucket","fromKey":"cv/candidate/9af34ec3-d013-4d16-99a8-5b1b31d2640e/incoming/original.pdf","toKey":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/original.pdf","template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.709Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","bucket":"test-bucket","key":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/original.pdf","template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.711Z","level":"info","message":"dynamo_initial_record_written","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","bucket":"test-bucket","key":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/original.pdf","template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.712Z","level":"info","message":"upload_metadata_written","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","bucket":"test-bucket","key":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/logs/log.json","template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.714Z","level":"info","message":"job_description_supplied_manually","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","characters":174,"template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.715Z","level":"info","message":"job_description_analyzed","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","jobTitle":"","jobSkills":5,"template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.717Z","level":"info","message":"resume_skills_analyzed","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.722Z","level":"info","message":"llm_call_metrics","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.724Z","level":"info","message":"process_cv_scoring_completed","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.738Z","level":"info","message":"llm_call_metrics","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.741Z","level":"info","message":"generation_section_rewrite_completed","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.744Z","level":"info","message":"llm_call_metrics","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.752Z","level":"info","message":"generation_resume_verified","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:46.766Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20337:7)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:46.795Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20526:7)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:46.807Z","level":"info","message":"generation_cover_letters_completed","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","variants":2,"fallbackApplied":true,"template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.813Z","level":"info","message":"pdf_generation_attempt","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/enhanced_modern.pdf","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.825Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.error
    {"timestamp":"2025-11-29T11:12:46.837Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:10816:7)
      at generatePdfWithFallback (server.js:21104:17)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:46.860Z","level":"info","message":"pdf_generation_attempt","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"professional","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/enhanced_professional.pdf","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.863Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.error
    {"timestamp":"2025-11-29T11:12:46.864Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"professional","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/enhanced_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:10816:7)
      at generatePdfWithFallback (server.js:21104:17)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:46.880Z","level":"info","message":"pdf_generation_attempt","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"classic","attempt":3,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/enhanced_classic.pdf","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.881Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.error
    {"timestamp":"2025-11-29T11:12:46.883Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"classic","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/enhanced_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:10816:7)
      at generatePdfWithFallback (server.js:21104:17)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:46.898Z","level":"info","message":"pdf_generation_attempt","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"ats","attempt":4,"totalAttempts":5,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/enhanced_ats.pdf","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.900Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.error
    {"timestamp":"2025-11-29T11:12:46.902Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"ats","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/enhanced_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:10816:7)
      at generatePdfWithFallback (server.js:21104:17)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:46.923Z","level":"info","message":"pdf_generation_attempt","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"2025","attempt":5,"totalAttempts":5,"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/enhanced_2025.pdf","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.925Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.error
    {"timestamp":"2025-11-29T11:12:46.926Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"2025","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:10816:7)
      at generatePdfWithFallback (server.js:21104:17)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:46.947Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/enhanced_2025.pdf","forcedFallback":true,"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:10960:7)
      at generatePdfWithFallback (server.js:21104:17)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:46.977Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/enhanced_2025.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"2025","requestedTemplateId":"2025","engine":"pdf-lib","bytes":9,"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.982Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/enhanced_2025.pdf","bytes":9,"forcedFallback":true,"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.985Z","level":"info","message":"pdf_generation_attempt","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/enhanced_professional.pdf","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:46.986Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.error
    {"timestamp":"2025-11-29T11:12:46.988Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/enhanced_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:10816:7)
      at generatePdfWithFallback (server.js:21104:17)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:47.002Z","level":"info","message":"pdf_generation_attempt","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"modern","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/enhanced_modern.pdf","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.003Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.error
    {"timestamp":"2025-11-29T11:12:47.005Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"modern","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:10816:7)
      at generatePdfWithFallback (server.js:21104:17)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:47.018Z","level":"info","message":"pdf_generation_attempt","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"2025","attempt":3,"totalAttempts":5,"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/enhanced_2025.pdf","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.020Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.error
    {"timestamp":"2025-11-29T11:12:47.021Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"2025","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:10816:7)
      at generatePdfWithFallback (server.js:21104:17)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:47.031Z","level":"info","message":"pdf_generation_attempt","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"classic","attempt":4,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/enhanced_classic.pdf","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.039Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.error
    {"timestamp":"2025-11-29T11:12:47.042Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"classic","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/enhanced_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:10816:7)
      at generatePdfWithFallback (server.js:21104:17)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:47.071Z","level":"info","message":"pdf_generation_attempt","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"ats","attempt":5,"totalAttempts":5,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/enhanced_ats.pdf","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.074Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.error
    {"timestamp":"2025-11-29T11:12:47.078Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"ats","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/enhanced_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:10816:7)
      at generatePdfWithFallback (server.js:21104:17)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:47.093Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/enhanced_ats.pdf","forcedFallback":true,"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:10960:7)
      at generatePdfWithFallback (server.js:21104:17)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:47.111Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/enhanced_ats.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"ats","requestedTemplateId":"ats","engine":"pdf-lib","bytes":9,"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.113Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/enhanced_ats.pdf","bytes":9,"forcedFallback":true,"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.116Z","level":"info","message":"pdf_generation_attempt","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/cover_letter_cover_modern.pdf","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.117Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.error
    {"timestamp":"2025-11-29T11:12:47.120Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:10816:7)
      at generatePdfWithFallback (server.js:21104:17)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:47.135Z","level":"info","message":"pdf_generation_attempt","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":2,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/cover_letter_cover_professional.pdf","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.137Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.error
    {"timestamp":"2025-11-29T11:12:47.139Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/cover_letter_cover_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:10816:7)
      at generatePdfWithFallback (server.js:21104:17)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:47.150Z","level":"info","message":"pdf_generation_attempt","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"cover_classic","attempt":3,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/cover_letter_cover_classic.pdf","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.152Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.error
    {"timestamp":"2025-11-29T11:12:47.153Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"cover_classic","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/cover_letter_cover_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:10816:7)
      at generatePdfWithFallback (server.js:21104:17)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:47.163Z","level":"info","message":"pdf_generation_attempt","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"cover_ats","attempt":4,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/cover_letter_cover_ats.pdf","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.167Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.error
    {"timestamp":"2025-11-29T11:12:47.170Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"cover_ats","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/cover_letter_cover_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:10816:7)
      at generatePdfWithFallback (server.js:21104:17)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:47.180Z","level":"info","message":"pdf_generation_attempt","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"cover_2025","attempt":5,"totalAttempts":5,"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/cover_letter_cover_2025.pdf","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.181Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"cover_2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.error
    {"timestamp":"2025-11-29T11:12:47.183Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"cover_2025","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/cover_letter_cover_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:10816:7)
      at generatePdfWithFallback (server.js:21104:17)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:47.203Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/cover_letter_cover_2025.pdf","forcedFallback":true,"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:10960:7)
      at generatePdfWithFallback (server.js:21104:17)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:47.216Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/cover_letter_cover_2025.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"cover_2025","requestedTemplateId":"cover_2025","engine":"pdf-lib","bytes":9,"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.218Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/cover_letter_cover_2025.pdf","bytes":9,"forcedFallback":true,"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.220Z","level":"info","message":"pdf_generation_attempt","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/cover_letter_cover_professional.pdf","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.221Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.error
    {"timestamp":"2025-11-29T11:12:47.223Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/cover_letter_cover_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:10816:7)
      at generatePdfWithFallback (server.js:21104:17)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:47.237Z","level":"info","message":"pdf_generation_attempt","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":2,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/cover_letter_cover_modern.pdf","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.238Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.error
    {"timestamp":"2025-11-29T11:12:47.240Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:10816:7)
      at generatePdfWithFallback (server.js:21104:17)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:47.261Z","level":"info","message":"pdf_generation_attempt","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"cover_2025","attempt":3,"totalAttempts":5,"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/cover_letter_cover_2025.pdf","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.263Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"cover_2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.error
    {"timestamp":"2025-11-29T11:12:47.264Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"cover_2025","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/cover_letter_cover_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:10816:7)
      at generatePdfWithFallback (server.js:21104:17)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:47.274Z","level":"info","message":"pdf_generation_attempt","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"cover_classic","attempt":4,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/cover_letter_cover_classic.pdf","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.276Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.error
    {"timestamp":"2025-11-29T11:12:47.279Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"cover_classic","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/cover_letter_cover_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:10816:7)
      at generatePdfWithFallback (server.js:21104:17)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:47.291Z","level":"info","message":"pdf_generation_attempt","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"cover_ats","attempt":5,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/cover_letter_cover_ats.pdf","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.295Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.error
    {"timestamp":"2025-11-29T11:12:47.297Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"cover_ats","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/cover_letter_cover_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:10816:7)
      at generatePdfWithFallback (server.js:21104:17)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:47.309Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/cover_letter_cover_ats.pdf","forcedFallback":true,"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:10960:7)
      at generatePdfWithFallback (server.js:21104:17)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:47.328Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/cover_letter_cover_ats.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2089:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"cover_ats","requestedTemplateId":"cover_ats","engine":"pdf-lib","bytes":9,"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.329Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/9af34ec3-d013-4d16-99a8-5b1b31d2640e/cover_letter_cover_ats.pdf","bytes":9,"forcedFallback":true,"session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.337Z","level":"info","message":"llm_call_metrics","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.341Z","level":"info","message":"generation_completed","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","generationRunId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","enhancedScore":80,"outputs":5,"template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.346Z","level":"info","message":"placeholder_record_deleted","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","jobId":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","placeholderIdentifier":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf7e6fa0-5d45-40ae-aff1-bb546577932a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.349Z","level":"info","message":"http_request_completed","requestId":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":669,"contentLength":"60620","template":"unknown","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9af34ec3-d013-4d16-99a8-5b1b31d2640e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.361Z","level":"info","message":"http_request_received","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","method":"POST","path":"/api/process-cv","template":"unknown","session":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.364Z","level":"info","message":"process_cv_started","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","jobId":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","manualJobDescriptionProvided":true,"template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.366Z","level":"info","message":"template_selection","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","jobId":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:47.367Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","jobId":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:24934:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24574:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:12:47.378Z","level":"info","message":"initial_upload_completed","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","jobId":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","bucket":"test-bucket","key":"cv/candidate/7d9c039a-5ff7-4e7c-8e46-98ef402262b5/incoming/original.pdf","template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.380Z","level":"info","message":"resume_text_extracted","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","jobId":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","characters":57,"template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.381Z","level":"info","message":"resume_classified","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","jobId":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.382Z","level":"info","message":"raw_upload_relocated","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","jobId":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","bucket":"test-bucket","fromKey":"cv/candidate/7d9c039a-5ff7-4e7c-8e46-98ef402262b5/incoming/original.pdf","toKey":"cv/professional_summary/7d9c039a-5ff7-4e7c-8e46-98ef402262b5/original.pdf","template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.383Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","jobId":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","bucket":"test-bucket","key":"cv/professional_summary/7d9c039a-5ff7-4e7c-8e46-98ef402262b5/original.pdf","template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.384Z","level":"info","message":"dynamo_initial_record_written","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","jobId":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","bucket":"test-bucket","key":"cv/professional_summary/7d9c039a-5ff7-4e7c-8e46-98ef402262b5/original.pdf","template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.385Z","level":"info","message":"upload_metadata_written","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","jobId":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","bucket":"test-bucket","key":"cv/professional_summary/7d9c039a-5ff7-4e7c-8e46-98ef402262b5/logs/log.json","template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.386Z","level":"info","message":"job_description_supplied_manually","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","jobId":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","characters":174,"template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.387Z","level":"info","message":"job_description_analyzed","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","jobId":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","jobTitle":"","jobSkills":5,"template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.389Z","level":"info","message":"resume_skills_analyzed","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","jobId":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.390Z","level":"info","message":"llm_call_metrics","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.393Z","level":"info","message":"process_cv_scoring_completed","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","jobId":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.404Z","level":"info","message":"llm_call_metrics","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"083bf06ffdad2254495e6ab02d51602dd213ec7860f8066358ba6750acc9f49a","addedSkillCount":1,"template":"resume_rewrite","session":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.406Z","level":"info","message":"generation_section_rewrite_completed","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","jobId":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","generationRunId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","modifiedTitle":"Revised Title","addedSkills":1,"template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.415Z","level":"info","message":"generation_resume_verified","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","jobId":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","generationRunId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:47.426Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","jobId":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","generationRunId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20337:7)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:47.438Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","jobId":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","generationRunId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20526:7)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:47.475Z","level":"info","message":"generation_cover_letters_completed","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","jobId":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","generationRunId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","variants":2,"fallbackApplied":true,"template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.481Z","level":"info","message":"pdf_generation_attempt","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","jobId":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","generationRunId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7d9c039a-5ff7-4e7c-8e46-98ef402262b5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/7d9c039a-5ff7-4e7c-8e46-98ef402262b5/enhanced_modern.pdf","session":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.487Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","jobId":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","generationRunId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7d9c039a-5ff7-4e7c-8e46-98ef402262b5/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.490Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","jobId":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","generationRunId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7d9c039a-5ff7-4e7c-8e46-98ef402262b5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/7d9c039a-5ff7-4e7c-8e46-98ef402262b5/enhanced_modern.pdf","session":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.491Z","level":"info","message":"pdf_generation_attempt","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","jobId":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","generationRunId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7d9c039a-5ff7-4e7c-8e46-98ef402262b5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/7d9c039a-5ff7-4e7c-8e46-98ef402262b5/enhanced_professional.pdf","session":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.494Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","jobId":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","generationRunId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7d9c039a-5ff7-4e7c-8e46-98ef402262b5/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.496Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","jobId":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","generationRunId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7d9c039a-5ff7-4e7c-8e46-98ef402262b5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/7d9c039a-5ff7-4e7c-8e46-98ef402262b5/enhanced_professional.pdf","session":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.498Z","level":"info","message":"pdf_generation_attempt","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","jobId":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","generationRunId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7d9c039a-5ff7-4e7c-8e46-98ef402262b5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/7d9c039a-5ff7-4e7c-8e46-98ef402262b5/cover_letter_cover_modern.pdf","session":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.499Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","jobId":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","generationRunId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7d9c039a-5ff7-4e7c-8e46-98ef402262b5/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.503Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","jobId":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","generationRunId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7d9c039a-5ff7-4e7c-8e46-98ef402262b5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/7d9c039a-5ff7-4e7c-8e46-98ef402262b5/cover_letter_cover_modern.pdf","session":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.505Z","level":"info","message":"pdf_generation_attempt","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","jobId":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","generationRunId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7d9c039a-5ff7-4e7c-8e46-98ef402262b5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/7d9c039a-5ff7-4e7c-8e46-98ef402262b5/cover_letter_cover_professional.pdf","session":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.507Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","jobId":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","generationRunId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7d9c039a-5ff7-4e7c-8e46-98ef402262b5/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.509Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","jobId":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","generationRunId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7d9c039a-5ff7-4e7c-8e46-98ef402262b5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/7d9c039a-5ff7-4e7c-8e46-98ef402262b5/cover_letter_cover_professional.pdf","session":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.521Z","level":"info","message":"llm_call_metrics","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"1075df15bec8b8fc718989e1c7ca31af0c39036b671cabbdfc22628f8e2e250f","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.525Z","level":"info","message":"generation_completed","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","jobId":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","generationRunId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","enhancedScore":80,"outputs":5,"template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.529Z","level":"info","message":"placeholder_record_deleted","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","jobId":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","placeholderIdentifier":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf87ee80-2c56-4d5c-9094-e6b1ac164cff","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.534Z","level":"info","message":"http_request_completed","requestId":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":173,"contentLength":"59251","template":"unknown","session":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7d9c039a-5ff7-4e7c-8e46-98ef402262b5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.549Z","level":"info","message":"http_request_received","requestId":"8a4fa821-eff2-499b-a0f4-b1e3da0c6c18","method":"POST","path":"/api/process-cv","template":"unknown","session":"8a4fa821-eff2-499b-a0f4-b1e3da0c6c18","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a4fa821-eff2-499b-a0f4-b1e3da0c6c18","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.553Z","level":"info","message":"process_cv_started","requestId":"8a4fa821-eff2-499b-a0f4-b1e3da0c6c18","jobId":"d2ebc273-48a1-4a57-a66f-90b5cba18933","manualJobDescriptionProvided":true,"template":"unknown","session":"d2ebc273-48a1-4a57-a66f-90b5cba18933","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d2ebc273-48a1-4a57-a66f-90b5cba18933","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.556Z","level":"info","message":"template_selection","requestId":"8a4fa821-eff2-499b-a0f4-b1e3da0c6c18","jobId":"d2ebc273-48a1-4a57-a66f-90b5cba18933","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"d2ebc273-48a1-4a57-a66f-90b5cba18933","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d2ebc273-48a1-4a57-a66f-90b5cba18933","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:47.557Z","level":"warn","message":"resume_missing","requestId":"8a4fa821-eff2-499b-a0f4-b1e3da0c6c18","jobId":"d2ebc273-48a1-4a57-a66f-90b5cba18933","template":"unknown","session":"d2ebc273-48a1-4a57-a66f-90b5cba18933","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d2ebc273-48a1-4a57-a66f-90b5cba18933","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:24888:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24574:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-11-29T11:12:47.568Z","level":"warn","message":"api_error_response","requestId":"8a4fa821-eff2-499b-a0f4-b1e3da0c6c18","jobId":"d2ebc273-48a1-4a57-a66f-90b5cba18933","status":400,"error":{"code":"RESUME_FILE_REQUIRED","message":"resume file required","details":{"field":"resume"},"requestId":"8a4fa821-eff2-499b-a0f4-b1e3da0c6c18","jobId":"d2ebc273-48a1-4a57-a66f-90b5cba18933"},"template":"unknown","session":"d2ebc273-48a1-4a57-a66f-90b5cba18933","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d2ebc273-48a1-4a57-a66f-90b5cba18933","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:3825:3)
      at sendError (server.js:24889:14)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24574:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:12:47.584Z","level":"info","message":"http_request_completed","requestId":"8a4fa821-eff2-499b-a0f4-b1e3da0c6c18","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":35,"contentLength":"217","template":"unknown","session":"8a4fa821-eff2-499b-a0f4-b1e3da0c6c18","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a4fa821-eff2-499b-a0f4-b1e3da0c6c18","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.591Z","level":"info","message":"http_request_received","requestId":"e270dd6c-4657-41d0-ae07-3b220943d714","method":"POST","path":"/api/process-cv","template":"unknown","session":"e270dd6c-4657-41d0-ae07-3b220943d714","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e270dd6c-4657-41d0-ae07-3b220943d714","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:47.602Z","level":"warn","message":"resume_upload_failed","requestId":"e270dd6c-4657-41d0-ae07-3b220943d714","jobId":"077a9181-7fa8-4080-abd5-5abba2e7fb58","storageError":false,"error":{"name":"Error","message":"Unsupported resume format. Please upload a PDF, DOC, or DOCX file.","stack":"Error: Unsupported resume format. Please upload a PDF, DOC, or DOCX file.\n    at fileFilter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4794:9)\n    at wrappedFileFilter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/index.js:44:7)\n    at Multipart.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:109:7)\n    at Multipart.emit (node:events:513:28)\n    at HeaderParser.cb (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:358:14)\n    at HeaderParser.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:394:37)\n    at feed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:219:14)\n    at SBMH.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:391:12)\n    at _write (node:internal/streams/writable:332:10)\n    at Multipart.Writable.write (node:internal/streams/writable:336:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:754:22)\n    at IncomingMessage.emit (node:events:513:28)\n    at IncomingMessage.Readable.read (node:internal/streams/readable:527:10)\n    at flow (node:internal/streams/readable:1011:34)\n    at resume_ (node:internal/streams/readable:992:3)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)"},"template":"unknown","session":"077a9181-7fa8-4080-abd5-5abba2e7fb58","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"077a9181-7fa8-4080-abd5-5abba2e7fb58","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:24582:7)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:5:28)
      at node_modules/multer/lib/make-middleware.js:63:9
      at Counter.onceZero (node_modules/multer/lib/counter.js:23:29)
      at abortWithError (node_modules/multer/lib/make-middleware.js:58:21)
      at node_modules/multer/lib/make-middleware.js:112:18
      at cb (server.js:4793:14)
      at wrappedFileFilter (node_modules/multer/index.js:44:7)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:109:7)
      at HeaderParser.cb (node_modules/busboy/lib/types/multipart.js:358:14)
      at HeaderParser.push (node_modules/busboy/lib/types/multipart.js:162:20)
      at SBMH.ssCb [as _cb] (node_modules/busboy/lib/types/multipart.js:394:37)
      at feed (node_modules/streamsearch/lib/sbmh.js:219:14)
      at SBMH.push (node_modules/streamsearch/lib/sbmh.js:104:16)
      at Multipart._write (node_modules/busboy/lib/types/multipart.js:567:19)

  console.warn
    {"timestamp":"2025-11-29T11:12:47.618Z","level":"warn","message":"api_error_response","requestId":"e270dd6c-4657-41d0-ae07-3b220943d714","jobId":"077a9181-7fa8-4080-abd5-5abba2e7fb58","status":400,"error":{"code":"UPLOAD_VALIDATION_FAILED","message":"Unsupported resume format. Please upload a PDF, DOC, or DOCX file.","details":{"field":"resume"},"requestId":"e270dd6c-4657-41d0-ae07-3b220943d714","jobId":"077a9181-7fa8-4080-abd5-5abba2e7fb58"},"template":"unknown","session":"077a9181-7fa8-4080-abd5-5abba2e7fb58","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"077a9181-7fa8-4080-abd5-5abba2e7fb58","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:3825:3)
      at sendError (server.js:24590:9)
      at respond (server.js:24594:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:5:28)
      at node_modules/multer/lib/make-middleware.js:63:9
      at Counter.onceZero (node_modules/multer/lib/counter.js:23:29)
      at abortWithError (node_modules/multer/lib/make-middleware.js:58:21)
      at node_modules/multer/lib/make-middleware.js:112:18
      at cb (server.js:4793:14)
      at wrappedFileFilter (node_modules/multer/index.js:44:7)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:109:7)
      at HeaderParser.cb (node_modules/busboy/lib/types/multipart.js:358:14)
      at HeaderParser.push (node_modules/busboy/lib/types/multipart.js:162:20)
      at SBMH.ssCb [as _cb] (node_modules/busboy/lib/types/multipart.js:394:37)
      at feed (node_modules/streamsearch/lib/sbmh.js:219:14)
      at SBMH.push (node_modules/streamsearch/lib/sbmh.js:104:16)
      at Multipart._write (node_modules/busboy/lib/types/multipart.js:567:19)

  console.log
    {"timestamp":"2025-11-29T11:12:47.632Z","level":"info","message":"http_request_completed","requestId":"e270dd6c-4657-41d0-ae07-3b220943d714","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":40,"contentLength":"267","template":"unknown","session":"e270dd6c-4657-41d0-ae07-3b220943d714","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e270dd6c-4657-41d0-ae07-3b220943d714","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.652Z","level":"info","message":"http_request_received","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","method":"POST","path":"/api/process-cv","template":"unknown","session":"48153bcf-665c-4fce-8f7a-83b6e332e536","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"48153bcf-665c-4fce-8f7a-83b6e332e536","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.658Z","level":"info","message":"process_cv_started","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","jobId":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","manualJobDescriptionProvided":true,"template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.660Z","level":"info","message":"template_selection","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","jobId":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:47.663Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","jobId":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:24934:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24574:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:12:47.679Z","level":"info","message":"initial_upload_completed","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","jobId":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","bucket":"test-bucket","key":"cv/candidate/48153bcf-665c-4fce-8f7a-83b6e332e536/incoming/original.pdf","template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:47.685Z","level":"info","message":"resume_text_extracted","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","jobId":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","characters":57,"template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:47.687Z","level":"info","message":"resume_classified","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","jobId":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:47.688Z","level":"info","message":"raw_upload_relocated","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","jobId":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","bucket":"test-bucket","fromKey":"cv/candidate/48153bcf-665c-4fce-8f7a-83b6e332e536/incoming/original.pdf","toKey":"cv/professional_summary/48153bcf-665c-4fce-8f7a-83b6e332e536/original.pdf","template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:47.690Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","jobId":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","bucket":"test-bucket","key":"cv/professional_summary/48153bcf-665c-4fce-8f7a-83b6e332e536/original.pdf","template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:47.691Z","level":"info","message":"dynamo_initial_record_written","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","jobId":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","bucket":"test-bucket","key":"cv/professional_summary/48153bcf-665c-4fce-8f7a-83b6e332e536/original.pdf","template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:47.692Z","level":"info","message":"upload_metadata_written","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","jobId":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","bucket":"test-bucket","key":"cv/professional_summary/48153bcf-665c-4fce-8f7a-83b6e332e536/logs/log.json","template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:47.694Z","level":"info","message":"job_description_supplied_manually","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","jobId":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","characters":174,"template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:47.696Z","level":"info","message":"job_description_analyzed","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","jobId":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","jobTitle":"","jobSkills":5,"template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:47.699Z","level":"info","message":"resume_skills_analyzed","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","jobId":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:47.701Z","level":"info","message":"llm_call_metrics","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"48153bcf-665c-4fce-8f7a-83b6e332e536","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"48153bcf-665c-4fce-8f7a-83b6e332e536","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:47.704Z","level":"info","message":"process_cv_scoring_completed","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","jobId":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:47.713Z","level":"info","message":"llm_call_metrics","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"48153bcf-665c-4fce-8f7a-83b6e332e536","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"48153bcf-665c-4fce-8f7a-83b6e332e536","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:47.716Z","level":"info","message":"generation_section_rewrite_completed","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","jobId":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","generationRunId":"48153bcf-665c-4fce-8f7a-83b6e332e536","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:47.718Z","level":"info","message":"llm_call_metrics","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"48153bcf-665c-4fce-8f7a-83b6e332e536","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"48153bcf-665c-4fce-8f7a-83b6e332e536","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:47.728Z","level":"info","message":"generation_resume_verified","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","jobId":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","generationRunId":"48153bcf-665c-4fce-8f7a-83b6e332e536","template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-29T11:12:47.737Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","jobId":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","generationRunId":"48153bcf-665c-4fce-8f7a-83b6e332e536","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20337:7)
          at runMicrotasks (<anonymous>)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:47.760Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","jobId":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","generationRunId":"48153bcf-665c-4fce-8f7a-83b6e332e536","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20526:7)
          at runMicrotasks (<anonymous>)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:47.774Z","level":"info","message":"generation_cover_letters_completed","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","jobId":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","generationRunId":"48153bcf-665c-4fce-8f7a-83b6e332e536","variants":2,"fallbackApplied":true,"template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:47.776Z","level":"info","message":"pdf_generation_attempt","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","jobId":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","generationRunId":"48153bcf-665c-4fce-8f7a-83b6e332e536","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/48153bcf-665c-4fce-8f7a-83b6e332e536/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/48153bcf-665c-4fce-8f7a-83b6e332e536/enhanced_modern.pdf","session":"48153bcf-665c-4fce-8f7a-83b6e332e536","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"48153bcf-665c-4fce-8f7a-83b6e332e536","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:47.779Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","jobId":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","generationRunId":"48153bcf-665c-4fce-8f7a-83b6e332e536","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/48153bcf-665c-4fce-8f7a-83b6e332e536/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"48153bcf-665c-4fce-8f7a-83b6e332e536","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"48153bcf-665c-4fce-8f7a-83b6e332e536","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:47.781Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","jobId":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","generationRunId":"48153bcf-665c-4fce-8f7a-83b6e332e536","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/48153bcf-665c-4fce-8f7a-83b6e332e536/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/48153bcf-665c-4fce-8f7a-83b6e332e536/enhanced_modern.pdf","session":"48153bcf-665c-4fce-8f7a-83b6e332e536","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"48153bcf-665c-4fce-8f7a-83b6e332e536","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:47.783Z","level":"info","message":"pdf_generation_attempt","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","jobId":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","generationRunId":"48153bcf-665c-4fce-8f7a-83b6e332e536","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/48153bcf-665c-4fce-8f7a-83b6e332e536/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/48153bcf-665c-4fce-8f7a-83b6e332e536/enhanced_professional.pdf","session":"48153bcf-665c-4fce-8f7a-83b6e332e536","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"48153bcf-665c-4fce-8f7a-83b6e332e536","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:47.785Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","jobId":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","generationRunId":"48153bcf-665c-4fce-8f7a-83b6e332e536","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/48153bcf-665c-4fce-8f7a-83b6e332e536/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"48153bcf-665c-4fce-8f7a-83b6e332e536","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"48153bcf-665c-4fce-8f7a-83b6e332e536","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:47.787Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","jobId":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","generationRunId":"48153bcf-665c-4fce-8f7a-83b6e332e536","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/48153bcf-665c-4fce-8f7a-83b6e332e536/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/48153bcf-665c-4fce-8f7a-83b6e332e536/enhanced_professional.pdf","session":"48153bcf-665c-4fce-8f7a-83b6e332e536","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"48153bcf-665c-4fce-8f7a-83b6e332e536","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:47.789Z","level":"info","message":"pdf_generation_attempt","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","jobId":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","generationRunId":"48153bcf-665c-4fce-8f7a-83b6e332e536","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/48153bcf-665c-4fce-8f7a-83b6e332e536/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/48153bcf-665c-4fce-8f7a-83b6e332e536/cover_letter_cover_modern.pdf","session":"48153bcf-665c-4fce-8f7a-83b6e332e536","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"48153bcf-665c-4fce-8f7a-83b6e332e536","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:47.790Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","jobId":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","generationRunId":"48153bcf-665c-4fce-8f7a-83b6e332e536","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/48153bcf-665c-4fce-8f7a-83b6e332e536/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"48153bcf-665c-4fce-8f7a-83b6e332e536","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"48153bcf-665c-4fce-8f7a-83b6e332e536","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:47.792Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","jobId":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","generationRunId":"48153bcf-665c-4fce-8f7a-83b6e332e536","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/48153bcf-665c-4fce-8f7a-83b6e332e536/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/48153bcf-665c-4fce-8f7a-83b6e332e536/cover_letter_cover_modern.pdf","session":"48153bcf-665c-4fce-8f7a-83b6e332e536","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"48153bcf-665c-4fce-8f7a-83b6e332e536","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:47.794Z","level":"info","message":"pdf_generation_attempt","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","jobId":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","generationRunId":"48153bcf-665c-4fce-8f7a-83b6e332e536","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/48153bcf-665c-4fce-8f7a-83b6e332e536/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/48153bcf-665c-4fce-8f7a-83b6e332e536/cover_letter_cover_professional.pdf","session":"48153bcf-665c-4fce-8f7a-83b6e332e536","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"48153bcf-665c-4fce-8f7a-83b6e332e536","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:47.796Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","jobId":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","generationRunId":"48153bcf-665c-4fce-8f7a-83b6e332e536","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/48153bcf-665c-4fce-8f7a-83b6e332e536/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"48153bcf-665c-4fce-8f7a-83b6e332e536","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"48153bcf-665c-4fce-8f7a-83b6e332e536","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:47.797Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","jobId":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","generationRunId":"48153bcf-665c-4fce-8f7a-83b6e332e536","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/48153bcf-665c-4fce-8f7a-83b6e332e536/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/48153bcf-665c-4fce-8f7a-83b6e332e536/cover_letter_cover_professional.pdf","session":"48153bcf-665c-4fce-8f7a-83b6e332e536","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"48153bcf-665c-4fce-8f7a-83b6e332e536","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:47.807Z","level":"info","message":"llm_call_metrics","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"48153bcf-665c-4fce-8f7a-83b6e332e536","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"48153bcf-665c-4fce-8f7a-83b6e332e536","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:47.809Z","level":"info","message":"generation_completed","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","jobId":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","generationRunId":"48153bcf-665c-4fce-8f7a-83b6e332e536","enhancedScore":80,"outputs":5,"template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:47.813Z","level":"info","message":"placeholder_record_deleted","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","jobId":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","placeholderIdentifier":"48153bcf-665c-4fce-8f7a-83b6e332e536","template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f658f58c-70f2-4686-a6ba-a1f4dcab17bd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:47.816Z","level":"info","message":"http_request_completed","requestId":"48153bcf-665c-4fce-8f7a-83b6e332e536","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":164,"contentLength":"58133","template":"unknown","session":"48153bcf-665c-4fce-8f7a-83b6e332e536","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"48153bcf-665c-4fce-8f7a-83b6e332e536","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.825Z","level":"info","message":"http_request_received","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","method":"POST","path":"/api/process-cv","template":"unknown","session":"ad36bd64-185a-43e2-8b93-836102a4c5c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ad36bd64-185a-43e2-8b93-836102a4c5c8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.856Z","level":"info","message":"process_cv_started","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","jobId":"a65c0652-c83b-4b12-8f94-e526be3150ad","manualJobDescriptionProvided":true,"template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.872Z","level":"info","message":"template_selection","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","jobId":"a65c0652-c83b-4b12-8f94-e526be3150ad","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:47.876Z","level":"info","message":"initial_upload_completed","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","jobId":"a65c0652-c83b-4b12-8f94-e526be3150ad","bucket":"test-bucket","key":"cv/candidate/ad36bd64-185a-43e2-8b93-836102a4c5c8/incoming/original.pdf","template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:47.879Z","level":"info","message":"resume_text_extracted","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","jobId":"a65c0652-c83b-4b12-8f94-e526be3150ad","characters":9,"template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:47.882Z","level":"info","message":"document_classification_ai_metrics","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","jobId":"a65c0652-c83b-4b12-8f94-e526be3150ad","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"3fb95a90cc3314ffe158e6938082b6242f708ef53653928d4aec2ec0ec66e1aa","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:47.992Z","level":"info","message":"resume_classified","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","jobId":"a65c0652-c83b-4b12-8f94-e526be3150ad","isResume":false,"description":"a document starting with \"Docx text\"","confidence":0.3,"accepted":true,"overridden":true,"template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.016Z","level":"info","message":"raw_upload_relocated","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","jobId":"a65c0652-c83b-4b12-8f94-e526be3150ad","bucket":"test-bucket","fromKey":"cv/candidate/ad36bd64-185a-43e2-8b93-836102a4c5c8/incoming/original.pdf","toKey":"cv/docx_text/ad36bd64-185a-43e2-8b93-836102a4c5c8/original.docx","template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.021Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","jobId":"a65c0652-c83b-4b12-8f94-e526be3150ad","bucket":"test-bucket","key":"cv/docx_text/ad36bd64-185a-43e2-8b93-836102a4c5c8/original.docx","template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.026Z","level":"info","message":"dynamo_initial_record_written","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","jobId":"a65c0652-c83b-4b12-8f94-e526be3150ad","bucket":"test-bucket","key":"cv/docx_text/ad36bd64-185a-43e2-8b93-836102a4c5c8/original.docx","template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.030Z","level":"info","message":"upload_metadata_written","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","jobId":"a65c0652-c83b-4b12-8f94-e526be3150ad","bucket":"test-bucket","key":"cv/docx_text/ad36bd64-185a-43e2-8b93-836102a4c5c8/logs/log.json","template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.031Z","level":"info","message":"job_description_supplied_manually","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","jobId":"a65c0652-c83b-4b12-8f94-e526be3150ad","characters":174,"template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.038Z","level":"info","message":"job_description_analyzed","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","jobId":"a65c0652-c83b-4b12-8f94-e526be3150ad","jobTitle":"","jobSkills":5,"template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.042Z","level":"info","message":"resume_skills_analyzed","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","jobId":"a65c0652-c83b-4b12-8f94-e526be3150ad","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.070Z","level":"info","message":"llm_call_metrics","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"ad36bd64-185a-43e2-8b93-836102a4c5c8","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"ad36bd64-185a-43e2-8b93-836102a4c5c8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.074Z","level":"info","message":"process_cv_scoring_completed","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","jobId":"a65c0652-c83b-4b12-8f94-e526be3150ad","applicantName":"Docx text","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.098Z","level":"info","message":"llm_call_metrics","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"31abd14e21e30560dd0979a805a53ba1e348c7a15b5557d1589a085105e61022","outputDigest":"20c6bad519a1c8c51482632fc36f521f4cdc6c74524ae2a7da48d87e23be89bd","addedSkillCount":0,"template":"resume_rewrite","session":"ad36bd64-185a-43e2-8b93-836102a4c5c8","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"ad36bd64-185a-43e2-8b93-836102a4c5c8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.101Z","level":"info","message":"generation_section_rewrite_completed","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","jobId":"a65c0652-c83b-4b12-8f94-e526be3150ad","generationRunId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.104Z","level":"info","message":"llm_call_metrics","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"ad36bd64-185a-43e2-8b93-836102a4c5c8","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"ad36bd64-185a-43e2-8b93-836102a4c5c8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.207Z","level":"info","message":"generation_resume_verified","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","jobId":"a65c0652-c83b-4b12-8f94-e526be3150ad","generationRunId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-29T11:12:48.258Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","jobId":"a65c0652-c83b-4b12-8f94-e526be3150ad","generationRunId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20337:7)
          at runMicrotasks (<anonymous>)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:48.277Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","jobId":"a65c0652-c83b-4b12-8f94-e526be3150ad","generationRunId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20526:7)
          at runMicrotasks (<anonymous>)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:48.291Z","level":"info","message":"generation_cover_letters_completed","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","jobId":"a65c0652-c83b-4b12-8f94-e526be3150ad","generationRunId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","variants":2,"fallbackApplied":true,"template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.299Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","jobId":"a65c0652-c83b-4b12-8f94-e526be3150ad","generationRunId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","documentType":"resume","outputName":"original_upload","outputKeyPrefix":"cv/docx_text/ad36bd64-185a-43e2-8b93-836102a4c5c8/","originalUploadKey":"cv/docx_text/ad36bd64-185a-43e2-8b93-836102a4c5c8/original.docx","originalUploadExtension":".docx","templateId":"modern","requestedTemplateId":"modern","engine":"pdf-lib","bytes":9,"template":"modern","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.305Z","level":"info","message":"original_upload_pdf_generated","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","jobId":"a65c0652-c83b-4b12-8f94-e526be3150ad","generationRunId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","storageKey":"cv/docx_text/ad36bd64-185a-43e2-8b93-836102a4c5c8/original/original_upload.pdf","originalUploadKey":"cv/docx_text/ad36bd64-185a-43e2-8b93-836102a4c5c8/original.docx","originalUploadExtension":".docx","template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.307Z","level":"info","message":"pdf_generation_attempt","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","jobId":"a65c0652-c83b-4b12-8f94-e526be3150ad","generationRunId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/ad36bd64-185a-43e2-8b93-836102a4c5c8/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/ad36bd64-185a-43e2-8b93-836102a4c5c8/enhanced_modern.pdf","session":"ad36bd64-185a-43e2-8b93-836102a4c5c8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ad36bd64-185a-43e2-8b93-836102a4c5c8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.312Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","jobId":"a65c0652-c83b-4b12-8f94-e526be3150ad","generationRunId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/ad36bd64-185a-43e2-8b93-836102a4c5c8/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"ad36bd64-185a-43e2-8b93-836102a4c5c8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ad36bd64-185a-43e2-8b93-836102a4c5c8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.320Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","jobId":"a65c0652-c83b-4b12-8f94-e526be3150ad","generationRunId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/ad36bd64-185a-43e2-8b93-836102a4c5c8/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/ad36bd64-185a-43e2-8b93-836102a4c5c8/enhanced_modern.pdf","session":"ad36bd64-185a-43e2-8b93-836102a4c5c8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ad36bd64-185a-43e2-8b93-836102a4c5c8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.322Z","level":"info","message":"pdf_generation_attempt","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","jobId":"a65c0652-c83b-4b12-8f94-e526be3150ad","generationRunId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/ad36bd64-185a-43e2-8b93-836102a4c5c8/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/ad36bd64-185a-43e2-8b93-836102a4c5c8/enhanced_professional.pdf","session":"ad36bd64-185a-43e2-8b93-836102a4c5c8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ad36bd64-185a-43e2-8b93-836102a4c5c8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.324Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","jobId":"a65c0652-c83b-4b12-8f94-e526be3150ad","generationRunId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/ad36bd64-185a-43e2-8b93-836102a4c5c8/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"ad36bd64-185a-43e2-8b93-836102a4c5c8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ad36bd64-185a-43e2-8b93-836102a4c5c8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.327Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","jobId":"a65c0652-c83b-4b12-8f94-e526be3150ad","generationRunId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/ad36bd64-185a-43e2-8b93-836102a4c5c8/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/ad36bd64-185a-43e2-8b93-836102a4c5c8/enhanced_professional.pdf","session":"ad36bd64-185a-43e2-8b93-836102a4c5c8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ad36bd64-185a-43e2-8b93-836102a4c5c8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.329Z","level":"info","message":"pdf_generation_attempt","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","jobId":"a65c0652-c83b-4b12-8f94-e526be3150ad","generationRunId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/ad36bd64-185a-43e2-8b93-836102a4c5c8/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/ad36bd64-185a-43e2-8b93-836102a4c5c8/cover_letter_cover_modern.pdf","session":"ad36bd64-185a-43e2-8b93-836102a4c5c8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ad36bd64-185a-43e2-8b93-836102a4c5c8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.331Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","jobId":"a65c0652-c83b-4b12-8f94-e526be3150ad","generationRunId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/ad36bd64-185a-43e2-8b93-836102a4c5c8/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"ad36bd64-185a-43e2-8b93-836102a4c5c8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ad36bd64-185a-43e2-8b93-836102a4c5c8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.333Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","jobId":"a65c0652-c83b-4b12-8f94-e526be3150ad","generationRunId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/ad36bd64-185a-43e2-8b93-836102a4c5c8/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/ad36bd64-185a-43e2-8b93-836102a4c5c8/cover_letter_cover_modern.pdf","session":"ad36bd64-185a-43e2-8b93-836102a4c5c8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ad36bd64-185a-43e2-8b93-836102a4c5c8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.341Z","level":"info","message":"pdf_generation_attempt","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","jobId":"a65c0652-c83b-4b12-8f94-e526be3150ad","generationRunId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/ad36bd64-185a-43e2-8b93-836102a4c5c8/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/ad36bd64-185a-43e2-8b93-836102a4c5c8/cover_letter_cover_professional.pdf","session":"ad36bd64-185a-43e2-8b93-836102a4c5c8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ad36bd64-185a-43e2-8b93-836102a4c5c8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.345Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","jobId":"a65c0652-c83b-4b12-8f94-e526be3150ad","generationRunId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/ad36bd64-185a-43e2-8b93-836102a4c5c8/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"ad36bd64-185a-43e2-8b93-836102a4c5c8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ad36bd64-185a-43e2-8b93-836102a4c5c8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.347Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","jobId":"a65c0652-c83b-4b12-8f94-e526be3150ad","generationRunId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/ad36bd64-185a-43e2-8b93-836102a4c5c8/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/ad36bd64-185a-43e2-8b93-836102a4c5c8/cover_letter_cover_professional.pdf","session":"ad36bd64-185a-43e2-8b93-836102a4c5c8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ad36bd64-185a-43e2-8b93-836102a4c5c8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.360Z","level":"info","message":"llm_call_metrics","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"ad36bd64-185a-43e2-8b93-836102a4c5c8","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"ad36bd64-185a-43e2-8b93-836102a4c5c8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.363Z","level":"info","message":"generation_completed","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","jobId":"a65c0652-c83b-4b12-8f94-e526be3150ad","generationRunId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","enhancedScore":80,"outputs":6,"template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.368Z","level":"info","message":"placeholder_record_deleted","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","jobId":"a65c0652-c83b-4b12-8f94-e526be3150ad","placeholderIdentifier":"ad36bd64-185a-43e2-8b93-836102a4c5c8","template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a65c0652-c83b-4b12-8f94-e526be3150ad","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.371Z","level":"info","message":"http_request_completed","requestId":"ad36bd64-185a-43e2-8b93-836102a4c5c8","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":546,"contentLength":"58696","template":"unknown","session":"ad36bd64-185a-43e2-8b93-836102a4c5c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ad36bd64-185a-43e2-8b93-836102a4c5c8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:48.590Z","level":"info","message":"http_request_received","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","method":"POST","path":"/api/process-cv","template":"unknown","session":"60879a9f-7cf1-4101-8372-a6322971b50a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60879a9f-7cf1-4101-8372-a6322971b50a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:48.835Z","level":"info","message":"process_cv_started","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","jobId":"487da992-056f-4c91-ad2e-ad3a9a2dd549","manualJobDescriptionProvided":true,"template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:48.837Z","level":"info","message":"template_selection","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","jobId":"487da992-056f-4c91-ad2e-ad3a9a2dd549","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:48.840Z","level":"info","message":"initial_upload_completed","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","jobId":"487da992-056f-4c91-ad2e-ad3a9a2dd549","bucket":"test-bucket","key":"cv/candidate/60879a9f-7cf1-4101-8372-a6322971b50a/incoming/original.pdf","template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.841Z","level":"info","message":"resume_text_extracted","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","jobId":"487da992-056f-4c91-ad2e-ad3a9a2dd549","characters":9,"template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.842Z","level":"info","message":"document_classification_ai_metrics","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","jobId":"487da992-056f-4c91-ad2e-ad3a9a2dd549","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"3fb95a90cc3314ffe158e6938082b6242f708ef53653928d4aec2ec0ec66e1aa","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.845Z","level":"info","message":"resume_classified","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","jobId":"487da992-056f-4c91-ad2e-ad3a9a2dd549","isResume":false,"description":"a document starting with \"Docx text\"","confidence":0.3,"accepted":true,"overridden":true,"template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.846Z","level":"info","message":"raw_upload_relocated","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","jobId":"487da992-056f-4c91-ad2e-ad3a9a2dd549","bucket":"test-bucket","fromKey":"cv/candidate/60879a9f-7cf1-4101-8372-a6322971b50a/incoming/original.pdf","toKey":"cv/docx_text/60879a9f-7cf1-4101-8372-a6322971b50a/original.docx","template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.848Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","jobId":"487da992-056f-4c91-ad2e-ad3a9a2dd549","bucket":"test-bucket","key":"cv/docx_text/60879a9f-7cf1-4101-8372-a6322971b50a/original.docx","template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.848Z","level":"info","message":"dynamo_initial_record_written","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","jobId":"487da992-056f-4c91-ad2e-ad3a9a2dd549","bucket":"test-bucket","key":"cv/docx_text/60879a9f-7cf1-4101-8372-a6322971b50a/original.docx","template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.850Z","level":"info","message":"upload_metadata_written","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","jobId":"487da992-056f-4c91-ad2e-ad3a9a2dd549","bucket":"test-bucket","key":"cv/docx_text/60879a9f-7cf1-4101-8372-a6322971b50a/logs/log.json","template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.852Z","level":"info","message":"job_description_supplied_manually","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","jobId":"487da992-056f-4c91-ad2e-ad3a9a2dd549","characters":174,"template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.854Z","level":"info","message":"job_description_analyzed","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","jobId":"487da992-056f-4c91-ad2e-ad3a9a2dd549","jobTitle":"","jobSkills":5,"template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.857Z","level":"info","message":"resume_skills_analyzed","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","jobId":"487da992-056f-4c91-ad2e-ad3a9a2dd549","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.859Z","level":"info","message":"llm_call_metrics","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"60879a9f-7cf1-4101-8372-a6322971b50a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"60879a9f-7cf1-4101-8372-a6322971b50a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.864Z","level":"info","message":"process_cv_scoring_completed","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","jobId":"487da992-056f-4c91-ad2e-ad3a9a2dd549","applicantName":"Docx text","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.873Z","level":"info","message":"llm_call_metrics","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"31abd14e21e30560dd0979a805a53ba1e348c7a15b5557d1589a085105e61022","outputDigest":"20c6bad519a1c8c51482632fc36f521f4cdc6c74524ae2a7da48d87e23be89bd","addedSkillCount":0,"template":"resume_rewrite","session":"60879a9f-7cf1-4101-8372-a6322971b50a","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"60879a9f-7cf1-4101-8372-a6322971b50a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.875Z","level":"info","message":"generation_section_rewrite_completed","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","jobId":"487da992-056f-4c91-ad2e-ad3a9a2dd549","generationRunId":"60879a9f-7cf1-4101-8372-a6322971b50a","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.877Z","level":"info","message":"llm_call_metrics","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"60879a9f-7cf1-4101-8372-a6322971b50a","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"60879a9f-7cf1-4101-8372-a6322971b50a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.883Z","level":"info","message":"generation_resume_verified","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","jobId":"487da992-056f-4c91-ad2e-ad3a9a2dd549","generationRunId":"60879a9f-7cf1-4101-8372-a6322971b50a","template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-29T11:12:48.899Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","jobId":"487da992-056f-4c91-ad2e-ad3a9a2dd549","generationRunId":"60879a9f-7cf1-4101-8372-a6322971b50a","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20337:7)
          at runMicrotasks (<anonymous>)
      at server.js:26533:28

  console.warn
    {"timestamp":"2025-11-29T11:12:48.914Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","jobId":"487da992-056f-4c91-ad2e-ad3a9a2dd549","generationRunId":"60879a9f-7cf1-4101-8372-a6322971b50a","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20526:7)
          at runMicrotasks (<anonymous>)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:48.924Z","level":"info","message":"generation_cover_letters_completed","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","jobId":"487da992-056f-4c91-ad2e-ad3a9a2dd549","generationRunId":"60879a9f-7cf1-4101-8372-a6322971b50a","variants":2,"fallbackApplied":true,"template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.927Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","jobId":"487da992-056f-4c91-ad2e-ad3a9a2dd549","generationRunId":"60879a9f-7cf1-4101-8372-a6322971b50a","documentType":"resume","outputName":"original_upload","outputKeyPrefix":"cv/docx_text/60879a9f-7cf1-4101-8372-a6322971b50a/","originalUploadKey":"cv/docx_text/60879a9f-7cf1-4101-8372-a6322971b50a/original.docx","originalUploadExtension":".docx","templateId":"modern","requestedTemplateId":"modern","engine":"pdf-lib","bytes":9,"template":"modern","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.929Z","level":"info","message":"original_upload_pdf_generated","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","jobId":"487da992-056f-4c91-ad2e-ad3a9a2dd549","generationRunId":"60879a9f-7cf1-4101-8372-a6322971b50a","storageKey":"cv/docx_text/60879a9f-7cf1-4101-8372-a6322971b50a/original/original_upload.pdf","originalUploadKey":"cv/docx_text/60879a9f-7cf1-4101-8372-a6322971b50a/original.docx","originalUploadExtension":".docx","template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.930Z","level":"info","message":"pdf_generation_attempt","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","jobId":"487da992-056f-4c91-ad2e-ad3a9a2dd549","generationRunId":"60879a9f-7cf1-4101-8372-a6322971b50a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/60879a9f-7cf1-4101-8372-a6322971b50a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/60879a9f-7cf1-4101-8372-a6322971b50a/enhanced_modern.pdf","session":"60879a9f-7cf1-4101-8372-a6322971b50a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"60879a9f-7cf1-4101-8372-a6322971b50a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.932Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","jobId":"487da992-056f-4c91-ad2e-ad3a9a2dd549","generationRunId":"60879a9f-7cf1-4101-8372-a6322971b50a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/60879a9f-7cf1-4101-8372-a6322971b50a/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"60879a9f-7cf1-4101-8372-a6322971b50a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"60879a9f-7cf1-4101-8372-a6322971b50a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.934Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","jobId":"487da992-056f-4c91-ad2e-ad3a9a2dd549","generationRunId":"60879a9f-7cf1-4101-8372-a6322971b50a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/60879a9f-7cf1-4101-8372-a6322971b50a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/60879a9f-7cf1-4101-8372-a6322971b50a/enhanced_modern.pdf","session":"60879a9f-7cf1-4101-8372-a6322971b50a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"60879a9f-7cf1-4101-8372-a6322971b50a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.938Z","level":"info","message":"pdf_generation_attempt","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","jobId":"487da992-056f-4c91-ad2e-ad3a9a2dd549","generationRunId":"60879a9f-7cf1-4101-8372-a6322971b50a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/60879a9f-7cf1-4101-8372-a6322971b50a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/60879a9f-7cf1-4101-8372-a6322971b50a/enhanced_professional.pdf","session":"60879a9f-7cf1-4101-8372-a6322971b50a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"60879a9f-7cf1-4101-8372-a6322971b50a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.939Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","jobId":"487da992-056f-4c91-ad2e-ad3a9a2dd549","generationRunId":"60879a9f-7cf1-4101-8372-a6322971b50a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/60879a9f-7cf1-4101-8372-a6322971b50a/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"60879a9f-7cf1-4101-8372-a6322971b50a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"60879a9f-7cf1-4101-8372-a6322971b50a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.942Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","jobId":"487da992-056f-4c91-ad2e-ad3a9a2dd549","generationRunId":"60879a9f-7cf1-4101-8372-a6322971b50a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/60879a9f-7cf1-4101-8372-a6322971b50a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/60879a9f-7cf1-4101-8372-a6322971b50a/enhanced_professional.pdf","session":"60879a9f-7cf1-4101-8372-a6322971b50a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"60879a9f-7cf1-4101-8372-a6322971b50a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.944Z","level":"info","message":"pdf_generation_attempt","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","jobId":"487da992-056f-4c91-ad2e-ad3a9a2dd549","generationRunId":"60879a9f-7cf1-4101-8372-a6322971b50a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/60879a9f-7cf1-4101-8372-a6322971b50a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/60879a9f-7cf1-4101-8372-a6322971b50a/cover_letter_cover_modern.pdf","session":"60879a9f-7cf1-4101-8372-a6322971b50a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"60879a9f-7cf1-4101-8372-a6322971b50a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.946Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","jobId":"487da992-056f-4c91-ad2e-ad3a9a2dd549","generationRunId":"60879a9f-7cf1-4101-8372-a6322971b50a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/60879a9f-7cf1-4101-8372-a6322971b50a/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"60879a9f-7cf1-4101-8372-a6322971b50a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"60879a9f-7cf1-4101-8372-a6322971b50a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.948Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","jobId":"487da992-056f-4c91-ad2e-ad3a9a2dd549","generationRunId":"60879a9f-7cf1-4101-8372-a6322971b50a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/60879a9f-7cf1-4101-8372-a6322971b50a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/60879a9f-7cf1-4101-8372-a6322971b50a/cover_letter_cover_modern.pdf","session":"60879a9f-7cf1-4101-8372-a6322971b50a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"60879a9f-7cf1-4101-8372-a6322971b50a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.949Z","level":"info","message":"pdf_generation_attempt","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","jobId":"487da992-056f-4c91-ad2e-ad3a9a2dd549","generationRunId":"60879a9f-7cf1-4101-8372-a6322971b50a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/60879a9f-7cf1-4101-8372-a6322971b50a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/60879a9f-7cf1-4101-8372-a6322971b50a/cover_letter_cover_professional.pdf","session":"60879a9f-7cf1-4101-8372-a6322971b50a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"60879a9f-7cf1-4101-8372-a6322971b50a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.951Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","jobId":"487da992-056f-4c91-ad2e-ad3a9a2dd549","generationRunId":"60879a9f-7cf1-4101-8372-a6322971b50a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/60879a9f-7cf1-4101-8372-a6322971b50a/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"60879a9f-7cf1-4101-8372-a6322971b50a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"60879a9f-7cf1-4101-8372-a6322971b50a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.953Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","jobId":"487da992-056f-4c91-ad2e-ad3a9a2dd549","generationRunId":"60879a9f-7cf1-4101-8372-a6322971b50a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/60879a9f-7cf1-4101-8372-a6322971b50a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/60879a9f-7cf1-4101-8372-a6322971b50a/cover_letter_cover_professional.pdf","session":"60879a9f-7cf1-4101-8372-a6322971b50a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"60879a9f-7cf1-4101-8372-a6322971b50a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.961Z","level":"info","message":"llm_call_metrics","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"60879a9f-7cf1-4101-8372-a6322971b50a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"60879a9f-7cf1-4101-8372-a6322971b50a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.963Z","level":"info","message":"generation_completed","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","jobId":"487da992-056f-4c91-ad2e-ad3a9a2dd549","generationRunId":"60879a9f-7cf1-4101-8372-a6322971b50a","enhancedScore":80,"outputs":6,"template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.967Z","level":"info","message":"placeholder_record_deleted","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","jobId":"487da992-056f-4c91-ad2e-ad3a9a2dd549","placeholderIdentifier":"60879a9f-7cf1-4101-8372-a6322971b50a","template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"487da992-056f-4c91-ad2e-ad3a9a2dd549","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:48.970Z","level":"info","message":"http_request_completed","requestId":"60879a9f-7cf1-4101-8372-a6322971b50a","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":380,"contentLength":"58696","template":"unknown","session":"60879a9f-7cf1-4101-8372-a6322971b50a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60879a9f-7cf1-4101-8372-a6322971b50a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:48.980Z","level":"info","message":"http_request_received","requestId":"265346d0-7379-4797-8cd4-323411e32f72","method":"POST","path":"/api/process-cv","template":"unknown","session":"265346d0-7379-4797-8cd4-323411e32f72","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"265346d0-7379-4797-8cd4-323411e32f72","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:49.000Z","level":"warn","message":"resume_upload_failed","requestId":"265346d0-7379-4797-8cd4-323411e32f72","jobId":"9d92d657-3f90-410d-a189-b29dfba7888b","storageError":false,"error":{"name":"MulterError","message":"File too large","code":"LIMIT_FILE_SIZE","stack":"MulterError: File too large\n    at abortWithCode (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:73:22)\n    at FileStream.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:136:11)\n    at FileStream.emit (node:events:513:28)\n    at SBMH.ssCb [as _cb] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:479:32)\n    at feed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:219:14)\n    at SBMH.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:391:12)\n    at _write (node:internal/streams/writable:332:10)\n    at Multipart.Writable.write (node:internal/streams/writable:336:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:754:22)\n    at IncomingMessage.emit (node:events:513:28)\n    at addChunk (node:internal/streams/readable:315:12)\n    at readableAddChunk (node:internal/streams/readable:289:9)\n    at IncomingMessage.Readable.push (node:internal/streams/readable:228:10)\n    at HTTPParser.parserOnBody (node:_http_common:140:24)"},"template":"unknown","session":"9d92d657-3f90-410d-a189-b29dfba7888b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9d92d657-3f90-410d-a189-b29dfba7888b","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:24582:7)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at node_modules/multer/lib/remove-uploaded-files.js:20:9
      at Object.cb [as _removeFile] (lib/uploads/s3StreamingStorage.js:152:9)
      at remove (node_modules/multer/lib/make-middleware.js:60:19)
      at handleFile (node_modules/multer/lib/remove-uploaded-files.js:10:5)
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:25:3)
      at Counter.<anonymous> (node_modules/multer/lib/make-middleware.js:63:9)
      at Counter.decrement (node_modules/multer/lib/counter.js:15:32)
      at node_modules/multer/lib/make-middleware.js:143:34
      at cb (lib/uploads/s3StreamingStorage.js:82:9)
      at FileStream.finish (lib/uploads/s3StreamingStorage.js:136:11)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-29T11:12:49.016Z","level":"warn","message":"api_error_response","requestId":"265346d0-7379-4797-8cd4-323411e32f72","jobId":"9d92d657-3f90-410d-a189-b29dfba7888b","status":400,"error":{"code":"UPLOAD_VALIDATION_FAILED","message":"File too large","details":{"field":"resume"},"requestId":"265346d0-7379-4797-8cd4-323411e32f72","jobId":"9d92d657-3f90-410d-a189-b29dfba7888b"},"template":"unknown","session":"9d92d657-3f90-410d-a189-b29dfba7888b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9d92d657-3f90-410d-a189-b29dfba7888b","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:3825:3)
      at sendError (server.js:24590:9)
      at respond (server.js:24594:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at node_modules/multer/lib/remove-uploaded-files.js:20:9
      at Object.cb [as _removeFile] (lib/uploads/s3StreamingStorage.js:152:9)
      at remove (node_modules/multer/lib/make-middleware.js:60:19)
      at handleFile (node_modules/multer/lib/remove-uploaded-files.js:10:5)
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:25:3)
      at Counter.<anonymous> (node_modules/multer/lib/make-middleware.js:63:9)
      at Counter.decrement (node_modules/multer/lib/counter.js:15:32)
      at node_modules/multer/lib/make-middleware.js:143:34
      at cb (lib/uploads/s3StreamingStorage.js:82:9)
      at FileStream.finish (lib/uploads/s3StreamingStorage.js:136:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.039Z","level":"info","message":"http_request_completed","requestId":"265346d0-7379-4797-8cd4-323411e32f72","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":59,"contentLength":"215","template":"unknown","session":"265346d0-7379-4797-8cd4-323411e32f72","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"265346d0-7379-4797-8cd4-323411e32f72","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:49.049Z","level":"info","message":"http_request_received","requestId":"607742f3-958f-4658-8fef-b098581fee55","method":"POST","path":"/api/process-cv","template":"unknown","session":"607742f3-958f-4658-8fef-b098581fee55","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"607742f3-958f-4658-8fef-b098581fee55","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:49.054Z","level":"info","message":"process_cv_started","requestId":"607742f3-958f-4658-8fef-b098581fee55","jobId":"63cc51a0-421e-4eb1-b631-29a3401c1aa3","manualJobDescriptionProvided":true,"template":"unknown","session":"63cc51a0-421e-4eb1-b631-29a3401c1aa3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63cc51a0-421e-4eb1-b631-29a3401c1aa3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:49.055Z","level":"info","message":"template_selection","requestId":"607742f3-958f-4658-8fef-b098581fee55","jobId":"63cc51a0-421e-4eb1-b631-29a3401c1aa3","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"63cc51a0-421e-4eb1-b631-29a3401c1aa3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"63cc51a0-421e-4eb1-b631-29a3401c1aa3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:49.057Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"607742f3-958f-4658-8fef-b098581fee55","jobId":"63cc51a0-421e-4eb1-b631-29a3401c1aa3","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"63cc51a0-421e-4eb1-b631-29a3401c1aa3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63cc51a0-421e-4eb1-b631-29a3401c1aa3","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:24934:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24574:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:12:49.070Z","level":"info","message":"initial_upload_completed","requestId":"607742f3-958f-4658-8fef-b098581fee55","jobId":"63cc51a0-421e-4eb1-b631-29a3401c1aa3","bucket":"test-bucket","key":"cv/candidate/607742f3-958f-4658-8fef-b098581fee55/incoming/original.pdf","template":"unknown","session":"63cc51a0-421e-4eb1-b631-29a3401c1aa3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63cc51a0-421e-4eb1-b631-29a3401c1aa3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.072Z","level":"info","message":"resume_text_extracted","requestId":"607742f3-958f-4658-8fef-b098581fee55","jobId":"63cc51a0-421e-4eb1-b631-29a3401c1aa3","characters":70,"template":"unknown","session":"63cc51a0-421e-4eb1-b631-29a3401c1aa3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63cc51a0-421e-4eb1-b631-29a3401c1aa3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.074Z","level":"info","message":"document_classification_ai_metrics","requestId":"607742f3-958f-4658-8fef-b098581fee55","jobId":"63cc51a0-421e-4eb1-b631-29a3401c1aa3","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"6e7cfda39efd36ecdd0998d74c5dc8668e761fe838cd589d1b8e87517f67efbf","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"63cc51a0-421e-4eb1-b631-29a3401c1aa3","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"63cc51a0-421e-4eb1-b631-29a3401c1aa3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.077Z","level":"info","message":"resume_classified","requestId":"607742f3-958f-4658-8fef-b098581fee55","jobId":"63cc51a0-421e-4eb1-b631-29a3401c1aa3","isResume":false,"description":"an invoice document","confidence":0.4,"accepted":false,"overridden":false,"template":"unknown","session":"63cc51a0-421e-4eb1-b631-29a3401c1aa3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63cc51a0-421e-4eb1-b631-29a3401c1aa3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-29T11:12:49.080Z","level":"warn","message":"resume_validation_failed","requestId":"607742f3-958f-4658-8fef-b098581fee55","jobId":"63cc51a0-421e-4eb1-b631-29a3401c1aa3","reason":"not_identified_as_resume","description":"an invoice document","confidence":0.4,"wordCount":12,"invalidKey":"invalid/candidate/2025-11-29/607742f3-958f-4658-8fef-b098581fee55/an-invoice-99fb33a9-aa9c-4c03-a3b8-49b15b48ea1c.pdf","classification":"an invoice","template":"unknown","session":"63cc51a0-421e-4eb1-b631-29a3401c1aa3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63cc51a0-421e-4eb1-b631-29a3401c1aa3","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:25469:9)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-29T11:12:49.091Z","level":"warn","message":"api_error_response","requestId":"607742f3-958f-4658-8fef-b098581fee55","jobId":"63cc51a0-421e-4eb1-b631-29a3401c1aa3","status":400,"error":{"code":"INVALID_RESUME_CONTENT","message":"You have uploaded an invoice document (classified as \"invoice\"). Detected invoice document keywords such as \"invoice\", \"bill to\", and \"payment terms\". Please upload a correct CV or resume to continue.","details":{"description":"an invoice document","confidence":0.4,"reason":"Detected invoice document keywords such as \"invoice\", \"bill to\", and \"payment terms\".","classification":"an invoice","className":"invoice","storageKey":"invalid/candidate/2025-11-29/607742f3-958f-4658-8fef-b098581fee55/an-invoice-99fb33a9-aa9c-4c03-a3b8-49b15b48ea1c.pdf","invalidStorageKey":"invalid/candidate/2025-11-29/607742f3-958f-4658-8fef-b098581fee55/an-invoice-99fb33a9-aa9c-4c03-a3b8-49b15b48ea1c.pdf"},"requestId":"607742f3-958f-4658-8fef-b098581fee55","jobId":"63cc51a0-421e-4eb1-b631-29a3401c1aa3"},"template":"unknown","session":"63cc51a0-421e-4eb1-b631-29a3401c1aa3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63cc51a0-421e-4eb1-b631-29a3401c1aa3","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:3825:3)
      at sendError (server.js:25544:14)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.101Z","level":"info","message":"http_request_completed","requestId":"607742f3-958f-4658-8fef-b098581fee55","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":52,"contentLength":"871","template":"unknown","session":"607742f3-958f-4658-8fef-b098581fee55","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"607742f3-958f-4658-8fef-b098581fee55","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:49.107Z","level":"info","message":"http_request_received","requestId":"e839df3d-fba3-4157-a849-5a46f4e472dc","method":"POST","path":"/api/process-cv","template":"unknown","session":"e839df3d-fba3-4157-a849-5a46f4e472dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e839df3d-fba3-4157-a849-5a46f4e472dc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:49.120Z","level":"info","message":"process_cv_started","requestId":"e839df3d-fba3-4157-a849-5a46f4e472dc","jobId":"a3a6b725-8f9d-4ebd-a316-857783a1bbe8","manualJobDescriptionProvided":true,"template":"unknown","session":"a3a6b725-8f9d-4ebd-a316-857783a1bbe8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a3a6b725-8f9d-4ebd-a316-857783a1bbe8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:49.123Z","level":"info","message":"template_selection","requestId":"e839df3d-fba3-4157-a849-5a46f4e472dc","jobId":"a3a6b725-8f9d-4ebd-a316-857783a1bbe8","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"a3a6b725-8f9d-4ebd-a316-857783a1bbe8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a3a6b725-8f9d-4ebd-a316-857783a1bbe8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:49.127Z","level":"info","message":"initial_upload_completed","requestId":"e839df3d-fba3-4157-a849-5a46f4e472dc","jobId":"a3a6b725-8f9d-4ebd-a316-857783a1bbe8","bucket":"test-bucket","key":"cv/candidate/e839df3d-fba3-4157-a849-5a46f4e472dc/incoming/original.pdf","template":"unknown","session":"a3a6b725-8f9d-4ebd-a316-857783a1bbe8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a3a6b725-8f9d-4ebd-a316-857783a1bbe8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.128Z","level":"info","message":"resume_text_extracted","requestId":"e839df3d-fba3-4157-a849-5a46f4e472dc","jobId":"a3a6b725-8f9d-4ebd-a316-857783a1bbe8","characters":52,"template":"unknown","session":"a3a6b725-8f9d-4ebd-a316-857783a1bbe8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a3a6b725-8f9d-4ebd-a316-857783a1bbe8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.131Z","level":"info","message":"document_classification_ai_metrics","requestId":"e839df3d-fba3-4157-a849-5a46f4e472dc","jobId":"a3a6b725-8f9d-4ebd-a316-857783a1bbe8","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"b660b3e8ecbc83aad9e6543dcb4a0d862627f82012d98cdb58b183fb5f0cc539","outputDigest":"ce4b8bd954f55aa4d760051876705884299536b3f182fa6f09cbd2aaee0a6b16","latencyMs":0,"isResume":false,"confidence":0.2,"template":"document_classification","session":"a3a6b725-8f9d-4ebd-a316-857783a1bbe8","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"a3a6b725-8f9d-4ebd-a316-857783a1bbe8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.132Z","level":"info","message":"resume_classified","requestId":"e839df3d-fba3-4157-a849-5a46f4e472dc","jobId":"a3a6b725-8f9d-4ebd-a316-857783a1bbe8","isResume":false,"description":"a short memo","confidence":0.2,"accepted":false,"overridden":false,"template":"unknown","session":"a3a6b725-8f9d-4ebd-a316-857783a1bbe8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a3a6b725-8f9d-4ebd-a316-857783a1bbe8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-29T11:12:49.133Z","level":"warn","message":"resume_validation_failed","requestId":"e839df3d-fba3-4157-a849-5a46f4e472dc","jobId":"a3a6b725-8f9d-4ebd-a316-857783a1bbe8","reason":"not_identified_as_resume","description":"a short memo","confidence":0.2,"wordCount":9,"invalidKey":"invalid/candidate/2025-11-29/e839df3d-fba3-4157-a849-5a46f4e472dc/a-short-memo-280cbab8-baf3-433c-b91c-83de8c36d0ad.docx","classification":"a short memo","template":"unknown","session":"a3a6b725-8f9d-4ebd-a316-857783a1bbe8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a3a6b725-8f9d-4ebd-a316-857783a1bbe8","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:25469:9)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-29T11:12:49.147Z","level":"warn","message":"api_error_response","requestId":"e839df3d-fba3-4157-a849-5a46f4e472dc","jobId":"a3a6b725-8f9d-4ebd-a316-857783a1bbe8","status":400,"error":{"code":"INVALID_RESUME_CONTENT","message":"You have uploaded a short memo document (classified as \"short_memo\"). Missing resume structure. Please upload a correct CV or resume to continue.","details":{"description":"a short memo","confidence":0.2,"reason":"Missing resume structure.","classification":"a short memo","className":"short_memo","storageKey":"invalid/candidate/2025-11-29/e839df3d-fba3-4157-a849-5a46f4e472dc/a-short-memo-280cbab8-baf3-433c-b91c-83de8c36d0ad.docx","invalidStorageKey":"invalid/candidate/2025-11-29/e839df3d-fba3-4157-a849-5a46f4e472dc/a-short-memo-280cbab8-baf3-433c-b91c-83de8c36d0ad.docx"},"requestId":"e839df3d-fba3-4157-a849-5a46f4e472dc","jobId":"a3a6b725-8f9d-4ebd-a316-857783a1bbe8"},"template":"unknown","session":"a3a6b725-8f9d-4ebd-a316-857783a1bbe8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a3a6b725-8f9d-4ebd-a316-857783a1bbe8","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:3825:3)
      at sendError (server.js:25544:14)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.163Z","level":"info","message":"http_request_completed","requestId":"e839df3d-fba3-4157-a849-5a46f4e472dc","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":56,"contentLength":"748","template":"unknown","session":"e839df3d-fba3-4157-a849-5a46f4e472dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e839df3d-fba3-4157-a849-5a46f4e472dc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:49.175Z","level":"info","message":"http_request_received","requestId":"50c9c218-246d-4602-a0a5-92da843a904a","method":"POST","path":"/api/process-cv","template":"unknown","session":"50c9c218-246d-4602-a0a5-92da843a904a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"50c9c218-246d-4602-a0a5-92da843a904a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:49.180Z","level":"info","message":"process_cv_started","requestId":"50c9c218-246d-4602-a0a5-92da843a904a","jobId":"0cacb6e6-68aa-402e-8a5d-9ae1cde82da1","manualJobDescriptionProvided":false,"template":"unknown","session":"0cacb6e6-68aa-402e-8a5d-9ae1cde82da1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0cacb6e6-68aa-402e-8a5d-9ae1cde82da1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:49.182Z","level":"info","message":"template_selection","requestId":"50c9c218-246d-4602-a0a5-92da843a904a","jobId":"0cacb6e6-68aa-402e-8a5d-9ae1cde82da1","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"0cacb6e6-68aa-402e-8a5d-9ae1cde82da1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0cacb6e6-68aa-402e-8a5d-9ae1cde82da1","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:49.184Z","level":"warn","message":"job_description_missing","requestId":"50c9c218-246d-4602-a0a5-92da843a904a","jobId":"0cacb6e6-68aa-402e-8a5d-9ae1cde82da1","template":"unknown","session":"0cacb6e6-68aa-402e-8a5d-9ae1cde82da1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0cacb6e6-68aa-402e-8a5d-9ae1cde82da1","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:24898:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24574:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-11-29T11:12:49.195Z","level":"warn","message":"api_error_response","requestId":"50c9c218-246d-4602-a0a5-92da843a904a","jobId":"0cacb6e6-68aa-402e-8a5d-9ae1cde82da1","status":400,"error":{"code":"JOB_DESCRIPTION_REQUIRED","message":"manualJobDescription required","details":{"field":"manualJobDescription"},"requestId":"50c9c218-246d-4602-a0a5-92da843a904a","jobId":"0cacb6e6-68aa-402e-8a5d-9ae1cde82da1"},"template":"unknown","session":"0cacb6e6-68aa-402e-8a5d-9ae1cde82da1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0cacb6e6-68aa-402e-8a5d-9ae1cde82da1","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:3825:3)
      at sendError (server.js:24899:14)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24574:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:12:49.206Z","level":"info","message":"http_request_completed","requestId":"50c9c218-246d-4602-a0a5-92da843a904a","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":31,"contentLength":"244","template":"unknown","session":"50c9c218-246d-4602-a0a5-92da843a904a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"50c9c218-246d-4602-a0a5-92da843a904a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:49.213Z","level":"info","message":"http_request_received","requestId":"602100d2-63cd-451d-b024-094e46c75e99","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"602100d2-63cd-451d-b024-094e46c75e99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"602100d2-63cd-451d-b024-094e46c75e99","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:49.220Z","level":"warn","message":"api_error_response","requestId":"602100d2-63cd-451d-b024-094e46c75e99","jobId":"a49b2e03-972d-429e-98a2-59eb7db3bc7a","status":400,"error":{"code":"JOB_ID_REQUIRED","message":"jobId is required to generate enhanced documents.","details":{},"requestId":"602100d2-63cd-451d-b024-094e46c75e99","jobId":"a49b2e03-972d-429e-98a2-59eb7db3bc7a"},"template":"unknown","session":"a49b2e03-972d-429e-98a2-59eb7db3bc7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a49b2e03-972d-429e-98a2-59eb7db3bc7a","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:3825:3)
      at sendError (server.js:22308:14)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:16225:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at serveStatic (node_modules/serve-static/index.js:75:16)
      at clientStaticMiddleware (server.js:4760:14)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:1123:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:1454:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:4741:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at urlencodedParser (node_modules/body-parser/lib/types/urlencoded.js:85:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/body-parser/lib/read.js:137:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

  console.log
    {"timestamp":"2025-11-29T11:12:49.238Z","level":"info","message":"http_request_completed","requestId":"602100d2-63cd-451d-b024-094e46c75e99","method":"POST","path":"/api/generate-enhanced-docs","statusCode":400,"durationMs":25,"contentLength":"225","template":"unknown","session":"602100d2-63cd-451d-b024-094e46c75e99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"602100d2-63cd-451d-b024-094e46c75e99","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:49.243Z","level":"info","message":"http_request_received","requestId":"22d7f76f-9abe-4f96-b030-5866e9837509","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:49.246Z","level":"warn","message":"generation_job_context_missing","requestId":"22d7f76f-9abe-4f96-b030-5866e9837509","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:22500:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.286Z","level":"info","message":"llm_call_metrics","requestId":"22d7f76f-9abe-4f96-b030-5866e9837509","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"7ff1a2fe49f8d71808c8d1fdb99db5320bf5a75739ee80e7efed665ea9588077","outputDigest":"5af248b63fed3c73350376c1d32988fbeb95f6a40181a19b7e450c5651a56ea6","addedSkillCount":0,"template":"resume_rewrite","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.287Z","level":"info","message":"generation_section_rewrite_completed","requestId":"22d7f76f-9abe-4f96-b030-5866e9837509","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"22d7f76f-9abe-4f96-b030-5866e9837509","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.298Z","level":"info","message":"generation_resume_verified","requestId":"22d7f76f-9abe-4f96-b030-5866e9837509","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"22d7f76f-9abe-4f96-b030-5866e9837509","template":"unknown","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-29T11:12:49.314Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"22d7f76f-9abe-4f96-b030-5866e9837509","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"22d7f76f-9abe-4f96-b030-5866e9837509","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20526:7)
          at runMicrotasks (<anonymous>)
      at server.js:22803:28

  console.log
    {"timestamp":"2025-11-29T11:12:49.329Z","level":"info","message":"generation_cover_letters_completed","requestId":"22d7f76f-9abe-4f96-b030-5866e9837509","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"22d7f76f-9abe-4f96-b030-5866e9837509","variants":2,"fallbackApplied":true,"template":"unknown","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.331Z","level":"info","message":"pdf_generation_attempt","requestId":"22d7f76f-9abe-4f96-b030-5866e9837509","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"22d7f76f-9abe-4f96-b030-5866e9837509","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/22d7f76f-9abe-4f96-b030-5866e9837509/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jane_doe/22d7f76f-9abe-4f96-b030-5866e9837509/enhanced_modern.pdf","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.333Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"22d7f76f-9abe-4f96-b030-5866e9837509","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"22d7f76f-9abe-4f96-b030-5866e9837509","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/22d7f76f-9abe-4f96-b030-5866e9837509/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.335Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"22d7f76f-9abe-4f96-b030-5866e9837509","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"22d7f76f-9abe-4f96-b030-5866e9837509","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/22d7f76f-9abe-4f96-b030-5866e9837509/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jane_doe/22d7f76f-9abe-4f96-b030-5866e9837509/enhanced_modern.pdf","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.336Z","level":"info","message":"pdf_generation_attempt","requestId":"22d7f76f-9abe-4f96-b030-5866e9837509","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"22d7f76f-9abe-4f96-b030-5866e9837509","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/22d7f76f-9abe-4f96-b030-5866e9837509/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jane_doe/22d7f76f-9abe-4f96-b030-5866e9837509/enhanced_professional.pdf","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.338Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"22d7f76f-9abe-4f96-b030-5866e9837509","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"22d7f76f-9abe-4f96-b030-5866e9837509","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/22d7f76f-9abe-4f96-b030-5866e9837509/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.339Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"22d7f76f-9abe-4f96-b030-5866e9837509","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"22d7f76f-9abe-4f96-b030-5866e9837509","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/22d7f76f-9abe-4f96-b030-5866e9837509/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jane_doe/22d7f76f-9abe-4f96-b030-5866e9837509/enhanced_professional.pdf","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.341Z","level":"info","message":"pdf_generation_attempt","requestId":"22d7f76f-9abe-4f96-b030-5866e9837509","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"22d7f76f-9abe-4f96-b030-5866e9837509","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/22d7f76f-9abe-4f96-b030-5866e9837509/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jane_doe/22d7f76f-9abe-4f96-b030-5866e9837509/cover_letter_cover_modern.pdf","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.342Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"22d7f76f-9abe-4f96-b030-5866e9837509","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"22d7f76f-9abe-4f96-b030-5866e9837509","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/22d7f76f-9abe-4f96-b030-5866e9837509/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.344Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"22d7f76f-9abe-4f96-b030-5866e9837509","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"22d7f76f-9abe-4f96-b030-5866e9837509","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/22d7f76f-9abe-4f96-b030-5866e9837509/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jane_doe/22d7f76f-9abe-4f96-b030-5866e9837509/cover_letter_cover_modern.pdf","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.347Z","level":"info","message":"pdf_generation_attempt","requestId":"22d7f76f-9abe-4f96-b030-5866e9837509","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"22d7f76f-9abe-4f96-b030-5866e9837509","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/22d7f76f-9abe-4f96-b030-5866e9837509/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jane_doe/22d7f76f-9abe-4f96-b030-5866e9837509/cover_letter_cover_professional.pdf","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.348Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"22d7f76f-9abe-4f96-b030-5866e9837509","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"22d7f76f-9abe-4f96-b030-5866e9837509","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/22d7f76f-9abe-4f96-b030-5866e9837509/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.350Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"22d7f76f-9abe-4f96-b030-5866e9837509","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"22d7f76f-9abe-4f96-b030-5866e9837509","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/22d7f76f-9abe-4f96-b030-5866e9837509/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jane_doe/22d7f76f-9abe-4f96-b030-5866e9837509/cover_letter_cover_professional.pdf","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.355Z","level":"info","message":"llm_call_metrics","requestId":"22d7f76f-9abe-4f96-b030-5866e9837509","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.356Z","level":"info","message":"generation_completed","requestId":"22d7f76f-9abe-4f96-b030-5866e9837509","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"22d7f76f-9abe-4f96-b030-5866e9837509","enhancedScore":0,"outputs":4,"template":"unknown","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.362Z","level":"info","message":"http_request_completed","requestId":"22d7f76f-9abe-4f96-b030-5866e9837509","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":119,"contentLength":"55422","template":"unknown","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"22d7f76f-9abe-4f96-b030-5866e9837509","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:49.367Z","level":"info","message":"http_request_received","requestId":"a2a43232-9c9e-47f6-ac37-0798cc433422","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:49.370Z","level":"warn","message":"generation_job_context_missing","requestId":"a2a43232-9c9e-47f6-ac37-0798cc433422","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:22500:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.403Z","level":"info","message":"llm_call_metrics","requestId":"a2a43232-9c9e-47f6-ac37-0798cc433422","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.405Z","level":"info","message":"generation_section_rewrite_completed","requestId":"a2a43232-9c9e-47f6-ac37-0798cc433422","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a2a43232-9c9e-47f6-ac37-0798cc433422","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.414Z","level":"info","message":"generation_resume_verified","requestId":"a2a43232-9c9e-47f6-ac37-0798cc433422","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a2a43232-9c9e-47f6-ac37-0798cc433422","template":"unknown","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-29T11:12:49.438Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"a2a43232-9c9e-47f6-ac37-0798cc433422","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a2a43232-9c9e-47f6-ac37-0798cc433422","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20526:7)
          at runMicrotasks (<anonymous>)
      at server.js:22803:28

  console.log
    {"timestamp":"2025-11-29T11:12:49.450Z","level":"info","message":"generation_cover_letters_completed","requestId":"a2a43232-9c9e-47f6-ac37-0798cc433422","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a2a43232-9c9e-47f6-ac37-0798cc433422","variants":2,"fallbackApplied":true,"template":"unknown","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.452Z","level":"info","message":"pdf_generation_attempt","requestId":"a2a43232-9c9e-47f6-ac37-0798cc433422","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a2a43232-9c9e-47f6-ac37-0798cc433422","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/a2a43232-9c9e-47f6-ac37-0798cc433422/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/a2a43232-9c9e-47f6-ac37-0798cc433422/enhanced_modern.pdf","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.454Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a2a43232-9c9e-47f6-ac37-0798cc433422","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a2a43232-9c9e-47f6-ac37-0798cc433422","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/a2a43232-9c9e-47f6-ac37-0798cc433422/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.460Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a2a43232-9c9e-47f6-ac37-0798cc433422","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a2a43232-9c9e-47f6-ac37-0798cc433422","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/a2a43232-9c9e-47f6-ac37-0798cc433422/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/a2a43232-9c9e-47f6-ac37-0798cc433422/enhanced_modern.pdf","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.463Z","level":"info","message":"pdf_generation_attempt","requestId":"a2a43232-9c9e-47f6-ac37-0798cc433422","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a2a43232-9c9e-47f6-ac37-0798cc433422","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/a2a43232-9c9e-47f6-ac37-0798cc433422/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/a2a43232-9c9e-47f6-ac37-0798cc433422/enhanced_professional.pdf","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.465Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a2a43232-9c9e-47f6-ac37-0798cc433422","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a2a43232-9c9e-47f6-ac37-0798cc433422","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/a2a43232-9c9e-47f6-ac37-0798cc433422/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.467Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a2a43232-9c9e-47f6-ac37-0798cc433422","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a2a43232-9c9e-47f6-ac37-0798cc433422","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/a2a43232-9c9e-47f6-ac37-0798cc433422/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/a2a43232-9c9e-47f6-ac37-0798cc433422/enhanced_professional.pdf","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.468Z","level":"info","message":"pdf_generation_attempt","requestId":"a2a43232-9c9e-47f6-ac37-0798cc433422","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a2a43232-9c9e-47f6-ac37-0798cc433422","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/a2a43232-9c9e-47f6-ac37-0798cc433422/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/a2a43232-9c9e-47f6-ac37-0798cc433422/cover_letter_cover_modern.pdf","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.469Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a2a43232-9c9e-47f6-ac37-0798cc433422","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a2a43232-9c9e-47f6-ac37-0798cc433422","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/a2a43232-9c9e-47f6-ac37-0798cc433422/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.473Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a2a43232-9c9e-47f6-ac37-0798cc433422","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a2a43232-9c9e-47f6-ac37-0798cc433422","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/a2a43232-9c9e-47f6-ac37-0798cc433422/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/a2a43232-9c9e-47f6-ac37-0798cc433422/cover_letter_cover_modern.pdf","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.476Z","level":"info","message":"pdf_generation_attempt","requestId":"a2a43232-9c9e-47f6-ac37-0798cc433422","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a2a43232-9c9e-47f6-ac37-0798cc433422","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/a2a43232-9c9e-47f6-ac37-0798cc433422/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/a2a43232-9c9e-47f6-ac37-0798cc433422/cover_letter_cover_professional.pdf","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.478Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a2a43232-9c9e-47f6-ac37-0798cc433422","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a2a43232-9c9e-47f6-ac37-0798cc433422","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/a2a43232-9c9e-47f6-ac37-0798cc433422/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.480Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a2a43232-9c9e-47f6-ac37-0798cc433422","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a2a43232-9c9e-47f6-ac37-0798cc433422","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/a2a43232-9c9e-47f6-ac37-0798cc433422/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/a2a43232-9c9e-47f6-ac37-0798cc433422/cover_letter_cover_professional.pdf","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.491Z","level":"info","message":"llm_call_metrics","requestId":"a2a43232-9c9e-47f6-ac37-0798cc433422","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.496Z","level":"info","message":"generation_completed","requestId":"a2a43232-9c9e-47f6-ac37-0798cc433422","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a2a43232-9c9e-47f6-ac37-0798cc433422","enhancedScore":0,"outputs":4,"template":"unknown","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.503Z","level":"info","message":"http_request_completed","requestId":"a2a43232-9c9e-47f6-ac37-0798cc433422","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":136,"contentLength":"60025","template":"unknown","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a2a43232-9c9e-47f6-ac37-0798cc433422","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:49.510Z","level":"info","message":"http_request_received","requestId":"4e43898f-23df-4200-95ba-6dcb0348b29f","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:49.513Z","level":"warn","message":"generation_job_context_missing","requestId":"4e43898f-23df-4200-95ba-6dcb0348b29f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:22500:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.533Z","level":"info","message":"llm_call_metrics","requestId":"4e43898f-23df-4200-95ba-6dcb0348b29f","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.535Z","level":"info","message":"generation_section_rewrite_completed","requestId":"4e43898f-23df-4200-95ba-6dcb0348b29f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4e43898f-23df-4200-95ba-6dcb0348b29f","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.547Z","level":"info","message":"generation_resume_verified","requestId":"4e43898f-23df-4200-95ba-6dcb0348b29f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4e43898f-23df-4200-95ba-6dcb0348b29f","template":"unknown","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-29T11:12:49.561Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"4e43898f-23df-4200-95ba-6dcb0348b29f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4e43898f-23df-4200-95ba-6dcb0348b29f","invalidLetters":[{"key":"cover_letter1","issues":["placeholder_detected","weak_closing","section_heading_without_content"]}],"template":"unknown","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20337:7)
          at runMicrotasks (<anonymous>)
      at server.js:22803:28

  console.warn
    {"timestamp":"2025-11-29T11:12:49.573Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"4e43898f-23df-4200-95ba-6dcb0348b29f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4e43898f-23df-4200-95ba-6dcb0348b29f","missing":["cover_letter1"],"template":"unknown","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20526:7)
          at runMicrotasks (<anonymous>)
      at server.js:22803:28

  console.log
    {"timestamp":"2025-11-29T11:12:49.584Z","level":"info","message":"generation_cover_letters_completed","requestId":"4e43898f-23df-4200-95ba-6dcb0348b29f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4e43898f-23df-4200-95ba-6dcb0348b29f","variants":2,"fallbackApplied":true,"template":"unknown","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.586Z","level":"info","message":"pdf_generation_attempt","requestId":"4e43898f-23df-4200-95ba-6dcb0348b29f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4e43898f-23df-4200-95ba-6dcb0348b29f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/4e43898f-23df-4200-95ba-6dcb0348b29f/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/4e43898f-23df-4200-95ba-6dcb0348b29f/enhanced_modern.pdf","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.587Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4e43898f-23df-4200-95ba-6dcb0348b29f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4e43898f-23df-4200-95ba-6dcb0348b29f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/4e43898f-23df-4200-95ba-6dcb0348b29f/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.590Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4e43898f-23df-4200-95ba-6dcb0348b29f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4e43898f-23df-4200-95ba-6dcb0348b29f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/4e43898f-23df-4200-95ba-6dcb0348b29f/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/4e43898f-23df-4200-95ba-6dcb0348b29f/enhanced_modern.pdf","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.599Z","level":"info","message":"pdf_generation_attempt","requestId":"4e43898f-23df-4200-95ba-6dcb0348b29f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4e43898f-23df-4200-95ba-6dcb0348b29f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/4e43898f-23df-4200-95ba-6dcb0348b29f/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/4e43898f-23df-4200-95ba-6dcb0348b29f/enhanced_professional.pdf","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.602Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4e43898f-23df-4200-95ba-6dcb0348b29f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4e43898f-23df-4200-95ba-6dcb0348b29f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/4e43898f-23df-4200-95ba-6dcb0348b29f/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.603Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4e43898f-23df-4200-95ba-6dcb0348b29f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4e43898f-23df-4200-95ba-6dcb0348b29f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/4e43898f-23df-4200-95ba-6dcb0348b29f/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/4e43898f-23df-4200-95ba-6dcb0348b29f/enhanced_professional.pdf","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.605Z","level":"info","message":"pdf_generation_attempt","requestId":"4e43898f-23df-4200-95ba-6dcb0348b29f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4e43898f-23df-4200-95ba-6dcb0348b29f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/4e43898f-23df-4200-95ba-6dcb0348b29f/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/4e43898f-23df-4200-95ba-6dcb0348b29f/cover_letter_cover_modern.pdf","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.606Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4e43898f-23df-4200-95ba-6dcb0348b29f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4e43898f-23df-4200-95ba-6dcb0348b29f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/4e43898f-23df-4200-95ba-6dcb0348b29f/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.607Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4e43898f-23df-4200-95ba-6dcb0348b29f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4e43898f-23df-4200-95ba-6dcb0348b29f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/4e43898f-23df-4200-95ba-6dcb0348b29f/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/4e43898f-23df-4200-95ba-6dcb0348b29f/cover_letter_cover_modern.pdf","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.609Z","level":"info","message":"pdf_generation_attempt","requestId":"4e43898f-23df-4200-95ba-6dcb0348b29f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4e43898f-23df-4200-95ba-6dcb0348b29f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/4e43898f-23df-4200-95ba-6dcb0348b29f/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/4e43898f-23df-4200-95ba-6dcb0348b29f/cover_letter_cover_professional.pdf","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.611Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4e43898f-23df-4200-95ba-6dcb0348b29f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4e43898f-23df-4200-95ba-6dcb0348b29f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/4e43898f-23df-4200-95ba-6dcb0348b29f/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.613Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4e43898f-23df-4200-95ba-6dcb0348b29f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4e43898f-23df-4200-95ba-6dcb0348b29f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/4e43898f-23df-4200-95ba-6dcb0348b29f/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/4e43898f-23df-4200-95ba-6dcb0348b29f/cover_letter_cover_professional.pdf","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.620Z","level":"info","message":"llm_call_metrics","requestId":"4e43898f-23df-4200-95ba-6dcb0348b29f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.622Z","level":"info","message":"generation_completed","requestId":"4e43898f-23df-4200-95ba-6dcb0348b29f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4e43898f-23df-4200-95ba-6dcb0348b29f","enhancedScore":0,"outputs":4,"template":"unknown","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.627Z","level":"info","message":"http_request_completed","requestId":"4e43898f-23df-4200-95ba-6dcb0348b29f","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":117,"contentLength":"52626","template":"unknown","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4e43898f-23df-4200-95ba-6dcb0348b29f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:49.633Z","level":"info","message":"http_request_received","requestId":"dd7efee8-fada-4079-a485-30501aa140cf","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:49.637Z","level":"warn","message":"generation_job_context_missing","requestId":"dd7efee8-fada-4079-a485-30501aa140cf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:22500:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.654Z","level":"info","message":"llm_call_metrics","requestId":"dd7efee8-fada-4079-a485-30501aa140cf","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.655Z","level":"info","message":"generation_section_rewrite_completed","requestId":"dd7efee8-fada-4079-a485-30501aa140cf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dd7efee8-fada-4079-a485-30501aa140cf","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.664Z","level":"info","message":"generation_resume_verified","requestId":"dd7efee8-fada-4079-a485-30501aa140cf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dd7efee8-fada-4079-a485-30501aa140cf","template":"unknown","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-29T11:12:49.675Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"dd7efee8-fada-4079-a485-30501aa140cf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dd7efee8-fada-4079-a485-30501aa140cf","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing"]}],"template":"unknown","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20337:7)
          at runMicrotasks (<anonymous>)
      at server.js:22803:28

  console.log
    {"timestamp":"2025-11-29T11:12:49.686Z","level":"info","message":"generation_cover_letters_confident_closing_applied","requestId":"dd7efee8-fada-4079-a485-30501aa140cf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dd7efee8-fada-4079-a485-30501aa140cf","variants":["cover_letter1"],"template":"unknown","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.691Z","level":"info","message":"generation_cover_letters_completed","requestId":"dd7efee8-fada-4079-a485-30501aa140cf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dd7efee8-fada-4079-a485-30501aa140cf","variants":2,"fallbackApplied":true,"template":"unknown","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.693Z","level":"info","message":"pdf_generation_attempt","requestId":"dd7efee8-fada-4079-a485-30501aa140cf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dd7efee8-fada-4079-a485-30501aa140cf","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/dd7efee8-fada-4079-a485-30501aa140cf/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/dd7efee8-fada-4079-a485-30501aa140cf/enhanced_modern.pdf","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.695Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dd7efee8-fada-4079-a485-30501aa140cf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dd7efee8-fada-4079-a485-30501aa140cf","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/dd7efee8-fada-4079-a485-30501aa140cf/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.696Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dd7efee8-fada-4079-a485-30501aa140cf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dd7efee8-fada-4079-a485-30501aa140cf","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/dd7efee8-fada-4079-a485-30501aa140cf/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/dd7efee8-fada-4079-a485-30501aa140cf/enhanced_modern.pdf","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.697Z","level":"info","message":"pdf_generation_attempt","requestId":"dd7efee8-fada-4079-a485-30501aa140cf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dd7efee8-fada-4079-a485-30501aa140cf","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/dd7efee8-fada-4079-a485-30501aa140cf/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/dd7efee8-fada-4079-a485-30501aa140cf/enhanced_professional.pdf","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.699Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dd7efee8-fada-4079-a485-30501aa140cf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dd7efee8-fada-4079-a485-30501aa140cf","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/dd7efee8-fada-4079-a485-30501aa140cf/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.701Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dd7efee8-fada-4079-a485-30501aa140cf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dd7efee8-fada-4079-a485-30501aa140cf","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/dd7efee8-fada-4079-a485-30501aa140cf/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/dd7efee8-fada-4079-a485-30501aa140cf/enhanced_professional.pdf","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.702Z","level":"info","message":"pdf_generation_attempt","requestId":"dd7efee8-fada-4079-a485-30501aa140cf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dd7efee8-fada-4079-a485-30501aa140cf","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/dd7efee8-fada-4079-a485-30501aa140cf/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/dd7efee8-fada-4079-a485-30501aa140cf/cover_letter_cover_modern.pdf","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.703Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dd7efee8-fada-4079-a485-30501aa140cf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dd7efee8-fada-4079-a485-30501aa140cf","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/dd7efee8-fada-4079-a485-30501aa140cf/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.704Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dd7efee8-fada-4079-a485-30501aa140cf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dd7efee8-fada-4079-a485-30501aa140cf","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/dd7efee8-fada-4079-a485-30501aa140cf/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/dd7efee8-fada-4079-a485-30501aa140cf/cover_letter_cover_modern.pdf","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.706Z","level":"info","message":"pdf_generation_attempt","requestId":"dd7efee8-fada-4079-a485-30501aa140cf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dd7efee8-fada-4079-a485-30501aa140cf","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/dd7efee8-fada-4079-a485-30501aa140cf/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/dd7efee8-fada-4079-a485-30501aa140cf/cover_letter_cover_professional.pdf","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.708Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dd7efee8-fada-4079-a485-30501aa140cf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dd7efee8-fada-4079-a485-30501aa140cf","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/dd7efee8-fada-4079-a485-30501aa140cf/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.709Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dd7efee8-fada-4079-a485-30501aa140cf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dd7efee8-fada-4079-a485-30501aa140cf","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/dd7efee8-fada-4079-a485-30501aa140cf/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/dd7efee8-fada-4079-a485-30501aa140cf/cover_letter_cover_professional.pdf","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.721Z","level":"info","message":"llm_call_metrics","requestId":"dd7efee8-fada-4079-a485-30501aa140cf","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.730Z","level":"info","message":"generation_completed","requestId":"dd7efee8-fada-4079-a485-30501aa140cf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dd7efee8-fada-4079-a485-30501aa140cf","enhancedScore":0,"outputs":4,"template":"unknown","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.735Z","level":"info","message":"http_request_completed","requestId":"dd7efee8-fada-4079-a485-30501aa140cf","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":102,"contentLength":"48347","template":"unknown","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dd7efee8-fada-4079-a485-30501aa140cf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:49.741Z","level":"info","message":"http_request_received","requestId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:49.745Z","level":"warn","message":"generation_job_context_missing","requestId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:22500:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.762Z","level":"info","message":"llm_call_metrics","requestId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.763Z","level":"info","message":"generation_section_rewrite_completed","requestId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.771Z","level":"info","message":"generation_resume_verified","requestId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","template":"unknown","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-29T11:12:49.807Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","invalidLetters":[{"key":"cover_letter1","issues":["exceeds_word_limit"]},{"key":"cover_letter2","issues":["exceeds_word_limit"]}],"template":"unknown","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20337:7)
          at runMicrotasks (<anonymous>)
      at server.js:22803:28

  console.warn
    {"timestamp":"2025-11-29T11:12:49.821Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20526:7)
          at runMicrotasks (<anonymous>)
      at server.js:22803:28

  console.log
    {"timestamp":"2025-11-29T11:12:49.832Z","level":"info","message":"generation_cover_letters_completed","requestId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","variants":2,"fallbackApplied":true,"template":"unknown","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.835Z","level":"info","message":"pdf_generation_attempt","requestId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/687b3468-c99b-4f5c-ac9f-8209c8bffe2e/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/687b3468-c99b-4f5c-ac9f-8209c8bffe2e/enhanced_modern.pdf","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.837Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/687b3468-c99b-4f5c-ac9f-8209c8bffe2e/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.840Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/687b3468-c99b-4f5c-ac9f-8209c8bffe2e/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/687b3468-c99b-4f5c-ac9f-8209c8bffe2e/enhanced_modern.pdf","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.844Z","level":"info","message":"pdf_generation_attempt","requestId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/687b3468-c99b-4f5c-ac9f-8209c8bffe2e/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/687b3468-c99b-4f5c-ac9f-8209c8bffe2e/enhanced_professional.pdf","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.846Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/687b3468-c99b-4f5c-ac9f-8209c8bffe2e/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.847Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/687b3468-c99b-4f5c-ac9f-8209c8bffe2e/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/687b3468-c99b-4f5c-ac9f-8209c8bffe2e/enhanced_professional.pdf","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.848Z","level":"info","message":"pdf_generation_attempt","requestId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/687b3468-c99b-4f5c-ac9f-8209c8bffe2e/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/687b3468-c99b-4f5c-ac9f-8209c8bffe2e/cover_letter_cover_modern.pdf","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.849Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/687b3468-c99b-4f5c-ac9f-8209c8bffe2e/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.850Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/687b3468-c99b-4f5c-ac9f-8209c8bffe2e/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/687b3468-c99b-4f5c-ac9f-8209c8bffe2e/cover_letter_cover_modern.pdf","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.852Z","level":"info","message":"pdf_generation_attempt","requestId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/687b3468-c99b-4f5c-ac9f-8209c8bffe2e/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/687b3468-c99b-4f5c-ac9f-8209c8bffe2e/cover_letter_cover_professional.pdf","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.853Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/687b3468-c99b-4f5c-ac9f-8209c8bffe2e/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.859Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/687b3468-c99b-4f5c-ac9f-8209c8bffe2e/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/687b3468-c99b-4f5c-ac9f-8209c8bffe2e/cover_letter_cover_professional.pdf","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.877Z","level":"info","message":"llm_call_metrics","requestId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.880Z","level":"info","message":"generation_completed","requestId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","enhancedScore":0,"outputs":4,"template":"unknown","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.884Z","level":"info","message":"http_request_completed","requestId":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":143,"contentLength":"60025","template":"unknown","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"687b3468-c99b-4f5c-ac9f-8209c8bffe2e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:49.891Z","level":"info","message":"http_request_received","requestId":"fb12427f-b024-4a35-b32d-4238658bc594","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"fb12427f-b024-4a35-b32d-4238658bc594","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb12427f-b024-4a35-b32d-4238658bc594","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:49.896Z","level":"warn","message":"generation_job_context_missing","requestId":"fb12427f-b024-4a35-b32d-4238658bc594","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"fb12427f-b024-4a35-b32d-4238658bc594","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb12427f-b024-4a35-b32d-4238658bc594","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:22500:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.912Z","level":"info","message":"llm_call_metrics","requestId":"fb12427f-b024-4a35-b32d-4238658bc594","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d49fc3c9f3e6b68c516d8ed2277f352be0cdf73d24dc9159a6ddd8d2156f86c9","outputDigest":"df45602e27dd18441258611754779b1df94aaddbe2a7ac6965c12432f6053bc4","addedSkillCount":0,"template":"resume_rewrite","session":"fb12427f-b024-4a35-b32d-4238658bc594","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"fb12427f-b024-4a35-b32d-4238658bc594","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.913Z","level":"info","message":"generation_section_rewrite_completed","requestId":"fb12427f-b024-4a35-b32d-4238658bc594","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fb12427f-b024-4a35-b32d-4238658bc594","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"fb12427f-b024-4a35-b32d-4238658bc594","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb12427f-b024-4a35-b32d-4238658bc594","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.938Z","level":"info","message":"generation_resume_verified","requestId":"fb12427f-b024-4a35-b32d-4238658bc594","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fb12427f-b024-4a35-b32d-4238658bc594","template":"unknown","session":"fb12427f-b024-4a35-b32d-4238658bc594","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb12427f-b024-4a35-b32d-4238658bc594","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-29T11:12:49.952Z","level":"warn","message":"generation_cover_letters_unavailable","requestId":"fb12427f-b024-4a35-b32d-4238658bc594","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fb12427f-b024-4a35-b32d-4238658bc594","unavailable":["cover_letter1","cover_letter2"],"template":"unknown","session":"fb12427f-b024-4a35-b32d-4238658bc594","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb12427f-b024-4a35-b32d-4238658bc594","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20543:7)
          at runMicrotasks (<anonymous>)
      at server.js:22803:28

  console.log
    {"timestamp":"2025-11-29T11:12:49.966Z","level":"info","message":"generation_cover_letters_completed","requestId":"fb12427f-b024-4a35-b32d-4238658bc594","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fb12427f-b024-4a35-b32d-4238658bc594","variants":0,"fallbackApplied":false,"template":"unknown","session":"fb12427f-b024-4a35-b32d-4238658bc594","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb12427f-b024-4a35-b32d-4238658bc594","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.969Z","level":"info","message":"pdf_generation_attempt","requestId":"fb12427f-b024-4a35-b32d-4238658bc594","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fb12427f-b024-4a35-b32d-4238658bc594","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/fb12427f-b024-4a35-b32d-4238658bc594/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jamie_doe/fb12427f-b024-4a35-b32d-4238658bc594/enhanced_modern.pdf","session":"fb12427f-b024-4a35-b32d-4238658bc594","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"fb12427f-b024-4a35-b32d-4238658bc594","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.971Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"fb12427f-b024-4a35-b32d-4238658bc594","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fb12427f-b024-4a35-b32d-4238658bc594","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/fb12427f-b024-4a35-b32d-4238658bc594/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"fb12427f-b024-4a35-b32d-4238658bc594","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"fb12427f-b024-4a35-b32d-4238658bc594","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.973Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"fb12427f-b024-4a35-b32d-4238658bc594","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fb12427f-b024-4a35-b32d-4238658bc594","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/fb12427f-b024-4a35-b32d-4238658bc594/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jamie_doe/fb12427f-b024-4a35-b32d-4238658bc594/enhanced_modern.pdf","session":"fb12427f-b024-4a35-b32d-4238658bc594","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"fb12427f-b024-4a35-b32d-4238658bc594","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.975Z","level":"info","message":"pdf_generation_attempt","requestId":"fb12427f-b024-4a35-b32d-4238658bc594","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fb12427f-b024-4a35-b32d-4238658bc594","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/fb12427f-b024-4a35-b32d-4238658bc594/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jamie_doe/fb12427f-b024-4a35-b32d-4238658bc594/enhanced_professional.pdf","session":"fb12427f-b024-4a35-b32d-4238658bc594","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"fb12427f-b024-4a35-b32d-4238658bc594","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.982Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"fb12427f-b024-4a35-b32d-4238658bc594","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fb12427f-b024-4a35-b32d-4238658bc594","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/fb12427f-b024-4a35-b32d-4238658bc594/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"fb12427f-b024-4a35-b32d-4238658bc594","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"fb12427f-b024-4a35-b32d-4238658bc594","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.984Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"fb12427f-b024-4a35-b32d-4238658bc594","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fb12427f-b024-4a35-b32d-4238658bc594","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/fb12427f-b024-4a35-b32d-4238658bc594/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jamie_doe/fb12427f-b024-4a35-b32d-4238658bc594/enhanced_professional.pdf","session":"fb12427f-b024-4a35-b32d-4238658bc594","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"fb12427f-b024-4a35-b32d-4238658bc594","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.988Z","level":"info","message":"llm_call_metrics","requestId":"fb12427f-b024-4a35-b32d-4238658bc594","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"fb12427f-b024-4a35-b32d-4238658bc594","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"fb12427f-b024-4a35-b32d-4238658bc594","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:49.990Z","level":"info","message":"generation_completed","requestId":"fb12427f-b024-4a35-b32d-4238658bc594","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fb12427f-b024-4a35-b32d-4238658bc594","enhancedScore":0,"outputs":2,"template":"unknown","session":"fb12427f-b024-4a35-b32d-4238658bc594","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb12427f-b024-4a35-b32d-4238658bc594","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.000Z","level":"info","message":"http_request_completed","requestId":"fb12427f-b024-4a35-b32d-4238658bc594","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":109,"contentLength":"32129","template":"unknown","session":"fb12427f-b024-4a35-b32d-4238658bc594","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb12427f-b024-4a35-b32d-4238658bc594","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:50.013Z","level":"info","message":"http_request_received","requestId":"35b45ef6-270b-412d-8d36-fa585a303cf5","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:50.034Z","level":"warn","message":"generation_change_log_load_failed","requestId":"35b45ef6-270b-412d-8d36-fa585a303cf5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","bucket":"test-bucket","key":"cv/candidate/session/logs/change-log.json","error":{"name":"ReferenceError","message":"sessionScoreSnapshot is not defined","stack":"ReferenceError: sessionScoreSnapshot is not defined\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:22566:33\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:22568:13)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.047Z","level":"info","message":"generation_session_artifacts_refreshed","requestId":"35b45ef6-270b-412d-8d36-fa585a303cf5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","reason":"job_description_changed","template":"unknown","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.057Z","level":"info","message":"llm_call_metrics","requestId":"35b45ef6-270b-412d-8d36-fa585a303cf5","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"acf1b9378acb575b229122bd0509d239fb40292b5a2de638f8974b10630dddf9","outputDigest":"d38deb915a9824cbd24a0a21322f3421cffa08850deba8b630d4c012e36accc6","addedSkillCount":0,"template":"resume_rewrite","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.058Z","level":"info","message":"generation_section_rewrite_completed","requestId":"35b45ef6-270b-412d-8d36-fa585a303cf5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"35b45ef6-270b-412d-8d36-fa585a303cf5","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.059Z","level":"info","message":"llm_call_metrics","requestId":"35b45ef6-270b-412d-8d36-fa585a303cf5","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"a89c45c951abfe25af2671eb78aaf142165e3f6bd78d4b83089b4f9a78e64f20","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":1,"template":"project_summary","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.069Z","level":"info","message":"generation_resume_verified","requestId":"35b45ef6-270b-412d-8d36-fa585a303cf5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"35b45ef6-270b-412d-8d36-fa585a303cf5","template":"unknown","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-29T11:12:50.077Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"35b45ef6-270b-412d-8d36-fa585a303cf5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"35b45ef6-270b-412d-8d36-fa585a303cf5","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20337:7)
          at runMicrotasks (<anonymous>)
      at server.js:22803:28

  console.warn
    {"timestamp":"2025-11-29T11:12:50.099Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"35b45ef6-270b-412d-8d36-fa585a303cf5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"35b45ef6-270b-412d-8d36-fa585a303cf5","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20526:7)
          at runMicrotasks (<anonymous>)
      at server.js:22803:28

  console.log
    {"timestamp":"2025-11-29T11:12:50.114Z","level":"info","message":"generation_cover_letters_completed","requestId":"35b45ef6-270b-412d-8d36-fa585a303cf5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"35b45ef6-270b-412d-8d36-fa585a303cf5","variants":2,"fallbackApplied":true,"template":"unknown","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.118Z","level":"info","message":"pdf_generation_attempt","requestId":"35b45ef6-270b-412d-8d36-fa585a303cf5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"35b45ef6-270b-412d-8d36-fa585a303cf5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.122Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"35b45ef6-270b-412d-8d36-fa585a303cf5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"35b45ef6-270b-412d-8d36-fa585a303cf5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.126Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"35b45ef6-270b-412d-8d36-fa585a303cf5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"35b45ef6-270b-412d-8d36-fa585a303cf5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.131Z","level":"info","message":"pdf_generation_attempt","requestId":"35b45ef6-270b-412d-8d36-fa585a303cf5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"35b45ef6-270b-412d-8d36-fa585a303cf5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.138Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"35b45ef6-270b-412d-8d36-fa585a303cf5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"35b45ef6-270b-412d-8d36-fa585a303cf5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.141Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"35b45ef6-270b-412d-8d36-fa585a303cf5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"35b45ef6-270b-412d-8d36-fa585a303cf5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.145Z","level":"info","message":"pdf_generation_attempt","requestId":"35b45ef6-270b-412d-8d36-fa585a303cf5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"35b45ef6-270b-412d-8d36-fa585a303cf5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.147Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"35b45ef6-270b-412d-8d36-fa585a303cf5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"35b45ef6-270b-412d-8d36-fa585a303cf5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.148Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"35b45ef6-270b-412d-8d36-fa585a303cf5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"35b45ef6-270b-412d-8d36-fa585a303cf5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.158Z","level":"info","message":"pdf_generation_attempt","requestId":"35b45ef6-270b-412d-8d36-fa585a303cf5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"35b45ef6-270b-412d-8d36-fa585a303cf5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.162Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"35b45ef6-270b-412d-8d36-fa585a303cf5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"35b45ef6-270b-412d-8d36-fa585a303cf5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.164Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"35b45ef6-270b-412d-8d36-fa585a303cf5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"35b45ef6-270b-412d-8d36-fa585a303cf5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.173Z","level":"info","message":"llm_call_metrics","requestId":"35b45ef6-270b-412d-8d36-fa585a303cf5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"6daad81d53ca29e2440dbdfd5e7ac149ac9bc677f5bd5a926b958a85793be6c1","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.176Z","level":"info","message":"generation_completed","requestId":"35b45ef6-270b-412d-8d36-fa585a303cf5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"35b45ef6-270b-412d-8d36-fa585a303cf5","enhancedScore":0,"outputs":5,"template":"unknown","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.181Z","level":"info","message":"http_request_completed","requestId":"35b45ef6-270b-412d-8d36-fa585a303cf5","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":168,"contentLength":"52667","template":"unknown","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35b45ef6-270b-412d-8d36-fa585a303cf5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:50.196Z","level":"info","message":"http_request_received","requestId":"f2249266-9714-46b4-901d-f022c886a8b2","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:50.202Z","level":"warn","message":"generation_change_log_load_failed","requestId":"f2249266-9714-46b4-901d-f022c886a8b2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","bucket":"test-bucket","key":"cv/candidate/session/logs/change-log.json","error":{"name":"ReferenceError","message":"sessionScoreSnapshot is not defined","stack":"ReferenceError: sessionScoreSnapshot is not defined\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:22566:33\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:22568:13)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.213Z","level":"info","message":"generation_session_artifacts_refreshed","requestId":"f2249266-9714-46b4-901d-f022c886a8b2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","reason":"job_description_changed","template":"unknown","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.221Z","level":"info","message":"llm_call_metrics","requestId":"f2249266-9714-46b4-901d-f022c886a8b2","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"fc71d2d7420045c9674c39d1bc893139670e4554452723b0b8930f14ae74efd1","outputDigest":"994365ee088ebf4da994d91479825476737b8633f45dc9441cf82f317f739457","addedSkillCount":0,"template":"resume_rewrite","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.222Z","level":"info","message":"generation_section_rewrite_completed","requestId":"f2249266-9714-46b4-901d-f022c886a8b2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f2249266-9714-46b4-901d-f022c886a8b2","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.224Z","level":"info","message":"llm_call_metrics","requestId":"f2249266-9714-46b4-901d-f022c886a8b2","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"2941229673895ce87f4eb2dd47c041b77270273e0250170302676d5a10351fbf","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":1,"template":"project_summary","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.232Z","level":"info","message":"generation_resume_verified","requestId":"f2249266-9714-46b4-901d-f022c886a8b2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f2249266-9714-46b4-901d-f022c886a8b2","template":"unknown","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-29T11:12:50.240Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"f2249266-9714-46b4-901d-f022c886a8b2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f2249266-9714-46b4-901d-f022c886a8b2","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20337:7)
          at runMicrotasks (<anonymous>)
      at server.js:22803:28

  console.warn
    {"timestamp":"2025-11-29T11:12:50.253Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"f2249266-9714-46b4-901d-f022c886a8b2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f2249266-9714-46b4-901d-f022c886a8b2","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20526:7)
          at runMicrotasks (<anonymous>)
      at server.js:22803:28

  console.log
    {"timestamp":"2025-11-29T11:12:50.263Z","level":"info","message":"generation_cover_letters_completed","requestId":"f2249266-9714-46b4-901d-f022c886a8b2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f2249266-9714-46b4-901d-f022c886a8b2","variants":2,"fallbackApplied":true,"template":"unknown","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.265Z","level":"info","message":"pdf_generation_attempt","requestId":"f2249266-9714-46b4-901d-f022c886a8b2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f2249266-9714-46b4-901d-f022c886a8b2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.266Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f2249266-9714-46b4-901d-f022c886a8b2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f2249266-9714-46b4-901d-f022c886a8b2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.268Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f2249266-9714-46b4-901d-f022c886a8b2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f2249266-9714-46b4-901d-f022c886a8b2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.269Z","level":"info","message":"pdf_generation_attempt","requestId":"f2249266-9714-46b4-901d-f022c886a8b2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f2249266-9714-46b4-901d-f022c886a8b2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.270Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f2249266-9714-46b4-901d-f022c886a8b2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f2249266-9714-46b4-901d-f022c886a8b2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.272Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f2249266-9714-46b4-901d-f022c886a8b2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f2249266-9714-46b4-901d-f022c886a8b2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.273Z","level":"info","message":"pdf_generation_attempt","requestId":"f2249266-9714-46b4-901d-f022c886a8b2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f2249266-9714-46b4-901d-f022c886a8b2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.274Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f2249266-9714-46b4-901d-f022c886a8b2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f2249266-9714-46b4-901d-f022c886a8b2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.276Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f2249266-9714-46b4-901d-f022c886a8b2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f2249266-9714-46b4-901d-f022c886a8b2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.279Z","level":"info","message":"pdf_generation_attempt","requestId":"f2249266-9714-46b4-901d-f022c886a8b2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f2249266-9714-46b4-901d-f022c886a8b2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.280Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f2249266-9714-46b4-901d-f022c886a8b2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f2249266-9714-46b4-901d-f022c886a8b2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.282Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f2249266-9714-46b4-901d-f022c886a8b2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f2249266-9714-46b4-901d-f022c886a8b2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.287Z","level":"info","message":"llm_call_metrics","requestId":"f2249266-9714-46b4-901d-f022c886a8b2","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"bb70bada40357e7ad85703e98908783ac38c79f83207e1ee038136c2f4863594","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.290Z","level":"info","message":"generation_completed","requestId":"f2249266-9714-46b4-901d-f022c886a8b2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f2249266-9714-46b4-901d-f022c886a8b2","enhancedScore":0,"outputs":5,"template":"unknown","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.294Z","level":"info","message":"http_request_completed","requestId":"f2249266-9714-46b4-901d-f022c886a8b2","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":98,"contentLength":"50998","template":"unknown","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f2249266-9714-46b4-901d-f022c886a8b2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:50.304Z","level":"info","message":"http_request_received","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","method":"POST","path":"/api/process-cv","template":"unknown","session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:50.308Z","level":"info","message":"process_cv_started","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","jobId":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","manualJobDescriptionProvided":true,"template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:50.310Z","level":"info","message":"template_selection","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","jobId":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:50.312Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","jobId":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:24934:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24574:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-29T11:12:50.323Z","level":"info","message":"initial_upload_completed","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","jobId":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","bucket":"test-bucket","key":"cv/candidate/6bf7cb81-2201-4f32-83e7-1fb690157ab3/incoming/original.pdf","template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.325Z","level":"info","message":"resume_text_extracted","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","jobId":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","characters":57,"template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.326Z","level":"info","message":"resume_classified","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","jobId":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.328Z","level":"info","message":"raw_upload_relocated","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","jobId":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","bucket":"test-bucket","fromKey":"cv/candidate/6bf7cb81-2201-4f32-83e7-1fb690157ab3/incoming/original.pdf","toKey":"cv/professional_summary/6bf7cb81-2201-4f32-83e7-1fb690157ab3/original.pdf","template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.329Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","jobId":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","bucket":"test-bucket","key":"cv/professional_summary/6bf7cb81-2201-4f32-83e7-1fb690157ab3/original.pdf","template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.330Z","level":"info","message":"dynamo_initial_record_written","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","jobId":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","bucket":"test-bucket","key":"cv/professional_summary/6bf7cb81-2201-4f32-83e7-1fb690157ab3/original.pdf","template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.331Z","level":"info","message":"upload_metadata_written","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","jobId":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","bucket":"test-bucket","key":"cv/professional_summary/6bf7cb81-2201-4f32-83e7-1fb690157ab3/logs/log.json","template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.332Z","level":"info","message":"job_description_supplied_manually","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","jobId":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","characters":174,"template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.333Z","level":"info","message":"job_description_analyzed","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","jobId":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","jobTitle":"","jobSkills":5,"template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.335Z","level":"info","message":"resume_skills_analyzed","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","jobId":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.337Z","level":"info","message":"llm_call_metrics","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.339Z","level":"info","message":"process_cv_scoring_completed","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","jobId":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.347Z","level":"info","message":"llm_call_metrics","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"e0b0f289a004a53fc90e2f086b7a8368b36f3cb57e330732da1cad386d479cd5","addedSkillCount":0,"template":"resume_rewrite","session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.348Z","level":"info","message":"generation_section_rewrite_completed","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","jobId":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","generationRunId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.353Z","level":"info","message":"generation_resume_verified","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","jobId":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","generationRunId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-29T11:12:50.362Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","jobId":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","generationRunId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:20526:7)
          at runMicrotasks (<anonymous>)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:50.372Z","level":"info","message":"generation_cover_letters_completed","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","jobId":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","generationRunId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","variants":2,"fallbackApplied":true,"template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.374Z","level":"info","message":"pdf_generation_attempt","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","jobId":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","generationRunId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6bf7cb81-2201-4f32-83e7-1fb690157ab3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/6bf7cb81-2201-4f32-83e7-1fb690157ab3/enhanced_modern.pdf","session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.376Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","jobId":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","generationRunId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6bf7cb81-2201-4f32-83e7-1fb690157ab3/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-11-29T11:12:50.378Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","jobId":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","generationRunId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6bf7cb81-2201-4f32-83e7-1fb690157ab3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3295:27)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/6bf7cb81-2201-4f32-83e7-1fb690157ab3/enhanced_modern.pdf","environment":{"nodeEnv":"development","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:10816:7)
          at runMicrotasks (<anonymous>)
      at generateEnhancedDocumentsResponse (server.js:21104:11)
      at server.js:26533:28

  console.log
    {"timestamp":"2025-11-29T11:12:50.388Z","level":"info","message":"pdf_generation_attempt","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","jobId":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","generationRunId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6bf7cb81-2201-4f32-83e7-1fb690157ab3/","sessionId":"[REDACTED]","template":"professional","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/6bf7cb81-2201-4f32-83e7-1fb690157ab3/enhanced_professional.pdf","session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.390Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","jobId":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","generationRunId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6bf7cb81-2201-4f32-83e7-1fb690157ab3/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.391Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","jobId":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","generationRunId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6bf7cb81-2201-4f32-83e7-1fb690157ab3/","sessionId":"[REDACTED]","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/6bf7cb81-2201-4f32-83e7-1fb690157ab3/enhanced_professional.pdf","session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.392Z","level":"info","message":"pdf_generation_attempt","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","jobId":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","generationRunId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6bf7cb81-2201-4f32-83e7-1fb690157ab3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/6bf7cb81-2201-4f32-83e7-1fb690157ab3/enhanced_professional.pdf","session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.394Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","jobId":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","generationRunId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6bf7cb81-2201-4f32-83e7-1fb690157ab3/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.395Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","jobId":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","generationRunId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6bf7cb81-2201-4f32-83e7-1fb690157ab3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/6bf7cb81-2201-4f32-83e7-1fb690157ab3/enhanced_professional.pdf","session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.397Z","level":"info","message":"pdf_generation_attempt","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","jobId":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","generationRunId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6bf7cb81-2201-4f32-83e7-1fb690157ab3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/6bf7cb81-2201-4f32-83e7-1fb690157ab3/cover_letter_cover_modern.pdf","session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.398Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","jobId":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","generationRunId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6bf7cb81-2201-4f32-83e7-1fb690157ab3/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.400Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","jobId":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","generationRunId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6bf7cb81-2201-4f32-83e7-1fb690157ab3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":16,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/6bf7cb81-2201-4f32-83e7-1fb690157ab3/cover_letter_cover_modern.pdf","session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.401Z","level":"info","message":"pdf_generation_attempt","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","jobId":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","generationRunId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6bf7cb81-2201-4f32-83e7-1fb690157ab3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/6bf7cb81-2201-4f32-83e7-1fb690157ab3/cover_letter_cover_professional.pdf","session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.403Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","jobId":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","generationRunId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6bf7cb81-2201-4f32-83e7-1fb690157ab3/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.405Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","jobId":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","generationRunId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6bf7cb81-2201-4f32-83e7-1fb690157ab3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":22,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/6bf7cb81-2201-4f32-83e7-1fb690157ab3/cover_letter_cover_professional.pdf","session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.410Z","level":"info","message":"llm_call_metrics","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"b81624598eca82514b81f4fd0ef858c4f8eda9605bf4a3b33ed31144fa2daed3","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.412Z","level":"info","message":"generation_completed","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","jobId":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","generationRunId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","enhancedScore":80,"outputs":5,"template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.415Z","level":"info","message":"placeholder_record_deleted","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","jobId":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","placeholderIdentifier":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3ed67220-14e8-47fd-9ec9-3d00f8b5ae28","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.418Z","level":"info","message":"http_request_completed","requestId":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":114,"contentLength":"59519","template":"unknown","session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6bf7cb81-2201-4f32-83e7-1fb690157ab3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:50.425Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"2025","attempt":1,"totalAttempts":2,"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.472Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"2025","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-11-29T11:12:50.474Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"2025","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","code":"TEMPLATE_RENDER_FAILED","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3400:25)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:10816:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.js:3414:20)

  console.log
    {"timestamp":"2025-11-29T11:12:50.486Z","level":"info","message":"pdf_generation_backstop_succeeded","documentType":"resume","template":"2025","templatesBackstopped":["2025"],"backstopResults":[{"templateId":"2025","bytes":1024}],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.487Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"modern","attempt":2,"totalAttempts":2,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.488Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.489Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"modern","attempt":2,"bytes":10,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.491Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"modern","attempt":1,"totalAttempts":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.495Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-11-29T11:12:50.500Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"modern","attempt":1,"error":{"name":"Error","message":"Modern renderer unavailable","stack":"Error: Modern renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3439:30)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:10816:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.js:3443:20)

  console.log
    {"timestamp":"2025-11-29T11:12:50.513Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"professional","attempt":2,"totalAttempts":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.514Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"professional","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.517Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.519Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"2025","attempt":1,"totalAttempts":3,"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.521Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"2025","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-11-29T11:12:50.523Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"2025","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","code":"TEMPLATE_RENDER_FAILED","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3461:25)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:10816:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.js:3474:20)

  console.log
    {"timestamp":"2025-11-29T11:12:50.533Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"professional","attempt":2,"totalAttempts":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.534Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"professional","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.535Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.537Z","level":"info","message":"pdf_generation_attempt","documentType":"cover_letter","template":"cover_modern","attempt":1,"totalAttempts":1,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cover_letter_cover_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.538Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"cover_letter","template":"cover_modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-11-29T11:12:50.540Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"cover_letter","template":"cover_modern","attempt":1,"error":{"name":"Error","message":"Primary renderer offline","stack":"Error: Primary renderer offline\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3492:48)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:10816:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.js:3529:5)

  console.warn
    {"timestamp":"2025-11-29T11:12:50.558Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","forcedFallback":false,"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:10960:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.js:3529:5)

  console.error
    {"timestamp":"2025-11-29T11:12:50.569Z","level":"error","message":"pdf_generation_plain_fallback_failed","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","error":{"name":"Error","message":"Plain fallback offline","stack":"Error: Plain fallback offline\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3494:13\n    at plainPdfFallbackOverride (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9596:12)\n    at generatePlainPdfFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:10964:36)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3529:5)"},"forcedFallback":false,"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:11009:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.js:3529:5)

  console.error
    {"timestamp":"2025-11-29T11:12:50.638Z","level":"error","message":"pdf_generation_minimal_fallback_failed","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","forcedFallback":false,"error":{"name":"Error","message":"Minimal fallback unavailable","stack":"Error: Minimal fallback unavailable\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3497:13\n    at minimalPlainPdfBufferGenerator (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11030:29)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3529:5)"},"previousError":{"name":"Error","message":"Plain fallback offline","stack":"Error: Plain fallback offline\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3494:13\n    at plainPdfFallbackOverride (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9596:12)\n    at generatePlainPdfFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:10964:36)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3529:5)"},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:11053:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.js:3529:5)

  console.error
    {"timestamp":"2025-11-29T11:12:50.824Z","level":"error","message":"pdf_generation_all_attempts_failed","documentType":"cover_letter","templates":["cover_modern"],"error":{"name":"Error","message":"Minimal fallback unavailable","stack":"Error: Minimal fallback unavailable\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3497:13\n    at minimalPlainPdfBufferGenerator (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11030:29)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3529:5)"},"targetFilePath":"cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"summary":"Unable to generate cover letter PDF. Tried templates: Modern Cover Letter. Last error: Minimal fallback unavailable","messages":["Unable to generate cover letter PDF. Tried templates: Modern Cover Letter. Last error: Minimal fallback unavailable"],"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3314 |     const safePayload = sanitizeLogPayload(payload);
      3315 |     const serialised = JSON.stringify(safePayload);
    > 3316 |     logFn(serialised);
           |     ^
      3317 |     if (level === 'error') {
      3318 |       scheduleErrorLog(safePayload);
      3319 |     }

      at logFn (server.js:3316:5)
      at logStructured (server.js:11075:3)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.js:3529:5)

  console.log
    {"timestamp":"2025-11-29T11:12:50.953Z","level":"info","message":"http_request_received","requestId":"61470b9c-9a79-47b8-8215-01ba00af2187","method":"POST","path":"/api/change-log","template":"unknown","session":"61470b9c-9a79-47b8-8215-01ba00af2187","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"61470b9c-9a79-47b8-8215-01ba00af2187","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:50.963Z","level":"info","message":"change_log_updated","requestId":"61470b9c-9a79-47b8-8215-01ba00af2187","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.965Z","level":"info","message":"http_request_completed","requestId":"61470b9c-9a79-47b8-8215-01ba00af2187","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":12,"contentLength":"48197","template":"unknown","session":"61470b9c-9a79-47b8-8215-01ba00af2187","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"61470b9c-9a79-47b8-8215-01ba00af2187","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:50.972Z","level":"info","message":"http_request_received","requestId":"64a71efd-7bc7-45f0-934c-5fe2a080a7d9","method":"POST","path":"/api/change-log","template":"unknown","session":"64a71efd-7bc7-45f0-934c-5fe2a080a7d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64a71efd-7bc7-45f0-934c-5fe2a080a7d9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:50.980Z","level":"info","message":"change_log_updated","requestId":"64a71efd-7bc7-45f0-934c-5fe2a080a7d9","jobId":"job-321","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-321","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-321","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:50.982Z","level":"info","message":"http_request_completed","requestId":"64a71efd-7bc7-45f0-934c-5fe2a080a7d9","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":10,"contentLength":"1958","template":"unknown","session":"64a71efd-7bc7-45f0-934c-5fe2a080a7d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64a71efd-7bc7-45f0-934c-5fe2a080a7d9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:50.992Z","level":"info","message":"http_request_received","requestId":"4a974a89-5334-4b5b-8474-e920fe9d0540","method":"POST","path":"/api/change-log","template":"unknown","session":"4a974a89-5334-4b5b-8474-e920fe9d0540","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4a974a89-5334-4b5b-8474-e920fe9d0540","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:51.005Z","level":"info","message":"change_log_updated","requestId":"4a974a89-5334-4b5b-8474-e920fe9d0540","jobId":"job-789","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-789","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-789","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:51.007Z","level":"info","message":"http_request_completed","requestId":"4a974a89-5334-4b5b-8474-e920fe9d0540","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":15,"contentLength":"6061","template":"unknown","session":"4a974a89-5334-4b5b-8474-e920fe9d0540","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4a974a89-5334-4b5b-8474-e920fe9d0540","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:51.021Z","level":"info","message":"http_request_received","requestId":"b1695a98-3a3e-446d-81c8-a70a6b5a9161","method":"POST","path":"/api/change-log","template":"unknown","session":"b1695a98-3a3e-446d-81c8-a70a6b5a9161","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b1695a98-3a3e-446d-81c8-a70a6b5a9161","build":"local-dev","artifactType":"none"},"userId":"user-789"}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:51.027Z","level":"info","message":"change_log_updated","requestId":"b1695a98-3a3e-446d-81c8-a70a6b5a9161","jobId":"job-session","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-session","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-session","build":"local-dev","artifactType":"none"},"userId":"user-789"}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:51.029Z","level":"info","message":"http_request_completed","requestId":"b1695a98-3a3e-446d-81c8-a70a6b5a9161","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":8,"contentLength":"1213","template":"unknown","session":"b1695a98-3a3e-446d-81c8-a70a6b5a9161","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b1695a98-3a3e-446d-81c8-a70a6b5a9161","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:51.033Z","level":"info","message":"http_request_received","requestId":"27bb5a85-c7af-49b3-871a-d8e892480611","method":"POST","path":"/api/change-log","template":"unknown","session":"27bb5a85-c7af-49b3-871a-d8e892480611","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27bb5a85-c7af-49b3-871a-d8e892480611","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:51.039Z","level":"info","message":"change_log_updated","requestId":"27bb5a85-c7af-49b3-871a-d8e892480611","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:51.040Z","level":"info","message":"http_request_completed","requestId":"27bb5a85-c7af-49b3-871a-d8e892480611","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":7,"contentLength":"789","template":"unknown","session":"27bb5a85-c7af-49b3-871a-d8e892480611","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27bb5a85-c7af-49b3-871a-d8e892480611","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:51.051Z","level":"info","message":"http_request_received","requestId":"b9fabf02-bdbe-4bdc-b4b5-42b76da3cd2f","method":"POST","path":"/api/change-log","template":"unknown","session":"b9fabf02-bdbe-4bdc-b4b5-42b76da3cd2f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b9fabf02-bdbe-4bdc-b4b5-42b76da3cd2f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:51.056Z","level":"info","message":"change_log_updated","requestId":"b9fabf02-bdbe-4bdc-b4b5-42b76da3cd2f","jobId":"job-123","route":"change-log","entries":0,"action":"remove","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:51.057Z","level":"info","message":"http_request_completed","requestId":"b9fabf02-bdbe-4bdc-b4b5-42b76da3cd2f","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":6,"contentLength":"350","template":"unknown","session":"b9fabf02-bdbe-4bdc-b4b5-42b76da3cd2f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b9fabf02-bdbe-4bdc-b4b5-42b76da3cd2f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:51.064Z","level":"info","message":"http_request_received","requestId":"5f8f3bcc-4866-4b1f-ae3f-c3db9b5ea673","method":"POST","path":"/api/change-log","template":"unknown","session":"5f8f3bcc-4866-4b1f-ae3f-c3db9b5ea673","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5f8f3bcc-4866-4b1f-ae3f-c3db9b5ea673","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:51.069Z","level":"info","message":"change_log_updated","requestId":"5f8f3bcc-4866-4b1f-ae3f-c3db9b5ea673","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:51.071Z","level":"info","message":"http_request_completed","requestId":"5f8f3bcc-4866-4b1f-ae3f-c3db9b5ea673","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":7,"contentLength":"1151","template":"unknown","session":"5f8f3bcc-4866-4b1f-ae3f-c3db9b5ea673","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5f8f3bcc-4866-4b1f-ae3f-c3db9b5ea673","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:51.078Z","level":"info","message":"http_request_received","requestId":"26089a7d-6d17-4e9b-8530-e8a17dcf7ad3","method":"POST","path":"/api/change-log","template":"unknown","session":"26089a7d-6d17-4e9b-8530-e8a17dcf7ad3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26089a7d-6d17-4e9b-8530-e8a17dcf7ad3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:51.085Z","level":"info","message":"change_log_updated","requestId":"26089a7d-6d17-4e9b-8530-e8a17dcf7ad3","jobId":"job-123","route":"change-log","entries":0,"action":"remove","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:51.087Z","level":"info","message":"http_request_completed","requestId":"26089a7d-6d17-4e9b-8530-e8a17dcf7ad3","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":10,"contentLength":"596","template":"unknown","session":"26089a7d-6d17-4e9b-8530-e8a17dcf7ad3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26089a7d-6d17-4e9b-8530-e8a17dcf7ad3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:51.094Z","level":"info","message":"http_request_received","requestId":"f837ae91-031b-4149-8f3f-58a9a9069d9c","method":"POST","path":"/api/change-log","template":"unknown","session":"f837ae91-031b-4149-8f3f-58a9a9069d9c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f837ae91-031b-4149-8f3f-58a9a9069d9c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

  console.log
    {"timestamp":"2025-11-29T11:12:51.105Z","level":"info","message":"change_log_updated","requestId":"f837ae91-031b-4149-8f3f-58a9a9069d9c","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-29T11:12:51.107Z","level":"info","message":"http_request_completed","requestId":"f837ae91-031b-4149-8f3f-58a9a9069d9c","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":13,"contentLength":"2337","template":"unknown","session":"f837ae91-031b-4149-8f3f-58a9a9069d9c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f837ae91-031b-4149-8f3f-58a9a9069d9c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3316:5)

FAIL tests/server.test.js (18.866 s)
  health check
     GET /healthz (970 ms)
  static asset fallbacks
     GET /favicon.ico returns 204 (36 ms)
     serves hashed index asset from S3 when local file is missing (57 ms)
     serves hashed index asset directly from the bundled client when available (68 ms)
     strips API Gateway stage prefixes before resolving static index aliases (32 ms)
     performs HEAD lookup against S3 for hashed index asset metadata (61 ms)
     serves the latest index asset alias via S3 when local files are unavailable (33 ms)
     serves the index asset alias via the S3 manifest when the local manifest is missing (26 ms)
     serves the index asset alias when the manifest contains prefixed S3 keys (26 ms)
     serves the index asset alias via manifest fallback when the primary bundle is missing from S3 (1464 ms)
  static asset proxy endpoint
     serves the index alias via the local build (29 ms)
     normalizes stray punctuation in proxy asset queries (33 ms)
     strips inline alias annotations from hashed proxy asset queries (19 ms)
     falls back to S3 when the hashed bundle is unavailable locally (23 ms)
     degrades hashed proxy requests to the index alias when upstream assets are missing (65 ms)
     degrades direct hashed asset requests to the index alias when upstream bundles are missing (53 ms)
     rejects invalid asset paths (42 ms)
  static asset manifest endpoint
     returns manifest data when available (29 ms)
     allows forcing a manifest refresh via query parameter (32 ms)
     returns 503 when manifest is unavailable (57 ms)
  /api/process-cv
     handles DynamoDB table lifecycle (916 ms)
     removes stale session change logs when starting a new upload session (324 ms)
     removes session change log data when the session prefix is reused (196 ms)
     requires manual job description input (224 ms)
     sanitizes manual job description input before analysis (281 ms)
     rejects manual job description input containing prohibited HTML tags (37 ms)
     stores sanitized job description as session input metadata (155 ms)
     accepts uploads without a LinkedIn profile URL (134 ms)
     malformed AI response (191 ms)
     handles code-fenced JSON with extra text (259 ms)
     handles JSON surrounded by text (334 ms)
     returns presigned PDF URLs with labeled asset types (508 ms)
     returns a structured error when download URLs cannot be generated (525 ms)
     cover letter urls include structured metadata (268 ms)
     uses provided templates in preferred order (204 ms)
     uses templates array (258 ms)
     filters AI guidance lines (524 ms)
     resume prompt asks for a project matching job skills (223 ms)
     inserts project into resume text (256 ms)
     adds project section when job description provided (297 ms)
     cover letters omit placeholder sections (392 ms)
     normalizes structured cover letter responses into text (157 ms)
     uses sanitized resume fallback when AI returns plain text for versions (191 ms)
     falls back to plain PDFs when template rendering fails (681 ms)
     final CV includes updated title, project, and skills (187 ms)
     missing file (42 ms)
     unsupported file type (50 ms)
     rejects non-resume content with descriptive feedback (60 ms)
     requires re-upload when classification does not identify a CV (67 ms)
     missing job description text (36 ms)
    download link refresh
       resigns an existing artifact key for the active job (63 ms)
       returns not found when the storage key does not match the job context (46 ms)
    resume size handling
       accepts tiny PDF (32 KB) uploads up to 5 MB (175 ms)
       accepts small DOCX (256 KB) uploads up to 5 MB (556 ms)
       accepts mid-sized PDF (2 MB) uploads up to 5 MB (200 ms)
       accepts near-limit DOCX (just under 5 MB) uploads up to 5 MB (394 ms)
       rejects resumes larger than 5 MB (72 ms)
  /api/generate-enhanced-docs
     responds with structured details when jobId is missing (30 ms)
     queues message when fallback cover letters are used (125 ms)
     replaces whitespace cover letters with fallback copy (142 ms)
     audits cover letters for placeholders and applies fallback (123 ms)
     replaces weak closing cover letters with confident fallback copy (108 ms)
     replaces cover letters exceeding the word limit with confident fallback copy (149 ms)
     surfaces message when cover letters remain unavailable (114 ms)
     refreshes session artifacts when job description changes for a new enhancement (183 ms)
     refreshes session artifacts automatically when job description changes (110 ms)
     persists template vs population errors in stage metadata (126 ms)
  generatePdfWithFallback
     records retry message when 2025 renderer fails (67 ms)
     announces next template when fallback occurs for non-2025 resume (27 ms)
     announces actual next template when 2025 fallback prefers contrast option (18 ms)
     throws explicit PdfGenerationError with summary when all strategies fail (351 ms)
  classifyDocument
     identifies resumes by section structure (1 ms)
     detects cover letters (4 ms)
     rejects job descriptions that mimic resume sections (2 ms)
  extractText
     extracts text from pdf (1 ms)
     extracts text from docx (1 ms)
     guides user when pdf parsing fails (34 ms)
     guides user when docx parsing fails (1 ms)
     extracts text from doc (10 ms)
     rejects plain text files
  client download labels
     App displays correct labels for each file type (4 ms)
  change log persistence safeguards
     truncates oversized change log fields before persisting (18 ms)
     persists category changelog details for ATS, skills, and related sections (17 ms)
     captures rescore summary and updates session score snapshot (32 ms)
     stores session change logs under a user session prefix when no prior key exists (12 ms)
  change log session visibility
     persists reverted entries when updating the change log (17 ms)
     stores rejected entries in the session change log dismissed list (13 ms)
     persists cover letter change log payloads to S3 (12 ms)
     removing a cover letter entry records dismissal state in S3 (16 ms)
     persists activity logs from nested payloads into the session change log (22 ms)

   /api/process-cv  resume size handling  accepts mid-sized PDF (2 MB) uploads up to 5 MB

    read ECONNRESET



-------------------------------|---------|----------|---------|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
File                           | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
-------------------------------|---------|----------|---------|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
All files                      |   45.83 |    34.66 |   50.39 |   46.92 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
 ResumeForge                   |   54.42 |    40.86 |   61.29 |   55.59 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
  logger.js                    |       0 |        0 |       0 |       0 | 16-187                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
  server.js                    |   54.66 |    41.01 |   62.11 |   55.82 | 144,167,195-197,202,207,211,232,256-287,303-308,313,318,332,337,369,373,382,390,402,415,424,445-446,450-451,455-476,480-482,495-500,506,512-521,529,539,545-548,554-556,569-571,578,615,624,655,668,692,702,744,758,762,766,770-773,780-783,792,798,815-818,826,849,856,867-876,888,907,947,956,993,1018-1020,1029,1051,1128,1189-1196,1206,1221,1261,1265,1269-1275,1280,1284-1301,1312-1315,1339-1340,1376,1383,1403-1404,1428-1449,1459-1460,1473,1478,1495,1505,1518,1526,1531,1540,1548,1564-1568,1579,1599,1602,1614,1645,1667-1672,1698,1707-1710,1716,1726-1769,1778,1817,1821,1826-1829,1854-1856,1940,1946,1952-1954,1960,1966,1970,1974,2026,2030,2048,2072,2102,2169-2185,2207-2305,2316,2320-2321,2339-2430,2439-2443,2565-2713,2723-2724,2742-2754,2764-2786,2793,2798,2809-2816,2891,2898,2902,2910,2916-2917,2928,2932,2936,2940,2944-2946,2950,2954,2966,2976,2980,2984,2988,2992,2996,3007-3008,3013-3031,3035-3043,3093,3110,3119,3123,3147-3155,3192,3202-3210,3216,3220,3255-3274,3282,3309-3310,3321-3328,3334,3336,3381-3384,3392,3418-3435,3448,3454,3457,3462-3574,3581,3585,3589,3597,3604,3610,3624,3627,3634-3641,3647-3650,3654-3657,3686,3720-3736,3750,3780,3794-3799,3823,3837-3840,3853,3856,3867,3881-4009,4028,4034,4040,4046,4053,4061-4071,4086,4093-4128,4135-4367,4375,4407,4448-4456,4465,4482-4490,4506-4518,4527-4531,4541,4546,4556,4572-4577,4635,4652-4665,4678-4693,4699-4727,4758,4763-4778,4802,4809,4814-4821,4888,4893-4904,4915-4918,4960-5052,5063,5067,5073-5089,5095,5152-5157,5177-5181,5186-5193,5212,5247-5248,5277,5325-5443,5453-5483,5489-5509,5530-5537,5568,5573-5576,5584-5588,5600,5614,5619,5631-5634,5651-5675,5680,5686,5693,5700-5722,5742-5767,5802-5909,5914,5920-6474,6545-7587,7611,7626-7629,7668,7672,7710,7723,7747-7754,7768,7833-7839,7847,7851,7866,7870,7873,7901,7904,7916,7919,7928,7938-7946,7952,7992,7995,7998,8009-8011,8016,8045,8179,8229,8262-8270,8396-8404,8498-8503,8521-8543,8643-8716,8797-8910,8936,8943-8950,8963-9110,9131,9135,9141-9142,9151,9156,9159,9162,9174,9178,9182,9190,9200,9211-9219,9248-9259,9282-9283,9298-9299,9348-9355,9420-9425,9434-9581,9598,9612-10590,10611,10614,10651,10654-10656,10684-10706,10871,10969-10972,10979-10993,11017-11018,11038-11047,11112,11118-11187,11212,11294,11297,11301,11327-11335,11340,11348,11350,11352,11356,11358,11364,11368,11426-11429,11458-11479,11510-11516,11524-11525,11536,11550-11551,11558,11561,11566-11569,11573-11574,11585,11689,11704-11705,11708-11709,11711-11712,11786-11788,11799-11804,11857,11874,11888,11896,11898,11900,11908,11915-11916,11920,11922,11930,12031,12084-12118,12137,12171,12228-12229,12234,12272,12288,12377,12488,12493,12498,12547-12555,12566,12570,12573,12664-12668,12700,12766,12771,12779,12870,12882,12927-12931,12936,12984,12987,13007,13028-13032,13040,13055,13058,13061,13118,13124,13147-13157,13207-13218,13223-13236,13257,13260,13275,13295-13298,13303,13317,13356-13360,13380,13384-13387,13393,13424,13432,13442,13446,13455,13467,13475,13479-13501,13508,13519,13532-13533,13557,13571,13614-13615,13626-13627,13656-13668,13701-13702,13718-13723,13730-13734,13778-13782,13798,13815-13818,13974,14035-14041,14072,14089,14128,14179-14346,14365-14373,14378,14385,14390-14402,14407,14410-14411,14414-14415,14420,14425,14430,14436,14548,14673,14677,14685,14695,14702,14803,14811,14816,14819-14822,14830,14859,14893,14904,15138,15211,15219,15226,15260,15266-15285,15294,15302,15309-15312,15317,15333-15334,15349-15351,15504,15511,15519,15542,15576,15589-15591,15604,15615-15625,15632,15660-15661,15687,15714-15715,15819-15820,15858-15859,15865,15940-15941,15963,15992,16004,16049,16063-16070,16078-16085,16093,16098,16102,16195-16212,16258-16558,16583,16588,16599,16611,16629,16636,16639,16642,16649,16652,16655-16658,16670,16679,16686,16696,16739,16744,16770,16781,16791,16799,16808,16817,16820,16823,16829,16835-16857,16873-16880,16889-16905,16916,16929,16938,16948,16953,16959-16961,16970,16983,16988,16992,17005,17012,17016-17018,17026-17029,17039-17059,17073,17125-17128,17143,17157,17165-17177,17186,17204,17222-17229,17235,17250,17255-17260,17265-17268,17284,17289,17326,17362,17376,17399,17403,17438-17440,17475-17582,17598-17631,17682,17691,17725,17734,17761-17764,17778-18829,18841-18866,18898-18899,18919-18927,18968,18991-18999,19010-19011,19043-19046,19056-19092,19103-19123,19136-19170,19174-19225,19262,19267-19279,19284,19329,19337-19520,19576-19583,19602-19605,19634-19640,19651,19686,19711,19721-19724,19764,19800,19805,19814,19821-19823,19905,19908,19938,20022-20026,20107,20135-20142,20153-20169,20269-20275,20296,20355,20367,20370,20374,20382,20386,20390,20421,20428-20463,20472,20509,20517-20519,20679,20709,20725,20742,20775,20852,20861-20872,20949-20958,21005,21228,21230,21232,21234,21276-21277,21340,21493,21497,21501,21505,21509,21513,21559,21582-21610,21633-21649,21707-21708,21720-21749,21828,21898,21972,21983,21997,22204,22290-22293,22318,22329,22390,22401-22406,22412,22440-22446,22461-22465,22512-22516,22527,22585-22589,22598-22599,22659-22689,22753-22754,22757,22794,22797,22848,22853-22939,22951-23416,23427-23514,23526,23552-23556,23616,23688-23713,23736,23759,23781,23789,23818,23824-23877,23889,24090-24096,24114-24146,24194-24200,24227,24238,24247,24275-24279,24303,24328-24341,24376,24382-24390,24410-24411,24428-24432,24449-24459,24475-24480,24513-24526,24530-24532,24606-24630,24647-24649,24675-24676,24704-24710,24724,24743,24752-24764,24842,24871,24874,24956-24962,24983-24987,25023-25045,25079-25210,25221,25268-25272,25278,25293-25298,25306-25310,25460,25495-25526,25564,25647-25693,25765,25921,26010,26026-26079,26147,26161-26191,26204-26243,26315,26357,26369,26412,26474,26535-26537,26544-26556,26591,26604-26694,26705-26746,26757-26758 
 ResumeForge/lib               |   14.47 |    14.02 |   20.28 |   14.45 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
  buildMetadata.js             |   84.37 |     58.2 |     100 |   84.37 | 22-27,35,76,93,120,125,130                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
  cloudfrontAssetCheck.js      |       0 |        0 |       0 |       0 | 3-896                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
  cloudfrontAssetPrefixes.js   |       0 |        0 |       0 |       0 | 4-67                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
  cloudfrontHealthCheck.js     |       0 |        0 |       0 |       0 | 4-120                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
  handlebars.js                |      50 |      100 |       0 |   66.66 | 9                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
  postDeploymentApiTests.js    |       0 |        0 |       0 |       0 | 4-93                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
  retry.js                     |      50 |    44.66 |   55.55 |   49.36 | 30,35,38,41,47,50,53,65,69,73,77,90,94,97,101,105,111-144,158-172                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
 ResumeForge/lib/cloudfront    |    2.08 |        0 |       0 |    2.12 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
  metadata.js                  |    2.08 |        0 |       0 |    2.12 | 6-62,68-219                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
 ResumeForge/lib/deploy        |    4.34 |        0 |       0 |    4.34 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
  notifications.js             |    4.34 |        0 |       0 |    4.34 | 53-251                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
 ResumeForge/lib/http          |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
  parseEventBody.js            |       0 |        0 |       0 |       0 | 10-24                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
 ResumeForge/lib/llm           |   49.71 |    47.23 |   47.36 |   51.19 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
  gemini.js                    |    43.9 |    45.61 |   33.33 |   45.29 | 15-34,44,57,77-82,145,157-210,229-250                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
  templates.js                 |   63.46 |    51.02 |     100 |    64.7 | 8,13-22,30,37-44,56,59,73,86                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
 ResumeForge/lib/logging       |   74.64 |    52.94 |   83.33 |   74.28 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
  attributes.js                |   74.64 |    52.94 |   83.33 |   74.28 | 8-11,94-103,120,170,181-195                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
 ResumeForge/lib/observability |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
  lambda.js                    |       0 |        0 |       0 |       0 | 7-984                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
 ResumeForge/lib/pdf           |   10.43 |     8.24 |   12.12 |   11.16 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
  backstop.js                  |    2.04 |        0 |       0 |    2.17 | 11-169                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
  index.js                     |       5 |        0 |       0 |    5.55 | 8-36                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
  resume.js                    |       0 |        0 |       0 |       0 | 12-19                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
  utils.js                     |   14.66 |     12.8 |   26.66 |      16 | 12-19,25-137,142-156,162-163,173-174,188,195-204                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
 ResumeForge/lib/pdf/templates |    1.96 |     0.24 |       4 |    1.98 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
  2025.js                      |    1.96 |     0.24 |       4 |    1.98 | 11-42,163-1177                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
 ResumeForge/lib/resume        |   47.52 |    33.51 |   50.17 |   48.63 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
  content.js                   |   68.12 |    47.29 |   75.17 |   71.28 | 11,20-25,44-45,91-94,106-108,121,173,180,191-299,316-317,320-321,332-334,354-359,377-382,395-397,415,421-422,435-451,458,530-531,554,609-610,633-635,667-669,699-701,734,768-782,796-801,805,817-827,832-836,844-849,851,917-923,927-932,952-953,967-973,988-989,1004-1005,1009-1013,1026,1029,1070-1071,1076-1077,1092-1096,1134-1137,1157,1220,1238-1245,1301,1348-1365,1400,1434-1438,1460-1461,1466,1479-1501,1506-1526,1537-1539,1542-1543,1546-1547,1550-1552                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
  enhancement.js               |    0.99 |        0 |       0 |     1.1 | 28-445                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
  jobEvaluation.js             |       0 |        0 |       0 |       0 | 9-120                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
  parsing.js                   |   73.43 |    53.62 |   75.75 |   74.14 | 161,165,175,179,183,188,197-228,239,242,279,286,291,307,330,334-337,355,380,404,409,435-464,501,515,526,555,595,621,625,629,634,638-641,658,699,721,725                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
  scoring.js                   |    0.86 |        0 |       0 |    0.88 | 27-819                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
  skills.js                    |    36.2 |     8.82 |      40 |   33.33 | 81-143                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
  utils.js                     |   83.33 |       75 |     100 |   83.33 | 12                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
 ResumeForge/lib/scoring       |     1.3 |        0 |    1.42 |     1.4 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
  atsMetrics.js                |     1.3 |        0 |    1.42 |     1.4 | 24-202,226-956                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
 ResumeForge/lib/static        |   20.43 |     8.47 |   16.66 |   20.43 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
  hashedIndexAssetRetention.js |       0 |        0 |       0 |       0 | 1-220                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
  normalization.js             |   90.32 |    71.42 |     100 |   90.32 | 3,8,30                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
 ResumeForge/lib/uploads       |   54.13 |    40.42 |      60 |   54.96 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
  metadata.js                  |   48.52 |    33.33 |      50 |   48.52 | 14,19-22,29,33,52-87,95-105,115,124-125,131                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
  s3StreamingStorage.js        |      60 |    44.82 |      70 |    61.9 | 8,11,17-31,41,47-52,58-64,67-73,91,108,128-132,144                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
-------------------------------|---------|----------|---------|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Test Suites: 1 failed, 1 total
Tests:       1 failed, 89 passed, 90 total
Snapshots:   0 total
Time:        29.213 s
Ran all test suites matching /tests\/server.test.js/i.
