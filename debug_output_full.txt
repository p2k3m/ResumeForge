
> resumeforge@1.0.0 test
> node --experimental-vm-modules node_modules/jest/bin/jest.js tests/server.test.mjs

[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`
(node:9298) ExperimentalWarning: VM Modules is an experimental feature. This feature could change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
  console.log
    {"timestamp":"2025-12-04T13:17:33.914Z","level":"info","message":"http_request_received","requestId":"2ec85061-df17-4673-82e6-56f6b7b85252","method":"GET","path":"/healthz","template":"unknown","session":"2ec85061-df17-4673-82e6-56f6b7b85252","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ec85061-df17-4673-82e6-56f6b7b85252","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:33.952Z","level":"info","message":"path_restoration_debug","reqPath":"/healthz","reqUrl":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:33.958Z","level":"info","message":"request_received","path":"/healthz","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:33.971Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:33.974Z","level":"info","message":"client_app_routes_entered","path":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:33.982Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:33.994Z","level":"info","message":"http_request_completed","requestId":"2ec85061-df17-4673-82e6-56f6b7b85252","method":"GET","path":"/healthz","statusCode":200,"durationMs":80,"contentLength":"15","template":"unknown","session":"2ec85061-df17-4673-82e6-56f6b7b85252","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ec85061-df17-4673-82e6-56f6b7b85252","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.006Z","level":"info","message":"http_request_received","requestId":"e9b311a9-ef53-4c0e-b397-a93d8c19ed6d","method":"GET","path":"/favicon.ico","template":"unknown","session":"e9b311a9-ef53-4c0e-b397-a93d8c19ed6d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e9b311a9-ef53-4c0e-b397-a93d8c19ed6d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.009Z","level":"info","message":"path_restoration_debug","reqPath":"/favicon.ico","reqUrl":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.012Z","level":"info","message":"request_received","path":"/favicon.ico","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.013Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.015Z","level":"info","message":"client_app_routes_entered","path":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.018Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.021Z","level":"info","message":"http_request_completed","requestId":"e9b311a9-ef53-4c0e-b397-a93d8c19ed6d","method":"GET","path":"/favicon.ico","statusCode":204,"durationMs":15,"template":"unknown","session":"e9b311a9-ef53-4c0e-b397-a93d8c19ed6d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e9b311a9-ef53-4c0e-b397-a93d8c19ed6d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.024Z","level":"info","message":"http_request_received","requestId":"b359391c-c02e-4a55-bbd3-6144dd695d53","method":"GET","path":"/assets/index-missing.css","template":"unknown","session":"b359391c-c02e-4a55-bbd3-6144dd695d53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b359391c-c02e-4a55-bbd3-6144dd695d53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.026Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-missing.css","reqUrl":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.027Z","level":"info","message":"request_received","path":"/assets/index-missing.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.029Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.031Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.036Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 {
      assetPath: '/assets/index-missing.css',
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest'
    }

      at serveHashedIndexAssetFromS3 (server.js:1099:11)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60","ETag":"\"etag-css\""}

      at applyS3ResponseHeaders (server.js:617:11)

  console.log
    DEBUG: streamS3BodyToResponse data chunk length=18

      at Readable.<anonymous> (server.js:505:17)

  console.log
    DEBUG: streamS3BodyToResponse end fullBody length=18

      at Readable.<anonymous> (server.js:513:19)

  console.log
    {"timestamp":"2025-12-04T13:17:34.050Z","level":"info","message":"http_request_completed","requestId":"b359391c-c02e-4a55-bbd3-6144dd695d53","method":"GET","path":"/assets/index-missing.css","statusCode":200,"durationMs":26,"contentLength":"18","template":"unknown","session":"b359391c-c02e-4a55-bbd3-6144dd695d53","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b359391c-c02e-4a55-bbd3-6144dd695d53","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.050Z","level":"info","message":"client_asset_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-missing.css","path":"/assets/index-missing.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.056Z","level":"info","message":"http_request_received","requestId":"e787c4b8-e038-4227-a6af-0cba0ae2cfef","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"e787c4b8-e038-4227-a6af-0cba0ae2cfef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e787c4b8-e038-4227-a6af-0cba0ae2cfef","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.057Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.058Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.060Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.062Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:17:34.077Z","level":"info","message":"http_request_completed","requestId":"e787c4b8-e038-4227-a6af-0cba0ae2cfef","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":21,"contentLength":"106285","template":"unknown","session":"e787c4b8-e038-4227-a6af-0cba0ae2cfef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e787c4b8-e038-4227-a6af-0cba0ae2cfef","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.078Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.081Z","level":"info","message":"http_request_received","requestId":"7dbcbcbc-af43-4ad6-a9ab-60fd947a6752","method":"GET","path":"/prod/assets/index-latest.css","template":"unknown","session":"7dbcbcbc-af43-4ad6-a9ab-60fd947a6752","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7dbcbcbc-af43-4ad6-a9ab-60fd947a6752","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.083Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.084Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.086Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.087Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:17:34.096Z","level":"info","message":"http_request_completed","requestId":"7dbcbcbc-af43-4ad6-a9ab-60fd947a6752","method":"GET","path":"/prod/assets/index-latest.css","statusCode":200,"durationMs":15,"contentLength":"106285","template":"unknown","session":"7dbcbcbc-af43-4ad6-a9ab-60fd947a6752","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7dbcbcbc-af43-4ad6-a9ab-60fd947a6752","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.097Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.102Z","level":"info","message":"http_request_received","requestId":"50941e1e-00b1-4ee2-9c6e-a112a36480a4","method":"HEAD","path":"/assets/index-meta.js","template":"unknown","session":"50941e1e-00b1-4ee2-9c6e-a112a36480a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"50941e1e-00b1-4ee2-9c6e-a112a36480a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.104Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-meta.js","reqUrl":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.105Z","level":"info","message":"request_received","path":"/assets/index-meta.js","method":"HEAD","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.106Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.108Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.110Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-meta.js'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-meta.js'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-meta.js'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 {
      assetPath: '/assets/index-meta.js',
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest'
    }

      at serveHashedIndexAssetFromS3 (server.js:1099:11)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=1234 resolved=1234 metadata={"ContentType":"application/javascript","ContentLength":1234,"CacheControl":"public, max-age=31536000, immutable","ETag":"\"etag-js\"","LastModified":"2024-05-01T00:00:00.000Z"}

      at applyS3ResponseHeaders (server.js:617:11)

  console.log
    {"timestamp":"2025-12-04T13:17:34.121Z","level":"info","message":"client_asset_s3_head_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-meta.js","path":"/assets/index-meta.js","method":"HEAD","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.121Z","level":"info","message":"http_request_completed","requestId":"50941e1e-00b1-4ee2-9c6e-a112a36480a4","method":"HEAD","path":"/assets/index-meta.js","statusCode":200,"durationMs":19,"contentLength":"1234","template":"unknown","session":"50941e1e-00b1-4ee2-9c6e-a112a36480a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"50941e1e-00b1-4ee2-9c6e-a112a36480a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.125Z","level":"info","message":"http_request_received","requestId":"5d40459c-06a9-44d8-a5b9-e415d378f7f2","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"5d40459c-06a9-44d8-a5b9-e415d378f7f2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d40459c-06a9-44d8-a5b9-e415d378f7f2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.126Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.128Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.129Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.134Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-test-alias.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-test-alias.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-test-alias.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 {
      assetPath: 'assets/index-test-alias.css',
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest'
    }

      at serveHashedIndexAssetFromS3 (server.js:1099:11)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60"}

      at applyS3ResponseHeaders (server.js:617:11)

  console.log
    DEBUG: streamS3BodyToResponse data chunk length=23

      at Readable.<anonymous> (server.js:505:17)

  console.log
    DEBUG: streamS3BodyToResponse end fullBody length=23

      at Readable.<anonymous> (server.js:513:19)

  console.log
    {"timestamp":"2025-12-04T13:17:34.151Z","level":"info","message":"http_request_completed","requestId":"5d40459c-06a9-44d8-a5b9-e415d378f7f2","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":26,"contentLength":"23","template":"unknown","session":"5d40459c-06a9-44d8-a5b9-e415d378f7f2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d40459c-06a9-44d8-a5b9-e415d378f7f2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.152Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-test-alias.css","path":"assets/index-test-alias.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-test-alias.css","s3Key":"assets/index-test-alias.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.155Z","level":"info","message":"http_request_received","requestId":"2db04dd8-8d8a-453f-be59-e537e53d94fe","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"2db04dd8-8d8a-453f-be59-e537e53d94fe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2db04dd8-8d8a-453f-be59-e537e53d94fe","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.156Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.157Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.158Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.160Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-manifest-only.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-manifest-only.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-manifest-only.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 {
      assetPath: 'assets/index-manifest-only.css',
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest'
    }

      at serveHashedIndexAssetFromS3 (server.js:1099:11)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60"}

      at applyS3ResponseHeaders (server.js:617:11)

  console.log
    DEBUG: streamS3BodyToResponse data chunk length=31

      at Readable.<anonymous> (server.js:505:17)

  console.log
    DEBUG: streamS3BodyToResponse end fullBody length=31

      at Readable.<anonymous> (server.js:513:19)

  console.log
    {"timestamp":"2025-12-04T13:17:34.173Z","level":"info","message":"http_request_completed","requestId":"2db04dd8-8d8a-453f-be59-e537e53d94fe","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":18,"contentLength":"31","template":"unknown","session":"2db04dd8-8d8a-453f-be59-e537e53d94fe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2db04dd8-8d8a-453f-be59-e537e53d94fe","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.173Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-manifest-only.css","path":"assets/index-manifest-only.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-manifest-only.css","s3Key":"assets/index-manifest-only.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.176Z","level":"info","message":"http_request_received","requestId":"e701ed41-7911-4403-ac18-d8693953554a","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"e701ed41-7911-4403-ac18-d8693953554a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e701ed41-7911-4403-ac18-d8693953554a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.178Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.179Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.180Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.182Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-prefixed.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-prefixed.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-prefixed.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 {
      assetPath: 'static/client/prod/latest/assets/index-prefixed.css',
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest'
    }

      at serveHashedIndexAssetFromS3 (server.js:1099:11)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60"}

      at applyS3ResponseHeaders (server.js:617:11)

  console.log
    DEBUG: streamS3BodyToResponse data chunk length=26

      at Readable.<anonymous> (server.js:505:17)

  console.log
    DEBUG: streamS3BodyToResponse end fullBody length=26

      at Readable.<anonymous> (server.js:513:19)

  console.log
    {"timestamp":"2025-12-04T13:17:34.193Z","level":"info","message":"http_request_completed","requestId":"e701ed41-7911-4403-ac18-d8693953554a","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":17,"contentLength":"26","template":"unknown","session":"e701ed41-7911-4403-ac18-d8693953554a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e701ed41-7911-4403-ac18-d8693953554a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.194Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/prod/latest/assets/index-prefixed.css","path":"static/client/prod/latest/assets/index-prefixed.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-prefixed.css","s3Key":"static/client/prod/latest/assets/index-prefixed.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.196Z","level":"info","message":"http_request_received","requestId":"7363d2de-0909-4b00-95aa-21ed9108b38c","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"7363d2de-0909-4b00-95aa-21ed9108b38c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7363d2de-0909-4b00-95aa-21ed9108b38c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.197Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.199Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.200Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.201Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 {
      assetPath: 'assets/index-missing.css',
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest'
    }

      at serveHashedIndexAssetFromS3 (server.js:1099:11)

  console.warn
    {"timestamp":"2025-12-04T13:17:34.223Z","level":"warn","message":"client_asset_alias_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-missing.css","path":"assets/index-missing.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-missing.css","s3Key":"assets/index-missing.css","error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:578:23)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7809:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7812:16)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1153:32)\n    at handleIndexAssetAliasRequest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1420:30)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at serveIndexAssetAlias (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1531:3)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at serveHashedIndexAssetFromS3 (server.js:1172:5)
      at handleIndexAssetAliasRequest (server.js:1420:24)
      at serveIndexAssetAlias (server.js:1531:3)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-existing.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-existing.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-existing.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 {
      assetPath: 'assets/index-existing.css',
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest'
    }

      at serveHashedIndexAssetFromS3 (server.js:1099:11)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60"}

      at applyS3ResponseHeaders (server.js:617:11)

  console.log
    DEBUG: streamS3BodyToResponse data chunk length=26

      at Readable.<anonymous> (server.js:505:17)

  console.log
    DEBUG: streamS3BodyToResponse end fullBody length=26

      at Readable.<anonymous> (server.js:513:19)

  console.log
    {"timestamp":"2025-12-04T13:17:34.233Z","level":"info","message":"http_request_completed","requestId":"7363d2de-0909-4b00-95aa-21ed9108b38c","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":37,"contentLength":"26","template":"unknown","session":"7363d2de-0909-4b00-95aa-21ed9108b38c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7363d2de-0909-4b00-95aa-21ed9108b38c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.234Z","level":"info","message":"client_asset_alias_fallback_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-existing.css","path":"assets/index-existing.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-existing.css","s3Key":"assets/index-existing.css","manifestFallback":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.238Z","level":"info","message":"http_request_received","requestId":"74473055-3748-45ec-bbd5-ff1ae7a9d155","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"74473055-3748-45ec-bbd5-ff1ae7a9d155","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"74473055-3748-45ec-bbd5-ff1ae7a9d155","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.240Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.241Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.242Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.244Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.246Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-latest.css' candidate='assets/index-latest.css'

      at normalizeStaticProxyAssetPath (server.js:1604:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:17:34.254Z","level":"info","message":"http_request_completed","requestId":"74473055-3748-45ec-bbd5-ff1ae7a9d155","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","statusCode":200,"durationMs":16,"contentLength":"106285","template":"unknown","session":"74473055-3748-45ec-bbd5-ff1ae7a9d155","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"74473055-3748-45ec-bbd5-ff1ae7a9d155","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.254Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.258Z","level":"info","message":"http_request_received","requestId":"fb4a6bb8-388b-4e31-ae79-e7f5d8023974","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","template":"unknown","session":"fb4a6bb8-388b-4e31-ae79-e7f5d8023974","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb4a6bb8-388b-4e31-ae79-e7f5d8023974","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.259Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.260Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.262Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.265Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.269Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-latest.css,,' candidate='assets/index-latest.css,,'

      at normalizeStaticProxyAssetPath (server.js:1604:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:17:34.276Z","level":"info","message":"http_request_completed","requestId":"fb4a6bb8-388b-4e31-ae79-e7f5d8023974","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","statusCode":200,"durationMs":18,"contentLength":"106285","template":"unknown","session":"fb4a6bb8-388b-4e31-ae79-e7f5d8023974","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb4a6bb8-388b-4e31-ae79-e7f5d8023974","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.281Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.286Z","level":"info","message":"http_request_received","requestId":"10fac6e2-14ef-4099-9800-fe42320062e3","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","template":"unknown","session":"10fac6e2-14ef-4099-9800-fe42320062e3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"10fac6e2-14ef-4099-9800-fe42320062e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.288Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.289Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.290Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.292Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.294Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='/assets/index-latest.css' candidate='/assets/index-latest.css'

      at normalizeStaticProxyAssetPath (server.js:1604:11)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-0da4b4af.css,, {"alias":"/assets/index-latest.css"}' candidate='assets/index-0da4b4af.css,, {"alias":"/assets/index-latest.css"}'

      at normalizeStaticProxyAssetPath (server.js:1604:11)

  console.log
    DEBUG: proxy handler { normalizedAssetPath: '/assets/index-0da4b4af.css' }

      at server.js:19136:11

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:17:34.308Z","level":"info","message":"http_request_completed","requestId":"10fac6e2-14ef-4099-9800-fe42320062e3","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","statusCode":200,"durationMs":22,"contentLength":"106285","template":"unknown","session":"10fac6e2-14ef-4099-9800-fe42320062e3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"10fac6e2-14ef-4099-9800-fe42320062e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.310Z","level":"info","message":"client_asset_alias_local_served","path":"/assets/index-0da4b4af.css","method":"GET","proxy":true,"aliasPath":"/assets/index-latest.css","annotatedAlias":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.316Z","level":"info","message":"http_request_received","requestId":"67bee648-7206-4375-8e9d-27d65cf0e833","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"67bee648-7206-4375-8e9d-27d65cf0e833","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"67bee648-7206-4375-8e9d-27d65cf0e833","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.322Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.324Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.326Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.329Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.338Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-latest.css' candidate='assets/index-latest.css'

      at normalizeStaticProxyAssetPath (server.js:1604:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 {
      assetPath: 'assets/index-0da4b4af.css',
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest'
    }

      at serveHashedIndexAssetFromS3 (server.js:1099:11)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60"}

      at applyS3ResponseHeaders (server.js:617:11)

  console.log
    DEBUG: streamS3BodyToResponse data chunk length=32

      at Readable.<anonymous> (server.js:505:17)

  console.log
    DEBUG: streamS3BodyToResponse end fullBody length=32

      at Readable.<anonymous> (server.js:513:19)

  console.log
    {"timestamp":"2025-12-04T13:17:34.373Z","level":"info","message":"http_request_completed","requestId":"67bee648-7206-4375-8e9d-27d65cf0e833","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","statusCode":200,"durationMs":57,"contentLength":"32","template":"unknown","session":"67bee648-7206-4375-8e9d-27d65cf0e833","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"67bee648-7206-4375-8e9d-27d65cf0e833","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.374Z","level":"info","message":"client_asset_alias_proxy_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-0da4b4af.css","path":"assets/index-0da4b4af.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-0da4b4af.css","s3Key":"assets/index-0da4b4af.css","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.378Z","level":"info","message":"http_request_received","requestId":"80bae025-2778-4200-8b28-6e6cd565cfd8","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css","template":"unknown","session":"80bae025-2778-4200-8b28-6e6cd565cfd8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"80bae025-2778-4200-8b28-6e6cd565cfd8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.380Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.381Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.383Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.384Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.386Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-0da4b4af.css' candidate='assets/index-0da4b4af.css'

      at normalizeStaticProxyAssetPath (server.js:1604:11)

  console.log
    DEBUG: proxy handler { normalizedAssetPath: '/assets/index-0da4b4af.css' }

      at server.js:19136:11

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 {
      assetPath: '/assets/index-0da4b4af.css',
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest'
    }

      at serveHashedIndexAssetFromS3 (server.js:1099:11)

  console.warn
    {"timestamp":"2025-12-04T13:17:34.391Z","level":"warn","message":"client_asset_proxy_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-0da4b4af.css","path":"/assets/index-0da4b4af.css","method":"GET","proxy":true,"error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:758:21)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7809:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7812:16)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1153:32)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:19149:30\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at serveHashedIndexAssetFromS3 (server.js:1172:5)
      at server.js:19149:24

  console.log
    DEBUG: handleIndexAssetAliasRequest entered { normalizedAssetPath: '/assets/index-0da4b4af.css' }

      at server.js:19169:13

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:17:34.399Z","level":"info","message":"http_request_completed","requestId":"80bae025-2778-4200-8b28-6e6cd565cfd8","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css","statusCode":200,"durationMs":21,"contentLength":"106285","template":"unknown","session":"80bae025-2778-4200-8b28-6e6cd565cfd8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"80bae025-2778-4200-8b28-6e6cd565cfd8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.400Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","path":"/assets/index-0da4b4af.css","proxy":true,"degradedFrom":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:34.400Z","level":"warn","message":"client_asset_proxy_degraded_to_alias","path":"/assets/index-0da4b4af.css","method":"GET","proxy":true,"aliasPath":"/assets/index-latest.css","degradedFrom":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:19202:9

  console.log
    {"timestamp":"2025-12-04T13:17:34.409Z","level":"info","message":"http_request_received","requestId":"5022d451-6f8c-4deb-8c59-916b9b9b3328","method":"GET","path":"/assets/index-0da4b4af.css","template":"unknown","session":"5022d451-6f8c-4deb-8c59-916b9b9b3328","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5022d451-6f8c-4deb-8c59-916b9b9b3328","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.410Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-0da4b4af.css","reqUrl":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.411Z","level":"info","message":"request_received","path":"/assets/index-0da4b4af.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.413Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.414Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.416Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 {
      assetPath: '/assets/index-0da4b4af.css',
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest'
    }

      at serveHashedIndexAssetFromS3 (server.js:1099:11)

  console.warn
    {"timestamp":"2025-12-04T13:17:34.424Z","level":"warn","message":"client_asset_s3_fallback_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-0da4b4af.css","path":"/assets/index-0da4b4af.css","method":"GET","error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:804:21)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7809:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7812:16)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1153:32)\n    at tryServeHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1213:24)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at serveHashedIndexAssetFromS3 (server.js:1172:5)
      at tryServeHashedIndexAssetFromS3 (server.js:1213:18)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:17:34.430Z","level":"info","message":"http_request_completed","requestId":"5022d451-6f8c-4deb-8c59-916b9b9b3328","method":"GET","path":"/assets/index-0da4b4af.css","statusCode":200,"durationMs":21,"contentLength":"106285","template":"unknown","session":"5022d451-6f8c-4deb-8c59-916b9b9b3328","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5022d451-6f8c-4deb-8c59-916b9b9b3328","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.431Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","hashedPath":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:34.431Z","level":"warn","message":"hashed_index_asset_degraded_to_alias","hashedPath":"/assets/index-0da4b4af.css","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at tryServeHashedIndexAssetFromS3 (server.js:1265:7)

  console.log
    {"timestamp":"2025-12-04T13:17:34.439Z","level":"info","message":"http_request_received","requestId":"014c3393-0700-4558-ae02-9c1f9baa1351","method":"GET","path":"/api/static-proxy?asset=..%2Fsecrets.txt","template":"unknown","session":"014c3393-0700-4558-ae02-9c1f9baa1351","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"014c3393-0700-4558-ae02-9c1f9baa1351","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.440Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=..%2Fsecrets.txt","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.441Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.442Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.444Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.445Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='../secrets.txt' candidate='../secrets.txt'

      at normalizeStaticProxyAssetPath (server.js:1604:11)

  console.warn
    {"timestamp":"2025-12-04T13:17:34.449Z","level":"warn","message":"api_error_response","requestId":"014c3393-0700-4558-ae02-9c1f9baa1351","status":400,"error":{"code":"INVALID_STATIC_ASSET_PATH","message":"Provide a valid static asset path to proxy.","details":{},"requestId":"014c3393-0700-4558-ae02-9c1f9baa1351"},"template":"unknown","session":"014c3393-0700-4558-ae02-9c1f9baa1351","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"014c3393-0700-4558-ae02-9c1f9baa1351","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at sendError (server.js:3965:3)
      at server.js:19081:12
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at SendStream.error (node_modules/serve-static/index.js:121:7)
      at SendStream.error (node_modules/send/index.js:270:17)
      at SendStream.onStatError (node_modules/send/index.js:417:12)
      at next (node_modules/send/index.js:730:16)
      at onstat (node_modules/send/index.js:719:14)

  console.log
    {"timestamp":"2025-12-04T13:17:34.456Z","level":"info","message":"http_request_completed","requestId":"014c3393-0700-4558-ae02-9c1f9baa1351","method":"GET","path":"/api/static-proxy?asset=..%2Fsecrets.txt","statusCode":400,"durationMs":17,"contentLength":"182","template":"unknown","session":"014c3393-0700-4558-ae02-9c1f9baa1351","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"014c3393-0700-4558-ae02-9c1f9baa1351","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.459Z","level":"info","message":"http_request_received","requestId":"7fd914ff-257a-46d6-9dc2-e4cd60c8a7ed","method":"GET","path":"/api/static-manifest","template":"unknown","session":"7fd914ff-257a-46d6-9dc2-e4cd60c8a7ed","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7fd914ff-257a-46d6-9dc2-e4cd60c8a7ed","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.460Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.461Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.462Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.463Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.465Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.468Z","level":"info","message":"http_request_completed","requestId":"7fd914ff-257a-46d6-9dc2-e4cd60c8a7ed","method":"GET","path":"/api/static-manifest","statusCode":200,"durationMs":9,"contentLength":"301","template":"unknown","session":"7fd914ff-257a-46d6-9dc2-e4cd60c8a7ed","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7fd914ff-257a-46d6-9dc2-e4cd60c8a7ed","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.470Z","level":"info","message":"http_request_received","requestId":"a46d6f8a-5bfd-42fc-8635-d6bc9b7dfb7f","method":"GET","path":"/api/static-manifest","template":"unknown","session":"a46d6f8a-5bfd-42fc-8635-d6bc9b7dfb7f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a46d6f8a-5bfd-42fc-8635-d6bc9b7dfb7f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.471Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.473Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.474Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.475Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.477Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.480Z","level":"info","message":"http_request_completed","requestId":"a46d6f8a-5bfd-42fc-8635-d6bc9b7dfb7f","method":"GET","path":"/api/static-manifest","statusCode":200,"durationMs":10,"contentLength":"195","template":"unknown","session":"a46d6f8a-5bfd-42fc-8635-d6bc9b7dfb7f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a46d6f8a-5bfd-42fc-8635-d6bc9b7dfb7f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.482Z","level":"info","message":"http_request_received","requestId":"f6015d16-35b8-41d9-9f69-fba4c9209234","method":"GET","path":"/api/static-manifest?refresh=1","template":"unknown","session":"f6015d16-35b8-41d9-9f69-fba4c9209234","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f6015d16-35b8-41d9-9f69-fba4c9209234","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.483Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest?refresh=1","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.484Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.485Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.487Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.489Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.491Z","level":"info","message":"http_request_completed","requestId":"f6015d16-35b8-41d9-9f69-fba4c9209234","method":"GET","path":"/api/static-manifest?refresh=1","statusCode":200,"durationMs":9,"contentLength":"195","template":"unknown","session":"f6015d16-35b8-41d9-9f69-fba4c9209234","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f6015d16-35b8-41d9-9f69-fba4c9209234","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.493Z","level":"info","message":"http_request_received","requestId":"4ab9c372-7d5b-4885-b989-64b124679c8a","method":"GET","path":"/api/static-manifest","template":"unknown","session":"4ab9c372-7d5b-4885-b989-64b124679c8a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4ab9c372-7d5b-4885-b989-64b124679c8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.494Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.495Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.496Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.497Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.499Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:34.502Z","level":"warn","message":"client_asset_manifest_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/manifest.json","error":{"name":"Error","message":"manifest not found","stack":"Error: manifest not found\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:902:22)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7809:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7812:16)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:868:30\n    at loadStaticAssetManifestFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:951:5)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:19222:28\n    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/serve-static/index.js:121:7)\n    at SendStream.emit (node:events:513:28)\n    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:270:17)\n    at SendStream.onStatError (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:417:12)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:730:16)\n    at onstat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:719:14)\n    at FSReqCallback.oncomplete (node:fs:206:21)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:943:7
      at loadStaticAssetManifestFromS3 (server.js:958:12)
      at server.js:19222:22

  console.error
    {"timestamp":"2025-12-04T13:17:34.508Z","level":"error","message":"api_error_response","requestId":"4ab9c372-7d5b-4885-b989-64b124679c8a","status":503,"error":{"code":"STATIC_MANIFEST_UNAVAILABLE","message":"Static asset manifest is not currently available. Please try again shortly.","details":{},"requestId":"4ab9c372-7d5b-4885-b989-64b124679c8a"},"template":"unknown","session":"4ab9c372-7d5b-4885-b989-64b124679c8a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4ab9c372-7d5b-4885-b989-64b124679c8a","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at sendError (server.js:3965:3)
      at server.js:19227:14

  console.log
    {"timestamp":"2025-12-04T13:17:34.514Z","level":"info","message":"http_request_completed","requestId":"4ab9c372-7d5b-4885-b989-64b124679c8a","method":"GET","path":"/api/static-manifest","statusCode":503,"durationMs":21,"contentLength":"216","template":"unknown","session":"4ab9c372-7d5b-4885-b989-64b124679c8a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4ab9c372-7d5b-4885-b989-64b124679c8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.519Z","level":"info","message":"http_request_received","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","method":"POST","path":"/api/process-cv","template":"unknown","session":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.520Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.521Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.522Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.524Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.526Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88/incoming/original.pdf","chunks":1,"timestamp":1764854254531}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":8}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:17:34.548Z","level":"info","message":"process_cv_started","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","jobId":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","manualJobDescriptionProvided":true,"template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.550Z","level":"info","message":"template_selection","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","jobId":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:34.551Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","jobId":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:17:34.557Z","level":"info","message":"initial_upload_completed","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","jobId":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","bucket":"test-bucket","key":"cv/candidate/a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88/incoming/original.pdf","template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.572Z","level":"info","message":"resume_text_extracted","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","jobId":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","characters":57,"template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.573Z","level":"info","message":"resume_classified","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","jobId":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.575Z","level":"info","message":"raw_upload_relocated","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","jobId":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","bucket":"test-bucket","fromKey":"cv/candidate/a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88/incoming/original.pdf","toKey":"cv/professional_summary/a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88/original.pdf","template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.575Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","jobId":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","bucket":"test-bucket","key":"cv/professional_summary/a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88/original.pdf","template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.576Z","level":"info","message":"dynamo_initial_record_written","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","jobId":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","bucket":"test-bucket","key":"cv/professional_summary/a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88/original.pdf","template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.577Z","level":"info","message":"upload_metadata_written","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","jobId":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","bucket":"test-bucket","key":"cv/professional_summary/a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88/logs/log.json","template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.577Z","level":"info","message":"job_description_supplied_manually","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","jobId":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","characters":174,"template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.579Z","level":"info","message":"job_description_analyzed","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","jobId":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","jobTitle":"","jobSkills":5,"template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.584Z","level":"info","message":"resume_skills_analyzed","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","jobId":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.586Z","level":"info","message":"llm_call_metrics","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.588Z","level":"info","message":"process_cv_scoring_completed","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","jobId":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.605Z","level":"info","message":"llm_call_metrics","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.605Z","level":"info","message":"generation_section_rewrite_completed","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","jobId":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","generationRunId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.606Z","level":"info","message":"llm_call_metrics","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.611Z","level":"info","message":"generation_resume_verified","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","jobId":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","generationRunId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:34.626Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","jobId":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","generationRunId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:34.637Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","jobId":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","generationRunId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:34.643Z","level":"info","message":"generation_cover_letters_completed","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","jobId":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","generationRunId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","variants":2,"fallbackApplied":true,"template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.646Z","level":"info","message":"pdf_generation_attempt","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","jobId":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","generationRunId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88/enhanced_modern.pdf","session":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.647Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","jobId":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","generationRunId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.648Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","jobId":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","generationRunId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88/enhanced_modern.pdf","session":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.649Z","level":"info","message":"pdf_generation_attempt","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","jobId":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","generationRunId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88/enhanced_professional.pdf","session":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.649Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","jobId":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","generationRunId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.650Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","jobId":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","generationRunId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88/enhanced_professional.pdf","session":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.650Z","level":"info","message":"pdf_generation_attempt","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","jobId":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","generationRunId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88/cover_letter_cover_modern.pdf","session":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.651Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","jobId":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","generationRunId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.652Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","jobId":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","generationRunId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88/cover_letter_cover_modern.pdf","session":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.658Z","level":"info","message":"pdf_generation_attempt","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","jobId":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","generationRunId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88/cover_letter_cover_professional.pdf","session":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.659Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","jobId":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","generationRunId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.659Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","jobId":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","generationRunId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88/cover_letter_cover_professional.pdf","session":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.667Z","level":"info","message":"llm_call_metrics","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.668Z","level":"info","message":"generation_completed","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","jobId":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","generationRunId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","enhancedScore":80,"outputs":5,"template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.670Z","level":"info","message":"placeholder_record_deleted","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","jobId":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","placeholderIdentifier":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"88d8b15b-cdef-4fdf-9f64-398fc5a0342a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.671Z","level":"info","message":"http_request_completed","requestId":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":152,"contentLength":"58133","template":"unknown","session":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a8639a5f-4b34-4bbf-b0dc-cd37ce43ed88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.674Z","level":"info","message":"http_request_received","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","method":"POST","path":"/api/process-cv","template":"unknown","session":"e0b934f3-1b64-45a8-9b51-ab52d2486362","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e0b934f3-1b64-45a8-9b51-ab52d2486362","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.675Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.677Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.678Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.679Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.681Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/e0b934f3-1b64-45a8-9b51-ab52d2486362/incoming/original.pdf","chunks":1,"timestamp":1764854254685}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/e0b934f3-1b64-45a8-9b51-ab52d2486362/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/e0b934f3-1b64-45a8-9b51-ab52d2486362/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:17:34.694Z","level":"info","message":"process_cv_started","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","jobId":"4498ee16-ea63-445a-ab66-b451596a5560","manualJobDescriptionProvided":true,"template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.694Z","level":"info","message":"template_selection","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","jobId":"4498ee16-ea63-445a-ab66-b451596a5560","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:34.695Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","jobId":"4498ee16-ea63-445a-ab66-b451596a5560","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:17:34.701Z","level":"info","message":"initial_upload_completed","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","jobId":"4498ee16-ea63-445a-ab66-b451596a5560","bucket":"test-bucket","key":"cv/candidate/e0b934f3-1b64-45a8-9b51-ab52d2486362/incoming/original.pdf","template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.706Z","level":"info","message":"resume_text_extracted","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","jobId":"4498ee16-ea63-445a-ab66-b451596a5560","characters":57,"template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.706Z","level":"info","message":"resume_classified","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","jobId":"4498ee16-ea63-445a-ab66-b451596a5560","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.707Z","level":"info","message":"raw_upload_relocated","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","jobId":"4498ee16-ea63-445a-ab66-b451596a5560","bucket":"test-bucket","fromKey":"cv/candidate/e0b934f3-1b64-45a8-9b51-ab52d2486362/incoming/original.pdf","toKey":"cv/professional_summary/e0b934f3-1b64-45a8-9b51-ab52d2486362/original.pdf","template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.707Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","jobId":"4498ee16-ea63-445a-ab66-b451596a5560","bucket":"test-bucket","key":"cv/professional_summary/e0b934f3-1b64-45a8-9b51-ab52d2486362/original.pdf","template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.708Z","level":"info","message":"dynamo_initial_record_written","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","jobId":"4498ee16-ea63-445a-ab66-b451596a5560","bucket":"test-bucket","key":"cv/professional_summary/e0b934f3-1b64-45a8-9b51-ab52d2486362/original.pdf","template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.708Z","level":"info","message":"upload_metadata_written","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","jobId":"4498ee16-ea63-445a-ab66-b451596a5560","bucket":"test-bucket","key":"cv/professional_summary/e0b934f3-1b64-45a8-9b51-ab52d2486362/logs/log.json","template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.708Z","level":"info","message":"job_description_supplied_manually","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","jobId":"4498ee16-ea63-445a-ab66-b451596a5560","characters":174,"template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.709Z","level":"info","message":"job_description_analyzed","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","jobId":"4498ee16-ea63-445a-ab66-b451596a5560","jobTitle":"","jobSkills":5,"template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.712Z","level":"info","message":"resume_skills_analyzed","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","jobId":"4498ee16-ea63-445a-ab66-b451596a5560","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.712Z","level":"info","message":"llm_call_metrics","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"e0b934f3-1b64-45a8-9b51-ab52d2486362","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e0b934f3-1b64-45a8-9b51-ab52d2486362","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.713Z","level":"info","message":"process_cv_scoring_completed","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","jobId":"4498ee16-ea63-445a-ab66-b451596a5560","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.716Z","level":"info","message":"llm_call_metrics","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"e0b934f3-1b64-45a8-9b51-ab52d2486362","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"e0b934f3-1b64-45a8-9b51-ab52d2486362","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.716Z","level":"info","message":"generation_section_rewrite_completed","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","jobId":"4498ee16-ea63-445a-ab66-b451596a5560","generationRunId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.717Z","level":"info","message":"llm_call_metrics","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"e0b934f3-1b64-45a8-9b51-ab52d2486362","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"e0b934f3-1b64-45a8-9b51-ab52d2486362","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.720Z","level":"info","message":"generation_resume_verified","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","jobId":"4498ee16-ea63-445a-ab66-b451596a5560","generationRunId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:34.725Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","jobId":"4498ee16-ea63-445a-ab66-b451596a5560","generationRunId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:34.731Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","jobId":"4498ee16-ea63-445a-ab66-b451596a5560","generationRunId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:34.737Z","level":"info","message":"generation_cover_letters_completed","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","jobId":"4498ee16-ea63-445a-ab66-b451596a5560","generationRunId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","variants":2,"fallbackApplied":true,"template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.737Z","level":"info","message":"pdf_generation_attempt","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","jobId":"4498ee16-ea63-445a-ab66-b451596a5560","generationRunId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e0b934f3-1b64-45a8-9b51-ab52d2486362/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/e0b934f3-1b64-45a8-9b51-ab52d2486362/enhanced_modern.pdf","session":"e0b934f3-1b64-45a8-9b51-ab52d2486362","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e0b934f3-1b64-45a8-9b51-ab52d2486362","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.738Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","jobId":"4498ee16-ea63-445a-ab66-b451596a5560","generationRunId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e0b934f3-1b64-45a8-9b51-ab52d2486362/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e0b934f3-1b64-45a8-9b51-ab52d2486362","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e0b934f3-1b64-45a8-9b51-ab52d2486362","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.738Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","jobId":"4498ee16-ea63-445a-ab66-b451596a5560","generationRunId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e0b934f3-1b64-45a8-9b51-ab52d2486362/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/e0b934f3-1b64-45a8-9b51-ab52d2486362/enhanced_modern.pdf","session":"e0b934f3-1b64-45a8-9b51-ab52d2486362","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e0b934f3-1b64-45a8-9b51-ab52d2486362","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.739Z","level":"info","message":"pdf_generation_attempt","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","jobId":"4498ee16-ea63-445a-ab66-b451596a5560","generationRunId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e0b934f3-1b64-45a8-9b51-ab52d2486362/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/e0b934f3-1b64-45a8-9b51-ab52d2486362/enhanced_professional.pdf","session":"e0b934f3-1b64-45a8-9b51-ab52d2486362","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e0b934f3-1b64-45a8-9b51-ab52d2486362","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.739Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","jobId":"4498ee16-ea63-445a-ab66-b451596a5560","generationRunId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e0b934f3-1b64-45a8-9b51-ab52d2486362/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e0b934f3-1b64-45a8-9b51-ab52d2486362","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e0b934f3-1b64-45a8-9b51-ab52d2486362","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.740Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","jobId":"4498ee16-ea63-445a-ab66-b451596a5560","generationRunId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e0b934f3-1b64-45a8-9b51-ab52d2486362/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/e0b934f3-1b64-45a8-9b51-ab52d2486362/enhanced_professional.pdf","session":"e0b934f3-1b64-45a8-9b51-ab52d2486362","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e0b934f3-1b64-45a8-9b51-ab52d2486362","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.740Z","level":"info","message":"pdf_generation_attempt","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","jobId":"4498ee16-ea63-445a-ab66-b451596a5560","generationRunId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e0b934f3-1b64-45a8-9b51-ab52d2486362/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/e0b934f3-1b64-45a8-9b51-ab52d2486362/cover_letter_cover_modern.pdf","session":"e0b934f3-1b64-45a8-9b51-ab52d2486362","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e0b934f3-1b64-45a8-9b51-ab52d2486362","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.740Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","jobId":"4498ee16-ea63-445a-ab66-b451596a5560","generationRunId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e0b934f3-1b64-45a8-9b51-ab52d2486362/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e0b934f3-1b64-45a8-9b51-ab52d2486362","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e0b934f3-1b64-45a8-9b51-ab52d2486362","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.741Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","jobId":"4498ee16-ea63-445a-ab66-b451596a5560","generationRunId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e0b934f3-1b64-45a8-9b51-ab52d2486362/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/e0b934f3-1b64-45a8-9b51-ab52d2486362/cover_letter_cover_modern.pdf","session":"e0b934f3-1b64-45a8-9b51-ab52d2486362","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e0b934f3-1b64-45a8-9b51-ab52d2486362","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.741Z","level":"info","message":"pdf_generation_attempt","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","jobId":"4498ee16-ea63-445a-ab66-b451596a5560","generationRunId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e0b934f3-1b64-45a8-9b51-ab52d2486362/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/e0b934f3-1b64-45a8-9b51-ab52d2486362/cover_letter_cover_professional.pdf","session":"e0b934f3-1b64-45a8-9b51-ab52d2486362","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e0b934f3-1b64-45a8-9b51-ab52d2486362","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.742Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","jobId":"4498ee16-ea63-445a-ab66-b451596a5560","generationRunId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e0b934f3-1b64-45a8-9b51-ab52d2486362/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e0b934f3-1b64-45a8-9b51-ab52d2486362","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e0b934f3-1b64-45a8-9b51-ab52d2486362","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.742Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","jobId":"4498ee16-ea63-445a-ab66-b451596a5560","generationRunId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e0b934f3-1b64-45a8-9b51-ab52d2486362/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/e0b934f3-1b64-45a8-9b51-ab52d2486362/cover_letter_cover_professional.pdf","session":"e0b934f3-1b64-45a8-9b51-ab52d2486362","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e0b934f3-1b64-45a8-9b51-ab52d2486362","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.745Z","level":"info","message":"llm_call_metrics","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"e0b934f3-1b64-45a8-9b51-ab52d2486362","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e0b934f3-1b64-45a8-9b51-ab52d2486362","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.746Z","level":"info","message":"generation_completed","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","jobId":"4498ee16-ea63-445a-ab66-b451596a5560","generationRunId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","enhancedScore":80,"outputs":5,"template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.747Z","level":"info","message":"placeholder_record_deleted","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","jobId":"4498ee16-ea63-445a-ab66-b451596a5560","placeholderIdentifier":"e0b934f3-1b64-45a8-9b51-ab52d2486362","template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4498ee16-ea63-445a-ab66-b451596a5560","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.748Z","level":"info","message":"http_request_completed","requestId":"e0b934f3-1b64-45a8-9b51-ab52d2486362","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":74,"contentLength":"58133","template":"unknown","session":"e0b934f3-1b64-45a8-9b51-ab52d2486362","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e0b934f3-1b64-45a8-9b51-ab52d2486362","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.758Z","level":"info","message":"http_request_received","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","method":"POST","path":"/api/process-cv","template":"unknown","session":"60f6dfa7-450c-4783-b0d2-7f434419db0a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60f6dfa7-450c-4783-b0d2-7f434419db0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.759Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.760Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.761Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.763Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.765Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/60f6dfa7-450c-4783-b0d2-7f434419db0a/incoming/original.pdf","chunks":1,"timestamp":1764854254767}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/60f6dfa7-450c-4783-b0d2-7f434419db0a/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/60f6dfa7-450c-4783-b0d2-7f434419db0a/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:17:34.770Z","level":"info","message":"process_cv_started","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","jobId":"2b68a8cf-f057-469e-a22a-c474fb9a6666","manualJobDescriptionProvided":true,"template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.770Z","level":"info","message":"template_selection","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","jobId":"2b68a8cf-f057-469e-a22a-c474fb9a6666","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:34.771Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","jobId":"2b68a8cf-f057-469e-a22a-c474fb9a6666","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:17:34.777Z","level":"info","message":"initial_upload_completed","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","jobId":"2b68a8cf-f057-469e-a22a-c474fb9a6666","bucket":"test-bucket","key":"cv/candidate/60f6dfa7-450c-4783-b0d2-7f434419db0a/incoming/original.pdf","template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.777Z","level":"info","message":"resume_text_extracted","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","jobId":"2b68a8cf-f057-469e-a22a-c474fb9a6666","characters":57,"template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.778Z","level":"info","message":"resume_classified","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","jobId":"2b68a8cf-f057-469e-a22a-c474fb9a6666","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.778Z","level":"info","message":"raw_upload_relocated","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","jobId":"2b68a8cf-f057-469e-a22a-c474fb9a6666","bucket":"test-bucket","fromKey":"cv/candidate/60f6dfa7-450c-4783-b0d2-7f434419db0a/incoming/original.pdf","toKey":"cv/professional_summary/60f6dfa7-450c-4783-b0d2-7f434419db0a/original.pdf","template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.779Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","jobId":"2b68a8cf-f057-469e-a22a-c474fb9a6666","bucket":"test-bucket","key":"cv/professional_summary/60f6dfa7-450c-4783-b0d2-7f434419db0a/original.pdf","template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.779Z","level":"info","message":"dynamo_initial_record_written","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","jobId":"2b68a8cf-f057-469e-a22a-c474fb9a6666","bucket":"test-bucket","key":"cv/professional_summary/60f6dfa7-450c-4783-b0d2-7f434419db0a/original.pdf","template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.780Z","level":"info","message":"upload_metadata_written","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","jobId":"2b68a8cf-f057-469e-a22a-c474fb9a6666","bucket":"test-bucket","key":"cv/professional_summary/60f6dfa7-450c-4783-b0d2-7f434419db0a/logs/log.json","template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.781Z","level":"info","message":"session_transition_change_log_removed","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","jobId":"2b68a8cf-f057-469e-a22a-c474fb9a6666","bucket":"test-bucket","removedKeys":["cv/candidate/session-old/logs/change-log.json","cv/candidate/session-old/artifacts/changelog.json"],"template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.781Z","level":"info","message":"job_description_supplied_manually","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","jobId":"2b68a8cf-f057-469e-a22a-c474fb9a6666","characters":174,"template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.781Z","level":"info","message":"job_description_analyzed","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","jobId":"2b68a8cf-f057-469e-a22a-c474fb9a6666","jobTitle":"","jobSkills":5,"template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.782Z","level":"info","message":"resume_skills_analyzed","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","jobId":"2b68a8cf-f057-469e-a22a-c474fb9a6666","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.783Z","level":"info","message":"llm_call_metrics","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"60f6dfa7-450c-4783-b0d2-7f434419db0a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"60f6dfa7-450c-4783-b0d2-7f434419db0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.783Z","level":"info","message":"process_cv_scoring_completed","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","jobId":"2b68a8cf-f057-469e-a22a-c474fb9a6666","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.786Z","level":"info","message":"llm_call_metrics","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"60f6dfa7-450c-4783-b0d2-7f434419db0a","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"60f6dfa7-450c-4783-b0d2-7f434419db0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.786Z","level":"info","message":"generation_section_rewrite_completed","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","jobId":"2b68a8cf-f057-469e-a22a-c474fb9a6666","generationRunId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.787Z","level":"info","message":"llm_call_metrics","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"60f6dfa7-450c-4783-b0d2-7f434419db0a","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"60f6dfa7-450c-4783-b0d2-7f434419db0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.789Z","level":"info","message":"generation_resume_verified","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","jobId":"2b68a8cf-f057-469e-a22a-c474fb9a6666","generationRunId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:34.792Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","jobId":"2b68a8cf-f057-469e-a22a-c474fb9a6666","generationRunId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:34.798Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","jobId":"2b68a8cf-f057-469e-a22a-c474fb9a6666","generationRunId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:34.804Z","level":"info","message":"generation_cover_letters_completed","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","jobId":"2b68a8cf-f057-469e-a22a-c474fb9a6666","generationRunId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","variants":2,"fallbackApplied":true,"template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.805Z","level":"info","message":"pdf_generation_attempt","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","jobId":"2b68a8cf-f057-469e-a22a-c474fb9a6666","generationRunId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/60f6dfa7-450c-4783-b0d2-7f434419db0a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/60f6dfa7-450c-4783-b0d2-7f434419db0a/enhanced_modern.pdf","session":"60f6dfa7-450c-4783-b0d2-7f434419db0a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"60f6dfa7-450c-4783-b0d2-7f434419db0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.805Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","jobId":"2b68a8cf-f057-469e-a22a-c474fb9a6666","generationRunId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/60f6dfa7-450c-4783-b0d2-7f434419db0a/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"60f6dfa7-450c-4783-b0d2-7f434419db0a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"60f6dfa7-450c-4783-b0d2-7f434419db0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.806Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","jobId":"2b68a8cf-f057-469e-a22a-c474fb9a6666","generationRunId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/60f6dfa7-450c-4783-b0d2-7f434419db0a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/60f6dfa7-450c-4783-b0d2-7f434419db0a/enhanced_modern.pdf","session":"60f6dfa7-450c-4783-b0d2-7f434419db0a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"60f6dfa7-450c-4783-b0d2-7f434419db0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.806Z","level":"info","message":"pdf_generation_attempt","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","jobId":"2b68a8cf-f057-469e-a22a-c474fb9a6666","generationRunId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/60f6dfa7-450c-4783-b0d2-7f434419db0a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/60f6dfa7-450c-4783-b0d2-7f434419db0a/enhanced_professional.pdf","session":"60f6dfa7-450c-4783-b0d2-7f434419db0a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"60f6dfa7-450c-4783-b0d2-7f434419db0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.807Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","jobId":"2b68a8cf-f057-469e-a22a-c474fb9a6666","generationRunId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/60f6dfa7-450c-4783-b0d2-7f434419db0a/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"60f6dfa7-450c-4783-b0d2-7f434419db0a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"60f6dfa7-450c-4783-b0d2-7f434419db0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.807Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","jobId":"2b68a8cf-f057-469e-a22a-c474fb9a6666","generationRunId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/60f6dfa7-450c-4783-b0d2-7f434419db0a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/60f6dfa7-450c-4783-b0d2-7f434419db0a/enhanced_professional.pdf","session":"60f6dfa7-450c-4783-b0d2-7f434419db0a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"60f6dfa7-450c-4783-b0d2-7f434419db0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.808Z","level":"info","message":"pdf_generation_attempt","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","jobId":"2b68a8cf-f057-469e-a22a-c474fb9a6666","generationRunId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/60f6dfa7-450c-4783-b0d2-7f434419db0a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/60f6dfa7-450c-4783-b0d2-7f434419db0a/cover_letter_cover_modern.pdf","session":"60f6dfa7-450c-4783-b0d2-7f434419db0a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"60f6dfa7-450c-4783-b0d2-7f434419db0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.808Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","jobId":"2b68a8cf-f057-469e-a22a-c474fb9a6666","generationRunId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/60f6dfa7-450c-4783-b0d2-7f434419db0a/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"60f6dfa7-450c-4783-b0d2-7f434419db0a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"60f6dfa7-450c-4783-b0d2-7f434419db0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.809Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","jobId":"2b68a8cf-f057-469e-a22a-c474fb9a6666","generationRunId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/60f6dfa7-450c-4783-b0d2-7f434419db0a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/60f6dfa7-450c-4783-b0d2-7f434419db0a/cover_letter_cover_modern.pdf","session":"60f6dfa7-450c-4783-b0d2-7f434419db0a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"60f6dfa7-450c-4783-b0d2-7f434419db0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.810Z","level":"info","message":"pdf_generation_attempt","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","jobId":"2b68a8cf-f057-469e-a22a-c474fb9a6666","generationRunId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/60f6dfa7-450c-4783-b0d2-7f434419db0a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/60f6dfa7-450c-4783-b0d2-7f434419db0a/cover_letter_cover_professional.pdf","session":"60f6dfa7-450c-4783-b0d2-7f434419db0a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"60f6dfa7-450c-4783-b0d2-7f434419db0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.810Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","jobId":"2b68a8cf-f057-469e-a22a-c474fb9a6666","generationRunId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/60f6dfa7-450c-4783-b0d2-7f434419db0a/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"60f6dfa7-450c-4783-b0d2-7f434419db0a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"60f6dfa7-450c-4783-b0d2-7f434419db0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.810Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","jobId":"2b68a8cf-f057-469e-a22a-c474fb9a6666","generationRunId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/60f6dfa7-450c-4783-b0d2-7f434419db0a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/60f6dfa7-450c-4783-b0d2-7f434419db0a/cover_letter_cover_professional.pdf","session":"60f6dfa7-450c-4783-b0d2-7f434419db0a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"60f6dfa7-450c-4783-b0d2-7f434419db0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.813Z","level":"info","message":"llm_call_metrics","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"60f6dfa7-450c-4783-b0d2-7f434419db0a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"60f6dfa7-450c-4783-b0d2-7f434419db0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.814Z","level":"info","message":"generation_completed","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","jobId":"2b68a8cf-f057-469e-a22a-c474fb9a6666","generationRunId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","enhancedScore":80,"outputs":5,"template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.816Z","level":"info","message":"placeholder_record_deleted","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","jobId":"2b68a8cf-f057-469e-a22a-c474fb9a6666","placeholderIdentifier":"60f6dfa7-450c-4783-b0d2-7f434419db0a","template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2b68a8cf-f057-469e-a22a-c474fb9a6666","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.817Z","level":"info","message":"http_request_completed","requestId":"60f6dfa7-450c-4783-b0d2-7f434419db0a","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":59,"contentLength":"58133","template":"unknown","session":"60f6dfa7-450c-4783-b0d2-7f434419db0a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60f6dfa7-450c-4783-b0d2-7f434419db0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.820Z","level":"info","message":"http_request_received","requestId":"repeat","method":"POST","path":"/api/process-cv","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.821Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.823Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.824Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.825Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.827Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","chunks":1,"timestamp":1764854254829}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:17:34.831Z","level":"info","message":"process_cv_started","requestId":"repeat","jobId":"repeat","manualJobDescriptionProvided":true,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.831Z","level":"info","message":"template_selection","requestId":"repeat","jobId":"repeat","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:34.832Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"repeat","jobId":"repeat","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:17:34.837Z","level":"info","message":"initial_upload_completed","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.838Z","level":"info","message":"resume_text_extracted","requestId":"repeat","jobId":"repeat","characters":57,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.838Z","level":"info","message":"resume_classified","requestId":"repeat","jobId":"repeat","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.838Z","level":"info","message":"raw_upload_relocated","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","fromKey":"cv/candidate/repeat/incoming/original.pdf","toKey":"cv/professional_summary/repeat/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.839Z","level":"info","message":"dynamo_initial_record_written","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/professional_summary/repeat/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.839Z","level":"info","message":"upload_metadata_written","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/professional_summary/repeat/logs/log.json","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.839Z","level":"info","message":"session_transition_change_log_removed","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","removedKeys":["cv/candidate/repeat/logs/change-log.json","cv/candidate/repeat/artifacts/changelog.json"],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.840Z","level":"info","message":"job_description_supplied_manually","requestId":"repeat","jobId":"repeat","characters":174,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.840Z","level":"info","message":"job_description_analyzed","requestId":"repeat","jobId":"repeat","jobTitle":"","jobSkills":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.841Z","level":"info","message":"resume_skills_analyzed","requestId":"repeat","jobId":"repeat","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.841Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.842Z","level":"info","message":"process_cv_scoring_completed","requestId":"repeat","jobId":"repeat","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.844Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.844Z","level":"info","message":"generation_section_rewrite_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.845Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.847Z","level":"info","message":"generation_resume_verified","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:34.849Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:34.857Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:34.862Z","level":"info","message":"generation_cover_letters_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","variants":2,"fallbackApplied":true,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.863Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.863Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.864Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.864Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.865Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.865Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.865Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.866Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.866Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.867Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.867Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.868Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.870Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.871Z","level":"info","message":"generation_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","enhancedScore":80,"outputs":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.873Z","level":"info","message":"http_request_completed","requestId":"repeat","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":53,"contentLength":"57353","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.876Z","level":"info","message":"http_request_received","requestId":"68de67cf-36c4-40ce-82bd-54f737e2dc08","method":"POST","path":"/api/process-cv","template":"unknown","session":"68de67cf-36c4-40ce-82bd-54f737e2dc08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68de67cf-36c4-40ce-82bd-54f737e2dc08","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.877Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.878Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.879Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.881Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.883Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/68de67cf-36c4-40ce-82bd-54f737e2dc08/incoming/original.pdf","chunks":1,"timestamp":1764854254885}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/68de67cf-36c4-40ce-82bd-54f737e2dc08/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/68de67cf-36c4-40ce-82bd-54f737e2dc08/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:17:34.887Z","level":"info","message":"process_cv_started","requestId":"68de67cf-36c4-40ce-82bd-54f737e2dc08","jobId":"b6440c2c-b73e-402c-85b5-2f0a1712a6f0","manualJobDescriptionProvided":false,"template":"unknown","session":"b6440c2c-b73e-402c-85b5-2f0a1712a6f0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6440c2c-b73e-402c-85b5-2f0a1712a6f0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.887Z","level":"info","message":"template_selection","requestId":"68de67cf-36c4-40ce-82bd-54f737e2dc08","jobId":"b6440c2c-b73e-402c-85b5-2f0a1712a6f0","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"b6440c2c-b73e-402c-85b5-2f0a1712a6f0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b6440c2c-b73e-402c-85b5-2f0a1712a6f0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:34.888Z","level":"warn","message":"job_description_missing","requestId":"68de67cf-36c4-40ce-82bd-54f737e2dc08","jobId":"b6440c2c-b73e-402c-85b5-2f0a1712a6f0","template":"unknown","session":"b6440c2c-b73e-402c-85b5-2f0a1712a6f0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6440c2c-b73e-402c-85b5-2f0a1712a6f0","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25096:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T13:17:34.896Z","level":"warn","message":"api_error_response","requestId":"68de67cf-36c4-40ce-82bd-54f737e2dc08","jobId":"b6440c2c-b73e-402c-85b5-2f0a1712a6f0","status":400,"error":{"code":"JOB_DESCRIPTION_REQUIRED","message":"manualJobDescription required","details":{"field":"manualJobDescription"},"requestId":"68de67cf-36c4-40ce-82bd-54f737e2dc08","jobId":"b6440c2c-b73e-402c-85b5-2f0a1712a6f0"},"template":"unknown","session":"b6440c2c-b73e-402c-85b5-2f0a1712a6f0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b6440c2c-b73e-402c-85b5-2f0a1712a6f0","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at sendError (server.js:3965:3)
      at server.js:25097:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:17:34.901Z","level":"info","message":"http_request_completed","requestId":"68de67cf-36c4-40ce-82bd-54f737e2dc08","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":25,"contentLength":"244","template":"unknown","session":"68de67cf-36c4-40ce-82bd-54f737e2dc08","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68de67cf-36c4-40ce-82bd-54f737e2dc08","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.904Z","level":"info","message":"http_request_received","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","method":"POST","path":"/api/process-cv","template":"unknown","session":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.904Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.906Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.907Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.908Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.910Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/f01b5b6d-4fe1-4e9e-b71e-e44cd022947c/incoming/original.pdf","chunks":1,"timestamp":1764854254912}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/f01b5b6d-4fe1-4e9e-b71e-e44cd022947c/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/f01b5b6d-4fe1-4e9e-b71e-e44cd022947c/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:17:34.913Z","level":"info","message":"process_cv_started","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","jobId":"a60bd459-a257-442a-8b55-5717411c1157","manualJobDescriptionProvided":true,"template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.914Z","level":"info","message":"template_selection","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","jobId":"a60bd459-a257-442a-8b55-5717411c1157","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:34.915Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","jobId":"a60bd459-a257-442a-8b55-5717411c1157","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:17:34.920Z","level":"info","message":"initial_upload_completed","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","jobId":"a60bd459-a257-442a-8b55-5717411c1157","bucket":"test-bucket","key":"cv/candidate/f01b5b6d-4fe1-4e9e-b71e-e44cd022947c/incoming/original.pdf","template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.922Z","level":"info","message":"resume_text_extracted","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","jobId":"a60bd459-a257-442a-8b55-5717411c1157","characters":57,"template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.922Z","level":"info","message":"resume_classified","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","jobId":"a60bd459-a257-442a-8b55-5717411c1157","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.922Z","level":"info","message":"raw_upload_relocated","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","jobId":"a60bd459-a257-442a-8b55-5717411c1157","bucket":"test-bucket","fromKey":"cv/candidate/f01b5b6d-4fe1-4e9e-b71e-e44cd022947c/incoming/original.pdf","toKey":"cv/professional_summary/f01b5b6d-4fe1-4e9e-b71e-e44cd022947c/original.pdf","template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.923Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","jobId":"a60bd459-a257-442a-8b55-5717411c1157","bucket":"test-bucket","key":"cv/professional_summary/f01b5b6d-4fe1-4e9e-b71e-e44cd022947c/original.pdf","template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.923Z","level":"info","message":"dynamo_initial_record_written","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","jobId":"a60bd459-a257-442a-8b55-5717411c1157","bucket":"test-bucket","key":"cv/professional_summary/f01b5b6d-4fe1-4e9e-b71e-e44cd022947c/original.pdf","template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.923Z","level":"info","message":"upload_metadata_written","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","jobId":"a60bd459-a257-442a-8b55-5717411c1157","bucket":"test-bucket","key":"cv/professional_summary/f01b5b6d-4fe1-4e9e-b71e-e44cd022947c/logs/log.json","template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.924Z","level":"info","message":"job_description_supplied_manually","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","jobId":"a60bd459-a257-442a-8b55-5717411c1157","characters":59,"template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.924Z","level":"info","message":"job_description_analyzed","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","jobId":"a60bd459-a257-442a-8b55-5717411c1157","jobTitle":"","jobSkills":5,"template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.925Z","level":"info","message":"resume_skills_analyzed","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","jobId":"a60bd459-a257-442a-8b55-5717411c1157","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.925Z","level":"info","message":"llm_call_metrics","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.926Z","level":"info","message":"process_cv_scoring_completed","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","jobId":"a60bd459-a257-442a-8b55-5717411c1157","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.928Z","level":"info","message":"llm_call_metrics","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"ea2430c235b24028819e3e632af324e68724bbc1d27bee61065e3e4452249d1c","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.928Z","level":"info","message":"generation_section_rewrite_completed","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","jobId":"a60bd459-a257-442a-8b55-5717411c1157","generationRunId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.929Z","level":"info","message":"llm_call_metrics","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"5ccfe9db3e82fa26357ec9c5a8fa36d7c5cf260bf775e906492a22db0355a609","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.931Z","level":"info","message":"generation_resume_verified","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","jobId":"a60bd459-a257-442a-8b55-5717411c1157","generationRunId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:34.934Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","jobId":"a60bd459-a257-442a-8b55-5717411c1157","generationRunId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:34.940Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","jobId":"a60bd459-a257-442a-8b55-5717411c1157","generationRunId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:34.945Z","level":"info","message":"generation_cover_letters_completed","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","jobId":"a60bd459-a257-442a-8b55-5717411c1157","generationRunId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","variants":2,"fallbackApplied":true,"template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.946Z","level":"info","message":"pdf_generation_attempt","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","jobId":"a60bd459-a257-442a-8b55-5717411c1157","generationRunId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f01b5b6d-4fe1-4e9e-b71e-e44cd022947c/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f01b5b6d-4fe1-4e9e-b71e-e44cd022947c/enhanced_modern.pdf","session":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.946Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","jobId":"a60bd459-a257-442a-8b55-5717411c1157","generationRunId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f01b5b6d-4fe1-4e9e-b71e-e44cd022947c/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.946Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","jobId":"a60bd459-a257-442a-8b55-5717411c1157","generationRunId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f01b5b6d-4fe1-4e9e-b71e-e44cd022947c/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f01b5b6d-4fe1-4e9e-b71e-e44cd022947c/enhanced_modern.pdf","session":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.947Z","level":"info","message":"pdf_generation_attempt","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","jobId":"a60bd459-a257-442a-8b55-5717411c1157","generationRunId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f01b5b6d-4fe1-4e9e-b71e-e44cd022947c/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f01b5b6d-4fe1-4e9e-b71e-e44cd022947c/enhanced_professional.pdf","session":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.947Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","jobId":"a60bd459-a257-442a-8b55-5717411c1157","generationRunId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f01b5b6d-4fe1-4e9e-b71e-e44cd022947c/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.948Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","jobId":"a60bd459-a257-442a-8b55-5717411c1157","generationRunId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f01b5b6d-4fe1-4e9e-b71e-e44cd022947c/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f01b5b6d-4fe1-4e9e-b71e-e44cd022947c/enhanced_professional.pdf","session":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.948Z","level":"info","message":"pdf_generation_attempt","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","jobId":"a60bd459-a257-442a-8b55-5717411c1157","generationRunId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f01b5b6d-4fe1-4e9e-b71e-e44cd022947c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f01b5b6d-4fe1-4e9e-b71e-e44cd022947c/cover_letter_cover_modern.pdf","session":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.948Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","jobId":"a60bd459-a257-442a-8b55-5717411c1157","generationRunId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f01b5b6d-4fe1-4e9e-b71e-e44cd022947c/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.949Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","jobId":"a60bd459-a257-442a-8b55-5717411c1157","generationRunId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f01b5b6d-4fe1-4e9e-b71e-e44cd022947c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f01b5b6d-4fe1-4e9e-b71e-e44cd022947c/cover_letter_cover_modern.pdf","session":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.949Z","level":"info","message":"pdf_generation_attempt","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","jobId":"a60bd459-a257-442a-8b55-5717411c1157","generationRunId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f01b5b6d-4fe1-4e9e-b71e-e44cd022947c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f01b5b6d-4fe1-4e9e-b71e-e44cd022947c/cover_letter_cover_professional.pdf","session":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.950Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","jobId":"a60bd459-a257-442a-8b55-5717411c1157","generationRunId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f01b5b6d-4fe1-4e9e-b71e-e44cd022947c/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.950Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","jobId":"a60bd459-a257-442a-8b55-5717411c1157","generationRunId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f01b5b6d-4fe1-4e9e-b71e-e44cd022947c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f01b5b6d-4fe1-4e9e-b71e-e44cd022947c/cover_letter_cover_professional.pdf","session":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.953Z","level":"info","message":"llm_call_metrics","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.953Z","level":"info","message":"generation_completed","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","jobId":"a60bd459-a257-442a-8b55-5717411c1157","generationRunId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","enhancedScore":80,"outputs":5,"template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.954Z","level":"info","message":"placeholder_record_deleted","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","jobId":"a60bd459-a257-442a-8b55-5717411c1157","placeholderIdentifier":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a60bd459-a257-442a-8b55-5717411c1157","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.955Z","level":"info","message":"http_request_completed","requestId":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":51,"contentLength":"55048","template":"unknown","session":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f01b5b6d-4fe1-4e9e-b71e-e44cd022947c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.958Z","level":"info","message":"http_request_received","requestId":"b21d3239-4864-442d-b624-0647abced944","method":"POST","path":"/api/process-cv","template":"unknown","session":"b21d3239-4864-442d-b624-0647abced944","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b21d3239-4864-442d-b624-0647abced944","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.959Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.960Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.962Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.963Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.965Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/b21d3239-4864-442d-b624-0647abced944/incoming/original.pdf","chunks":1,"timestamp":1764854254967}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/b21d3239-4864-442d-b624-0647abced944/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/b21d3239-4864-442d-b624-0647abced944/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:17:34.968Z","level":"info","message":"process_cv_started","requestId":"b21d3239-4864-442d-b624-0647abced944","jobId":"9cf04d24-1170-4203-ab26-8794812de854","manualJobDescriptionProvided":true,"template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.968Z","level":"info","message":"template_selection","requestId":"b21d3239-4864-442d-b624-0647abced944","jobId":"9cf04d24-1170-4203-ab26-8794812de854","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:34.969Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"b21d3239-4864-442d-b624-0647abced944","jobId":"9cf04d24-1170-4203-ab26-8794812de854","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:17:34.975Z","level":"info","message":"initial_upload_completed","requestId":"b21d3239-4864-442d-b624-0647abced944","jobId":"9cf04d24-1170-4203-ab26-8794812de854","bucket":"test-bucket","key":"cv/candidate/b21d3239-4864-442d-b624-0647abced944/incoming/original.pdf","template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.977Z","level":"info","message":"resume_text_extracted","requestId":"b21d3239-4864-442d-b624-0647abced944","jobId":"9cf04d24-1170-4203-ab26-8794812de854","characters":57,"template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.978Z","level":"info","message":"resume_classified","requestId":"b21d3239-4864-442d-b624-0647abced944","jobId":"9cf04d24-1170-4203-ab26-8794812de854","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.978Z","level":"info","message":"raw_upload_relocated","requestId":"b21d3239-4864-442d-b624-0647abced944","jobId":"9cf04d24-1170-4203-ab26-8794812de854","bucket":"test-bucket","fromKey":"cv/candidate/b21d3239-4864-442d-b624-0647abced944/incoming/original.pdf","toKey":"cv/professional_summary/b21d3239-4864-442d-b624-0647abced944/original.pdf","template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.978Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"b21d3239-4864-442d-b624-0647abced944","jobId":"9cf04d24-1170-4203-ab26-8794812de854","bucket":"test-bucket","key":"cv/professional_summary/b21d3239-4864-442d-b624-0647abced944/original.pdf","template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.979Z","level":"info","message":"dynamo_initial_record_written","requestId":"b21d3239-4864-442d-b624-0647abced944","jobId":"9cf04d24-1170-4203-ab26-8794812de854","bucket":"test-bucket","key":"cv/professional_summary/b21d3239-4864-442d-b624-0647abced944/original.pdf","template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.979Z","level":"info","message":"upload_metadata_written","requestId":"b21d3239-4864-442d-b624-0647abced944","jobId":"9cf04d24-1170-4203-ab26-8794812de854","bucket":"test-bucket","key":"cv/professional_summary/b21d3239-4864-442d-b624-0647abced944/logs/log.json","template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.979Z","level":"info","message":"job_description_supplied_manually","requestId":"b21d3239-4864-442d-b624-0647abced944","jobId":"9cf04d24-1170-4203-ab26-8794812de854","characters":32,"template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.980Z","level":"info","message":"job_description_analyzed","requestId":"b21d3239-4864-442d-b624-0647abced944","jobId":"9cf04d24-1170-4203-ab26-8794812de854","jobTitle":"","jobSkills":5,"template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.980Z","level":"info","message":"resume_skills_analyzed","requestId":"b21d3239-4864-442d-b624-0647abced944","jobId":"9cf04d24-1170-4203-ab26-8794812de854","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.981Z","level":"info","message":"llm_call_metrics","requestId":"b21d3239-4864-442d-b624-0647abced944","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"b21d3239-4864-442d-b624-0647abced944","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b21d3239-4864-442d-b624-0647abced944","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.981Z","level":"info","message":"process_cv_scoring_completed","requestId":"b21d3239-4864-442d-b624-0647abced944","jobId":"9cf04d24-1170-4203-ab26-8794812de854","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.983Z","level":"info","message":"llm_call_metrics","requestId":"b21d3239-4864-442d-b624-0647abced944","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"4ee429ea92424e8e19e4720211137d476a19f7274074e1702e9c42fe53b6fed7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"b21d3239-4864-442d-b624-0647abced944","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"b21d3239-4864-442d-b624-0647abced944","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.984Z","level":"info","message":"generation_section_rewrite_completed","requestId":"b21d3239-4864-442d-b624-0647abced944","jobId":"9cf04d24-1170-4203-ab26-8794812de854","generationRunId":"b21d3239-4864-442d-b624-0647abced944","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.984Z","level":"info","message":"llm_call_metrics","requestId":"b21d3239-4864-442d-b624-0647abced944","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"b847d6e14d4cae3ee14cd5dbb7c4a4ca1658d965fe5c0b4564eb95e9b23995e3","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"b21d3239-4864-442d-b624-0647abced944","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"b21d3239-4864-442d-b624-0647abced944","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:34.986Z","level":"info","message":"generation_resume_verified","requestId":"b21d3239-4864-442d-b624-0647abced944","jobId":"9cf04d24-1170-4203-ab26-8794812de854","generationRunId":"b21d3239-4864-442d-b624-0647abced944","template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:34.988Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"b21d3239-4864-442d-b624-0647abced944","jobId":"9cf04d24-1170-4203-ab26-8794812de854","generationRunId":"b21d3239-4864-442d-b624-0647abced944","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:34.994Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"b21d3239-4864-442d-b624-0647abced944","jobId":"9cf04d24-1170-4203-ab26-8794812de854","generationRunId":"b21d3239-4864-442d-b624-0647abced944","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:34.999Z","level":"info","message":"generation_cover_letters_completed","requestId":"b21d3239-4864-442d-b624-0647abced944","jobId":"9cf04d24-1170-4203-ab26-8794812de854","generationRunId":"b21d3239-4864-442d-b624-0647abced944","variants":2,"fallbackApplied":true,"template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.000Z","level":"info","message":"pdf_generation_attempt","requestId":"b21d3239-4864-442d-b624-0647abced944","jobId":"9cf04d24-1170-4203-ab26-8794812de854","generationRunId":"b21d3239-4864-442d-b624-0647abced944","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b21d3239-4864-442d-b624-0647abced944/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/b21d3239-4864-442d-b624-0647abced944/enhanced_modern.pdf","session":"b21d3239-4864-442d-b624-0647abced944","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b21d3239-4864-442d-b624-0647abced944","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.000Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b21d3239-4864-442d-b624-0647abced944","jobId":"9cf04d24-1170-4203-ab26-8794812de854","generationRunId":"b21d3239-4864-442d-b624-0647abced944","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b21d3239-4864-442d-b624-0647abced944/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b21d3239-4864-442d-b624-0647abced944","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b21d3239-4864-442d-b624-0647abced944","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.000Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b21d3239-4864-442d-b624-0647abced944","jobId":"9cf04d24-1170-4203-ab26-8794812de854","generationRunId":"b21d3239-4864-442d-b624-0647abced944","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b21d3239-4864-442d-b624-0647abced944/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/b21d3239-4864-442d-b624-0647abced944/enhanced_modern.pdf","session":"b21d3239-4864-442d-b624-0647abced944","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b21d3239-4864-442d-b624-0647abced944","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.001Z","level":"info","message":"pdf_generation_attempt","requestId":"b21d3239-4864-442d-b624-0647abced944","jobId":"9cf04d24-1170-4203-ab26-8794812de854","generationRunId":"b21d3239-4864-442d-b624-0647abced944","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b21d3239-4864-442d-b624-0647abced944/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/b21d3239-4864-442d-b624-0647abced944/enhanced_professional.pdf","session":"b21d3239-4864-442d-b624-0647abced944","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b21d3239-4864-442d-b624-0647abced944","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.001Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b21d3239-4864-442d-b624-0647abced944","jobId":"9cf04d24-1170-4203-ab26-8794812de854","generationRunId":"b21d3239-4864-442d-b624-0647abced944","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b21d3239-4864-442d-b624-0647abced944/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b21d3239-4864-442d-b624-0647abced944","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b21d3239-4864-442d-b624-0647abced944","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.001Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b21d3239-4864-442d-b624-0647abced944","jobId":"9cf04d24-1170-4203-ab26-8794812de854","generationRunId":"b21d3239-4864-442d-b624-0647abced944","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b21d3239-4864-442d-b624-0647abced944/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/b21d3239-4864-442d-b624-0647abced944/enhanced_professional.pdf","session":"b21d3239-4864-442d-b624-0647abced944","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b21d3239-4864-442d-b624-0647abced944","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.002Z","level":"info","message":"pdf_generation_attempt","requestId":"b21d3239-4864-442d-b624-0647abced944","jobId":"9cf04d24-1170-4203-ab26-8794812de854","generationRunId":"b21d3239-4864-442d-b624-0647abced944","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b21d3239-4864-442d-b624-0647abced944/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/b21d3239-4864-442d-b624-0647abced944/cover_letter_cover_modern.pdf","session":"b21d3239-4864-442d-b624-0647abced944","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b21d3239-4864-442d-b624-0647abced944","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.002Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b21d3239-4864-442d-b624-0647abced944","jobId":"9cf04d24-1170-4203-ab26-8794812de854","generationRunId":"b21d3239-4864-442d-b624-0647abced944","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b21d3239-4864-442d-b624-0647abced944/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b21d3239-4864-442d-b624-0647abced944","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b21d3239-4864-442d-b624-0647abced944","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.003Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b21d3239-4864-442d-b624-0647abced944","jobId":"9cf04d24-1170-4203-ab26-8794812de854","generationRunId":"b21d3239-4864-442d-b624-0647abced944","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b21d3239-4864-442d-b624-0647abced944/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/b21d3239-4864-442d-b624-0647abced944/cover_letter_cover_modern.pdf","session":"b21d3239-4864-442d-b624-0647abced944","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b21d3239-4864-442d-b624-0647abced944","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.003Z","level":"info","message":"pdf_generation_attempt","requestId":"b21d3239-4864-442d-b624-0647abced944","jobId":"9cf04d24-1170-4203-ab26-8794812de854","generationRunId":"b21d3239-4864-442d-b624-0647abced944","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b21d3239-4864-442d-b624-0647abced944/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/b21d3239-4864-442d-b624-0647abced944/cover_letter_cover_professional.pdf","session":"b21d3239-4864-442d-b624-0647abced944","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b21d3239-4864-442d-b624-0647abced944","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.003Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b21d3239-4864-442d-b624-0647abced944","jobId":"9cf04d24-1170-4203-ab26-8794812de854","generationRunId":"b21d3239-4864-442d-b624-0647abced944","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b21d3239-4864-442d-b624-0647abced944/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b21d3239-4864-442d-b624-0647abced944","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b21d3239-4864-442d-b624-0647abced944","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.004Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b21d3239-4864-442d-b624-0647abced944","jobId":"9cf04d24-1170-4203-ab26-8794812de854","generationRunId":"b21d3239-4864-442d-b624-0647abced944","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b21d3239-4864-442d-b624-0647abced944/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/b21d3239-4864-442d-b624-0647abced944/cover_letter_cover_professional.pdf","session":"b21d3239-4864-442d-b624-0647abced944","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b21d3239-4864-442d-b624-0647abced944","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.006Z","level":"info","message":"llm_call_metrics","requestId":"b21d3239-4864-442d-b624-0647abced944","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"b21d3239-4864-442d-b624-0647abced944","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b21d3239-4864-442d-b624-0647abced944","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.007Z","level":"info","message":"generation_completed","requestId":"b21d3239-4864-442d-b624-0647abced944","jobId":"9cf04d24-1170-4203-ab26-8794812de854","generationRunId":"b21d3239-4864-442d-b624-0647abced944","enhancedScore":80,"outputs":5,"template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.008Z","level":"info","message":"placeholder_record_deleted","requestId":"b21d3239-4864-442d-b624-0647abced944","jobId":"9cf04d24-1170-4203-ab26-8794812de854","placeholderIdentifier":"b21d3239-4864-442d-b624-0647abced944","template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9cf04d24-1170-4203-ab26-8794812de854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.009Z","level":"info","message":"http_request_completed","requestId":"b21d3239-4864-442d-b624-0647abced944","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":51,"contentLength":"53771","template":"unknown","session":"b21d3239-4864-442d-b624-0647abced944","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b21d3239-4864-442d-b624-0647abced944","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.013Z","level":"info","message":"http_request_received","requestId":"cb7d952d-9a21-45f8-8d20-d9f4bebccb0c","method":"POST","path":"/api/process-cv","template":"unknown","session":"cb7d952d-9a21-45f8-8d20-d9f4bebccb0c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb7d952d-9a21-45f8-8d20-d9f4bebccb0c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.014Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.015Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.016Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.017Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.019Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/cb7d952d-9a21-45f8-8d20-d9f4bebccb0c/incoming/original.pdf","chunks":1,"timestamp":1764854255022}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/cb7d952d-9a21-45f8-8d20-d9f4bebccb0c/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/cb7d952d-9a21-45f8-8d20-d9f4bebccb0c/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.warn
    {"timestamp":"2025-12-04T13:17:35.023Z","level":"warn","message":"job_description_prohibited_html_detected","requestId":"cb7d952d-9a21-45f8-8d20-d9f4bebccb0c","jobId":"fa78e9a7-d4eb-425a-b8ae-79ff423c8316","template":"unknown","session":"fa78e9a7-d4eb-425a-b8ae-79ff423c8316","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fa78e9a7-d4eb-425a-b8ae-79ff423c8316","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:24989:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T13:17:35.028Z","level":"warn","message":"api_error_response","requestId":"cb7d952d-9a21-45f8-8d20-d9f4bebccb0c","jobId":"fa78e9a7-d4eb-425a-b8ae-79ff423c8316","status":400,"error":{"code":"JOB_DESCRIPTION_PROHIBITED_TAGS","message":"Remove HTML tags like <script> before continuing.","details":{"field":"manualJobDescription"},"requestId":"cb7d952d-9a21-45f8-8d20-d9f4bebccb0c","jobId":"fa78e9a7-d4eb-425a-b8ae-79ff423c8316"},"template":"unknown","session":"fa78e9a7-d4eb-425a-b8ae-79ff423c8316","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fa78e9a7-d4eb-425a-b8ae-79ff423c8316","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at sendError (server.js:3965:3)
      at server.js:24990:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:17:35.034Z","level":"info","message":"http_request_completed","requestId":"cb7d952d-9a21-45f8-8d20-d9f4bebccb0c","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":21,"contentLength":"271","template":"unknown","session":"cb7d952d-9a21-45f8-8d20-d9f4bebccb0c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb7d952d-9a21-45f8-8d20-d9f4bebccb0c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.037Z","level":"info","message":"http_request_received","requestId":"485200a8-e800-4208-ab02-00bcd372d431","method":"POST","path":"/api/process-cv","template":"unknown","session":"485200a8-e800-4208-ab02-00bcd372d431","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"485200a8-e800-4208-ab02-00bcd372d431","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.038Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.039Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.040Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.042Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.043Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/485200a8-e800-4208-ab02-00bcd372d431/incoming/original.pdf","chunks":1,"timestamp":1764854255046}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/485200a8-e800-4208-ab02-00bcd372d431/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/485200a8-e800-4208-ab02-00bcd372d431/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:17:35.049Z","level":"info","message":"process_cv_started","requestId":"485200a8-e800-4208-ab02-00bcd372d431","jobId":"0835b051-46d1-47b9-926f-c15d6c00f0e9","manualJobDescriptionProvided":true,"template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.049Z","level":"info","message":"template_selection","requestId":"485200a8-e800-4208-ab02-00bcd372d431","jobId":"0835b051-46d1-47b9-926f-c15d6c00f0e9","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:35.050Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"485200a8-e800-4208-ab02-00bcd372d431","jobId":"0835b051-46d1-47b9-926f-c15d6c00f0e9","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:17:35.057Z","level":"info","message":"initial_upload_completed","requestId":"485200a8-e800-4208-ab02-00bcd372d431","jobId":"0835b051-46d1-47b9-926f-c15d6c00f0e9","bucket":"test-bucket","key":"cv/candidate/485200a8-e800-4208-ab02-00bcd372d431/incoming/original.pdf","template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.058Z","level":"info","message":"resume_text_extracted","requestId":"485200a8-e800-4208-ab02-00bcd372d431","jobId":"0835b051-46d1-47b9-926f-c15d6c00f0e9","characters":57,"template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.058Z","level":"info","message":"resume_classified","requestId":"485200a8-e800-4208-ab02-00bcd372d431","jobId":"0835b051-46d1-47b9-926f-c15d6c00f0e9","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.059Z","level":"info","message":"raw_upload_relocated","requestId":"485200a8-e800-4208-ab02-00bcd372d431","jobId":"0835b051-46d1-47b9-926f-c15d6c00f0e9","bucket":"test-bucket","fromKey":"cv/candidate/485200a8-e800-4208-ab02-00bcd372d431/incoming/original.pdf","toKey":"cv/professional_summary/485200a8-e800-4208-ab02-00bcd372d431/original.pdf","template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.060Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"485200a8-e800-4208-ab02-00bcd372d431","jobId":"0835b051-46d1-47b9-926f-c15d6c00f0e9","bucket":"test-bucket","key":"cv/professional_summary/485200a8-e800-4208-ab02-00bcd372d431/original.pdf","template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.060Z","level":"info","message":"dynamo_initial_record_written","requestId":"485200a8-e800-4208-ab02-00bcd372d431","jobId":"0835b051-46d1-47b9-926f-c15d6c00f0e9","bucket":"test-bucket","key":"cv/professional_summary/485200a8-e800-4208-ab02-00bcd372d431/original.pdf","template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.060Z","level":"info","message":"upload_metadata_written","requestId":"485200a8-e800-4208-ab02-00bcd372d431","jobId":"0835b051-46d1-47b9-926f-c15d6c00f0e9","bucket":"test-bucket","key":"cv/professional_summary/485200a8-e800-4208-ab02-00bcd372d431/logs/log.json","template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.061Z","level":"info","message":"job_description_supplied_manually","requestId":"485200a8-e800-4208-ab02-00bcd372d431","jobId":"0835b051-46d1-47b9-926f-c15d6c00f0e9","characters":31,"template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.061Z","level":"info","message":"job_description_analyzed","requestId":"485200a8-e800-4208-ab02-00bcd372d431","jobId":"0835b051-46d1-47b9-926f-c15d6c00f0e9","jobTitle":"","jobSkills":5,"template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.062Z","level":"info","message":"resume_skills_analyzed","requestId":"485200a8-e800-4208-ab02-00bcd372d431","jobId":"0835b051-46d1-47b9-926f-c15d6c00f0e9","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.063Z","level":"info","message":"llm_call_metrics","requestId":"485200a8-e800-4208-ab02-00bcd372d431","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"485200a8-e800-4208-ab02-00bcd372d431","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"485200a8-e800-4208-ab02-00bcd372d431","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.065Z","level":"info","message":"process_cv_scoring_completed","requestId":"485200a8-e800-4208-ab02-00bcd372d431","jobId":"0835b051-46d1-47b9-926f-c15d6c00f0e9","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.067Z","level":"info","message":"llm_call_metrics","requestId":"485200a8-e800-4208-ab02-00bcd372d431","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"3b6fa31427cfe80be95734691ddba88dda63de26496df29477f91bd398cefbfa","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"485200a8-e800-4208-ab02-00bcd372d431","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"485200a8-e800-4208-ab02-00bcd372d431","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.067Z","level":"info","message":"generation_section_rewrite_completed","requestId":"485200a8-e800-4208-ab02-00bcd372d431","jobId":"0835b051-46d1-47b9-926f-c15d6c00f0e9","generationRunId":"485200a8-e800-4208-ab02-00bcd372d431","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.068Z","level":"info","message":"llm_call_metrics","requestId":"485200a8-e800-4208-ab02-00bcd372d431","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"eedd7612e0b87e24dbfb4e165754c9448ec3573f7db56a3242654c71c3ca223b","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"485200a8-e800-4208-ab02-00bcd372d431","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"485200a8-e800-4208-ab02-00bcd372d431","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.071Z","level":"info","message":"generation_resume_verified","requestId":"485200a8-e800-4208-ab02-00bcd372d431","jobId":"0835b051-46d1-47b9-926f-c15d6c00f0e9","generationRunId":"485200a8-e800-4208-ab02-00bcd372d431","template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:35.073Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"485200a8-e800-4208-ab02-00bcd372d431","jobId":"0835b051-46d1-47b9-926f-c15d6c00f0e9","generationRunId":"485200a8-e800-4208-ab02-00bcd372d431","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:35.079Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"485200a8-e800-4208-ab02-00bcd372d431","jobId":"0835b051-46d1-47b9-926f-c15d6c00f0e9","generationRunId":"485200a8-e800-4208-ab02-00bcd372d431","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:35.085Z","level":"info","message":"generation_cover_letters_completed","requestId":"485200a8-e800-4208-ab02-00bcd372d431","jobId":"0835b051-46d1-47b9-926f-c15d6c00f0e9","generationRunId":"485200a8-e800-4208-ab02-00bcd372d431","variants":2,"fallbackApplied":true,"template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.086Z","level":"info","message":"pdf_generation_attempt","requestId":"485200a8-e800-4208-ab02-00bcd372d431","jobId":"0835b051-46d1-47b9-926f-c15d6c00f0e9","generationRunId":"485200a8-e800-4208-ab02-00bcd372d431","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/485200a8-e800-4208-ab02-00bcd372d431/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/485200a8-e800-4208-ab02-00bcd372d431/enhanced_modern.pdf","session":"485200a8-e800-4208-ab02-00bcd372d431","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"485200a8-e800-4208-ab02-00bcd372d431","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.086Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"485200a8-e800-4208-ab02-00bcd372d431","jobId":"0835b051-46d1-47b9-926f-c15d6c00f0e9","generationRunId":"485200a8-e800-4208-ab02-00bcd372d431","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/485200a8-e800-4208-ab02-00bcd372d431/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"485200a8-e800-4208-ab02-00bcd372d431","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"485200a8-e800-4208-ab02-00bcd372d431","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.086Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"485200a8-e800-4208-ab02-00bcd372d431","jobId":"0835b051-46d1-47b9-926f-c15d6c00f0e9","generationRunId":"485200a8-e800-4208-ab02-00bcd372d431","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/485200a8-e800-4208-ab02-00bcd372d431/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/485200a8-e800-4208-ab02-00bcd372d431/enhanced_modern.pdf","session":"485200a8-e800-4208-ab02-00bcd372d431","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"485200a8-e800-4208-ab02-00bcd372d431","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.087Z","level":"info","message":"pdf_generation_attempt","requestId":"485200a8-e800-4208-ab02-00bcd372d431","jobId":"0835b051-46d1-47b9-926f-c15d6c00f0e9","generationRunId":"485200a8-e800-4208-ab02-00bcd372d431","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/485200a8-e800-4208-ab02-00bcd372d431/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/485200a8-e800-4208-ab02-00bcd372d431/enhanced_professional.pdf","session":"485200a8-e800-4208-ab02-00bcd372d431","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"485200a8-e800-4208-ab02-00bcd372d431","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.087Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"485200a8-e800-4208-ab02-00bcd372d431","jobId":"0835b051-46d1-47b9-926f-c15d6c00f0e9","generationRunId":"485200a8-e800-4208-ab02-00bcd372d431","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/485200a8-e800-4208-ab02-00bcd372d431/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"485200a8-e800-4208-ab02-00bcd372d431","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"485200a8-e800-4208-ab02-00bcd372d431","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.088Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"485200a8-e800-4208-ab02-00bcd372d431","jobId":"0835b051-46d1-47b9-926f-c15d6c00f0e9","generationRunId":"485200a8-e800-4208-ab02-00bcd372d431","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/485200a8-e800-4208-ab02-00bcd372d431/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/485200a8-e800-4208-ab02-00bcd372d431/enhanced_professional.pdf","session":"485200a8-e800-4208-ab02-00bcd372d431","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"485200a8-e800-4208-ab02-00bcd372d431","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.088Z","level":"info","message":"pdf_generation_attempt","requestId":"485200a8-e800-4208-ab02-00bcd372d431","jobId":"0835b051-46d1-47b9-926f-c15d6c00f0e9","generationRunId":"485200a8-e800-4208-ab02-00bcd372d431","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/485200a8-e800-4208-ab02-00bcd372d431/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/485200a8-e800-4208-ab02-00bcd372d431/cover_letter_cover_modern.pdf","session":"485200a8-e800-4208-ab02-00bcd372d431","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"485200a8-e800-4208-ab02-00bcd372d431","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.089Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"485200a8-e800-4208-ab02-00bcd372d431","jobId":"0835b051-46d1-47b9-926f-c15d6c00f0e9","generationRunId":"485200a8-e800-4208-ab02-00bcd372d431","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/485200a8-e800-4208-ab02-00bcd372d431/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"485200a8-e800-4208-ab02-00bcd372d431","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"485200a8-e800-4208-ab02-00bcd372d431","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.089Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"485200a8-e800-4208-ab02-00bcd372d431","jobId":"0835b051-46d1-47b9-926f-c15d6c00f0e9","generationRunId":"485200a8-e800-4208-ab02-00bcd372d431","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/485200a8-e800-4208-ab02-00bcd372d431/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/485200a8-e800-4208-ab02-00bcd372d431/cover_letter_cover_modern.pdf","session":"485200a8-e800-4208-ab02-00bcd372d431","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"485200a8-e800-4208-ab02-00bcd372d431","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.089Z","level":"info","message":"pdf_generation_attempt","requestId":"485200a8-e800-4208-ab02-00bcd372d431","jobId":"0835b051-46d1-47b9-926f-c15d6c00f0e9","generationRunId":"485200a8-e800-4208-ab02-00bcd372d431","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/485200a8-e800-4208-ab02-00bcd372d431/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/485200a8-e800-4208-ab02-00bcd372d431/cover_letter_cover_professional.pdf","session":"485200a8-e800-4208-ab02-00bcd372d431","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"485200a8-e800-4208-ab02-00bcd372d431","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.090Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"485200a8-e800-4208-ab02-00bcd372d431","jobId":"0835b051-46d1-47b9-926f-c15d6c00f0e9","generationRunId":"485200a8-e800-4208-ab02-00bcd372d431","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/485200a8-e800-4208-ab02-00bcd372d431/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"485200a8-e800-4208-ab02-00bcd372d431","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"485200a8-e800-4208-ab02-00bcd372d431","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.090Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"485200a8-e800-4208-ab02-00bcd372d431","jobId":"0835b051-46d1-47b9-926f-c15d6c00f0e9","generationRunId":"485200a8-e800-4208-ab02-00bcd372d431","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/485200a8-e800-4208-ab02-00bcd372d431/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/485200a8-e800-4208-ab02-00bcd372d431/cover_letter_cover_professional.pdf","session":"485200a8-e800-4208-ab02-00bcd372d431","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"485200a8-e800-4208-ab02-00bcd372d431","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.092Z","level":"info","message":"llm_call_metrics","requestId":"485200a8-e800-4208-ab02-00bcd372d431","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"485200a8-e800-4208-ab02-00bcd372d431","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"485200a8-e800-4208-ab02-00bcd372d431","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.095Z","level":"info","message":"generation_completed","requestId":"485200a8-e800-4208-ab02-00bcd372d431","jobId":"0835b051-46d1-47b9-926f-c15d6c00f0e9","generationRunId":"485200a8-e800-4208-ab02-00bcd372d431","enhancedScore":80,"outputs":5,"template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.096Z","level":"info","message":"placeholder_record_deleted","requestId":"485200a8-e800-4208-ab02-00bcd372d431","jobId":"0835b051-46d1-47b9-926f-c15d6c00f0e9","placeholderIdentifier":"485200a8-e800-4208-ab02-00bcd372d431","template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0835b051-46d1-47b9-926f-c15d6c00f0e9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.097Z","level":"info","message":"http_request_completed","requestId":"485200a8-e800-4208-ab02-00bcd372d431","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":60,"contentLength":"53718","template":"unknown","session":"485200a8-e800-4208-ab02-00bcd372d431","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"485200a8-e800-4208-ab02-00bcd372d431","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.101Z","level":"info","message":"http_request_received","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","method":"POST","path":"/api/process-cv","template":"unknown","session":"80216110-9771-44a0-96b0-11c44a1f5da4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"80216110-9771-44a0-96b0-11c44a1f5da4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.103Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.104Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.106Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.107Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.109Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/80216110-9771-44a0-96b0-11c44a1f5da4/incoming/original.pdf","chunks":1,"timestamp":1764854255111}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/80216110-9771-44a0-96b0-11c44a1f5da4/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/80216110-9771-44a0-96b0-11c44a1f5da4/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:17:35.113Z","level":"info","message":"process_cv_started","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","jobId":"740f8464-e1e0-4895-99bb-a6a1e74a1431","manualJobDescriptionProvided":true,"template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.113Z","level":"info","message":"template_selection","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","jobId":"740f8464-e1e0-4895-99bb-a6a1e74a1431","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:35.114Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","jobId":"740f8464-e1e0-4895-99bb-a6a1e74a1431","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:17:35.124Z","level":"info","message":"initial_upload_completed","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","jobId":"740f8464-e1e0-4895-99bb-a6a1e74a1431","bucket":"test-bucket","key":"cv/candidate/80216110-9771-44a0-96b0-11c44a1f5da4/incoming/original.pdf","template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.124Z","level":"info","message":"resume_text_extracted","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","jobId":"740f8464-e1e0-4895-99bb-a6a1e74a1431","characters":57,"template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.124Z","level":"info","message":"resume_classified","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","jobId":"740f8464-e1e0-4895-99bb-a6a1e74a1431","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.125Z","level":"info","message":"raw_upload_relocated","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","jobId":"740f8464-e1e0-4895-99bb-a6a1e74a1431","bucket":"test-bucket","fromKey":"cv/candidate/80216110-9771-44a0-96b0-11c44a1f5da4/incoming/original.pdf","toKey":"cv/professional_summary/80216110-9771-44a0-96b0-11c44a1f5da4/original.pdf","template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.125Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","jobId":"740f8464-e1e0-4895-99bb-a6a1e74a1431","bucket":"test-bucket","key":"cv/professional_summary/80216110-9771-44a0-96b0-11c44a1f5da4/original.pdf","template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.125Z","level":"info","message":"dynamo_initial_record_written","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","jobId":"740f8464-e1e0-4895-99bb-a6a1e74a1431","bucket":"test-bucket","key":"cv/professional_summary/80216110-9771-44a0-96b0-11c44a1f5da4/original.pdf","template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.126Z","level":"info","message":"upload_metadata_written","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","jobId":"740f8464-e1e0-4895-99bb-a6a1e74a1431","bucket":"test-bucket","key":"cv/professional_summary/80216110-9771-44a0-96b0-11c44a1f5da4/logs/log.json","template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.126Z","level":"info","message":"job_description_supplied_manually","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","jobId":"740f8464-e1e0-4895-99bb-a6a1e74a1431","characters":174,"template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.126Z","level":"info","message":"job_description_analyzed","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","jobId":"740f8464-e1e0-4895-99bb-a6a1e74a1431","jobTitle":"","jobSkills":5,"template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.127Z","level":"info","message":"resume_skills_analyzed","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","jobId":"740f8464-e1e0-4895-99bb-a6a1e74a1431","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.127Z","level":"info","message":"llm_call_metrics","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"80216110-9771-44a0-96b0-11c44a1f5da4","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"80216110-9771-44a0-96b0-11c44a1f5da4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.128Z","level":"info","message":"process_cv_scoring_completed","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","jobId":"740f8464-e1e0-4895-99bb-a6a1e74a1431","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.129Z","level":"info","message":"llm_call_metrics","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"80216110-9771-44a0-96b0-11c44a1f5da4","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"80216110-9771-44a0-96b0-11c44a1f5da4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.130Z","level":"info","message":"generation_section_rewrite_completed","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","jobId":"740f8464-e1e0-4895-99bb-a6a1e74a1431","generationRunId":"80216110-9771-44a0-96b0-11c44a1f5da4","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.130Z","level":"info","message":"llm_call_metrics","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"80216110-9771-44a0-96b0-11c44a1f5da4","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"80216110-9771-44a0-96b0-11c44a1f5da4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.132Z","level":"info","message":"generation_resume_verified","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","jobId":"740f8464-e1e0-4895-99bb-a6a1e74a1431","generationRunId":"80216110-9771-44a0-96b0-11c44a1f5da4","template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:35.135Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","jobId":"740f8464-e1e0-4895-99bb-a6a1e74a1431","generationRunId":"80216110-9771-44a0-96b0-11c44a1f5da4","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:35.141Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","jobId":"740f8464-e1e0-4895-99bb-a6a1e74a1431","generationRunId":"80216110-9771-44a0-96b0-11c44a1f5da4","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:35.147Z","level":"info","message":"generation_cover_letters_completed","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","jobId":"740f8464-e1e0-4895-99bb-a6a1e74a1431","generationRunId":"80216110-9771-44a0-96b0-11c44a1f5da4","variants":2,"fallbackApplied":true,"template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.148Z","level":"info","message":"pdf_generation_attempt","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","jobId":"740f8464-e1e0-4895-99bb-a6a1e74a1431","generationRunId":"80216110-9771-44a0-96b0-11c44a1f5da4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/80216110-9771-44a0-96b0-11c44a1f5da4/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/80216110-9771-44a0-96b0-11c44a1f5da4/enhanced_modern.pdf","session":"80216110-9771-44a0-96b0-11c44a1f5da4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"80216110-9771-44a0-96b0-11c44a1f5da4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.149Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","jobId":"740f8464-e1e0-4895-99bb-a6a1e74a1431","generationRunId":"80216110-9771-44a0-96b0-11c44a1f5da4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/80216110-9771-44a0-96b0-11c44a1f5da4/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"80216110-9771-44a0-96b0-11c44a1f5da4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"80216110-9771-44a0-96b0-11c44a1f5da4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.149Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","jobId":"740f8464-e1e0-4895-99bb-a6a1e74a1431","generationRunId":"80216110-9771-44a0-96b0-11c44a1f5da4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/80216110-9771-44a0-96b0-11c44a1f5da4/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/80216110-9771-44a0-96b0-11c44a1f5da4/enhanced_modern.pdf","session":"80216110-9771-44a0-96b0-11c44a1f5da4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"80216110-9771-44a0-96b0-11c44a1f5da4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.150Z","level":"info","message":"pdf_generation_attempt","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","jobId":"740f8464-e1e0-4895-99bb-a6a1e74a1431","generationRunId":"80216110-9771-44a0-96b0-11c44a1f5da4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/80216110-9771-44a0-96b0-11c44a1f5da4/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/80216110-9771-44a0-96b0-11c44a1f5da4/enhanced_professional.pdf","session":"80216110-9771-44a0-96b0-11c44a1f5da4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"80216110-9771-44a0-96b0-11c44a1f5da4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.150Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","jobId":"740f8464-e1e0-4895-99bb-a6a1e74a1431","generationRunId":"80216110-9771-44a0-96b0-11c44a1f5da4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/80216110-9771-44a0-96b0-11c44a1f5da4/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"80216110-9771-44a0-96b0-11c44a1f5da4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"80216110-9771-44a0-96b0-11c44a1f5da4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.150Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","jobId":"740f8464-e1e0-4895-99bb-a6a1e74a1431","generationRunId":"80216110-9771-44a0-96b0-11c44a1f5da4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/80216110-9771-44a0-96b0-11c44a1f5da4/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/80216110-9771-44a0-96b0-11c44a1f5da4/enhanced_professional.pdf","session":"80216110-9771-44a0-96b0-11c44a1f5da4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"80216110-9771-44a0-96b0-11c44a1f5da4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.151Z","level":"info","message":"pdf_generation_attempt","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","jobId":"740f8464-e1e0-4895-99bb-a6a1e74a1431","generationRunId":"80216110-9771-44a0-96b0-11c44a1f5da4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/80216110-9771-44a0-96b0-11c44a1f5da4/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/80216110-9771-44a0-96b0-11c44a1f5da4/cover_letter_cover_modern.pdf","session":"80216110-9771-44a0-96b0-11c44a1f5da4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"80216110-9771-44a0-96b0-11c44a1f5da4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.151Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","jobId":"740f8464-e1e0-4895-99bb-a6a1e74a1431","generationRunId":"80216110-9771-44a0-96b0-11c44a1f5da4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/80216110-9771-44a0-96b0-11c44a1f5da4/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"80216110-9771-44a0-96b0-11c44a1f5da4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"80216110-9771-44a0-96b0-11c44a1f5da4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.152Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","jobId":"740f8464-e1e0-4895-99bb-a6a1e74a1431","generationRunId":"80216110-9771-44a0-96b0-11c44a1f5da4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/80216110-9771-44a0-96b0-11c44a1f5da4/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/80216110-9771-44a0-96b0-11c44a1f5da4/cover_letter_cover_modern.pdf","session":"80216110-9771-44a0-96b0-11c44a1f5da4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"80216110-9771-44a0-96b0-11c44a1f5da4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.153Z","level":"info","message":"pdf_generation_attempt","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","jobId":"740f8464-e1e0-4895-99bb-a6a1e74a1431","generationRunId":"80216110-9771-44a0-96b0-11c44a1f5da4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/80216110-9771-44a0-96b0-11c44a1f5da4/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/80216110-9771-44a0-96b0-11c44a1f5da4/cover_letter_cover_professional.pdf","session":"80216110-9771-44a0-96b0-11c44a1f5da4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"80216110-9771-44a0-96b0-11c44a1f5da4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.153Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","jobId":"740f8464-e1e0-4895-99bb-a6a1e74a1431","generationRunId":"80216110-9771-44a0-96b0-11c44a1f5da4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/80216110-9771-44a0-96b0-11c44a1f5da4/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"80216110-9771-44a0-96b0-11c44a1f5da4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"80216110-9771-44a0-96b0-11c44a1f5da4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.154Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","jobId":"740f8464-e1e0-4895-99bb-a6a1e74a1431","generationRunId":"80216110-9771-44a0-96b0-11c44a1f5da4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/80216110-9771-44a0-96b0-11c44a1f5da4/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/80216110-9771-44a0-96b0-11c44a1f5da4/cover_letter_cover_professional.pdf","session":"80216110-9771-44a0-96b0-11c44a1f5da4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"80216110-9771-44a0-96b0-11c44a1f5da4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.156Z","level":"info","message":"llm_call_metrics","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"80216110-9771-44a0-96b0-11c44a1f5da4","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"80216110-9771-44a0-96b0-11c44a1f5da4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.156Z","level":"info","message":"generation_completed","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","jobId":"740f8464-e1e0-4895-99bb-a6a1e74a1431","generationRunId":"80216110-9771-44a0-96b0-11c44a1f5da4","enhancedScore":80,"outputs":5,"template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.157Z","level":"info","message":"placeholder_record_deleted","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","jobId":"740f8464-e1e0-4895-99bb-a6a1e74a1431","placeholderIdentifier":"80216110-9771-44a0-96b0-11c44a1f5da4","template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"740f8464-e1e0-4895-99bb-a6a1e74a1431","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.158Z","level":"info","message":"http_request_completed","requestId":"80216110-9771-44a0-96b0-11c44a1f5da4","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":57,"contentLength":"58133","template":"unknown","session":"80216110-9771-44a0-96b0-11c44a1f5da4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"80216110-9771-44a0-96b0-11c44a1f5da4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.161Z","level":"info","message":"http_request_received","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","method":"POST","path":"/api/process-cv","template":"unknown","session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.162Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.163Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.164Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.166Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.167Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/adb8e72a-55da-4552-84fb-ddefa5981c59/incoming/original.pdf","chunks":1,"timestamp":1764854255169}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/adb8e72a-55da-4552-84fb-ddefa5981c59/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/adb8e72a-55da-4552-84fb-ddefa5981c59/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:17:35.171Z","level":"info","message":"process_cv_started","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","jobId":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","manualJobDescriptionProvided":true,"template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.171Z","level":"info","message":"template_selection","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","jobId":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:35.172Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","jobId":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:17:35.178Z","level":"info","message":"initial_upload_completed","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","jobId":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","bucket":"test-bucket","key":"cv/candidate/adb8e72a-55da-4552-84fb-ddefa5981c59/incoming/original.pdf","template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.178Z","level":"info","message":"resume_text_extracted","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","jobId":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","characters":57,"template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.178Z","level":"info","message":"resume_classified","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","jobId":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.179Z","level":"info","message":"raw_upload_relocated","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","jobId":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","bucket":"test-bucket","fromKey":"cv/candidate/adb8e72a-55da-4552-84fb-ddefa5981c59/incoming/original.pdf","toKey":"cv/professional_summary/adb8e72a-55da-4552-84fb-ddefa5981c59/original.pdf","template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.179Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","jobId":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","bucket":"test-bucket","key":"cv/professional_summary/adb8e72a-55da-4552-84fb-ddefa5981c59/original.pdf","template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.179Z","level":"info","message":"dynamo_initial_record_written","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","jobId":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","bucket":"test-bucket","key":"cv/professional_summary/adb8e72a-55da-4552-84fb-ddefa5981c59/original.pdf","template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.180Z","level":"info","message":"upload_metadata_written","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","jobId":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","bucket":"test-bucket","key":"cv/professional_summary/adb8e72a-55da-4552-84fb-ddefa5981c59/logs/log.json","template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.180Z","level":"info","message":"job_description_supplied_manually","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","jobId":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","characters":174,"template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.180Z","level":"info","message":"job_description_analyzed","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","jobId":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","jobTitle":"","jobSkills":5,"template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.181Z","level":"info","message":"resume_skills_analyzed","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","jobId":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.181Z","level":"info","message":"llm_call_metrics","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.181Z","level":"info","message":"process_cv_scoring_completed","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","jobId":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T13:17:35.186Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","sample":"not json","template":"unknown","session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at Object.error (server.js:3477:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8533:20)
      at generateEnhancedDocumentsResponse (server.js:20173:26)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:35.198Z","level":"info","message":"llm_call_metrics","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.199Z","level":"info","message":"llm_call_metrics","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.199Z","level":"info","message":"generation_section_rewrite_completed","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","jobId":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","generationRunId":"adb8e72a-55da-4552-84fb-ddefa5981c59","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.200Z","level":"info","message":"llm_call_metrics","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"89e63aad97eee35da336c4707bebe46001a38648f790cb26108fe67f8c6eef15","skillCount":5,"template":"project_summary","session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:35.204Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","jobId":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","generationRunId":"adb8e72a-55da-4552-84fb-ddefa5981c59","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:35.211Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","jobId":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","generationRunId":"adb8e72a-55da-4552-84fb-ddefa5981c59","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:35.217Z","level":"info","message":"generation_cover_letters_completed","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","jobId":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","generationRunId":"adb8e72a-55da-4552-84fb-ddefa5981c59","variants":2,"fallbackApplied":true,"template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.217Z","level":"info","message":"pdf_generation_attempt","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","jobId":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","generationRunId":"adb8e72a-55da-4552-84fb-ddefa5981c59","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/adb8e72a-55da-4552-84fb-ddefa5981c59/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/adb8e72a-55da-4552-84fb-ddefa5981c59/enhanced_modern.pdf","session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.218Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","jobId":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","generationRunId":"adb8e72a-55da-4552-84fb-ddefa5981c59","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/adb8e72a-55da-4552-84fb-ddefa5981c59/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.218Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","jobId":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","generationRunId":"adb8e72a-55da-4552-84fb-ddefa5981c59","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/adb8e72a-55da-4552-84fb-ddefa5981c59/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/adb8e72a-55da-4552-84fb-ddefa5981c59/enhanced_modern.pdf","session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.220Z","level":"info","message":"pdf_generation_attempt","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","jobId":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","generationRunId":"adb8e72a-55da-4552-84fb-ddefa5981c59","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/adb8e72a-55da-4552-84fb-ddefa5981c59/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/adb8e72a-55da-4552-84fb-ddefa5981c59/enhanced_professional.pdf","session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.220Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","jobId":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","generationRunId":"adb8e72a-55da-4552-84fb-ddefa5981c59","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/adb8e72a-55da-4552-84fb-ddefa5981c59/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.221Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","jobId":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","generationRunId":"adb8e72a-55da-4552-84fb-ddefa5981c59","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/adb8e72a-55da-4552-84fb-ddefa5981c59/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/adb8e72a-55da-4552-84fb-ddefa5981c59/enhanced_professional.pdf","session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.222Z","level":"info","message":"pdf_generation_attempt","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","jobId":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","generationRunId":"adb8e72a-55da-4552-84fb-ddefa5981c59","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/adb8e72a-55da-4552-84fb-ddefa5981c59/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/adb8e72a-55da-4552-84fb-ddefa5981c59/cover_letter_cover_modern.pdf","session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.222Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","jobId":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","generationRunId":"adb8e72a-55da-4552-84fb-ddefa5981c59","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/adb8e72a-55da-4552-84fb-ddefa5981c59/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.223Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","jobId":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","generationRunId":"adb8e72a-55da-4552-84fb-ddefa5981c59","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/adb8e72a-55da-4552-84fb-ddefa5981c59/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/adb8e72a-55da-4552-84fb-ddefa5981c59/cover_letter_cover_modern.pdf","session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.223Z","level":"info","message":"pdf_generation_attempt","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","jobId":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","generationRunId":"adb8e72a-55da-4552-84fb-ddefa5981c59","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/adb8e72a-55da-4552-84fb-ddefa5981c59/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/adb8e72a-55da-4552-84fb-ddefa5981c59/cover_letter_cover_professional.pdf","session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.224Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","jobId":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","generationRunId":"adb8e72a-55da-4552-84fb-ddefa5981c59","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/adb8e72a-55da-4552-84fb-ddefa5981c59/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.224Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","jobId":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","generationRunId":"adb8e72a-55da-4552-84fb-ddefa5981c59","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/adb8e72a-55da-4552-84fb-ddefa5981c59/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/adb8e72a-55da-4552-84fb-ddefa5981c59/cover_letter_cover_professional.pdf","session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.226Z","level":"info","message":"llm_call_metrics","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.227Z","level":"info","message":"generation_completed","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","jobId":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","generationRunId":"adb8e72a-55da-4552-84fb-ddefa5981c59","enhancedScore":80,"outputs":5,"template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.229Z","level":"info","message":"placeholder_record_deleted","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","jobId":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","placeholderIdentifier":"adb8e72a-55da-4552-84fb-ddefa5981c59","template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35af488a-fbf2-4cd0-9f63-c460f4b1d1d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.230Z","level":"info","message":"http_request_completed","requestId":"adb8e72a-55da-4552-84fb-ddefa5981c59","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":69,"contentLength":"58091","template":"unknown","session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"adb8e72a-55da-4552-84fb-ddefa5981c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.233Z","level":"info","message":"http_request_received","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","method":"POST","path":"/api/process-cv","template":"unknown","session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.234Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.235Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.237Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.238Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.240Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/1c181975-4b01-422e-b1e7-62a3d6f33011/incoming/original.pdf","chunks":1,"timestamp":1764854255244}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/1c181975-4b01-422e-b1e7-62a3d6f33011/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/1c181975-4b01-422e-b1e7-62a3d6f33011/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:17:35.245Z","level":"info","message":"process_cv_started","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","jobId":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","manualJobDescriptionProvided":true,"template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.246Z","level":"info","message":"template_selection","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","jobId":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:35.246Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","jobId":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:17:35.252Z","level":"info","message":"initial_upload_completed","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","jobId":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","bucket":"test-bucket","key":"cv/candidate/1c181975-4b01-422e-b1e7-62a3d6f33011/incoming/original.pdf","template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.252Z","level":"info","message":"resume_text_extracted","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","jobId":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","characters":57,"template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.253Z","level":"info","message":"resume_classified","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","jobId":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.253Z","level":"info","message":"raw_upload_relocated","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","jobId":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","bucket":"test-bucket","fromKey":"cv/candidate/1c181975-4b01-422e-b1e7-62a3d6f33011/incoming/original.pdf","toKey":"cv/professional_summary/1c181975-4b01-422e-b1e7-62a3d6f33011/original.pdf","template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.254Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","jobId":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","bucket":"test-bucket","key":"cv/professional_summary/1c181975-4b01-422e-b1e7-62a3d6f33011/original.pdf","template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.254Z","level":"info","message":"dynamo_initial_record_written","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","jobId":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","bucket":"test-bucket","key":"cv/professional_summary/1c181975-4b01-422e-b1e7-62a3d6f33011/original.pdf","template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.254Z","level":"info","message":"upload_metadata_written","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","jobId":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","bucket":"test-bucket","key":"cv/professional_summary/1c181975-4b01-422e-b1e7-62a3d6f33011/logs/log.json","template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.255Z","level":"info","message":"job_description_supplied_manually","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","jobId":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","characters":174,"template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.255Z","level":"info","message":"job_description_analyzed","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","jobId":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","jobTitle":"","jobSkills":5,"template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.255Z","level":"info","message":"resume_skills_analyzed","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","jobId":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.256Z","level":"info","message":"llm_call_metrics","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.256Z","level":"info","message":"process_cv_scoring_completed","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","jobId":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.258Z","level":"info","message":"llm_call_metrics","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.259Z","level":"info","message":"generation_section_rewrite_completed","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","jobId":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","generationRunId":"1c181975-4b01-422e-b1e7-62a3d6f33011","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.259Z","level":"info","message":"llm_call_metrics","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.260Z","level":"info","message":"llm_call_metrics","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.261Z","level":"info","message":"generation_resume_verified","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","jobId":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","generationRunId":"1c181975-4b01-422e-b1e7-62a3d6f33011","template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T13:17:35.264Z","level":"error","message":"ai_response_missing_json","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","jobId":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","generationRunId":"1c181975-4b01-422e-b1e7-62a3d6f33011","template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at Object.error (server.js:3477:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20455:26)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:35.269Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","jobId":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","generationRunId":"1c181975-4b01-422e-b1e7-62a3d6f33011","attempt":1,"template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20460:11)
      at server.js:26731:28

  console.error
    {"timestamp":"2025-12-04T13:17:35.275Z","level":"error","message":"ai_response_missing_json","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","jobId":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","generationRunId":"1c181975-4b01-422e-b1e7-62a3d6f33011","template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at Object.error (server.js:3477:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20455:26)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:35.280Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","jobId":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","generationRunId":"1c181975-4b01-422e-b1e7-62a3d6f33011","attempt":2,"template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20460:11)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:35.286Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","jobId":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","generationRunId":"1c181975-4b01-422e-b1e7-62a3d6f33011","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:35.293Z","level":"info","message":"generation_cover_letters_completed","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","jobId":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","generationRunId":"1c181975-4b01-422e-b1e7-62a3d6f33011","variants":2,"fallbackApplied":true,"template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.294Z","level":"info","message":"pdf_generation_attempt","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","jobId":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","generationRunId":"1c181975-4b01-422e-b1e7-62a3d6f33011","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1c181975-4b01-422e-b1e7-62a3d6f33011/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/1c181975-4b01-422e-b1e7-62a3d6f33011/enhanced_modern.pdf","session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.294Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","jobId":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","generationRunId":"1c181975-4b01-422e-b1e7-62a3d6f33011","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1c181975-4b01-422e-b1e7-62a3d6f33011/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.295Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","jobId":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","generationRunId":"1c181975-4b01-422e-b1e7-62a3d6f33011","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1c181975-4b01-422e-b1e7-62a3d6f33011/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/1c181975-4b01-422e-b1e7-62a3d6f33011/enhanced_modern.pdf","session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.295Z","level":"info","message":"pdf_generation_attempt","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","jobId":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","generationRunId":"1c181975-4b01-422e-b1e7-62a3d6f33011","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1c181975-4b01-422e-b1e7-62a3d6f33011/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/1c181975-4b01-422e-b1e7-62a3d6f33011/enhanced_professional.pdf","session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.296Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","jobId":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","generationRunId":"1c181975-4b01-422e-b1e7-62a3d6f33011","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1c181975-4b01-422e-b1e7-62a3d6f33011/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.296Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","jobId":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","generationRunId":"1c181975-4b01-422e-b1e7-62a3d6f33011","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1c181975-4b01-422e-b1e7-62a3d6f33011/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/1c181975-4b01-422e-b1e7-62a3d6f33011/enhanced_professional.pdf","session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.297Z","level":"info","message":"pdf_generation_attempt","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","jobId":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","generationRunId":"1c181975-4b01-422e-b1e7-62a3d6f33011","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1c181975-4b01-422e-b1e7-62a3d6f33011/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/1c181975-4b01-422e-b1e7-62a3d6f33011/cover_letter_cover_modern.pdf","session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.297Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","jobId":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","generationRunId":"1c181975-4b01-422e-b1e7-62a3d6f33011","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1c181975-4b01-422e-b1e7-62a3d6f33011/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.297Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","jobId":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","generationRunId":"1c181975-4b01-422e-b1e7-62a3d6f33011","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1c181975-4b01-422e-b1e7-62a3d6f33011/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/1c181975-4b01-422e-b1e7-62a3d6f33011/cover_letter_cover_modern.pdf","session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.298Z","level":"info","message":"pdf_generation_attempt","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","jobId":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","generationRunId":"1c181975-4b01-422e-b1e7-62a3d6f33011","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1c181975-4b01-422e-b1e7-62a3d6f33011/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/1c181975-4b01-422e-b1e7-62a3d6f33011/cover_letter_cover_professional.pdf","session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.298Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","jobId":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","generationRunId":"1c181975-4b01-422e-b1e7-62a3d6f33011","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1c181975-4b01-422e-b1e7-62a3d6f33011/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.299Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","jobId":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","generationRunId":"1c181975-4b01-422e-b1e7-62a3d6f33011","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1c181975-4b01-422e-b1e7-62a3d6f33011/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/1c181975-4b01-422e-b1e7-62a3d6f33011/cover_letter_cover_professional.pdf","session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.301Z","level":"info","message":"llm_call_metrics","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.302Z","level":"info","message":"generation_completed","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","jobId":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","generationRunId":"1c181975-4b01-422e-b1e7-62a3d6f33011","enhancedScore":80,"outputs":5,"template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.303Z","level":"info","message":"placeholder_record_deleted","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","jobId":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","placeholderIdentifier":"1c181975-4b01-422e-b1e7-62a3d6f33011","template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"74f3c351-c22b-4a09-8767-bdaac6eec4b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.304Z","level":"info","message":"http_request_completed","requestId":"1c181975-4b01-422e-b1e7-62a3d6f33011","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":71,"contentLength":"59498","template":"unknown","session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1c181975-4b01-422e-b1e7-62a3d6f33011","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.307Z","level":"info","message":"http_request_received","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","method":"POST","path":"/api/process-cv","template":"unknown","session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.308Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.309Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.310Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.311Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.313Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/f0ee05c1-bfbf-4020-af6e-c9295acba822/incoming/original.pdf","chunks":1,"timestamp":1764854255315}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/f0ee05c1-bfbf-4020-af6e-c9295acba822/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/f0ee05c1-bfbf-4020-af6e-c9295acba822/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:17:35.317Z","level":"info","message":"process_cv_started","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","jobId":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","manualJobDescriptionProvided":true,"template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.317Z","level":"info","message":"template_selection","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","jobId":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:35.318Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","jobId":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:17:35.323Z","level":"info","message":"initial_upload_completed","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","jobId":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","bucket":"test-bucket","key":"cv/candidate/f0ee05c1-bfbf-4020-af6e-c9295acba822/incoming/original.pdf","template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.324Z","level":"info","message":"resume_text_extracted","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","jobId":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","characters":57,"template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.324Z","level":"info","message":"resume_classified","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","jobId":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.324Z","level":"info","message":"raw_upload_relocated","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","jobId":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","bucket":"test-bucket","fromKey":"cv/candidate/f0ee05c1-bfbf-4020-af6e-c9295acba822/incoming/original.pdf","toKey":"cv/professional_summary/f0ee05c1-bfbf-4020-af6e-c9295acba822/original.pdf","template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.325Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","jobId":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","bucket":"test-bucket","key":"cv/professional_summary/f0ee05c1-bfbf-4020-af6e-c9295acba822/original.pdf","template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.325Z","level":"info","message":"dynamo_initial_record_written","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","jobId":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","bucket":"test-bucket","key":"cv/professional_summary/f0ee05c1-bfbf-4020-af6e-c9295acba822/original.pdf","template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.325Z","level":"info","message":"upload_metadata_written","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","jobId":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","bucket":"test-bucket","key":"cv/professional_summary/f0ee05c1-bfbf-4020-af6e-c9295acba822/logs/log.json","template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.326Z","level":"info","message":"job_description_supplied_manually","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","jobId":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","characters":174,"template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.326Z","level":"info","message":"job_description_analyzed","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","jobId":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","jobTitle":"","jobSkills":5,"template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.326Z","level":"info","message":"resume_skills_analyzed","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","jobId":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.327Z","level":"info","message":"llm_call_metrics","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.327Z","level":"info","message":"process_cv_scoring_completed","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","jobId":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.329Z","level":"info","message":"llm_call_metrics","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.330Z","level":"info","message":"generation_section_rewrite_completed","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","jobId":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","generationRunId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.330Z","level":"info","message":"llm_call_metrics","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.330Z","level":"info","message":"llm_call_metrics","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.333Z","level":"info","message":"generation_resume_verified","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","jobId":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","generationRunId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T13:17:35.336Z","level":"error","message":"ai_response_missing_json","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","jobId":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","generationRunId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at Object.error (server.js:3477:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20455:26)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:35.341Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","jobId":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","generationRunId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","attempt":1,"template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20460:11)
      at server.js:26731:28

  console.error
    {"timestamp":"2025-12-04T13:17:35.346Z","level":"error","message":"ai_response_missing_json","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","jobId":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","generationRunId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at Object.error (server.js:3477:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20455:26)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:35.351Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","jobId":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","generationRunId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","attempt":2,"template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20460:11)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:35.357Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","jobId":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","generationRunId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:35.362Z","level":"info","message":"generation_cover_letters_completed","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","jobId":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","generationRunId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","variants":2,"fallbackApplied":true,"template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.363Z","level":"info","message":"pdf_generation_attempt","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","jobId":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","generationRunId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f0ee05c1-bfbf-4020-af6e-c9295acba822/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f0ee05c1-bfbf-4020-af6e-c9295acba822/enhanced_modern.pdf","session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.363Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","jobId":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","generationRunId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f0ee05c1-bfbf-4020-af6e-c9295acba822/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.364Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","jobId":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","generationRunId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f0ee05c1-bfbf-4020-af6e-c9295acba822/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f0ee05c1-bfbf-4020-af6e-c9295acba822/enhanced_modern.pdf","session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.364Z","level":"info","message":"pdf_generation_attempt","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","jobId":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","generationRunId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f0ee05c1-bfbf-4020-af6e-c9295acba822/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f0ee05c1-bfbf-4020-af6e-c9295acba822/enhanced_professional.pdf","session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.365Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","jobId":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","generationRunId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f0ee05c1-bfbf-4020-af6e-c9295acba822/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.365Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","jobId":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","generationRunId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f0ee05c1-bfbf-4020-af6e-c9295acba822/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f0ee05c1-bfbf-4020-af6e-c9295acba822/enhanced_professional.pdf","session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.366Z","level":"info","message":"pdf_generation_attempt","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","jobId":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","generationRunId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f0ee05c1-bfbf-4020-af6e-c9295acba822/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f0ee05c1-bfbf-4020-af6e-c9295acba822/cover_letter_cover_modern.pdf","session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.366Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","jobId":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","generationRunId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f0ee05c1-bfbf-4020-af6e-c9295acba822/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.366Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","jobId":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","generationRunId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f0ee05c1-bfbf-4020-af6e-c9295acba822/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f0ee05c1-bfbf-4020-af6e-c9295acba822/cover_letter_cover_modern.pdf","session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.367Z","level":"info","message":"pdf_generation_attempt","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","jobId":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","generationRunId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f0ee05c1-bfbf-4020-af6e-c9295acba822/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f0ee05c1-bfbf-4020-af6e-c9295acba822/cover_letter_cover_professional.pdf","session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.367Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","jobId":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","generationRunId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f0ee05c1-bfbf-4020-af6e-c9295acba822/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.368Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","jobId":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","generationRunId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f0ee05c1-bfbf-4020-af6e-c9295acba822/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f0ee05c1-bfbf-4020-af6e-c9295acba822/cover_letter_cover_professional.pdf","session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.370Z","level":"info","message":"llm_call_metrics","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.371Z","level":"info","message":"generation_completed","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","jobId":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","generationRunId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","enhancedScore":80,"outputs":5,"template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.372Z","level":"info","message":"placeholder_record_deleted","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","jobId":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","placeholderIdentifier":"f0ee05c1-bfbf-4020-af6e-c9295acba822","template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1c7aa40e-c69b-4dea-9a05-a90e144699c1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.373Z","level":"info","message":"http_request_completed","requestId":"f0ee05c1-bfbf-4020-af6e-c9295acba822","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":66,"contentLength":"59498","template":"unknown","session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f0ee05c1-bfbf-4020-af6e-c9295acba822","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.377Z","level":"info","message":"http_request_received","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","method":"POST","path":"/api/process-cv","template":"unknown","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.378Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.379Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.380Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.381Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.383Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5/incoming/original.pdf","chunks":1,"timestamp":1764854255385}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:17:35.387Z","level":"info","message":"process_cv_started","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","jobId":"494c1894-7d85-4a12-986e-075b9ad2c27a","manualJobDescriptionProvided":true,"template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.387Z","level":"info","message":"template_selection","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","jobId":"494c1894-7d85-4a12-986e-075b9ad2c27a","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:35.388Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","jobId":"494c1894-7d85-4a12-986e-075b9ad2c27a","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:17:35.393Z","level":"info","message":"initial_upload_completed","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","jobId":"494c1894-7d85-4a12-986e-075b9ad2c27a","bucket":"test-bucket","key":"cv/candidate/facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5/incoming/original.pdf","template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.394Z","level":"info","message":"resume_text_extracted","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","jobId":"494c1894-7d85-4a12-986e-075b9ad2c27a","characters":57,"template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.394Z","level":"info","message":"resume_classified","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","jobId":"494c1894-7d85-4a12-986e-075b9ad2c27a","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.394Z","level":"info","message":"raw_upload_relocated","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","jobId":"494c1894-7d85-4a12-986e-075b9ad2c27a","bucket":"test-bucket","fromKey":"cv/candidate/facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5/incoming/original.pdf","toKey":"cv/professional_summary/facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5/original.pdf","template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.394Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","jobId":"494c1894-7d85-4a12-986e-075b9ad2c27a","bucket":"test-bucket","key":"cv/professional_summary/facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5/original.pdf","template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.395Z","level":"info","message":"dynamo_initial_record_written","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","jobId":"494c1894-7d85-4a12-986e-075b9ad2c27a","bucket":"test-bucket","key":"cv/professional_summary/facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5/original.pdf","template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.395Z","level":"info","message":"upload_metadata_written","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","jobId":"494c1894-7d85-4a12-986e-075b9ad2c27a","bucket":"test-bucket","key":"cv/professional_summary/facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5/logs/log.json","template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.395Z","level":"info","message":"job_description_supplied_manually","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","jobId":"494c1894-7d85-4a12-986e-075b9ad2c27a","characters":174,"template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.395Z","level":"info","message":"job_description_analyzed","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","jobId":"494c1894-7d85-4a12-986e-075b9ad2c27a","jobTitle":"","jobSkills":5,"template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.396Z","level":"info","message":"resume_skills_analyzed","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","jobId":"494c1894-7d85-4a12-986e-075b9ad2c27a","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.396Z","level":"info","message":"llm_call_metrics","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.397Z","level":"info","message":"process_cv_scoring_completed","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","jobId":"494c1894-7d85-4a12-986e-075b9ad2c27a","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T13:17:35.398Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","template":"unknown","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at Object.error (server.js:3477:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8533:20)
      at generateEnhancedDocumentsResponse (server.js:20173:26)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:35.404Z","level":"info","message":"llm_call_metrics","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.404Z","level":"info","message":"llm_call_metrics","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.404Z","level":"info","message":"generation_section_rewrite_completed","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","jobId":"494c1894-7d85-4a12-986e-075b9ad2c27a","generationRunId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.405Z","level":"info","message":"llm_call_metrics","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.405Z","level":"info","message":"llm_call_metrics","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T13:17:35.408Z","level":"error","message":"ai_response_missing_json","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","jobId":"494c1894-7d85-4a12-986e-075b9ad2c27a","generationRunId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at Object.error (server.js:3477:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20455:26)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:35.414Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","jobId":"494c1894-7d85-4a12-986e-075b9ad2c27a","generationRunId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","attempt":1,"template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20460:11)
      at server.js:26731:28

  console.error
    {"timestamp":"2025-12-04T13:17:35.419Z","level":"error","message":"ai_response_missing_json","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","jobId":"494c1894-7d85-4a12-986e-075b9ad2c27a","generationRunId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at Object.error (server.js:3477:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20455:26)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:35.425Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","jobId":"494c1894-7d85-4a12-986e-075b9ad2c27a","generationRunId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","attempt":2,"template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20460:11)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:35.431Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","jobId":"494c1894-7d85-4a12-986e-075b9ad2c27a","generationRunId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:35.437Z","level":"info","message":"generation_cover_letters_completed","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","jobId":"494c1894-7d85-4a12-986e-075b9ad2c27a","generationRunId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","variants":2,"fallbackApplied":true,"template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.438Z","level":"info","message":"pdf_generation_attempt","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","jobId":"494c1894-7d85-4a12-986e-075b9ad2c27a","generationRunId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5/enhanced_modern.pdf","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.439Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","jobId":"494c1894-7d85-4a12-986e-075b9ad2c27a","generationRunId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.439Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","jobId":"494c1894-7d85-4a12-986e-075b9ad2c27a","generationRunId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5/enhanced_modern.pdf","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.440Z","level":"info","message":"pdf_generation_attempt","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","jobId":"494c1894-7d85-4a12-986e-075b9ad2c27a","generationRunId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5/enhanced_professional.pdf","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.440Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","jobId":"494c1894-7d85-4a12-986e-075b9ad2c27a","generationRunId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.441Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","jobId":"494c1894-7d85-4a12-986e-075b9ad2c27a","generationRunId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5/enhanced_professional.pdf","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.441Z","level":"info","message":"pdf_generation_attempt","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","jobId":"494c1894-7d85-4a12-986e-075b9ad2c27a","generationRunId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5/cover_letter_cover_modern.pdf","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.442Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","jobId":"494c1894-7d85-4a12-986e-075b9ad2c27a","generationRunId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.442Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","jobId":"494c1894-7d85-4a12-986e-075b9ad2c27a","generationRunId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5/cover_letter_cover_modern.pdf","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.443Z","level":"info","message":"pdf_generation_attempt","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","jobId":"494c1894-7d85-4a12-986e-075b9ad2c27a","generationRunId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5/cover_letter_cover_professional.pdf","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.443Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","jobId":"494c1894-7d85-4a12-986e-075b9ad2c27a","generationRunId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.443Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","jobId":"494c1894-7d85-4a12-986e-075b9ad2c27a","generationRunId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5/cover_letter_cover_professional.pdf","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.445Z","level":"info","message":"llm_call_metrics","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.446Z","level":"info","message":"generation_completed","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","jobId":"494c1894-7d85-4a12-986e-075b9ad2c27a","generationRunId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","enhancedScore":80,"outputs":5,"template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.447Z","level":"info","message":"placeholder_record_deleted","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","jobId":"494c1894-7d85-4a12-986e-075b9ad2c27a","placeholderIdentifier":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"494c1894-7d85-4a12-986e-075b9ad2c27a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.448Z","level":"info","message":"http_request_completed","requestId":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":71,"contentLength":"58301","template":"unknown","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"facb22f0-07a8-46eb-bbcf-7b9cc0c60ab5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.456Z","level":"info","message":"http_request_received","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","method":"POST","path":"/api/process-cv","template":"unknown","session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.457Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.459Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.460Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.461Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.463Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/36a9b453-3294-4ae7-bca3-0b391fbdf39a/incoming/original.pdf","chunks":1,"timestamp":1764854255465}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/36a9b453-3294-4ae7-bca3-0b391fbdf39a/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/36a9b453-3294-4ae7-bca3-0b391fbdf39a/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:17:35.467Z","level":"info","message":"process_cv_started","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","manualJobDescriptionProvided":true,"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.472Z","level":"info","message":"template_selection","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:35.472Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:17:35.478Z","level":"info","message":"initial_upload_completed","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","bucket":"test-bucket","key":"cv/candidate/36a9b453-3294-4ae7-bca3-0b391fbdf39a/incoming/original.pdf","template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.478Z","level":"info","message":"resume_text_extracted","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","characters":57,"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.479Z","level":"info","message":"resume_classified","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.479Z","level":"info","message":"raw_upload_relocated","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","bucket":"test-bucket","fromKey":"cv/candidate/36a9b453-3294-4ae7-bca3-0b391fbdf39a/incoming/original.pdf","toKey":"cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/original.pdf","template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.479Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","bucket":"test-bucket","key":"cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/original.pdf","template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.480Z","level":"info","message":"dynamo_initial_record_written","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","bucket":"test-bucket","key":"cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/original.pdf","template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.480Z","level":"info","message":"upload_metadata_written","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","bucket":"test-bucket","key":"cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/logs/log.json","template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.480Z","level":"info","message":"job_description_supplied_manually","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","characters":174,"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.481Z","level":"info","message":"job_description_analyzed","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","jobTitle":"","jobSkills":5,"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.481Z","level":"info","message":"resume_skills_analyzed","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.481Z","level":"info","message":"llm_call_metrics","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.482Z","level":"info","message":"process_cv_scoring_completed","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T13:17:35.484Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","template":"unknown","session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at Object.error (server.js:3477:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8533:20)
      at generateEnhancedDocumentsResponse (server.js:20173:26)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:35.489Z","level":"info","message":"llm_call_metrics","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.490Z","level":"info","message":"llm_call_metrics","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.490Z","level":"info","message":"generation_section_rewrite_completed","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","generationRunId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.491Z","level":"info","message":"llm_call_metrics","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.491Z","level":"info","message":"llm_call_metrics","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T13:17:35.496Z","level":"error","message":"ai_response_missing_json","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","generationRunId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at Object.error (server.js:3477:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20455:26)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:35.502Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","generationRunId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","attempt":1,"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20460:11)
      at server.js:26731:28

  console.error
    {"timestamp":"2025-12-04T13:17:35.507Z","level":"error","message":"ai_response_missing_json","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","generationRunId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at Object.error (server.js:3477:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20455:26)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:35.512Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","generationRunId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","attempt":2,"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20460:11)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:35.518Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","generationRunId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:35.523Z","level":"info","message":"generation_cover_letters_completed","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","generationRunId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","variants":2,"fallbackApplied":true,"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.524Z","level":"info","message":"pdf_generation_attempt","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","generationRunId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/enhanced_modern.pdf","session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.524Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","generationRunId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.525Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","generationRunId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/enhanced_modern.pdf","session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.525Z","level":"info","message":"pdf_generation_attempt","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","generationRunId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/enhanced_professional.pdf","session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.526Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","generationRunId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.526Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","generationRunId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/enhanced_professional.pdf","session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.527Z","level":"info","message":"pdf_generation_attempt","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","generationRunId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/cover_letter_cover_modern.pdf","session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.527Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","generationRunId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.528Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","generationRunId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/cover_letter_cover_modern.pdf","session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.528Z","level":"info","message":"pdf_generation_attempt","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","generationRunId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/cover_letter_cover_professional.pdf","session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.529Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","generationRunId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.529Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","generationRunId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/cover_letter_cover_professional.pdf","session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:35.530Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","generationRunId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","artifactType":"original_upload","storageKey":"cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/original.pdf","template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","metadata":{"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"original_upload"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:21861:9)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:35.536Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","generationRunId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","artifactType":"version1","storageKey":"cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/modern/version1.pdf","template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","metadata":{"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"version1"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:21861:9)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:35.543Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","generationRunId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","artifactType":"version2","storageKey":"cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/professional/version2.pdf","template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","metadata":{"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"version2"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:21861:9)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:35.548Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","generationRunId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","artifactType":"cover_letter1","storageKey":"cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/cover_modern/cover_letter1.pdf","template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","metadata":{"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"cover_letter1"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:21861:9)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:35.554Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","generationRunId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","artifactType":"cover_letter2","storageKey":"cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/cover_professional/cover_letter2.pdf","template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","metadata":{"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"cover_letter2"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:21861:9)
      at server.js:26731:28

  console.error
    {"timestamp":"2025-12-04T13:17:35.559Z","level":"error","message":"generation_urls_missing","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","generationRunId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","requestedUrlCount":0,"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:21962:7)
      at server.js:26731:28

  console.error
    {"timestamp":"2025-12-04T13:17:35.571Z","level":"error","message":"api_error_response","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","status":500,"error":{"code":"AI_RESPONSE_INVALID","message":"Unable to prepare download links for the generated documents.","details":{"logs":{"s3":{"bucket":"test-bucket","key":"logs/errors/2025-12-04/2025-12-04t13-17-35-571z-36a9b453-3294-4ae7-bca3-0b391fbdf39a.json","status":"pending"}}},"requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c"},"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at sendError (server.js:3965:3)
      at generateEnhancedDocumentsResponse (server.js:21966:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:35.579Z","level":"warn","message":"generation_artifacts_cleaned_up","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","jobId":"02e6e97f-76bc-4823-9582-f0db95b9f48c","generationRunId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","reason":"no_valid_urls","deletedKeys":["cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/modern/version1.pdf","cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/professional/version2.pdf","cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/cover_modern/cover_letter1.pdf","cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/cover_professional/cover_letter2.pdf","cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/artifacts/original.json","cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/artifacts/version1.json","cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/artifacts/version2.json","cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/artifacts/cover-letter1.json","cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/artifacts/cover-letter2.json","cv/professional_summary/36a9b453-3294-4ae7-bca3-0b391fbdf39a/artifacts/changelog.json"],"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02e6e97f-76bc-4823-9582-f0db95b9f48c","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:19889:9
      at generateEnhancedDocumentsResponse (server.js:22494:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:35.586Z","level":"info","message":"http_request_completed","requestId":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","method":"POST","path":"/api/process-cv","statusCode":500,"durationMs":130,"contentLength":"396","template":"unknown","session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"36a9b453-3294-4ae7-bca3-0b391fbdf39a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.589Z","level":"info","message":"http_request_received","requestId":"1c822a2f-3ad1-4ca5-afff-700415c42da4","method":"POST","path":"/api/refresh-download-link","template":"unknown","session":"1c822a2f-3ad1-4ca5-afff-700415c42da4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1c822a2f-3ad1-4ca5-afff-700415c42da4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.590Z","level":"info","message":"path_restoration_debug","reqPath":"/api/refresh-download-link","reqUrl":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.591Z","level":"info","message":"request_received","path":"/api/refresh-download-link","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.592Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.604Z","level":"info","message":"client_app_routes_entered","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.606Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.609Z","level":"info","message":"http_request_completed","requestId":"1c822a2f-3ad1-4ca5-afff-700415c42da4","method":"POST","path":"/api/refresh-download-link","statusCode":200,"durationMs":20,"contentLength":"232","template":"unknown","session":"1c822a2f-3ad1-4ca5-afff-700415c42da4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1c822a2f-3ad1-4ca5-afff-700415c42da4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.622Z","level":"info","message":"http_request_received","requestId":"aa3a4ef8-86f7-4582-9f65-afbe70b61b41","method":"POST","path":"/api/refresh-download-link","template":"unknown","session":"aa3a4ef8-86f7-4582-9f65-afbe70b61b41","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aa3a4ef8-86f7-4582-9f65-afbe70b61b41","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.624Z","level":"info","message":"path_restoration_debug","reqPath":"/api/refresh-download-link","reqUrl":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.627Z","level":"info","message":"request_received","path":"/api/refresh-download-link","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.633Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.637Z","level":"info","message":"client_app_routes_entered","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.638Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:35.641Z","level":"warn","message":"api_error_response","requestId":"aa3a4ef8-86f7-4582-9f65-afbe70b61b41","jobId":"job-123","status":404,"error":{"code":"DOWNLOAD_NOT_FOUND","message":"The requested download link is no longer available.","details":{},"requestId":"aa3a4ef8-86f7-4582-9f65-afbe70b61b41","jobId":"job-123"},"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at sendError (server.js:3965:3)
      at server.js:24599:12

  console.log
    {"timestamp":"2025-12-04T13:17:35.653Z","level":"info","message":"http_request_completed","requestId":"aa3a4ef8-86f7-4582-9f65-afbe70b61b41","method":"POST","path":"/api/refresh-download-link","statusCode":404,"durationMs":31,"contentLength":"201","template":"unknown","session":"aa3a4ef8-86f7-4582-9f65-afbe70b61b41","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aa3a4ef8-86f7-4582-9f65-afbe70b61b41","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.656Z","level":"info","message":"http_request_received","requestId":"a9bb0717-e943-444c-915e-00540d781d36","method":"POST","path":"/api/process-cv","template":"unknown","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.658Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.659Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.660Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.661Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.663Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/a9bb0717-e943-444c-915e-00540d781d36/incoming/original.pdf","chunks":1,"timestamp":1764854255666}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/a9bb0717-e943-444c-915e-00540d781d36/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/a9bb0717-e943-444c-915e-00540d781d36/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:17:35.673Z","level":"info","message":"process_cv_started","requestId":"a9bb0717-e943-444c-915e-00540d781d36","jobId":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","manualJobDescriptionProvided":true,"template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.673Z","level":"info","message":"template_selection","requestId":"a9bb0717-e943-444c-915e-00540d781d36","jobId":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:35.674Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"a9bb0717-e943-444c-915e-00540d781d36","jobId":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:17:35.680Z","level":"info","message":"initial_upload_completed","requestId":"a9bb0717-e943-444c-915e-00540d781d36","jobId":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","bucket":"test-bucket","key":"cv/candidate/a9bb0717-e943-444c-915e-00540d781d36/incoming/original.pdf","template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.680Z","level":"info","message":"resume_text_extracted","requestId":"a9bb0717-e943-444c-915e-00540d781d36","jobId":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","characters":57,"template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.681Z","level":"info","message":"resume_classified","requestId":"a9bb0717-e943-444c-915e-00540d781d36","jobId":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.681Z","level":"info","message":"raw_upload_relocated","requestId":"a9bb0717-e943-444c-915e-00540d781d36","jobId":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","bucket":"test-bucket","fromKey":"cv/candidate/a9bb0717-e943-444c-915e-00540d781d36/incoming/original.pdf","toKey":"cv/professional_summary/a9bb0717-e943-444c-915e-00540d781d36/original.pdf","template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.681Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"a9bb0717-e943-444c-915e-00540d781d36","jobId":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","bucket":"test-bucket","key":"cv/professional_summary/a9bb0717-e943-444c-915e-00540d781d36/original.pdf","template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.682Z","level":"info","message":"dynamo_initial_record_written","requestId":"a9bb0717-e943-444c-915e-00540d781d36","jobId":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","bucket":"test-bucket","key":"cv/professional_summary/a9bb0717-e943-444c-915e-00540d781d36/original.pdf","template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.682Z","level":"info","message":"upload_metadata_written","requestId":"a9bb0717-e943-444c-915e-00540d781d36","jobId":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","bucket":"test-bucket","key":"cv/professional_summary/a9bb0717-e943-444c-915e-00540d781d36/logs/log.json","template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.682Z","level":"info","message":"job_description_supplied_manually","requestId":"a9bb0717-e943-444c-915e-00540d781d36","jobId":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","characters":174,"template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.683Z","level":"info","message":"job_description_analyzed","requestId":"a9bb0717-e943-444c-915e-00540d781d36","jobId":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","jobTitle":"","jobSkills":5,"template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.685Z","level":"info","message":"resume_skills_analyzed","requestId":"a9bb0717-e943-444c-915e-00540d781d36","jobId":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.685Z","level":"info","message":"llm_call_metrics","requestId":"a9bb0717-e943-444c-915e-00540d781d36","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.686Z","level":"info","message":"process_cv_scoring_completed","requestId":"a9bb0717-e943-444c-915e-00540d781d36","jobId":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T13:17:35.689Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"a9bb0717-e943-444c-915e-00540d781d36","template":"unknown","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at Object.error (server.js:3477:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8533:20)
      at generateEnhancedDocumentsResponse (server.js:20173:26)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:35.695Z","level":"info","message":"llm_call_metrics","requestId":"a9bb0717-e943-444c-915e-00540d781d36","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.695Z","level":"info","message":"llm_call_metrics","requestId":"a9bb0717-e943-444c-915e-00540d781d36","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.696Z","level":"info","message":"generation_section_rewrite_completed","requestId":"a9bb0717-e943-444c-915e-00540d781d36","jobId":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","generationRunId":"a9bb0717-e943-444c-915e-00540d781d36","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.696Z","level":"info","message":"llm_call_metrics","requestId":"a9bb0717-e943-444c-915e-00540d781d36","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.697Z","level":"info","message":"llm_call_metrics","requestId":"a9bb0717-e943-444c-915e-00540d781d36","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T13:17:35.701Z","level":"error","message":"ai_response_missing_json","requestId":"a9bb0717-e943-444c-915e-00540d781d36","jobId":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","generationRunId":"a9bb0717-e943-444c-915e-00540d781d36","template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at Object.error (server.js:3477:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20455:26)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:35.709Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"a9bb0717-e943-444c-915e-00540d781d36","jobId":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","generationRunId":"a9bb0717-e943-444c-915e-00540d781d36","attempt":1,"template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20460:11)
      at server.js:26731:28

  console.error
    {"timestamp":"2025-12-04T13:17:35.714Z","level":"error","message":"ai_response_missing_json","requestId":"a9bb0717-e943-444c-915e-00540d781d36","jobId":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","generationRunId":"a9bb0717-e943-444c-915e-00540d781d36","template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at Object.error (server.js:3477:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20455:26)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:35.720Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"a9bb0717-e943-444c-915e-00540d781d36","jobId":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","generationRunId":"a9bb0717-e943-444c-915e-00540d781d36","attempt":2,"template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20460:11)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:35.727Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"a9bb0717-e943-444c-915e-00540d781d36","jobId":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","generationRunId":"a9bb0717-e943-444c-915e-00540d781d36","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:35.733Z","level":"info","message":"generation_cover_letters_completed","requestId":"a9bb0717-e943-444c-915e-00540d781d36","jobId":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","generationRunId":"a9bb0717-e943-444c-915e-00540d781d36","variants":2,"fallbackApplied":true,"template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.733Z","level":"info","message":"pdf_generation_attempt","requestId":"a9bb0717-e943-444c-915e-00540d781d36","jobId":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","generationRunId":"a9bb0717-e943-444c-915e-00540d781d36","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a9bb0717-e943-444c-915e-00540d781d36/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/a9bb0717-e943-444c-915e-00540d781d36/enhanced_modern.pdf","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.734Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a9bb0717-e943-444c-915e-00540d781d36","jobId":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","generationRunId":"a9bb0717-e943-444c-915e-00540d781d36","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a9bb0717-e943-444c-915e-00540d781d36/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.734Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a9bb0717-e943-444c-915e-00540d781d36","jobId":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","generationRunId":"a9bb0717-e943-444c-915e-00540d781d36","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a9bb0717-e943-444c-915e-00540d781d36/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/a9bb0717-e943-444c-915e-00540d781d36/enhanced_modern.pdf","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.735Z","level":"info","message":"pdf_generation_attempt","requestId":"a9bb0717-e943-444c-915e-00540d781d36","jobId":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","generationRunId":"a9bb0717-e943-444c-915e-00540d781d36","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a9bb0717-e943-444c-915e-00540d781d36/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/a9bb0717-e943-444c-915e-00540d781d36/enhanced_professional.pdf","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.735Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a9bb0717-e943-444c-915e-00540d781d36","jobId":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","generationRunId":"a9bb0717-e943-444c-915e-00540d781d36","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a9bb0717-e943-444c-915e-00540d781d36/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.736Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a9bb0717-e943-444c-915e-00540d781d36","jobId":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","generationRunId":"a9bb0717-e943-444c-915e-00540d781d36","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a9bb0717-e943-444c-915e-00540d781d36/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/a9bb0717-e943-444c-915e-00540d781d36/enhanced_professional.pdf","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.736Z","level":"info","message":"pdf_generation_attempt","requestId":"a9bb0717-e943-444c-915e-00540d781d36","jobId":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","generationRunId":"a9bb0717-e943-444c-915e-00540d781d36","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a9bb0717-e943-444c-915e-00540d781d36/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/a9bb0717-e943-444c-915e-00540d781d36/cover_letter_cover_modern.pdf","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.737Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a9bb0717-e943-444c-915e-00540d781d36","jobId":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","generationRunId":"a9bb0717-e943-444c-915e-00540d781d36","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a9bb0717-e943-444c-915e-00540d781d36/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.737Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a9bb0717-e943-444c-915e-00540d781d36","jobId":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","generationRunId":"a9bb0717-e943-444c-915e-00540d781d36","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a9bb0717-e943-444c-915e-00540d781d36/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/a9bb0717-e943-444c-915e-00540d781d36/cover_letter_cover_modern.pdf","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.738Z","level":"info","message":"pdf_generation_attempt","requestId":"a9bb0717-e943-444c-915e-00540d781d36","jobId":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","generationRunId":"a9bb0717-e943-444c-915e-00540d781d36","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a9bb0717-e943-444c-915e-00540d781d36/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/a9bb0717-e943-444c-915e-00540d781d36/cover_letter_cover_professional.pdf","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.739Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a9bb0717-e943-444c-915e-00540d781d36","jobId":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","generationRunId":"a9bb0717-e943-444c-915e-00540d781d36","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a9bb0717-e943-444c-915e-00540d781d36/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.739Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a9bb0717-e943-444c-915e-00540d781d36","jobId":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","generationRunId":"a9bb0717-e943-444c-915e-00540d781d36","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a9bb0717-e943-444c-915e-00540d781d36/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/a9bb0717-e943-444c-915e-00540d781d36/cover_letter_cover_professional.pdf","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.742Z","level":"info","message":"llm_call_metrics","requestId":"a9bb0717-e943-444c-915e-00540d781d36","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.742Z","level":"info","message":"generation_completed","requestId":"a9bb0717-e943-444c-915e-00540d781d36","jobId":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","generationRunId":"a9bb0717-e943-444c-915e-00540d781d36","enhancedScore":80,"outputs":5,"template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.744Z","level":"info","message":"placeholder_record_deleted","requestId":"a9bb0717-e943-444c-915e-00540d781d36","jobId":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","placeholderIdentifier":"a9bb0717-e943-444c-915e-00540d781d36","template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2ed4d57c-7183-44cf-bde2-1e31cf99e5ae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.745Z","level":"info","message":"http_request_completed","requestId":"a9bb0717-e943-444c-915e-00540d781d36","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":89,"contentLength":"58301","template":"unknown","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9bb0717-e943-444c-915e-00540d781d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.748Z","level":"info","message":"http_request_received","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","method":"POST","path":"/api/process-cv","template":"unknown","session":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.749Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.750Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.751Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.753Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.755Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/7fc2e675-ccdb-4d3f-9c74-299760a60fdd/incoming/original.pdf","chunks":1,"timestamp":1764854255759}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/7fc2e675-ccdb-4d3f-9c74-299760a60fdd/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/7fc2e675-ccdb-4d3f-9c74-299760a60fdd/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:17:35.766Z","level":"info","message":"process_cv_started","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","jobId":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","manualJobDescriptionProvided":true,"template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.767Z","level":"info","message":"template_selection","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","jobId":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:35.768Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","jobId":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:17:35.773Z","level":"info","message":"initial_upload_completed","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","jobId":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","bucket":"test-bucket","key":"cv/candidate/7fc2e675-ccdb-4d3f-9c74-299760a60fdd/incoming/original.pdf","template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.773Z","level":"info","message":"resume_text_extracted","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","jobId":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","characters":57,"template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.774Z","level":"info","message":"resume_classified","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","jobId":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.774Z","level":"info","message":"raw_upload_relocated","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","jobId":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","bucket":"test-bucket","fromKey":"cv/candidate/7fc2e675-ccdb-4d3f-9c74-299760a60fdd/incoming/original.pdf","toKey":"cv/professional_summary/7fc2e675-ccdb-4d3f-9c74-299760a60fdd/original.pdf","template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.774Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","jobId":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","bucket":"test-bucket","key":"cv/professional_summary/7fc2e675-ccdb-4d3f-9c74-299760a60fdd/original.pdf","template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.775Z","level":"info","message":"dynamo_initial_record_written","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","jobId":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","bucket":"test-bucket","key":"cv/professional_summary/7fc2e675-ccdb-4d3f-9c74-299760a60fdd/original.pdf","template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.775Z","level":"info","message":"upload_metadata_written","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","jobId":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","bucket":"test-bucket","key":"cv/professional_summary/7fc2e675-ccdb-4d3f-9c74-299760a60fdd/logs/log.json","template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.775Z","level":"info","message":"job_description_supplied_manually","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","jobId":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","characters":174,"template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.776Z","level":"info","message":"job_description_analyzed","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","jobId":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","jobTitle":"","jobSkills":5,"template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.776Z","level":"info","message":"resume_skills_analyzed","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","jobId":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.776Z","level":"info","message":"llm_call_metrics","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.777Z","level":"info","message":"process_cv_scoring_completed","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","jobId":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.779Z","level":"info","message":"llm_call_metrics","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.779Z","level":"info","message":"generation_section_rewrite_completed","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","jobId":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","generationRunId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.780Z","level":"info","message":"llm_call_metrics","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.783Z","level":"info","message":"generation_resume_verified","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","jobId":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","generationRunId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:35.786Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","jobId":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","generationRunId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:35.791Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","jobId":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","generationRunId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:35.797Z","level":"info","message":"generation_cover_letters_completed","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","jobId":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","generationRunId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","variants":2,"fallbackApplied":true,"template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.797Z","level":"info","message":"pdf_generation_attempt","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","jobId":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","generationRunId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7fc2e675-ccdb-4d3f-9c74-299760a60fdd/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/7fc2e675-ccdb-4d3f-9c74-299760a60fdd/enhanced_modern.pdf","session":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.798Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","jobId":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","generationRunId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7fc2e675-ccdb-4d3f-9c74-299760a60fdd/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.798Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","jobId":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","generationRunId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7fc2e675-ccdb-4d3f-9c74-299760a60fdd/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/7fc2e675-ccdb-4d3f-9c74-299760a60fdd/enhanced_modern.pdf","session":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.799Z","level":"info","message":"pdf_generation_attempt","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","jobId":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","generationRunId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7fc2e675-ccdb-4d3f-9c74-299760a60fdd/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/7fc2e675-ccdb-4d3f-9c74-299760a60fdd/enhanced_professional.pdf","session":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.799Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","jobId":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","generationRunId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7fc2e675-ccdb-4d3f-9c74-299760a60fdd/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.800Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","jobId":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","generationRunId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7fc2e675-ccdb-4d3f-9c74-299760a60fdd/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/7fc2e675-ccdb-4d3f-9c74-299760a60fdd/enhanced_professional.pdf","session":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.800Z","level":"info","message":"pdf_generation_attempt","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","jobId":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","generationRunId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7fc2e675-ccdb-4d3f-9c74-299760a60fdd/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/7fc2e675-ccdb-4d3f-9c74-299760a60fdd/cover_letter_cover_modern.pdf","session":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.800Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","jobId":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","generationRunId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7fc2e675-ccdb-4d3f-9c74-299760a60fdd/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.801Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","jobId":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","generationRunId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7fc2e675-ccdb-4d3f-9c74-299760a60fdd/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/7fc2e675-ccdb-4d3f-9c74-299760a60fdd/cover_letter_cover_modern.pdf","session":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.801Z","level":"info","message":"pdf_generation_attempt","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","jobId":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","generationRunId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7fc2e675-ccdb-4d3f-9c74-299760a60fdd/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/7fc2e675-ccdb-4d3f-9c74-299760a60fdd/cover_letter_cover_professional.pdf","session":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.802Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","jobId":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","generationRunId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7fc2e675-ccdb-4d3f-9c74-299760a60fdd/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.802Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","jobId":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","generationRunId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7fc2e675-ccdb-4d3f-9c74-299760a60fdd/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/7fc2e675-ccdb-4d3f-9c74-299760a60fdd/cover_letter_cover_professional.pdf","session":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.805Z","level":"info","message":"llm_call_metrics","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.806Z","level":"info","message":"generation_completed","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","jobId":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","generationRunId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","enhancedScore":80,"outputs":5,"template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.807Z","level":"info","message":"placeholder_record_deleted","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","jobId":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","placeholderIdentifier":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4b9a94a6-ce47-4d87-bf30-d44c5b025a22","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.808Z","level":"info","message":"http_request_completed","requestId":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":60,"contentLength":"58133","template":"unknown","session":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7fc2e675-ccdb-4d3f-9c74-299760a60fdd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.812Z","level":"info","message":"http_request_received","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","method":"POST","path":"/api/process-cv","template":"unknown","session":"c9088b65-61b9-4338-a628-ff5d245c9940","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c9088b65-61b9-4338-a628-ff5d245c9940","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.813Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.814Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.815Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.817Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.818Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/c9088b65-61b9-4338-a628-ff5d245c9940/incoming/original.pdf","chunks":1,"timestamp":1764854255820}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/c9088b65-61b9-4338-a628-ff5d245c9940/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/c9088b65-61b9-4338-a628-ff5d245c9940/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:17:35.822Z","level":"info","message":"process_cv_started","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","jobId":"455599de-2e85-45a5-a02f-7b7a31a81232","manualJobDescriptionProvided":true,"template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.822Z","level":"info","message":"template_selection","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","jobId":"455599de-2e85-45a5-a02f-7b7a31a81232","template1":"classic","template2":"ats","coverTemplate1":"cover_classic","coverTemplate2":"cover_ats","availableCvTemplates":["classic","ats","modern","professional","2025"],"availableCoverTemplates":["cover_classic","cover_ats","cover_modern","cover_professional","cover_2025"],"template":"classic","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:35.823Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","jobId":"455599de-2e85-45a5-a02f-7b7a31a81232","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:17:35.830Z","level":"info","message":"initial_upload_completed","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","jobId":"455599de-2e85-45a5-a02f-7b7a31a81232","bucket":"test-bucket","key":"cv/candidate/c9088b65-61b9-4338-a628-ff5d245c9940/incoming/original.pdf","template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.831Z","level":"info","message":"resume_text_extracted","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","jobId":"455599de-2e85-45a5-a02f-7b7a31a81232","characters":57,"template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.831Z","level":"info","message":"resume_classified","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","jobId":"455599de-2e85-45a5-a02f-7b7a31a81232","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.831Z","level":"info","message":"raw_upload_relocated","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","jobId":"455599de-2e85-45a5-a02f-7b7a31a81232","bucket":"test-bucket","fromKey":"cv/candidate/c9088b65-61b9-4338-a628-ff5d245c9940/incoming/original.pdf","toKey":"cv/professional_summary/c9088b65-61b9-4338-a628-ff5d245c9940/original.pdf","template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.832Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","jobId":"455599de-2e85-45a5-a02f-7b7a31a81232","bucket":"test-bucket","key":"cv/professional_summary/c9088b65-61b9-4338-a628-ff5d245c9940/original.pdf","template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.838Z","level":"info","message":"dynamo_initial_record_written","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","jobId":"455599de-2e85-45a5-a02f-7b7a31a81232","bucket":"test-bucket","key":"cv/professional_summary/c9088b65-61b9-4338-a628-ff5d245c9940/original.pdf","template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.838Z","level":"info","message":"upload_metadata_written","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","jobId":"455599de-2e85-45a5-a02f-7b7a31a81232","bucket":"test-bucket","key":"cv/professional_summary/c9088b65-61b9-4338-a628-ff5d245c9940/logs/log.json","template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.839Z","level":"info","message":"job_description_supplied_manually","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","jobId":"455599de-2e85-45a5-a02f-7b7a31a81232","characters":174,"template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.839Z","level":"info","message":"job_description_analyzed","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","jobId":"455599de-2e85-45a5-a02f-7b7a31a81232","jobTitle":"","jobSkills":5,"template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.840Z","level":"info","message":"resume_skills_analyzed","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","jobId":"455599de-2e85-45a5-a02f-7b7a31a81232","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.840Z","level":"info","message":"llm_call_metrics","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"c9088b65-61b9-4338-a628-ff5d245c9940","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c9088b65-61b9-4338-a628-ff5d245c9940","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.841Z","level":"info","message":"process_cv_scoring_completed","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","jobId":"455599de-2e85-45a5-a02f-7b7a31a81232","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.846Z","level":"info","message":"llm_call_metrics","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"c9088b65-61b9-4338-a628-ff5d245c9940","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"c9088b65-61b9-4338-a628-ff5d245c9940","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.847Z","level":"info","message":"generation_section_rewrite_completed","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","jobId":"455599de-2e85-45a5-a02f-7b7a31a81232","generationRunId":"c9088b65-61b9-4338-a628-ff5d245c9940","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.848Z","level":"info","message":"llm_call_metrics","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"c9088b65-61b9-4338-a628-ff5d245c9940","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"c9088b65-61b9-4338-a628-ff5d245c9940","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.850Z","level":"info","message":"generation_resume_verified","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","jobId":"455599de-2e85-45a5-a02f-7b7a31a81232","generationRunId":"c9088b65-61b9-4338-a628-ff5d245c9940","template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:35.853Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","jobId":"455599de-2e85-45a5-a02f-7b7a31a81232","generationRunId":"c9088b65-61b9-4338-a628-ff5d245c9940","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:35.859Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","jobId":"455599de-2e85-45a5-a02f-7b7a31a81232","generationRunId":"c9088b65-61b9-4338-a628-ff5d245c9940","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:35.866Z","level":"info","message":"generation_cover_letters_completed","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","jobId":"455599de-2e85-45a5-a02f-7b7a31a81232","generationRunId":"c9088b65-61b9-4338-a628-ff5d245c9940","variants":2,"fallbackApplied":true,"template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.867Z","level":"info","message":"pdf_generation_attempt","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","jobId":"455599de-2e85-45a5-a02f-7b7a31a81232","generationRunId":"c9088b65-61b9-4338-a628-ff5d245c9940","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c9088b65-61b9-4338-a628-ff5d245c9940/","sessionId":"[REDACTED]","template":"classic","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/c9088b65-61b9-4338-a628-ff5d245c9940/enhanced_classic.pdf","session":"c9088b65-61b9-4338-a628-ff5d245c9940","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"c9088b65-61b9-4338-a628-ff5d245c9940","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.868Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","jobId":"455599de-2e85-45a5-a02f-7b7a31a81232","generationRunId":"c9088b65-61b9-4338-a628-ff5d245c9940","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c9088b65-61b9-4338-a628-ff5d245c9940/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c9088b65-61b9-4338-a628-ff5d245c9940","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"c9088b65-61b9-4338-a628-ff5d245c9940","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.868Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","jobId":"455599de-2e85-45a5-a02f-7b7a31a81232","generationRunId":"c9088b65-61b9-4338-a628-ff5d245c9940","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c9088b65-61b9-4338-a628-ff5d245c9940/","sessionId":"[REDACTED]","template":"classic","attempt":1,"bytes":3,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/c9088b65-61b9-4338-a628-ff5d245c9940/enhanced_classic.pdf","session":"c9088b65-61b9-4338-a628-ff5d245c9940","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"c9088b65-61b9-4338-a628-ff5d245c9940","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.869Z","level":"info","message":"pdf_generation_attempt","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","jobId":"455599de-2e85-45a5-a02f-7b7a31a81232","generationRunId":"c9088b65-61b9-4338-a628-ff5d245c9940","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c9088b65-61b9-4338-a628-ff5d245c9940/","sessionId":"[REDACTED]","template":"ats","attempt":1,"totalAttempts":1,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/c9088b65-61b9-4338-a628-ff5d245c9940/enhanced_ats.pdf","session":"c9088b65-61b9-4338-a628-ff5d245c9940","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"c9088b65-61b9-4338-a628-ff5d245c9940","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.869Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","jobId":"455599de-2e85-45a5-a02f-7b7a31a81232","generationRunId":"c9088b65-61b9-4338-a628-ff5d245c9940","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c9088b65-61b9-4338-a628-ff5d245c9940/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":["mode","atsMode"],"session":"c9088b65-61b9-4338-a628-ff5d245c9940","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"c9088b65-61b9-4338-a628-ff5d245c9940","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.870Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","jobId":"455599de-2e85-45a5-a02f-7b7a31a81232","generationRunId":"c9088b65-61b9-4338-a628-ff5d245c9940","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c9088b65-61b9-4338-a628-ff5d245c9940/","sessionId":"[REDACTED]","template":"ats","attempt":1,"bytes":3,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/c9088b65-61b9-4338-a628-ff5d245c9940/enhanced_ats.pdf","session":"c9088b65-61b9-4338-a628-ff5d245c9940","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"c9088b65-61b9-4338-a628-ff5d245c9940","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.870Z","level":"info","message":"pdf_generation_attempt","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","jobId":"455599de-2e85-45a5-a02f-7b7a31a81232","generationRunId":"c9088b65-61b9-4338-a628-ff5d245c9940","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c9088b65-61b9-4338-a628-ff5d245c9940/","sessionId":"[REDACTED]","template":"cover_classic","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/c9088b65-61b9-4338-a628-ff5d245c9940/cover_letter_cover_classic.pdf","session":"c9088b65-61b9-4338-a628-ff5d245c9940","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"c9088b65-61b9-4338-a628-ff5d245c9940","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.870Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","jobId":"455599de-2e85-45a5-a02f-7b7a31a81232","generationRunId":"c9088b65-61b9-4338-a628-ff5d245c9940","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c9088b65-61b9-4338-a628-ff5d245c9940/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c9088b65-61b9-4338-a628-ff5d245c9940","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"c9088b65-61b9-4338-a628-ff5d245c9940","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.871Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","jobId":"455599de-2e85-45a5-a02f-7b7a31a81232","generationRunId":"c9088b65-61b9-4338-a628-ff5d245c9940","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c9088b65-61b9-4338-a628-ff5d245c9940/","sessionId":"[REDACTED]","template":"cover_classic","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/c9088b65-61b9-4338-a628-ff5d245c9940/cover_letter_cover_classic.pdf","session":"c9088b65-61b9-4338-a628-ff5d245c9940","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"c9088b65-61b9-4338-a628-ff5d245c9940","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.871Z","level":"info","message":"pdf_generation_attempt","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","jobId":"455599de-2e85-45a5-a02f-7b7a31a81232","generationRunId":"c9088b65-61b9-4338-a628-ff5d245c9940","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c9088b65-61b9-4338-a628-ff5d245c9940/","sessionId":"[REDACTED]","template":"cover_ats","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/c9088b65-61b9-4338-a628-ff5d245c9940/cover_letter_cover_ats.pdf","session":"c9088b65-61b9-4338-a628-ff5d245c9940","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"c9088b65-61b9-4338-a628-ff5d245c9940","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.872Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","jobId":"455599de-2e85-45a5-a02f-7b7a31a81232","generationRunId":"c9088b65-61b9-4338-a628-ff5d245c9940","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c9088b65-61b9-4338-a628-ff5d245c9940/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c9088b65-61b9-4338-a628-ff5d245c9940","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"c9088b65-61b9-4338-a628-ff5d245c9940","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.872Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","jobId":"455599de-2e85-45a5-a02f-7b7a31a81232","generationRunId":"c9088b65-61b9-4338-a628-ff5d245c9940","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c9088b65-61b9-4338-a628-ff5d245c9940/","sessionId":"[REDACTED]","template":"cover_ats","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/c9088b65-61b9-4338-a628-ff5d245c9940/cover_letter_cover_ats.pdf","session":"c9088b65-61b9-4338-a628-ff5d245c9940","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"c9088b65-61b9-4338-a628-ff5d245c9940","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.874Z","level":"info","message":"llm_call_metrics","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"c9088b65-61b9-4338-a628-ff5d245c9940","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c9088b65-61b9-4338-a628-ff5d245c9940","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.875Z","level":"info","message":"generation_completed","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","jobId":"455599de-2e85-45a5-a02f-7b7a31a81232","generationRunId":"c9088b65-61b9-4338-a628-ff5d245c9940","enhancedScore":80,"outputs":5,"template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.876Z","level":"info","message":"placeholder_record_deleted","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","jobId":"455599de-2e85-45a5-a02f-7b7a31a81232","placeholderIdentifier":"c9088b65-61b9-4338-a628-ff5d245c9940","template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"455599de-2e85-45a5-a02f-7b7a31a81232","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.877Z","level":"info","message":"http_request_completed","requestId":"c9088b65-61b9-4338-a628-ff5d245c9940","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":65,"contentLength":"57992","template":"unknown","session":"c9088b65-61b9-4338-a628-ff5d245c9940","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c9088b65-61b9-4338-a628-ff5d245c9940","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.881Z","level":"info","message":"http_request_received","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","method":"POST","path":"/api/process-cv","template":"unknown","session":"d84846cc-3aed-458a-9431-98d7fea75032","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d84846cc-3aed-458a-9431-98d7fea75032","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.882Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.883Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.884Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.885Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.887Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/d84846cc-3aed-458a-9431-98d7fea75032/incoming/original.pdf","chunks":1,"timestamp":1764854255889}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/d84846cc-3aed-458a-9431-98d7fea75032/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/d84846cc-3aed-458a-9431-98d7fea75032/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:17:35.890Z","level":"info","message":"process_cv_started","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","jobId":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","manualJobDescriptionProvided":true,"template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.891Z","level":"info","message":"template_selection","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","jobId":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:35.891Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","jobId":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:17:35.897Z","level":"info","message":"initial_upload_completed","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","jobId":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","bucket":"test-bucket","key":"cv/candidate/d84846cc-3aed-458a-9431-98d7fea75032/incoming/original.pdf","template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.897Z","level":"info","message":"resume_text_extracted","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","jobId":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","characters":57,"template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.898Z","level":"info","message":"resume_classified","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","jobId":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.898Z","level":"info","message":"raw_upload_relocated","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","jobId":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","bucket":"test-bucket","fromKey":"cv/candidate/d84846cc-3aed-458a-9431-98d7fea75032/incoming/original.pdf","toKey":"cv/professional_summary/d84846cc-3aed-458a-9431-98d7fea75032/original.pdf","template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.898Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","jobId":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","bucket":"test-bucket","key":"cv/professional_summary/d84846cc-3aed-458a-9431-98d7fea75032/original.pdf","template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.899Z","level":"info","message":"dynamo_initial_record_written","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","jobId":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","bucket":"test-bucket","key":"cv/professional_summary/d84846cc-3aed-458a-9431-98d7fea75032/original.pdf","template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.899Z","level":"info","message":"upload_metadata_written","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","jobId":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","bucket":"test-bucket","key":"cv/professional_summary/d84846cc-3aed-458a-9431-98d7fea75032/logs/log.json","template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.899Z","level":"info","message":"job_description_supplied_manually","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","jobId":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","characters":174,"template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.900Z","level":"info","message":"job_description_analyzed","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","jobId":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","jobTitle":"","jobSkills":5,"template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.900Z","level":"info","message":"resume_skills_analyzed","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","jobId":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.901Z","level":"info","message":"llm_call_metrics","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"d84846cc-3aed-458a-9431-98d7fea75032","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"d84846cc-3aed-458a-9431-98d7fea75032","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.901Z","level":"info","message":"process_cv_scoring_completed","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","jobId":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.905Z","level":"info","message":"llm_call_metrics","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"02d97c4de2dc6045a8d84c10e35b0b09be1fff3da32b47fa5d4c293317deef58","addedSkillCount":0,"template":"resume_rewrite","session":"d84846cc-3aed-458a-9431-98d7fea75032","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"d84846cc-3aed-458a-9431-98d7fea75032","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.905Z","level":"info","message":"generation_section_rewrite_completed","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","jobId":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","generationRunId":"d84846cc-3aed-458a-9431-98d7fea75032","modifiedTitle":"Lead Engineer","addedSkills":0,"template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.906Z","level":"info","message":"llm_call_metrics","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"3cb5bda2be537250e5bef0d91034f772d9c2c805c99b7e04ba145ecb904d5893","skillCount":5,"template":"project_summary","session":"d84846cc-3aed-458a-9431-98d7fea75032","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"d84846cc-3aed-458a-9431-98d7fea75032","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.909Z","level":"info","message":"generation_resume_verified","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","jobId":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","generationRunId":"d84846cc-3aed-458a-9431-98d7fea75032","template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:35.913Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","jobId":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","generationRunId":"d84846cc-3aed-458a-9431-98d7fea75032","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:35.919Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","jobId":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","generationRunId":"d84846cc-3aed-458a-9431-98d7fea75032","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:35.924Z","level":"info","message":"generation_cover_letters_completed","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","jobId":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","generationRunId":"d84846cc-3aed-458a-9431-98d7fea75032","variants":2,"fallbackApplied":true,"template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.925Z","level":"info","message":"pdf_generation_attempt","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","jobId":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","generationRunId":"d84846cc-3aed-458a-9431-98d7fea75032","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d84846cc-3aed-458a-9431-98d7fea75032/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/d84846cc-3aed-458a-9431-98d7fea75032/enhanced_modern.pdf","session":"d84846cc-3aed-458a-9431-98d7fea75032","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d84846cc-3aed-458a-9431-98d7fea75032","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.925Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","jobId":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","generationRunId":"d84846cc-3aed-458a-9431-98d7fea75032","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d84846cc-3aed-458a-9431-98d7fea75032/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"d84846cc-3aed-458a-9431-98d7fea75032","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d84846cc-3aed-458a-9431-98d7fea75032","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.926Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","jobId":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","generationRunId":"d84846cc-3aed-458a-9431-98d7fea75032","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d84846cc-3aed-458a-9431-98d7fea75032/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/d84846cc-3aed-458a-9431-98d7fea75032/enhanced_modern.pdf","session":"d84846cc-3aed-458a-9431-98d7fea75032","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d84846cc-3aed-458a-9431-98d7fea75032","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.926Z","level":"info","message":"pdf_generation_attempt","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","jobId":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","generationRunId":"d84846cc-3aed-458a-9431-98d7fea75032","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d84846cc-3aed-458a-9431-98d7fea75032/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/d84846cc-3aed-458a-9431-98d7fea75032/enhanced_professional.pdf","session":"d84846cc-3aed-458a-9431-98d7fea75032","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d84846cc-3aed-458a-9431-98d7fea75032","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.926Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","jobId":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","generationRunId":"d84846cc-3aed-458a-9431-98d7fea75032","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d84846cc-3aed-458a-9431-98d7fea75032/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"d84846cc-3aed-458a-9431-98d7fea75032","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d84846cc-3aed-458a-9431-98d7fea75032","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.927Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","jobId":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","generationRunId":"d84846cc-3aed-458a-9431-98d7fea75032","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d84846cc-3aed-458a-9431-98d7fea75032/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/d84846cc-3aed-458a-9431-98d7fea75032/enhanced_professional.pdf","session":"d84846cc-3aed-458a-9431-98d7fea75032","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d84846cc-3aed-458a-9431-98d7fea75032","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.927Z","level":"info","message":"pdf_generation_attempt","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","jobId":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","generationRunId":"d84846cc-3aed-458a-9431-98d7fea75032","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d84846cc-3aed-458a-9431-98d7fea75032/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/d84846cc-3aed-458a-9431-98d7fea75032/cover_letter_cover_modern.pdf","session":"d84846cc-3aed-458a-9431-98d7fea75032","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d84846cc-3aed-458a-9431-98d7fea75032","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.928Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","jobId":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","generationRunId":"d84846cc-3aed-458a-9431-98d7fea75032","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d84846cc-3aed-458a-9431-98d7fea75032/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"d84846cc-3aed-458a-9431-98d7fea75032","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d84846cc-3aed-458a-9431-98d7fea75032","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.928Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","jobId":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","generationRunId":"d84846cc-3aed-458a-9431-98d7fea75032","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d84846cc-3aed-458a-9431-98d7fea75032/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/d84846cc-3aed-458a-9431-98d7fea75032/cover_letter_cover_modern.pdf","session":"d84846cc-3aed-458a-9431-98d7fea75032","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d84846cc-3aed-458a-9431-98d7fea75032","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.929Z","level":"info","message":"pdf_generation_attempt","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","jobId":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","generationRunId":"d84846cc-3aed-458a-9431-98d7fea75032","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d84846cc-3aed-458a-9431-98d7fea75032/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/d84846cc-3aed-458a-9431-98d7fea75032/cover_letter_cover_professional.pdf","session":"d84846cc-3aed-458a-9431-98d7fea75032","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d84846cc-3aed-458a-9431-98d7fea75032","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.929Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","jobId":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","generationRunId":"d84846cc-3aed-458a-9431-98d7fea75032","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d84846cc-3aed-458a-9431-98d7fea75032/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"d84846cc-3aed-458a-9431-98d7fea75032","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d84846cc-3aed-458a-9431-98d7fea75032","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.930Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","jobId":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","generationRunId":"d84846cc-3aed-458a-9431-98d7fea75032","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d84846cc-3aed-458a-9431-98d7fea75032/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/d84846cc-3aed-458a-9431-98d7fea75032/cover_letter_cover_professional.pdf","session":"d84846cc-3aed-458a-9431-98d7fea75032","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d84846cc-3aed-458a-9431-98d7fea75032","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.932Z","level":"info","message":"llm_call_metrics","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"aebf306d7fe64238aa9b05fc3798c6e6698d8708e05d8dd31d0cadc8f2f74f38","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"d84846cc-3aed-458a-9431-98d7fea75032","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"d84846cc-3aed-458a-9431-98d7fea75032","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.932Z","level":"info","message":"generation_completed","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","jobId":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","generationRunId":"d84846cc-3aed-458a-9431-98d7fea75032","enhancedScore":80,"outputs":5,"template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.933Z","level":"info","message":"placeholder_record_deleted","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","jobId":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","placeholderIdentifier":"d84846cc-3aed-458a-9431-98d7fea75032","template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"473e5f8e-11ab-4a2c-ac3c-c51f8213cd4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.934Z","level":"info","message":"http_request_completed","requestId":"d84846cc-3aed-458a-9431-98d7fea75032","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":53,"contentLength":"59354","template":"unknown","session":"d84846cc-3aed-458a-9431-98d7fea75032","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d84846cc-3aed-458a-9431-98d7fea75032","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.938Z","level":"info","message":"http_request_received","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","method":"POST","path":"/api/process-cv","template":"unknown","session":"28966ceb-466b-43e2-b037-e3c84667f303","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"28966ceb-466b-43e2-b037-e3c84667f303","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.939Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.940Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.941Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.942Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.944Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/28966ceb-466b-43e2-b037-e3c84667f303/incoming/original.pdf","chunks":1,"timestamp":1764854255946}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/28966ceb-466b-43e2-b037-e3c84667f303/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/28966ceb-466b-43e2-b037-e3c84667f303/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:17:35.947Z","level":"info","message":"process_cv_started","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","jobId":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","manualJobDescriptionProvided":true,"template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.948Z","level":"info","message":"template_selection","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","jobId":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:35.949Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","jobId":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:17:35.955Z","level":"info","message":"initial_upload_completed","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","jobId":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","bucket":"test-bucket","key":"cv/candidate/28966ceb-466b-43e2-b037-e3c84667f303/incoming/original.pdf","template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.955Z","level":"info","message":"resume_text_extracted","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","jobId":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","characters":57,"template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.956Z","level":"info","message":"resume_classified","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","jobId":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.956Z","level":"info","message":"raw_upload_relocated","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","jobId":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","bucket":"test-bucket","fromKey":"cv/candidate/28966ceb-466b-43e2-b037-e3c84667f303/incoming/original.pdf","toKey":"cv/professional_summary/28966ceb-466b-43e2-b037-e3c84667f303/original.pdf","template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.956Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","jobId":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","bucket":"test-bucket","key":"cv/professional_summary/28966ceb-466b-43e2-b037-e3c84667f303/original.pdf","template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.956Z","level":"info","message":"dynamo_initial_record_written","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","jobId":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","bucket":"test-bucket","key":"cv/professional_summary/28966ceb-466b-43e2-b037-e3c84667f303/original.pdf","template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.957Z","level":"info","message":"upload_metadata_written","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","jobId":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","bucket":"test-bucket","key":"cv/professional_summary/28966ceb-466b-43e2-b037-e3c84667f303/logs/log.json","template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.957Z","level":"info","message":"job_description_supplied_manually","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","jobId":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","characters":174,"template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.957Z","level":"info","message":"job_description_analyzed","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","jobId":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","jobTitle":"","jobSkills":5,"template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.958Z","level":"info","message":"resume_skills_analyzed","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","jobId":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.958Z","level":"info","message":"llm_call_metrics","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"28966ceb-466b-43e2-b037-e3c84667f303","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"28966ceb-466b-43e2-b037-e3c84667f303","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.959Z","level":"info","message":"process_cv_scoring_completed","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","jobId":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.961Z","level":"info","message":"llm_call_metrics","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"28966ceb-466b-43e2-b037-e3c84667f303","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"28966ceb-466b-43e2-b037-e3c84667f303","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.961Z","level":"info","message":"generation_section_rewrite_completed","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","jobId":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","generationRunId":"28966ceb-466b-43e2-b037-e3c84667f303","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.962Z","level":"info","message":"llm_call_metrics","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"9f21e6c3bcbaef44e0e62da79c13bb8790b57affdb114dc9f59fc273f882540c","skillCount":5,"template":"project_summary","session":"28966ceb-466b-43e2-b037-e3c84667f303","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"28966ceb-466b-43e2-b037-e3c84667f303","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.964Z","level":"info","message":"generation_resume_verified","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","jobId":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","generationRunId":"28966ceb-466b-43e2-b037-e3c84667f303","template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:35.969Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","jobId":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","generationRunId":"28966ceb-466b-43e2-b037-e3c84667f303","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:35.975Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","jobId":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","generationRunId":"28966ceb-466b-43e2-b037-e3c84667f303","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:35.980Z","level":"info","message":"generation_cover_letters_completed","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","jobId":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","generationRunId":"28966ceb-466b-43e2-b037-e3c84667f303","variants":2,"fallbackApplied":true,"template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.980Z","level":"info","message":"pdf_generation_attempt","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","jobId":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","generationRunId":"28966ceb-466b-43e2-b037-e3c84667f303","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/28966ceb-466b-43e2-b037-e3c84667f303/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/28966ceb-466b-43e2-b037-e3c84667f303/enhanced_modern.pdf","session":"28966ceb-466b-43e2-b037-e3c84667f303","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"28966ceb-466b-43e2-b037-e3c84667f303","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.981Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","jobId":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","generationRunId":"28966ceb-466b-43e2-b037-e3c84667f303","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/28966ceb-466b-43e2-b037-e3c84667f303/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"28966ceb-466b-43e2-b037-e3c84667f303","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"28966ceb-466b-43e2-b037-e3c84667f303","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.981Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","jobId":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","generationRunId":"28966ceb-466b-43e2-b037-e3c84667f303","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/28966ceb-466b-43e2-b037-e3c84667f303/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/28966ceb-466b-43e2-b037-e3c84667f303/enhanced_modern.pdf","session":"28966ceb-466b-43e2-b037-e3c84667f303","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"28966ceb-466b-43e2-b037-e3c84667f303","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.982Z","level":"info","message":"pdf_generation_attempt","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","jobId":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","generationRunId":"28966ceb-466b-43e2-b037-e3c84667f303","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/28966ceb-466b-43e2-b037-e3c84667f303/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/28966ceb-466b-43e2-b037-e3c84667f303/enhanced_professional.pdf","session":"28966ceb-466b-43e2-b037-e3c84667f303","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"28966ceb-466b-43e2-b037-e3c84667f303","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.982Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","jobId":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","generationRunId":"28966ceb-466b-43e2-b037-e3c84667f303","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/28966ceb-466b-43e2-b037-e3c84667f303/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"28966ceb-466b-43e2-b037-e3c84667f303","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"28966ceb-466b-43e2-b037-e3c84667f303","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.983Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","jobId":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","generationRunId":"28966ceb-466b-43e2-b037-e3c84667f303","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/28966ceb-466b-43e2-b037-e3c84667f303/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/28966ceb-466b-43e2-b037-e3c84667f303/enhanced_professional.pdf","session":"28966ceb-466b-43e2-b037-e3c84667f303","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"28966ceb-466b-43e2-b037-e3c84667f303","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.983Z","level":"info","message":"pdf_generation_attempt","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","jobId":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","generationRunId":"28966ceb-466b-43e2-b037-e3c84667f303","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/28966ceb-466b-43e2-b037-e3c84667f303/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/28966ceb-466b-43e2-b037-e3c84667f303/cover_letter_cover_modern.pdf","session":"28966ceb-466b-43e2-b037-e3c84667f303","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"28966ceb-466b-43e2-b037-e3c84667f303","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.983Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","jobId":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","generationRunId":"28966ceb-466b-43e2-b037-e3c84667f303","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/28966ceb-466b-43e2-b037-e3c84667f303/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"28966ceb-466b-43e2-b037-e3c84667f303","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"28966ceb-466b-43e2-b037-e3c84667f303","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.984Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","jobId":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","generationRunId":"28966ceb-466b-43e2-b037-e3c84667f303","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/28966ceb-466b-43e2-b037-e3c84667f303/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/28966ceb-466b-43e2-b037-e3c84667f303/cover_letter_cover_modern.pdf","session":"28966ceb-466b-43e2-b037-e3c84667f303","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"28966ceb-466b-43e2-b037-e3c84667f303","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.984Z","level":"info","message":"pdf_generation_attempt","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","jobId":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","generationRunId":"28966ceb-466b-43e2-b037-e3c84667f303","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/28966ceb-466b-43e2-b037-e3c84667f303/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/28966ceb-466b-43e2-b037-e3c84667f303/cover_letter_cover_professional.pdf","session":"28966ceb-466b-43e2-b037-e3c84667f303","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"28966ceb-466b-43e2-b037-e3c84667f303","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.985Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","jobId":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","generationRunId":"28966ceb-466b-43e2-b037-e3c84667f303","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/28966ceb-466b-43e2-b037-e3c84667f303/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"28966ceb-466b-43e2-b037-e3c84667f303","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"28966ceb-466b-43e2-b037-e3c84667f303","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.985Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","jobId":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","generationRunId":"28966ceb-466b-43e2-b037-e3c84667f303","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/28966ceb-466b-43e2-b037-e3c84667f303/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/28966ceb-466b-43e2-b037-e3c84667f303/cover_letter_cover_professional.pdf","session":"28966ceb-466b-43e2-b037-e3c84667f303","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"28966ceb-466b-43e2-b037-e3c84667f303","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.987Z","level":"info","message":"llm_call_metrics","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"28966ceb-466b-43e2-b037-e3c84667f303","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"28966ceb-466b-43e2-b037-e3c84667f303","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.988Z","level":"info","message":"generation_completed","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","jobId":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","generationRunId":"28966ceb-466b-43e2-b037-e3c84667f303","enhancedScore":80,"outputs":5,"template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.989Z","level":"info","message":"placeholder_record_deleted","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","jobId":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","placeholderIdentifier":"28966ceb-466b-43e2-b037-e3c84667f303","template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6627b96a-5fc7-4f6d-aa40-58bdd6a9176f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.990Z","level":"info","message":"http_request_completed","requestId":"28966ceb-466b-43e2-b037-e3c84667f303","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":52,"contentLength":"57968","template":"unknown","session":"28966ceb-466b-43e2-b037-e3c84667f303","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"28966ceb-466b-43e2-b037-e3c84667f303","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.993Z","level":"info","message":"http_request_received","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","method":"POST","path":"/api/process-cv","template":"unknown","session":"a8998767-2b38-4b5f-863d-e64167e5505b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a8998767-2b38-4b5f-863d-e64167e5505b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.994Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.996Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.998Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:35.999Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.002Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/a8998767-2b38-4b5f-863d-e64167e5505b/incoming/original.pdf","chunks":1,"timestamp":1764854256004}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/a8998767-2b38-4b5f-863d-e64167e5505b/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/a8998767-2b38-4b5f-863d-e64167e5505b/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:17:36.005Z","level":"info","message":"process_cv_started","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","jobId":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","manualJobDescriptionProvided":true,"template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.006Z","level":"info","message":"template_selection","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","jobId":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:36.006Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","jobId":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:17:36.012Z","level":"info","message":"initial_upload_completed","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","jobId":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","bucket":"test-bucket","key":"cv/candidate/a8998767-2b38-4b5f-863d-e64167e5505b/incoming/original.pdf","template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.012Z","level":"info","message":"resume_text_extracted","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","jobId":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","characters":57,"template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.013Z","level":"info","message":"resume_classified","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","jobId":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.013Z","level":"info","message":"raw_upload_relocated","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","jobId":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","bucket":"test-bucket","fromKey":"cv/candidate/a8998767-2b38-4b5f-863d-e64167e5505b/incoming/original.pdf","toKey":"cv/professional_summary/a8998767-2b38-4b5f-863d-e64167e5505b/original.pdf","template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.013Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","jobId":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","bucket":"test-bucket","key":"cv/professional_summary/a8998767-2b38-4b5f-863d-e64167e5505b/original.pdf","template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.014Z","level":"info","message":"dynamo_initial_record_written","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","jobId":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","bucket":"test-bucket","key":"cv/professional_summary/a8998767-2b38-4b5f-863d-e64167e5505b/original.pdf","template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.014Z","level":"info","message":"upload_metadata_written","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","jobId":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","bucket":"test-bucket","key":"cv/professional_summary/a8998767-2b38-4b5f-863d-e64167e5505b/logs/log.json","template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.014Z","level":"info","message":"job_description_supplied_manually","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","jobId":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","characters":174,"template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.015Z","level":"info","message":"job_description_analyzed","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","jobId":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","jobTitle":"","jobSkills":5,"template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.015Z","level":"info","message":"resume_skills_analyzed","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","jobId":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.016Z","level":"info","message":"llm_call_metrics","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"a8998767-2b38-4b5f-863d-e64167e5505b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a8998767-2b38-4b5f-863d-e64167e5505b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.016Z","level":"info","message":"process_cv_scoring_completed","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","jobId":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.018Z","level":"info","message":"llm_call_metrics","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"c32b748981f4e178814e257598e9097dabf82d48f753e111da0149a2ea5fd9aa","addedSkillCount":0,"template":"resume_rewrite","session":"a8998767-2b38-4b5f-863d-e64167e5505b","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"a8998767-2b38-4b5f-863d-e64167e5505b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.019Z","level":"info","message":"generation_section_rewrite_completed","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","jobId":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","generationRunId":"a8998767-2b38-4b5f-863d-e64167e5505b","modifiedTitle":"Name","addedSkills":0,"template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.019Z","level":"info","message":"llm_call_metrics","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"78ddb280a2cb83c23c85b1035eed8b3d5fbcd26529ae4529d14b4e3768cf61d3","skillCount":5,"template":"project_summary","session":"a8998767-2b38-4b5f-863d-e64167e5505b","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"a8998767-2b38-4b5f-863d-e64167e5505b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.021Z","level":"info","message":"generation_resume_verified","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","jobId":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","generationRunId":"a8998767-2b38-4b5f-863d-e64167e5505b","template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:36.024Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","jobId":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","generationRunId":"a8998767-2b38-4b5f-863d-e64167e5505b","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:36.030Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","jobId":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","generationRunId":"a8998767-2b38-4b5f-863d-e64167e5505b","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:36.037Z","level":"info","message":"generation_cover_letters_completed","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","jobId":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","generationRunId":"a8998767-2b38-4b5f-863d-e64167e5505b","variants":2,"fallbackApplied":true,"template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.038Z","level":"info","message":"pdf_generation_attempt","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","jobId":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","generationRunId":"a8998767-2b38-4b5f-863d-e64167e5505b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a8998767-2b38-4b5f-863d-e64167e5505b/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/a8998767-2b38-4b5f-863d-e64167e5505b/enhanced_modern.pdf","session":"a8998767-2b38-4b5f-863d-e64167e5505b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a8998767-2b38-4b5f-863d-e64167e5505b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.039Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","jobId":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","generationRunId":"a8998767-2b38-4b5f-863d-e64167e5505b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a8998767-2b38-4b5f-863d-e64167e5505b/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a8998767-2b38-4b5f-863d-e64167e5505b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a8998767-2b38-4b5f-863d-e64167e5505b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.039Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","jobId":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","generationRunId":"a8998767-2b38-4b5f-863d-e64167e5505b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a8998767-2b38-4b5f-863d-e64167e5505b/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/a8998767-2b38-4b5f-863d-e64167e5505b/enhanced_modern.pdf","session":"a8998767-2b38-4b5f-863d-e64167e5505b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a8998767-2b38-4b5f-863d-e64167e5505b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.040Z","level":"info","message":"pdf_generation_attempt","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","jobId":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","generationRunId":"a8998767-2b38-4b5f-863d-e64167e5505b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a8998767-2b38-4b5f-863d-e64167e5505b/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/a8998767-2b38-4b5f-863d-e64167e5505b/enhanced_professional.pdf","session":"a8998767-2b38-4b5f-863d-e64167e5505b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a8998767-2b38-4b5f-863d-e64167e5505b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.040Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","jobId":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","generationRunId":"a8998767-2b38-4b5f-863d-e64167e5505b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a8998767-2b38-4b5f-863d-e64167e5505b/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a8998767-2b38-4b5f-863d-e64167e5505b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a8998767-2b38-4b5f-863d-e64167e5505b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.040Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","jobId":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","generationRunId":"a8998767-2b38-4b5f-863d-e64167e5505b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a8998767-2b38-4b5f-863d-e64167e5505b/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/a8998767-2b38-4b5f-863d-e64167e5505b/enhanced_professional.pdf","session":"a8998767-2b38-4b5f-863d-e64167e5505b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a8998767-2b38-4b5f-863d-e64167e5505b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.041Z","level":"info","message":"pdf_generation_attempt","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","jobId":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","generationRunId":"a8998767-2b38-4b5f-863d-e64167e5505b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a8998767-2b38-4b5f-863d-e64167e5505b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/a8998767-2b38-4b5f-863d-e64167e5505b/cover_letter_cover_modern.pdf","session":"a8998767-2b38-4b5f-863d-e64167e5505b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a8998767-2b38-4b5f-863d-e64167e5505b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.041Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","jobId":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","generationRunId":"a8998767-2b38-4b5f-863d-e64167e5505b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a8998767-2b38-4b5f-863d-e64167e5505b/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a8998767-2b38-4b5f-863d-e64167e5505b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a8998767-2b38-4b5f-863d-e64167e5505b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.042Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","jobId":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","generationRunId":"a8998767-2b38-4b5f-863d-e64167e5505b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a8998767-2b38-4b5f-863d-e64167e5505b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/a8998767-2b38-4b5f-863d-e64167e5505b/cover_letter_cover_modern.pdf","session":"a8998767-2b38-4b5f-863d-e64167e5505b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a8998767-2b38-4b5f-863d-e64167e5505b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.042Z","level":"info","message":"pdf_generation_attempt","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","jobId":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","generationRunId":"a8998767-2b38-4b5f-863d-e64167e5505b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a8998767-2b38-4b5f-863d-e64167e5505b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/a8998767-2b38-4b5f-863d-e64167e5505b/cover_letter_cover_professional.pdf","session":"a8998767-2b38-4b5f-863d-e64167e5505b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a8998767-2b38-4b5f-863d-e64167e5505b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.043Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","jobId":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","generationRunId":"a8998767-2b38-4b5f-863d-e64167e5505b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a8998767-2b38-4b5f-863d-e64167e5505b/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a8998767-2b38-4b5f-863d-e64167e5505b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a8998767-2b38-4b5f-863d-e64167e5505b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.043Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","jobId":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","generationRunId":"a8998767-2b38-4b5f-863d-e64167e5505b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a8998767-2b38-4b5f-863d-e64167e5505b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/a8998767-2b38-4b5f-863d-e64167e5505b/cover_letter_cover_professional.pdf","session":"a8998767-2b38-4b5f-863d-e64167e5505b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a8998767-2b38-4b5f-863d-e64167e5505b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.045Z","level":"info","message":"llm_call_metrics","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"f00232cc4d88fb824e148aeaa761067d77604cbc2577582275a91ed208cbe5af","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"a8998767-2b38-4b5f-863d-e64167e5505b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a8998767-2b38-4b5f-863d-e64167e5505b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.046Z","level":"info","message":"generation_completed","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","jobId":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","generationRunId":"a8998767-2b38-4b5f-863d-e64167e5505b","enhancedScore":80,"outputs":5,"template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.048Z","level":"info","message":"placeholder_record_deleted","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","jobId":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","placeholderIdentifier":"a8998767-2b38-4b5f-863d-e64167e5505b","template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea14dc5c-48c8-4408-8c24-b7899a801bb3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.049Z","level":"info","message":"http_request_completed","requestId":"a8998767-2b38-4b5f-863d-e64167e5505b","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":56,"contentLength":"59302","template":"unknown","session":"a8998767-2b38-4b5f-863d-e64167e5505b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a8998767-2b38-4b5f-863d-e64167e5505b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.052Z","level":"info","message":"http_request_received","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","method":"POST","path":"/api/process-cv","template":"unknown","session":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.053Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.054Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.055Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.056Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.058Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78/incoming/original.pdf","chunks":1,"timestamp":1764854256060}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:17:36.061Z","level":"info","message":"process_cv_started","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","jobId":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","manualJobDescriptionProvided":true,"template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.062Z","level":"info","message":"template_selection","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","jobId":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:36.062Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","jobId":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:17:36.068Z","level":"info","message":"initial_upload_completed","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","jobId":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","bucket":"test-bucket","key":"cv/candidate/b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78/incoming/original.pdf","template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.069Z","level":"info","message":"resume_text_extracted","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","jobId":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","characters":57,"template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.069Z","level":"info","message":"resume_classified","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","jobId":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.069Z","level":"info","message":"raw_upload_relocated","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","jobId":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","bucket":"test-bucket","fromKey":"cv/candidate/b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78/incoming/original.pdf","toKey":"cv/professional_summary/b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78/original.pdf","template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.069Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","jobId":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","bucket":"test-bucket","key":"cv/professional_summary/b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78/original.pdf","template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.070Z","level":"info","message":"dynamo_initial_record_written","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","jobId":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","bucket":"test-bucket","key":"cv/professional_summary/b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78/original.pdf","template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.070Z","level":"info","message":"upload_metadata_written","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","jobId":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","bucket":"test-bucket","key":"cv/professional_summary/b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78/logs/log.json","template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.070Z","level":"info","message":"job_description_supplied_manually","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","jobId":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","characters":174,"template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.071Z","level":"info","message":"job_description_analyzed","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","jobId":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","jobTitle":"","jobSkills":5,"template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.071Z","level":"info","message":"resume_skills_analyzed","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","jobId":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.072Z","level":"info","message":"llm_call_metrics","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.072Z","level":"info","message":"process_cv_scoring_completed","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","jobId":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.075Z","level":"info","message":"llm_call_metrics","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"c32b748981f4e178814e257598e9097dabf82d48f753e111da0149a2ea5fd9aa","addedSkillCount":0,"template":"resume_rewrite","session":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.075Z","level":"info","message":"generation_section_rewrite_completed","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","jobId":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","generationRunId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","modifiedTitle":"Name","addedSkills":0,"template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.075Z","level":"info","message":"llm_call_metrics","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"968eb1ed4b9ef5f26cd87ba7e60f108acaf8c335efc2ef153d4aaa0b022ea8c8","skillCount":5,"template":"project_summary","session":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.079Z","level":"info","message":"generation_resume_verified","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","jobId":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","generationRunId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:36.082Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","jobId":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","generationRunId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:36.088Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","jobId":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","generationRunId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:36.093Z","level":"info","message":"generation_cover_letters_completed","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","jobId":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","generationRunId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","variants":2,"fallbackApplied":true,"template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.093Z","level":"info","message":"pdf_generation_attempt","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","jobId":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","generationRunId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78/enhanced_modern.pdf","session":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.094Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","jobId":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","generationRunId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.094Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","jobId":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","generationRunId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78/enhanced_modern.pdf","session":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.095Z","level":"info","message":"pdf_generation_attempt","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","jobId":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","generationRunId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78/enhanced_professional.pdf","session":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.095Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","jobId":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","generationRunId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.095Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","jobId":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","generationRunId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78/enhanced_professional.pdf","session":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.096Z","level":"info","message":"pdf_generation_attempt","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","jobId":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","generationRunId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78/cover_letter_cover_modern.pdf","session":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.096Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","jobId":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","generationRunId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.097Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","jobId":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","generationRunId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78/cover_letter_cover_modern.pdf","session":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.097Z","level":"info","message":"pdf_generation_attempt","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","jobId":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","generationRunId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78/cover_letter_cover_professional.pdf","session":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.098Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","jobId":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","generationRunId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.098Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","jobId":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","generationRunId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78/cover_letter_cover_professional.pdf","session":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.100Z","level":"info","message":"llm_call_metrics","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"f00232cc4d88fb824e148aeaa761067d77604cbc2577582275a91ed208cbe5af","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.101Z","level":"info","message":"generation_completed","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","jobId":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","generationRunId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","enhancedScore":80,"outputs":5,"template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.102Z","level":"info","message":"placeholder_record_deleted","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","jobId":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","placeholderIdentifier":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42e03b4a-2ab0-4b71-973c-1e82b8f93474","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.103Z","level":"info","message":"http_request_completed","requestId":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":51,"contentLength":"59835","template":"unknown","session":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b4fea9d4-ee24-4d1e-ba78-c0c0385e1d78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.106Z","level":"info","message":"http_request_received","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","method":"POST","path":"/api/process-cv","template":"unknown","session":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.107Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.108Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.109Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.111Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.112Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/497b8c98-217b-4c0d-824b-ab44d6dc8a78/incoming/original.pdf","chunks":1,"timestamp":1764854256114}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/497b8c98-217b-4c0d-824b-ab44d6dc8a78/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/497b8c98-217b-4c0d-824b-ab44d6dc8a78/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:17:36.116Z","level":"info","message":"process_cv_started","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","jobId":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","manualJobDescriptionProvided":true,"template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.116Z","level":"info","message":"template_selection","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","jobId":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:36.116Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","jobId":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:17:36.123Z","level":"info","message":"initial_upload_completed","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","jobId":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","bucket":"test-bucket","key":"cv/candidate/497b8c98-217b-4c0d-824b-ab44d6dc8a78/incoming/original.pdf","template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.124Z","level":"info","message":"resume_text_extracted","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","jobId":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","characters":57,"template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.124Z","level":"info","message":"resume_classified","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","jobId":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.124Z","level":"info","message":"raw_upload_relocated","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","jobId":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","bucket":"test-bucket","fromKey":"cv/candidate/497b8c98-217b-4c0d-824b-ab44d6dc8a78/incoming/original.pdf","toKey":"cv/professional_summary/497b8c98-217b-4c0d-824b-ab44d6dc8a78/original.pdf","template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.125Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","jobId":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","bucket":"test-bucket","key":"cv/professional_summary/497b8c98-217b-4c0d-824b-ab44d6dc8a78/original.pdf","template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.125Z","level":"info","message":"dynamo_initial_record_written","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","jobId":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","bucket":"test-bucket","key":"cv/professional_summary/497b8c98-217b-4c0d-824b-ab44d6dc8a78/original.pdf","template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.125Z","level":"info","message":"upload_metadata_written","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","jobId":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","bucket":"test-bucket","key":"cv/professional_summary/497b8c98-217b-4c0d-824b-ab44d6dc8a78/logs/log.json","template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.126Z","level":"info","message":"job_description_supplied_manually","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","jobId":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","characters":174,"template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.126Z","level":"info","message":"job_description_analyzed","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","jobId":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","jobTitle":"","jobSkills":5,"template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.127Z","level":"info","message":"resume_skills_analyzed","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","jobId":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.127Z","level":"info","message":"llm_call_metrics","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.128Z","level":"info","message":"process_cv_scoring_completed","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","jobId":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.130Z","level":"info","message":"llm_call_metrics","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.130Z","level":"info","message":"generation_section_rewrite_completed","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","jobId":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","generationRunId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.131Z","level":"info","message":"llm_call_metrics","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.133Z","level":"info","message":"generation_resume_verified","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","jobId":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","generationRunId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:36.135Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","jobId":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","generationRunId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:36.141Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","jobId":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","generationRunId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:36.147Z","level":"info","message":"generation_cover_letters_completed","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","jobId":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","generationRunId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","variants":2,"fallbackApplied":true,"template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.147Z","level":"info","message":"pdf_generation_attempt","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","jobId":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","generationRunId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/497b8c98-217b-4c0d-824b-ab44d6dc8a78/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/497b8c98-217b-4c0d-824b-ab44d6dc8a78/enhanced_modern.pdf","session":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.148Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","jobId":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","generationRunId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/497b8c98-217b-4c0d-824b-ab44d6dc8a78/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.149Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","jobId":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","generationRunId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/497b8c98-217b-4c0d-824b-ab44d6dc8a78/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/497b8c98-217b-4c0d-824b-ab44d6dc8a78/enhanced_modern.pdf","session":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.149Z","level":"info","message":"pdf_generation_attempt","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","jobId":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","generationRunId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/497b8c98-217b-4c0d-824b-ab44d6dc8a78/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/497b8c98-217b-4c0d-824b-ab44d6dc8a78/enhanced_professional.pdf","session":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.150Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","jobId":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","generationRunId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/497b8c98-217b-4c0d-824b-ab44d6dc8a78/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.151Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","jobId":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","generationRunId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/497b8c98-217b-4c0d-824b-ab44d6dc8a78/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/497b8c98-217b-4c0d-824b-ab44d6dc8a78/enhanced_professional.pdf","session":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.151Z","level":"info","message":"pdf_generation_attempt","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","jobId":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","generationRunId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/497b8c98-217b-4c0d-824b-ab44d6dc8a78/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/497b8c98-217b-4c0d-824b-ab44d6dc8a78/cover_letter_cover_modern.pdf","session":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.152Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","jobId":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","generationRunId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/497b8c98-217b-4c0d-824b-ab44d6dc8a78/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.153Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","jobId":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","generationRunId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/497b8c98-217b-4c0d-824b-ab44d6dc8a78/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/497b8c98-217b-4c0d-824b-ab44d6dc8a78/cover_letter_cover_modern.pdf","session":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.153Z","level":"info","message":"pdf_generation_attempt","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","jobId":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","generationRunId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/497b8c98-217b-4c0d-824b-ab44d6dc8a78/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/497b8c98-217b-4c0d-824b-ab44d6dc8a78/cover_letter_cover_professional.pdf","session":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.154Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","jobId":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","generationRunId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/497b8c98-217b-4c0d-824b-ab44d6dc8a78/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.154Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","jobId":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","generationRunId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/497b8c98-217b-4c0d-824b-ab44d6dc8a78/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/497b8c98-217b-4c0d-824b-ab44d6dc8a78/cover_letter_cover_professional.pdf","session":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.156Z","level":"info","message":"llm_call_metrics","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.157Z","level":"info","message":"generation_completed","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","jobId":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","generationRunId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","enhancedScore":80,"outputs":5,"template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.158Z","level":"info","message":"placeholder_record_deleted","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","jobId":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","placeholderIdentifier":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b8f85f5-41a3-48bc-9283-9e976352a0a7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.159Z","level":"info","message":"http_request_completed","requestId":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":53,"contentLength":"58133","template":"unknown","session":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"497b8c98-217b-4c0d-824b-ab44d6dc8a78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.163Z","level":"info","message":"http_request_received","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","method":"POST","path":"/api/process-cv","template":"unknown","session":"e74d4c40-156c-4587-acc2-f60c447a973b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e74d4c40-156c-4587-acc2-f60c447a973b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.164Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.165Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.167Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.169Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.170Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/e74d4c40-156c-4587-acc2-f60c447a973b/incoming/original.pdf","chunks":1,"timestamp":1764854256173}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/e74d4c40-156c-4587-acc2-f60c447a973b/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/e74d4c40-156c-4587-acc2-f60c447a973b/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:17:36.174Z","level":"info","message":"process_cv_started","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","jobId":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","manualJobDescriptionProvided":true,"template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.174Z","level":"info","message":"template_selection","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","jobId":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:36.175Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","jobId":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:17:36.180Z","level":"info","message":"initial_upload_completed","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","jobId":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","bucket":"test-bucket","key":"cv/candidate/e74d4c40-156c-4587-acc2-f60c447a973b/incoming/original.pdf","template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.181Z","level":"info","message":"resume_text_extracted","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","jobId":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","characters":57,"template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.181Z","level":"info","message":"resume_classified","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","jobId":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.181Z","level":"info","message":"raw_upload_relocated","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","jobId":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","bucket":"test-bucket","fromKey":"cv/candidate/e74d4c40-156c-4587-acc2-f60c447a973b/incoming/original.pdf","toKey":"cv/professional_summary/e74d4c40-156c-4587-acc2-f60c447a973b/original.pdf","template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.182Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","jobId":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","bucket":"test-bucket","key":"cv/professional_summary/e74d4c40-156c-4587-acc2-f60c447a973b/original.pdf","template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.182Z","level":"info","message":"dynamo_initial_record_written","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","jobId":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","bucket":"test-bucket","key":"cv/professional_summary/e74d4c40-156c-4587-acc2-f60c447a973b/original.pdf","template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.182Z","level":"info","message":"upload_metadata_written","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","jobId":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","bucket":"test-bucket","key":"cv/professional_summary/e74d4c40-156c-4587-acc2-f60c447a973b/logs/log.json","template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.183Z","level":"info","message":"job_description_supplied_manually","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","jobId":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","characters":174,"template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.183Z","level":"info","message":"job_description_analyzed","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","jobId":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","jobTitle":"","jobSkills":5,"template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.183Z","level":"info","message":"resume_skills_analyzed","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","jobId":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.184Z","level":"info","message":"llm_call_metrics","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"e74d4c40-156c-4587-acc2-f60c447a973b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e74d4c40-156c-4587-acc2-f60c447a973b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.184Z","level":"info","message":"process_cv_scoring_completed","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","jobId":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.187Z","level":"info","message":"llm_call_metrics","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"9a6d2d1a9ce924151b6a4db0f761d85550b399b0c2990ac5bc2d2ac9b952bd0d","addedSkillCount":0,"template":"resume_rewrite","session":"e74d4c40-156c-4587-acc2-f60c447a973b","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"e74d4c40-156c-4587-acc2-f60c447a973b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.187Z","level":"info","message":"generation_section_rewrite_completed","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","jobId":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","generationRunId":"e74d4c40-156c-4587-acc2-f60c447a973b","modifiedTitle":"Lead Engineer","addedSkills":0,"template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.189Z","level":"info","message":"generation_resume_verified","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","jobId":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","generationRunId":"e74d4c40-156c-4587-acc2-f60c447a973b","template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.191Z","level":"info","message":"generation_cover_letters_normalized","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","jobId":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","generationRunId":"e74d4c40-156c-4587-acc2-f60c447a973b","variants":["cover_letter1","cover_letter2"],"template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:36.192Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","jobId":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","generationRunId":"e74d4c40-156c-4587-acc2-f60c447a973b","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing"]}],"template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:36.198Z","level":"info","message":"generation_cover_letters_confident_closing_applied","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","jobId":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","generationRunId":"e74d4c40-156c-4587-acc2-f60c447a973b","variants":["cover_letter1"],"template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.198Z","level":"info","message":"generation_cover_letters_completed","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","jobId":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","generationRunId":"e74d4c40-156c-4587-acc2-f60c447a973b","variants":2,"fallbackApplied":true,"template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.199Z","level":"info","message":"pdf_generation_attempt","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","jobId":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","generationRunId":"e74d4c40-156c-4587-acc2-f60c447a973b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e74d4c40-156c-4587-acc2-f60c447a973b/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/e74d4c40-156c-4587-acc2-f60c447a973b/enhanced_modern.pdf","session":"e74d4c40-156c-4587-acc2-f60c447a973b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e74d4c40-156c-4587-acc2-f60c447a973b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.199Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","jobId":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","generationRunId":"e74d4c40-156c-4587-acc2-f60c447a973b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e74d4c40-156c-4587-acc2-f60c447a973b/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e74d4c40-156c-4587-acc2-f60c447a973b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e74d4c40-156c-4587-acc2-f60c447a973b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.200Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","jobId":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","generationRunId":"e74d4c40-156c-4587-acc2-f60c447a973b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e74d4c40-156c-4587-acc2-f60c447a973b/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/e74d4c40-156c-4587-acc2-f60c447a973b/enhanced_modern.pdf","session":"e74d4c40-156c-4587-acc2-f60c447a973b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e74d4c40-156c-4587-acc2-f60c447a973b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.200Z","level":"info","message":"pdf_generation_attempt","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","jobId":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","generationRunId":"e74d4c40-156c-4587-acc2-f60c447a973b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e74d4c40-156c-4587-acc2-f60c447a973b/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/e74d4c40-156c-4587-acc2-f60c447a973b/enhanced_professional.pdf","session":"e74d4c40-156c-4587-acc2-f60c447a973b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e74d4c40-156c-4587-acc2-f60c447a973b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.200Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","jobId":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","generationRunId":"e74d4c40-156c-4587-acc2-f60c447a973b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e74d4c40-156c-4587-acc2-f60c447a973b/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e74d4c40-156c-4587-acc2-f60c447a973b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e74d4c40-156c-4587-acc2-f60c447a973b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.201Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","jobId":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","generationRunId":"e74d4c40-156c-4587-acc2-f60c447a973b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e74d4c40-156c-4587-acc2-f60c447a973b/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/e74d4c40-156c-4587-acc2-f60c447a973b/enhanced_professional.pdf","session":"e74d4c40-156c-4587-acc2-f60c447a973b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e74d4c40-156c-4587-acc2-f60c447a973b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.201Z","level":"info","message":"pdf_generation_attempt","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","jobId":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","generationRunId":"e74d4c40-156c-4587-acc2-f60c447a973b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e74d4c40-156c-4587-acc2-f60c447a973b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/e74d4c40-156c-4587-acc2-f60c447a973b/cover_letter_cover_modern.pdf","session":"e74d4c40-156c-4587-acc2-f60c447a973b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e74d4c40-156c-4587-acc2-f60c447a973b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.202Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","jobId":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","generationRunId":"e74d4c40-156c-4587-acc2-f60c447a973b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e74d4c40-156c-4587-acc2-f60c447a973b/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e74d4c40-156c-4587-acc2-f60c447a973b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e74d4c40-156c-4587-acc2-f60c447a973b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.202Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","jobId":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","generationRunId":"e74d4c40-156c-4587-acc2-f60c447a973b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e74d4c40-156c-4587-acc2-f60c447a973b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/e74d4c40-156c-4587-acc2-f60c447a973b/cover_letter_cover_modern.pdf","session":"e74d4c40-156c-4587-acc2-f60c447a973b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e74d4c40-156c-4587-acc2-f60c447a973b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.203Z","level":"info","message":"pdf_generation_attempt","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","jobId":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","generationRunId":"e74d4c40-156c-4587-acc2-f60c447a973b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e74d4c40-156c-4587-acc2-f60c447a973b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/e74d4c40-156c-4587-acc2-f60c447a973b/cover_letter_cover_professional.pdf","session":"e74d4c40-156c-4587-acc2-f60c447a973b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e74d4c40-156c-4587-acc2-f60c447a973b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.204Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","jobId":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","generationRunId":"e74d4c40-156c-4587-acc2-f60c447a973b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e74d4c40-156c-4587-acc2-f60c447a973b/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e74d4c40-156c-4587-acc2-f60c447a973b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e74d4c40-156c-4587-acc2-f60c447a973b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.205Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","jobId":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","generationRunId":"e74d4c40-156c-4587-acc2-f60c447a973b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e74d4c40-156c-4587-acc2-f60c447a973b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/e74d4c40-156c-4587-acc2-f60c447a973b/cover_letter_cover_professional.pdf","session":"e74d4c40-156c-4587-acc2-f60c447a973b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e74d4c40-156c-4587-acc2-f60c447a973b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.206Z","level":"info","message":"llm_call_metrics","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"aebf306d7fe64238aa9b05fc3798c6e6698d8708e05d8dd31d0cadc8f2f74f38","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"e74d4c40-156c-4587-acc2-f60c447a973b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e74d4c40-156c-4587-acc2-f60c447a973b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.207Z","level":"info","message":"generation_completed","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","jobId":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","generationRunId":"e74d4c40-156c-4587-acc2-f60c447a973b","enhancedScore":80,"outputs":5,"template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.208Z","level":"info","message":"placeholder_record_deleted","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","jobId":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","placeholderIdentifier":"e74d4c40-156c-4587-acc2-f60c447a973b","template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405033af-eaad-4124-8dc6-f9a15ca0aeb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.209Z","level":"info","message":"http_request_completed","requestId":"e74d4c40-156c-4587-acc2-f60c447a973b","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":46,"contentLength":"46262","template":"unknown","session":"e74d4c40-156c-4587-acc2-f60c447a973b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e74d4c40-156c-4587-acc2-f60c447a973b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.212Z","level":"info","message":"http_request_received","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","method":"POST","path":"/api/process-cv","template":"unknown","session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.213Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.214Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.215Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.217Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.218Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/27255fff-42c5-409c-b932-dab5a1d318ae/incoming/original.pdf","chunks":1,"timestamp":1764854256220}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/27255fff-42c5-409c-b932-dab5a1d318ae/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/27255fff-42c5-409c-b932-dab5a1d318ae/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:17:36.222Z","level":"info","message":"process_cv_started","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","jobId":"f31855f9-c75c-44e2-aebd-84561ec37605","manualJobDescriptionProvided":true,"template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.222Z","level":"info","message":"template_selection","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","jobId":"f31855f9-c75c-44e2-aebd-84561ec37605","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:36.222Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","jobId":"f31855f9-c75c-44e2-aebd-84561ec37605","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:17:36.228Z","level":"info","message":"initial_upload_completed","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","jobId":"f31855f9-c75c-44e2-aebd-84561ec37605","bucket":"test-bucket","key":"cv/candidate/27255fff-42c5-409c-b932-dab5a1d318ae/incoming/original.pdf","template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.229Z","level":"info","message":"resume_text_extracted","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","jobId":"f31855f9-c75c-44e2-aebd-84561ec37605","characters":57,"template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.229Z","level":"info","message":"resume_classified","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","jobId":"f31855f9-c75c-44e2-aebd-84561ec37605","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.229Z","level":"info","message":"raw_upload_relocated","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","jobId":"f31855f9-c75c-44e2-aebd-84561ec37605","bucket":"test-bucket","fromKey":"cv/candidate/27255fff-42c5-409c-b932-dab5a1d318ae/incoming/original.pdf","toKey":"cv/professional_summary/27255fff-42c5-409c-b932-dab5a1d318ae/original.pdf","template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.229Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","jobId":"f31855f9-c75c-44e2-aebd-84561ec37605","bucket":"test-bucket","key":"cv/professional_summary/27255fff-42c5-409c-b932-dab5a1d318ae/original.pdf","template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.230Z","level":"info","message":"dynamo_initial_record_written","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","jobId":"f31855f9-c75c-44e2-aebd-84561ec37605","bucket":"test-bucket","key":"cv/professional_summary/27255fff-42c5-409c-b932-dab5a1d318ae/original.pdf","template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.230Z","level":"info","message":"upload_metadata_written","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","jobId":"f31855f9-c75c-44e2-aebd-84561ec37605","bucket":"test-bucket","key":"cv/professional_summary/27255fff-42c5-409c-b932-dab5a1d318ae/logs/log.json","template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.230Z","level":"info","message":"job_description_supplied_manually","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","jobId":"f31855f9-c75c-44e2-aebd-84561ec37605","characters":174,"template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.231Z","level":"info","message":"job_description_analyzed","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","jobId":"f31855f9-c75c-44e2-aebd-84561ec37605","jobTitle":"","jobSkills":5,"template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.231Z","level":"info","message":"resume_skills_analyzed","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","jobId":"f31855f9-c75c-44e2-aebd-84561ec37605","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.232Z","level":"info","message":"llm_call_metrics","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.232Z","level":"info","message":"process_cv_scoring_completed","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","jobId":"f31855f9-c75c-44e2-aebd-84561ec37605","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T13:17:36.234Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","sample":"Here is your revised resume text without JSON formatting.","template":"unknown","session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at Object.error (server.js:3477:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8533:20)
      at generateEnhancedDocumentsResponse (server.js:20173:26)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:36.239Z","level":"info","message":"llm_call_metrics","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.239Z","level":"info","message":"llm_call_metrics","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.240Z","level":"info","message":"generation_section_rewrite_completed","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","jobId":"f31855f9-c75c-44e2-aebd-84561ec37605","generationRunId":"27255fff-42c5-409c-b932-dab5a1d318ae","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.240Z","level":"info","message":"llm_call_metrics","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"d230fd9d3c6f4e6f7bb7c385f22b3a147a5c937619c1919bfb6f5e09096df674","skillCount":5,"template":"project_summary","session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:36.244Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","jobId":"f31855f9-c75c-44e2-aebd-84561ec37605","generationRunId":"27255fff-42c5-409c-b932-dab5a1d318ae","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:36.250Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","jobId":"f31855f9-c75c-44e2-aebd-84561ec37605","generationRunId":"27255fff-42c5-409c-b932-dab5a1d318ae","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:36.255Z","level":"info","message":"generation_cover_letters_completed","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","jobId":"f31855f9-c75c-44e2-aebd-84561ec37605","generationRunId":"27255fff-42c5-409c-b932-dab5a1d318ae","variants":2,"fallbackApplied":true,"template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.255Z","level":"info","message":"pdf_generation_attempt","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","jobId":"f31855f9-c75c-44e2-aebd-84561ec37605","generationRunId":"27255fff-42c5-409c-b932-dab5a1d318ae","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/27255fff-42c5-409c-b932-dab5a1d318ae/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/27255fff-42c5-409c-b932-dab5a1d318ae/enhanced_modern.pdf","session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.256Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","jobId":"f31855f9-c75c-44e2-aebd-84561ec37605","generationRunId":"27255fff-42c5-409c-b932-dab5a1d318ae","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/27255fff-42c5-409c-b932-dab5a1d318ae/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.256Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","jobId":"f31855f9-c75c-44e2-aebd-84561ec37605","generationRunId":"27255fff-42c5-409c-b932-dab5a1d318ae","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/27255fff-42c5-409c-b932-dab5a1d318ae/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/27255fff-42c5-409c-b932-dab5a1d318ae/enhanced_modern.pdf","session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.257Z","level":"info","message":"pdf_generation_attempt","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","jobId":"f31855f9-c75c-44e2-aebd-84561ec37605","generationRunId":"27255fff-42c5-409c-b932-dab5a1d318ae","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/27255fff-42c5-409c-b932-dab5a1d318ae/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/27255fff-42c5-409c-b932-dab5a1d318ae/enhanced_professional.pdf","session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.257Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","jobId":"f31855f9-c75c-44e2-aebd-84561ec37605","generationRunId":"27255fff-42c5-409c-b932-dab5a1d318ae","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/27255fff-42c5-409c-b932-dab5a1d318ae/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.258Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","jobId":"f31855f9-c75c-44e2-aebd-84561ec37605","generationRunId":"27255fff-42c5-409c-b932-dab5a1d318ae","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/27255fff-42c5-409c-b932-dab5a1d318ae/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/27255fff-42c5-409c-b932-dab5a1d318ae/enhanced_professional.pdf","session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.258Z","level":"info","message":"pdf_generation_attempt","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","jobId":"f31855f9-c75c-44e2-aebd-84561ec37605","generationRunId":"27255fff-42c5-409c-b932-dab5a1d318ae","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/27255fff-42c5-409c-b932-dab5a1d318ae/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/27255fff-42c5-409c-b932-dab5a1d318ae/cover_letter_cover_modern.pdf","session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.258Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","jobId":"f31855f9-c75c-44e2-aebd-84561ec37605","generationRunId":"27255fff-42c5-409c-b932-dab5a1d318ae","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/27255fff-42c5-409c-b932-dab5a1d318ae/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.259Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","jobId":"f31855f9-c75c-44e2-aebd-84561ec37605","generationRunId":"27255fff-42c5-409c-b932-dab5a1d318ae","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/27255fff-42c5-409c-b932-dab5a1d318ae/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/27255fff-42c5-409c-b932-dab5a1d318ae/cover_letter_cover_modern.pdf","session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.259Z","level":"info","message":"pdf_generation_attempt","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","jobId":"f31855f9-c75c-44e2-aebd-84561ec37605","generationRunId":"27255fff-42c5-409c-b932-dab5a1d318ae","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/27255fff-42c5-409c-b932-dab5a1d318ae/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/27255fff-42c5-409c-b932-dab5a1d318ae/cover_letter_cover_professional.pdf","session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.260Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","jobId":"f31855f9-c75c-44e2-aebd-84561ec37605","generationRunId":"27255fff-42c5-409c-b932-dab5a1d318ae","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/27255fff-42c5-409c-b932-dab5a1d318ae/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.260Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","jobId":"f31855f9-c75c-44e2-aebd-84561ec37605","generationRunId":"27255fff-42c5-409c-b932-dab5a1d318ae","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/27255fff-42c5-409c-b932-dab5a1d318ae/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/27255fff-42c5-409c-b932-dab5a1d318ae/cover_letter_cover_professional.pdf","session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.262Z","level":"info","message":"llm_call_metrics","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.263Z","level":"info","message":"generation_completed","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","jobId":"f31855f9-c75c-44e2-aebd-84561ec37605","generationRunId":"27255fff-42c5-409c-b932-dab5a1d318ae","enhancedScore":80,"outputs":5,"template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.264Z","level":"info","message":"placeholder_record_deleted","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","jobId":"f31855f9-c75c-44e2-aebd-84561ec37605","placeholderIdentifier":"27255fff-42c5-409c-b932-dab5a1d318ae","template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f31855f9-c75c-44e2-aebd-84561ec37605","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.265Z","level":"info","message":"http_request_completed","requestId":"27255fff-42c5-409c-b932-dab5a1d318ae","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":53,"contentLength":"57871","template":"unknown","session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27255fff-42c5-409c-b932-dab5a1d318ae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.267Z","level":"info","message":"http_request_received","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","method":"POST","path":"/api/process-cv","template":"unknown","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.268Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.270Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.271Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.272Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.274Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/711be129-75ce-439b-b60f-b06e5eb93548/incoming/original.pdf","chunks":1,"timestamp":1764854256276}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/711be129-75ce-439b-b60f-b06e5eb93548/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/711be129-75ce-439b-b60f-b06e5eb93548/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:17:36.277Z","level":"info","message":"process_cv_started","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","manualJobDescriptionProvided":true,"template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.278Z","level":"info","message":"template_selection","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:36.278Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:17:36.284Z","level":"info","message":"initial_upload_completed","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","bucket":"test-bucket","key":"cv/candidate/711be129-75ce-439b-b60f-b06e5eb93548/incoming/original.pdf","template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.285Z","level":"info","message":"resume_text_extracted","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","characters":57,"template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.285Z","level":"info","message":"resume_classified","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.286Z","level":"info","message":"raw_upload_relocated","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","bucket":"test-bucket","fromKey":"cv/candidate/711be129-75ce-439b-b60f-b06e5eb93548/incoming/original.pdf","toKey":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/original.pdf","template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.286Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","bucket":"test-bucket","key":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/original.pdf","template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.286Z","level":"info","message":"dynamo_initial_record_written","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","bucket":"test-bucket","key":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/original.pdf","template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.287Z","level":"info","message":"upload_metadata_written","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","bucket":"test-bucket","key":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/logs/log.json","template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.287Z","level":"info","message":"job_description_supplied_manually","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","characters":174,"template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.287Z","level":"info","message":"job_description_analyzed","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","jobTitle":"","jobSkills":5,"template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.288Z","level":"info","message":"resume_skills_analyzed","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.288Z","level":"info","message":"llm_call_metrics","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.289Z","level":"info","message":"process_cv_scoring_completed","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.291Z","level":"info","message":"llm_call_metrics","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.291Z","level":"info","message":"generation_section_rewrite_completed","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.292Z","level":"info","message":"llm_call_metrics","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.294Z","level":"info","message":"generation_resume_verified","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:36.296Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:36.302Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:36.308Z","level":"info","message":"generation_cover_letters_completed","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","variants":2,"fallbackApplied":true,"template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.308Z","level":"info","message":"pdf_generation_attempt","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/enhanced_modern.pdf","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.309Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T13:17:36.310Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"modern","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:36.315Z","level":"info","message":"pdf_generation_attempt","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"professional","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/enhanced_professional.pdf","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.316Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T13:17:36.316Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"professional","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/enhanced_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:36.321Z","level":"info","message":"pdf_generation_attempt","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"classic","attempt":3,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/enhanced_classic.pdf","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.322Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T13:17:36.322Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"classic","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/enhanced_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:36.328Z","level":"info","message":"pdf_generation_attempt","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"ats","attempt":4,"totalAttempts":5,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/enhanced_ats.pdf","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.328Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T13:17:36.329Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"ats","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/enhanced_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:36.336Z","level":"info","message":"pdf_generation_attempt","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"2025","attempt":5,"totalAttempts":5,"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/enhanced_2025.pdf","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.337Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T13:17:36.337Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"2025","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:36.342Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/enhanced_2025.pdf","forcedFallback":true,"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11153:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:36.349Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/enhanced_2025.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"2025","requestedTemplateId":"2025","engine":"pdf-lib","bytes":9,"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.350Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/enhanced_2025.pdf","bytes":9,"forcedFallback":true,"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.350Z","level":"info","message":"pdf_generation_attempt","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/enhanced_professional.pdf","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.351Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T13:17:36.351Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"professional","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/enhanced_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:36.356Z","level":"info","message":"pdf_generation_attempt","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"modern","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/enhanced_modern.pdf","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.357Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T13:17:36.357Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"modern","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:36.362Z","level":"info","message":"pdf_generation_attempt","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"2025","attempt":3,"totalAttempts":5,"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/enhanced_2025.pdf","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.363Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T13:17:36.363Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"2025","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:36.369Z","level":"info","message":"pdf_generation_attempt","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"classic","attempt":4,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/enhanced_classic.pdf","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.369Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T13:17:36.369Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"classic","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/enhanced_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:36.375Z","level":"info","message":"pdf_generation_attempt","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"ats","attempt":5,"totalAttempts":5,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/enhanced_ats.pdf","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.376Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T13:17:36.376Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"ats","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/enhanced_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:36.383Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/enhanced_ats.pdf","forcedFallback":true,"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11153:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:36.389Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/enhanced_ats.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"ats","requestedTemplateId":"ats","engine":"pdf-lib","bytes":9,"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.389Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/enhanced_ats.pdf","bytes":9,"forcedFallback":true,"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.390Z","level":"info","message":"pdf_generation_attempt","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/cover_letter_cover_modern.pdf","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.390Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T13:17:36.391Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:36.396Z","level":"info","message":"pdf_generation_attempt","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"cover_professional","attempt":2,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/cover_letter_cover_professional.pdf","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.396Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T13:17:36.397Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"cover_professional","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/cover_letter_cover_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:36.402Z","level":"info","message":"pdf_generation_attempt","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"cover_classic","attempt":3,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/cover_letter_cover_classic.pdf","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.402Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T13:17:36.403Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"cover_classic","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/cover_letter_cover_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:36.408Z","level":"info","message":"pdf_generation_attempt","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"cover_ats","attempt":4,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/cover_letter_cover_ats.pdf","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.408Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T13:17:36.409Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"cover_ats","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/cover_letter_cover_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:36.414Z","level":"info","message":"pdf_generation_attempt","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"cover_2025","attempt":5,"totalAttempts":5,"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/cover_letter_cover_2025.pdf","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.414Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"cover_2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T13:17:36.415Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"cover_2025","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/cover_letter_cover_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:36.422Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/cover_letter_cover_2025.pdf","forcedFallback":true,"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11153:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:36.428Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/cover_letter_cover_2025.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"cover_2025","requestedTemplateId":"cover_2025","engine":"pdf-lib","bytes":9,"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.428Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/cover_letter_cover_2025.pdf","bytes":9,"forcedFallback":true,"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.429Z","level":"info","message":"pdf_generation_attempt","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/cover_letter_cover_professional.pdf","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.429Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T13:17:36.430Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/cover_letter_cover_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:36.435Z","level":"info","message":"pdf_generation_attempt","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"cover_modern","attempt":2,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/cover_letter_cover_modern.pdf","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.435Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T13:17:36.436Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"cover_modern","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:36.441Z","level":"info","message":"pdf_generation_attempt","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"cover_2025","attempt":3,"totalAttempts":5,"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/cover_letter_cover_2025.pdf","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.441Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"cover_2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T13:17:36.442Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"cover_2025","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/cover_letter_cover_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:36.447Z","level":"info","message":"pdf_generation_attempt","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"cover_classic","attempt":4,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/cover_letter_cover_classic.pdf","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.447Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T13:17:36.448Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"cover_classic","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/cover_letter_cover_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:36.453Z","level":"info","message":"pdf_generation_attempt","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"cover_ats","attempt":5,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/cover_letter_cover_ats.pdf","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.453Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.error
    {"timestamp":"2025-12-04T13:17:36.454Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"cover_ats","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/cover_letter_cover_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:36.459Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/cover_letter_cover_ats.pdf","forcedFallback":true,"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11153:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:36.468Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/cover_letter_cover_ats.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"cover_ats","requestedTemplateId":"cover_ats","engine":"pdf-lib","bytes":9,"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.469Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/711be129-75ce-439b-b60f-b06e5eb93548/cover_letter_cover_ats.pdf","bytes":9,"forcedFallback":true,"session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.471Z","level":"info","message":"llm_call_metrics","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.471Z","level":"info","message":"generation_completed","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","generationRunId":"711be129-75ce-439b-b60f-b06e5eb93548","enhancedScore":80,"outputs":5,"template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.472Z","level":"info","message":"placeholder_record_deleted","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","jobId":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","placeholderIdentifier":"711be129-75ce-439b-b60f-b06e5eb93548","template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"07d1a971-a2b2-40b4-95c0-3f61112fd02b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.473Z","level":"info","message":"http_request_completed","requestId":"711be129-75ce-439b-b60f-b06e5eb93548","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":206,"contentLength":"60620","template":"unknown","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"711be129-75ce-439b-b60f-b06e5eb93548","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.477Z","level":"info","message":"http_request_received","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","method":"POST","path":"/api/process-cv","template":"unknown","session":"39883c3c-444b-46a3-a84d-058b08dd3b34","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39883c3c-444b-46a3-a84d-058b08dd3b34","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.478Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.479Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.481Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.482Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.484Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/39883c3c-444b-46a3-a84d-058b08dd3b34/incoming/original.pdf","chunks":1,"timestamp":1764854256486}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/39883c3c-444b-46a3-a84d-058b08dd3b34/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/39883c3c-444b-46a3-a84d-058b08dd3b34/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.487Z","level":"info","message":"process_cv_started","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","jobId":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","manualJobDescriptionProvided":true,"template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.488Z","level":"info","message":"template_selection","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","jobId":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:36.488Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","jobId":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:17:36.494Z","level":"info","message":"initial_upload_completed","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","jobId":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","bucket":"test-bucket","key":"cv/candidate/39883c3c-444b-46a3-a84d-058b08dd3b34/incoming/original.pdf","template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.494Z","level":"info","message":"resume_text_extracted","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","jobId":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","characters":57,"template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.494Z","level":"info","message":"resume_classified","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","jobId":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.495Z","level":"info","message":"raw_upload_relocated","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","jobId":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","bucket":"test-bucket","fromKey":"cv/candidate/39883c3c-444b-46a3-a84d-058b08dd3b34/incoming/original.pdf","toKey":"cv/professional_summary/39883c3c-444b-46a3-a84d-058b08dd3b34/original.pdf","template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.495Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","jobId":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","bucket":"test-bucket","key":"cv/professional_summary/39883c3c-444b-46a3-a84d-058b08dd3b34/original.pdf","template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.495Z","level":"info","message":"dynamo_initial_record_written","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","jobId":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","bucket":"test-bucket","key":"cv/professional_summary/39883c3c-444b-46a3-a84d-058b08dd3b34/original.pdf","template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.496Z","level":"info","message":"upload_metadata_written","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","jobId":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","bucket":"test-bucket","key":"cv/professional_summary/39883c3c-444b-46a3-a84d-058b08dd3b34/logs/log.json","template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.496Z","level":"info","message":"job_description_supplied_manually","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","jobId":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","characters":174,"template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.496Z","level":"info","message":"job_description_analyzed","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","jobId":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","jobTitle":"","jobSkills":5,"template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.497Z","level":"info","message":"resume_skills_analyzed","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","jobId":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.497Z","level":"info","message":"llm_call_metrics","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"39883c3c-444b-46a3-a84d-058b08dd3b34","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"39883c3c-444b-46a3-a84d-058b08dd3b34","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.498Z","level":"info","message":"process_cv_scoring_completed","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","jobId":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.500Z","level":"info","message":"llm_call_metrics","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"083bf06ffdad2254495e6ab02d51602dd213ec7860f8066358ba6750acc9f49a","addedSkillCount":1,"template":"resume_rewrite","session":"39883c3c-444b-46a3-a84d-058b08dd3b34","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"39883c3c-444b-46a3-a84d-058b08dd3b34","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.501Z","level":"info","message":"generation_section_rewrite_completed","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","jobId":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","generationRunId":"39883c3c-444b-46a3-a84d-058b08dd3b34","modifiedTitle":"Revised Title","addedSkills":1,"template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.502Z","level":"info","message":"generation_resume_verified","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","jobId":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","generationRunId":"39883c3c-444b-46a3-a84d-058b08dd3b34","template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:17:36.507Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","jobId":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","generationRunId":"39883c3c-444b-46a3-a84d-058b08dd3b34","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
          at runMicrotasks (<anonymous>)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:36.514Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","jobId":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","generationRunId":"39883c3c-444b-46a3-a84d-058b08dd3b34","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
          at runMicrotasks (<anonymous>)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:36.519Z","level":"info","message":"generation_cover_letters_completed","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","jobId":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","generationRunId":"39883c3c-444b-46a3-a84d-058b08dd3b34","variants":2,"fallbackApplied":true,"template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.520Z","level":"info","message":"pdf_generation_attempt","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","jobId":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","generationRunId":"39883c3c-444b-46a3-a84d-058b08dd3b34","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/39883c3c-444b-46a3-a84d-058b08dd3b34/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/39883c3c-444b-46a3-a84d-058b08dd3b34/enhanced_modern.pdf","session":"39883c3c-444b-46a3-a84d-058b08dd3b34","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"39883c3c-444b-46a3-a84d-058b08dd3b34","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.520Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","jobId":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","generationRunId":"39883c3c-444b-46a3-a84d-058b08dd3b34","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/39883c3c-444b-46a3-a84d-058b08dd3b34/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"39883c3c-444b-46a3-a84d-058b08dd3b34","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"39883c3c-444b-46a3-a84d-058b08dd3b34","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.521Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","jobId":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","generationRunId":"39883c3c-444b-46a3-a84d-058b08dd3b34","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/39883c3c-444b-46a3-a84d-058b08dd3b34/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/39883c3c-444b-46a3-a84d-058b08dd3b34/enhanced_modern.pdf","session":"39883c3c-444b-46a3-a84d-058b08dd3b34","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"39883c3c-444b-46a3-a84d-058b08dd3b34","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.521Z","level":"info","message":"pdf_generation_attempt","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","jobId":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","generationRunId":"39883c3c-444b-46a3-a84d-058b08dd3b34","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/39883c3c-444b-46a3-a84d-058b08dd3b34/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/39883c3c-444b-46a3-a84d-058b08dd3b34/enhanced_professional.pdf","session":"39883c3c-444b-46a3-a84d-058b08dd3b34","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"39883c3c-444b-46a3-a84d-058b08dd3b34","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.521Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","jobId":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","generationRunId":"39883c3c-444b-46a3-a84d-058b08dd3b34","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/39883c3c-444b-46a3-a84d-058b08dd3b34/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"39883c3c-444b-46a3-a84d-058b08dd3b34","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"39883c3c-444b-46a3-a84d-058b08dd3b34","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.522Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","jobId":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","generationRunId":"39883c3c-444b-46a3-a84d-058b08dd3b34","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/39883c3c-444b-46a3-a84d-058b08dd3b34/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/39883c3c-444b-46a3-a84d-058b08dd3b34/enhanced_professional.pdf","session":"39883c3c-444b-46a3-a84d-058b08dd3b34","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"39883c3c-444b-46a3-a84d-058b08dd3b34","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.522Z","level":"info","message":"pdf_generation_attempt","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","jobId":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","generationRunId":"39883c3c-444b-46a3-a84d-058b08dd3b34","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/39883c3c-444b-46a3-a84d-058b08dd3b34/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/39883c3c-444b-46a3-a84d-058b08dd3b34/cover_letter_cover_modern.pdf","session":"39883c3c-444b-46a3-a84d-058b08dd3b34","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"39883c3c-444b-46a3-a84d-058b08dd3b34","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.523Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","jobId":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","generationRunId":"39883c3c-444b-46a3-a84d-058b08dd3b34","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/39883c3c-444b-46a3-a84d-058b08dd3b34/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"39883c3c-444b-46a3-a84d-058b08dd3b34","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"39883c3c-444b-46a3-a84d-058b08dd3b34","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.523Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","jobId":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","generationRunId":"39883c3c-444b-46a3-a84d-058b08dd3b34","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/39883c3c-444b-46a3-a84d-058b08dd3b34/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/39883c3c-444b-46a3-a84d-058b08dd3b34/cover_letter_cover_modern.pdf","session":"39883c3c-444b-46a3-a84d-058b08dd3b34","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"39883c3c-444b-46a3-a84d-058b08dd3b34","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.524Z","level":"info","message":"pdf_generation_attempt","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","jobId":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","generationRunId":"39883c3c-444b-46a3-a84d-058b08dd3b34","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/39883c3c-444b-46a3-a84d-058b08dd3b34/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/39883c3c-444b-46a3-a84d-058b08dd3b34/cover_letter_cover_professional.pdf","session":"39883c3c-444b-46a3-a84d-058b08dd3b34","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"39883c3c-444b-46a3-a84d-058b08dd3b34","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.524Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","jobId":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","generationRunId":"39883c3c-444b-46a3-a84d-058b08dd3b34","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/39883c3c-444b-46a3-a84d-058b08dd3b34/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"39883c3c-444b-46a3-a84d-058b08dd3b34","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"39883c3c-444b-46a3-a84d-058b08dd3b34","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.525Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","jobId":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","generationRunId":"39883c3c-444b-46a3-a84d-058b08dd3b34","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/39883c3c-444b-46a3-a84d-058b08dd3b34/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/39883c3c-444b-46a3-a84d-058b08dd3b34/cover_letter_cover_professional.pdf","session":"39883c3c-444b-46a3-a84d-058b08dd3b34","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"39883c3c-444b-46a3-a84d-058b08dd3b34","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.526Z","level":"info","message":"llm_call_metrics","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"1075df15bec8b8fc718989e1c7ca31af0c39036b671cabbdfc22628f8e2e250f","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"39883c3c-444b-46a3-a84d-058b08dd3b34","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"39883c3c-444b-46a3-a84d-058b08dd3b34","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.527Z","level":"info","message":"generation_completed","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","jobId":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","generationRunId":"39883c3c-444b-46a3-a84d-058b08dd3b34","enhancedScore":80,"outputs":5,"template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.528Z","level":"info","message":"placeholder_record_deleted","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","jobId":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","placeholderIdentifier":"39883c3c-444b-46a3-a84d-058b08dd3b34","template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a99b5f1c-4e3a-4c3b-99c8-84370a241190","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.529Z","level":"info","message":"http_request_completed","requestId":"39883c3c-444b-46a3-a84d-058b08dd3b34","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":52,"contentLength":"59251","template":"unknown","session":"39883c3c-444b-46a3-a84d-058b08dd3b34","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39883c3c-444b-46a3-a84d-058b08dd3b34","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.532Z","level":"info","message":"http_request_received","requestId":"445f4e5e-c885-4605-af29-0a664bb186ca","method":"POST","path":"/api/process-cv","template":"unknown","session":"445f4e5e-c885-4605-af29-0a664bb186ca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"445f4e5e-c885-4605-af29-0a664bb186ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.533Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.534Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.535Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.537Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.539Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.541Z","level":"info","message":"process_cv_started","requestId":"445f4e5e-c885-4605-af29-0a664bb186ca","jobId":"5e29bcfe-be23-44fa-a286-47a1e13806df","manualJobDescriptionProvided":true,"template":"unknown","session":"5e29bcfe-be23-44fa-a286-47a1e13806df","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e29bcfe-be23-44fa-a286-47a1e13806df","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.541Z","level":"info","message":"template_selection","requestId":"445f4e5e-c885-4605-af29-0a664bb186ca","jobId":"5e29bcfe-be23-44fa-a286-47a1e13806df","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"5e29bcfe-be23-44fa-a286-47a1e13806df","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5e29bcfe-be23-44fa-a286-47a1e13806df","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:36.542Z","level":"warn","message":"resume_missing","requestId":"445f4e5e-c885-4605-af29-0a664bb186ca","jobId":"5e29bcfe-be23-44fa-a286-47a1e13806df","template":"unknown","session":"5e29bcfe-be23-44fa-a286-47a1e13806df","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e29bcfe-be23-44fa-a286-47a1e13806df","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25086:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T13:17:36.549Z","level":"warn","message":"api_error_response","requestId":"445f4e5e-c885-4605-af29-0a664bb186ca","jobId":"5e29bcfe-be23-44fa-a286-47a1e13806df","status":400,"error":{"code":"RESUME_FILE_REQUIRED","message":"resume file required","details":{"field":"resume"},"requestId":"445f4e5e-c885-4605-af29-0a664bb186ca","jobId":"5e29bcfe-be23-44fa-a286-47a1e13806df"},"template":"unknown","session":"5e29bcfe-be23-44fa-a286-47a1e13806df","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e29bcfe-be23-44fa-a286-47a1e13806df","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at sendError (server.js:3965:3)
      at server.js:25087:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:17:36.555Z","level":"info","message":"http_request_completed","requestId":"445f4e5e-c885-4605-af29-0a664bb186ca","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":23,"contentLength":"217","template":"unknown","session":"445f4e5e-c885-4605-af29-0a664bb186ca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"445f4e5e-c885-4605-af29-0a664bb186ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.557Z","level":"info","message":"http_request_received","requestId":"9cdd2953-d211-4520-8e7b-bf40fd9018d9","method":"POST","path":"/api/process-cv","template":"unknown","session":"9cdd2953-d211-4520-8e7b-bf40fd9018d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9cdd2953-d211-4520-8e7b-bf40fd9018d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.558Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.559Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.560Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.562Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.563Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:36.566Z","level":"warn","message":"resume_upload_failed","requestId":"9cdd2953-d211-4520-8e7b-bf40fd9018d9","jobId":"e2e4be20-1b87-4e76-b34d-66662cfc7f50","storageError":false,"error":{"name":"Error","message":"Unsupported resume format. Please upload a PDF, DOC, or DOCX file.","stack":"Error: Unsupported resume format. Please upload a PDF, DOC, or DOCX file.\n    at fileFilter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4987:9)\n    at wrappedFileFilter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/index.js:44:7)\n    at Multipart.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:109:7)\n    at Multipart.emit (node:events:513:28)\n    at HeaderParser.cb (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:358:14)\n    at HeaderParser.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:394:37)\n    at feed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:219:14)\n    at SBMH.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:391:12)\n    at _write (node:internal/streams/writable:332:10)\n    at Multipart.Writable.write (node:internal/streams/writable:336:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:754:22)\n    at IncomingMessage.emit (node:events:513:28)\n    at IncomingMessage.Readable.read (node:internal/streams/readable:527:10)\n    at flow (node:internal/streams/readable:1011:34)\n    at resume_ (node:internal/streams/readable:992:3)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)"},"template":"unknown","session":"e2e4be20-1b87-4e76-b34d-66662cfc7f50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e2e4be20-1b87-4e76-b34d-66662cfc7f50","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:24780:7
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:5:28)
      at node_modules/multer/lib/make-middleware.js:63:9
      at Counter.onceZero (node_modules/multer/lib/counter.js:23:29)
      at abortWithError (node_modules/multer/lib/make-middleware.js:58:21)
      at node_modules/multer/lib/make-middleware.js:112:18
      at fileFilter (server.js:4986:14)
      at wrappedFileFilter (node_modules/multer/index.js:44:7)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:109:7)
      at HeaderParser.cb (node_modules/busboy/lib/types/multipart.js:358:14)
      at HeaderParser.push (node_modules/busboy/lib/types/multipart.js:162:20)
      at SBMH.ssCb [as _cb] (node_modules/busboy/lib/types/multipart.js:394:37)
      at feed (node_modules/streamsearch/lib/sbmh.js:219:14)
      at SBMH.push (node_modules/streamsearch/lib/sbmh.js:104:16)
      at Multipart._write (node_modules/busboy/lib/types/multipart.js:567:19)

  console.warn
    {"timestamp":"2025-12-04T13:17:36.572Z","level":"warn","message":"api_error_response","requestId":"9cdd2953-d211-4520-8e7b-bf40fd9018d9","jobId":"e2e4be20-1b87-4e76-b34d-66662cfc7f50","status":400,"error":{"code":"UPLOAD_VALIDATION_FAILED","message":"Unsupported resume format. Please upload a PDF, DOC, or DOCX file.","details":{"field":"resume"},"requestId":"9cdd2953-d211-4520-8e7b-bf40fd9018d9","jobId":"e2e4be20-1b87-4e76-b34d-66662cfc7f50"},"template":"unknown","session":"e2e4be20-1b87-4e76-b34d-66662cfc7f50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e2e4be20-1b87-4e76-b34d-66662cfc7f50","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at sendError (server.js:3965:3)
      at respond (server.js:24788:9)
      at server.js:24792:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:5:28)
      at node_modules/multer/lib/make-middleware.js:63:9
      at Counter.onceZero (node_modules/multer/lib/counter.js:23:29)
      at abortWithError (node_modules/multer/lib/make-middleware.js:58:21)
      at node_modules/multer/lib/make-middleware.js:112:18
      at fileFilter (server.js:4986:14)
      at wrappedFileFilter (node_modules/multer/index.js:44:7)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:109:7)
      at HeaderParser.cb (node_modules/busboy/lib/types/multipart.js:358:14)
      at HeaderParser.push (node_modules/busboy/lib/types/multipart.js:162:20)
      at SBMH.ssCb [as _cb] (node_modules/busboy/lib/types/multipart.js:394:37)
      at feed (node_modules/streamsearch/lib/sbmh.js:219:14)
      at SBMH.push (node_modules/streamsearch/lib/sbmh.js:104:16)
      at Multipart._write (node_modules/busboy/lib/types/multipart.js:567:19)

  console.log
    {"timestamp":"2025-12-04T13:17:36.579Z","level":"info","message":"http_request_completed","requestId":"9cdd2953-d211-4520-8e7b-bf40fd9018d9","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":22,"contentLength":"267","template":"unknown","session":"9cdd2953-d211-4520-8e7b-bf40fd9018d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9cdd2953-d211-4520-8e7b-bf40fd9018d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.584Z","level":"info","message":"http_request_received","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","method":"POST","path":"/api/process-cv","template":"unknown","session":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.585Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.586Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.587Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.589Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.591Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/e6cc4070-3da3-44df-94f7-88c490d9f9d5/incoming/original.pdf","chunks":1,"timestamp":1764854256593}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":32768}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":32768,"newSize":32768,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/e6cc4070-3da3-44df-94f7-88c490d9f9d5/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/e6cc4070-3da3-44df-94f7-88c490d9f9d5/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.594Z","level":"info","message":"process_cv_started","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","jobId":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","manualJobDescriptionProvided":true,"template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.594Z","level":"info","message":"template_selection","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","jobId":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:36.595Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","jobId":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:17:36.600Z","level":"info","message":"initial_upload_completed","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","jobId":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","bucket":"test-bucket","key":"cv/candidate/e6cc4070-3da3-44df-94f7-88c490d9f9d5/incoming/original.pdf","template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.601Z","level":"info","message":"resume_text_extracted","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","jobId":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","characters":57,"template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.601Z","level":"info","message":"resume_classified","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","jobId":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.601Z","level":"info","message":"raw_upload_relocated","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","jobId":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","bucket":"test-bucket","fromKey":"cv/candidate/e6cc4070-3da3-44df-94f7-88c490d9f9d5/incoming/original.pdf","toKey":"cv/professional_summary/e6cc4070-3da3-44df-94f7-88c490d9f9d5/original.pdf","template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.602Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","jobId":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","bucket":"test-bucket","key":"cv/professional_summary/e6cc4070-3da3-44df-94f7-88c490d9f9d5/original.pdf","template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.602Z","level":"info","message":"dynamo_initial_record_written","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","jobId":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","bucket":"test-bucket","key":"cv/professional_summary/e6cc4070-3da3-44df-94f7-88c490d9f9d5/original.pdf","template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.602Z","level":"info","message":"upload_metadata_written","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","jobId":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","bucket":"test-bucket","key":"cv/professional_summary/e6cc4070-3da3-44df-94f7-88c490d9f9d5/logs/log.json","template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.602Z","level":"info","message":"job_description_supplied_manually","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","jobId":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","characters":174,"template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.603Z","level":"info","message":"job_description_analyzed","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","jobId":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","jobTitle":"","jobSkills":5,"template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.603Z","level":"info","message":"resume_skills_analyzed","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","jobId":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.604Z","level":"info","message":"llm_call_metrics","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.604Z","level":"info","message":"process_cv_scoring_completed","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","jobId":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.607Z","level":"info","message":"llm_call_metrics","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.607Z","level":"info","message":"generation_section_rewrite_completed","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","jobId":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","generationRunId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.607Z","level":"info","message":"llm_call_metrics","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.609Z","level":"info","message":"generation_resume_verified","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","jobId":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","generationRunId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:17:36.612Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","jobId":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","generationRunId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
          at runMicrotasks (<anonymous>)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:36.619Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","jobId":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","generationRunId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
          at runMicrotasks (<anonymous>)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:36.624Z","level":"info","message":"generation_cover_letters_completed","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","jobId":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","generationRunId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","variants":2,"fallbackApplied":true,"template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.624Z","level":"info","message":"pdf_generation_attempt","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","jobId":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","generationRunId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e6cc4070-3da3-44df-94f7-88c490d9f9d5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/e6cc4070-3da3-44df-94f7-88c490d9f9d5/enhanced_modern.pdf","session":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.626Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","jobId":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","generationRunId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e6cc4070-3da3-44df-94f7-88c490d9f9d5/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.626Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","jobId":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","generationRunId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e6cc4070-3da3-44df-94f7-88c490d9f9d5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/e6cc4070-3da3-44df-94f7-88c490d9f9d5/enhanced_modern.pdf","session":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.626Z","level":"info","message":"pdf_generation_attempt","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","jobId":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","generationRunId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e6cc4070-3da3-44df-94f7-88c490d9f9d5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/e6cc4070-3da3-44df-94f7-88c490d9f9d5/enhanced_professional.pdf","session":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.627Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","jobId":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","generationRunId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e6cc4070-3da3-44df-94f7-88c490d9f9d5/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.627Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","jobId":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","generationRunId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e6cc4070-3da3-44df-94f7-88c490d9f9d5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/e6cc4070-3da3-44df-94f7-88c490d9f9d5/enhanced_professional.pdf","session":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.628Z","level":"info","message":"pdf_generation_attempt","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","jobId":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","generationRunId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e6cc4070-3da3-44df-94f7-88c490d9f9d5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/e6cc4070-3da3-44df-94f7-88c490d9f9d5/cover_letter_cover_modern.pdf","session":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.628Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","jobId":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","generationRunId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e6cc4070-3da3-44df-94f7-88c490d9f9d5/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.629Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","jobId":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","generationRunId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e6cc4070-3da3-44df-94f7-88c490d9f9d5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/e6cc4070-3da3-44df-94f7-88c490d9f9d5/cover_letter_cover_modern.pdf","session":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.629Z","level":"info","message":"pdf_generation_attempt","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","jobId":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","generationRunId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e6cc4070-3da3-44df-94f7-88c490d9f9d5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/e6cc4070-3da3-44df-94f7-88c490d9f9d5/cover_letter_cover_professional.pdf","session":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.630Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","jobId":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","generationRunId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e6cc4070-3da3-44df-94f7-88c490d9f9d5/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.630Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","jobId":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","generationRunId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e6cc4070-3da3-44df-94f7-88c490d9f9d5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/e6cc4070-3da3-44df-94f7-88c490d9f9d5/cover_letter_cover_professional.pdf","session":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.632Z","level":"info","message":"llm_call_metrics","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.633Z","level":"info","message":"generation_completed","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","jobId":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","generationRunId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","enhancedScore":80,"outputs":5,"template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.633Z","level":"info","message":"placeholder_record_deleted","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","jobId":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","placeholderIdentifier":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a1d8e121-4029-4aa4-b8b9-62c5d672f249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.634Z","level":"info","message":"http_request_completed","requestId":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":50,"contentLength":"58133","template":"unknown","session":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e6cc4070-3da3-44df-94f7-88c490d9f9d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.637Z","level":"info","message":"http_request_received","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","method":"POST","path":"/api/process-cv","template":"unknown","session":"4a02123f-c676-4589-bb18-2d9bf20b7807","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4a02123f-c676-4589-bb18-2d9bf20b7807","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.638Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.639Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.640Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.642Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.643Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/4a02123f-c676-4589-bb18-2d9bf20b7807/incoming/original.pdf","chunks":5,"timestamp":1764854256646}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":262144}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":262144,"newSize":262144,"durationMs":6}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/4a02123f-c676-4589-bb18-2d9bf20b7807/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/4a02123f-c676-4589-bb18-2d9bf20b7807/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":8}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.654Z","level":"info","message":"process_cv_started","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","jobId":"632a8be7-bb80-4611-af7f-0c693d4a0b82","manualJobDescriptionProvided":true,"template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.655Z","level":"info","message":"template_selection","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","jobId":"632a8be7-bb80-4611-af7f-0c693d4a0b82","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.655Z","level":"info","message":"initial_upload_completed","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","jobId":"632a8be7-bb80-4611-af7f-0c693d4a0b82","bucket":"test-bucket","key":"cv/candidate/4a02123f-c676-4589-bb18-2d9bf20b7807/incoming/original.pdf","template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.656Z","level":"info","message":"resume_text_extracted","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","jobId":"632a8be7-bb80-4611-af7f-0c693d4a0b82","characters":9,"template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.656Z","level":"info","message":"document_classification_ai_metrics","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","jobId":"632a8be7-bb80-4611-af7f-0c693d4a0b82","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"3fb95a90cc3314ffe158e6938082b6242f708ef53653928d4aec2ec0ec66e1aa","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.672Z","level":"info","message":"resume_classified","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","jobId":"632a8be7-bb80-4611-af7f-0c693d4a0b82","isResume":false,"description":"a document starting with \"Docx text\"","confidence":0.3,"accepted":true,"overridden":true,"template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.672Z","level":"info","message":"raw_upload_relocated","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","jobId":"632a8be7-bb80-4611-af7f-0c693d4a0b82","bucket":"test-bucket","fromKey":"cv/candidate/4a02123f-c676-4589-bb18-2d9bf20b7807/incoming/original.pdf","toKey":"cv/docx_text/4a02123f-c676-4589-bb18-2d9bf20b7807/original.docx","template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.673Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","jobId":"632a8be7-bb80-4611-af7f-0c693d4a0b82","bucket":"test-bucket","key":"cv/docx_text/4a02123f-c676-4589-bb18-2d9bf20b7807/original.docx","template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.673Z","level":"info","message":"dynamo_initial_record_written","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","jobId":"632a8be7-bb80-4611-af7f-0c693d4a0b82","bucket":"test-bucket","key":"cv/docx_text/4a02123f-c676-4589-bb18-2d9bf20b7807/original.docx","template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.674Z","level":"info","message":"upload_metadata_written","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","jobId":"632a8be7-bb80-4611-af7f-0c693d4a0b82","bucket":"test-bucket","key":"cv/docx_text/4a02123f-c676-4589-bb18-2d9bf20b7807/logs/log.json","template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.674Z","level":"info","message":"job_description_supplied_manually","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","jobId":"632a8be7-bb80-4611-af7f-0c693d4a0b82","characters":174,"template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.674Z","level":"info","message":"job_description_analyzed","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","jobId":"632a8be7-bb80-4611-af7f-0c693d4a0b82","jobTitle":"","jobSkills":5,"template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.675Z","level":"info","message":"resume_skills_analyzed","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","jobId":"632a8be7-bb80-4611-af7f-0c693d4a0b82","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.675Z","level":"info","message":"llm_call_metrics","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"4a02123f-c676-4589-bb18-2d9bf20b7807","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4a02123f-c676-4589-bb18-2d9bf20b7807","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.676Z","level":"info","message":"process_cv_scoring_completed","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","jobId":"632a8be7-bb80-4611-af7f-0c693d4a0b82","applicantName":"Docx text","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.678Z","level":"info","message":"llm_call_metrics","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"31abd14e21e30560dd0979a805a53ba1e348c7a15b5557d1589a085105e61022","outputDigest":"20c6bad519a1c8c51482632fc36f521f4cdc6c74524ae2a7da48d87e23be89bd","addedSkillCount":0,"template":"resume_rewrite","session":"4a02123f-c676-4589-bb18-2d9bf20b7807","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"4a02123f-c676-4589-bb18-2d9bf20b7807","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.678Z","level":"info","message":"generation_section_rewrite_completed","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","jobId":"632a8be7-bb80-4611-af7f-0c693d4a0b82","generationRunId":"4a02123f-c676-4589-bb18-2d9bf20b7807","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.679Z","level":"info","message":"llm_call_metrics","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"4a02123f-c676-4589-bb18-2d9bf20b7807","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"4a02123f-c676-4589-bb18-2d9bf20b7807","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.681Z","level":"info","message":"generation_resume_verified","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","jobId":"632a8be7-bb80-4611-af7f-0c693d4a0b82","generationRunId":"4a02123f-c676-4589-bb18-2d9bf20b7807","template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:17:36.684Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","jobId":"632a8be7-bb80-4611-af7f-0c693d4a0b82","generationRunId":"4a02123f-c676-4589-bb18-2d9bf20b7807","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
          at runMicrotasks (<anonymous>)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:36.690Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","jobId":"632a8be7-bb80-4611-af7f-0c693d4a0b82","generationRunId":"4a02123f-c676-4589-bb18-2d9bf20b7807","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
          at runMicrotasks (<anonymous>)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:36.696Z","level":"info","message":"generation_cover_letters_completed","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","jobId":"632a8be7-bb80-4611-af7f-0c693d4a0b82","generationRunId":"4a02123f-c676-4589-bb18-2d9bf20b7807","variants":2,"fallbackApplied":true,"template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.697Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","jobId":"632a8be7-bb80-4611-af7f-0c693d4a0b82","generationRunId":"4a02123f-c676-4589-bb18-2d9bf20b7807","documentType":"resume","outputName":"original_upload","outputKeyPrefix":"cv/docx_text/4a02123f-c676-4589-bb18-2d9bf20b7807/","originalUploadKey":"cv/docx_text/4a02123f-c676-4589-bb18-2d9bf20b7807/original.docx","originalUploadExtension":".docx","templateId":"modern","requestedTemplateId":"modern","engine":"pdf-lib","bytes":9,"template":"modern","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.698Z","level":"info","message":"original_upload_pdf_generated","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","jobId":"632a8be7-bb80-4611-af7f-0c693d4a0b82","generationRunId":"4a02123f-c676-4589-bb18-2d9bf20b7807","storageKey":"cv/docx_text/4a02123f-c676-4589-bb18-2d9bf20b7807/original/original_upload.pdf","originalUploadKey":"cv/docx_text/4a02123f-c676-4589-bb18-2d9bf20b7807/original.docx","originalUploadExtension":".docx","template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.698Z","level":"info","message":"pdf_generation_attempt","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","jobId":"632a8be7-bb80-4611-af7f-0c693d4a0b82","generationRunId":"4a02123f-c676-4589-bb18-2d9bf20b7807","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/4a02123f-c676-4589-bb18-2d9bf20b7807/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/4a02123f-c676-4589-bb18-2d9bf20b7807/enhanced_modern.pdf","session":"4a02123f-c676-4589-bb18-2d9bf20b7807","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4a02123f-c676-4589-bb18-2d9bf20b7807","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.699Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","jobId":"632a8be7-bb80-4611-af7f-0c693d4a0b82","generationRunId":"4a02123f-c676-4589-bb18-2d9bf20b7807","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/4a02123f-c676-4589-bb18-2d9bf20b7807/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4a02123f-c676-4589-bb18-2d9bf20b7807","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4a02123f-c676-4589-bb18-2d9bf20b7807","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.699Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","jobId":"632a8be7-bb80-4611-af7f-0c693d4a0b82","generationRunId":"4a02123f-c676-4589-bb18-2d9bf20b7807","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/4a02123f-c676-4589-bb18-2d9bf20b7807/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/4a02123f-c676-4589-bb18-2d9bf20b7807/enhanced_modern.pdf","session":"4a02123f-c676-4589-bb18-2d9bf20b7807","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4a02123f-c676-4589-bb18-2d9bf20b7807","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.700Z","level":"info","message":"pdf_generation_attempt","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","jobId":"632a8be7-bb80-4611-af7f-0c693d4a0b82","generationRunId":"4a02123f-c676-4589-bb18-2d9bf20b7807","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/4a02123f-c676-4589-bb18-2d9bf20b7807/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/4a02123f-c676-4589-bb18-2d9bf20b7807/enhanced_professional.pdf","session":"4a02123f-c676-4589-bb18-2d9bf20b7807","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4a02123f-c676-4589-bb18-2d9bf20b7807","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.700Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","jobId":"632a8be7-bb80-4611-af7f-0c693d4a0b82","generationRunId":"4a02123f-c676-4589-bb18-2d9bf20b7807","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/4a02123f-c676-4589-bb18-2d9bf20b7807/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4a02123f-c676-4589-bb18-2d9bf20b7807","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4a02123f-c676-4589-bb18-2d9bf20b7807","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.701Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","jobId":"632a8be7-bb80-4611-af7f-0c693d4a0b82","generationRunId":"4a02123f-c676-4589-bb18-2d9bf20b7807","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/4a02123f-c676-4589-bb18-2d9bf20b7807/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/4a02123f-c676-4589-bb18-2d9bf20b7807/enhanced_professional.pdf","session":"4a02123f-c676-4589-bb18-2d9bf20b7807","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4a02123f-c676-4589-bb18-2d9bf20b7807","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.702Z","level":"info","message":"pdf_generation_attempt","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","jobId":"632a8be7-bb80-4611-af7f-0c693d4a0b82","generationRunId":"4a02123f-c676-4589-bb18-2d9bf20b7807","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/4a02123f-c676-4589-bb18-2d9bf20b7807/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/4a02123f-c676-4589-bb18-2d9bf20b7807/cover_letter_cover_modern.pdf","session":"4a02123f-c676-4589-bb18-2d9bf20b7807","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4a02123f-c676-4589-bb18-2d9bf20b7807","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.703Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","jobId":"632a8be7-bb80-4611-af7f-0c693d4a0b82","generationRunId":"4a02123f-c676-4589-bb18-2d9bf20b7807","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/4a02123f-c676-4589-bb18-2d9bf20b7807/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4a02123f-c676-4589-bb18-2d9bf20b7807","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4a02123f-c676-4589-bb18-2d9bf20b7807","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.703Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","jobId":"632a8be7-bb80-4611-af7f-0c693d4a0b82","generationRunId":"4a02123f-c676-4589-bb18-2d9bf20b7807","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/4a02123f-c676-4589-bb18-2d9bf20b7807/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/4a02123f-c676-4589-bb18-2d9bf20b7807/cover_letter_cover_modern.pdf","session":"4a02123f-c676-4589-bb18-2d9bf20b7807","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4a02123f-c676-4589-bb18-2d9bf20b7807","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.704Z","level":"info","message":"pdf_generation_attempt","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","jobId":"632a8be7-bb80-4611-af7f-0c693d4a0b82","generationRunId":"4a02123f-c676-4589-bb18-2d9bf20b7807","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/4a02123f-c676-4589-bb18-2d9bf20b7807/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/4a02123f-c676-4589-bb18-2d9bf20b7807/cover_letter_cover_professional.pdf","session":"4a02123f-c676-4589-bb18-2d9bf20b7807","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4a02123f-c676-4589-bb18-2d9bf20b7807","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.704Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","jobId":"632a8be7-bb80-4611-af7f-0c693d4a0b82","generationRunId":"4a02123f-c676-4589-bb18-2d9bf20b7807","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/4a02123f-c676-4589-bb18-2d9bf20b7807/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4a02123f-c676-4589-bb18-2d9bf20b7807","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4a02123f-c676-4589-bb18-2d9bf20b7807","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.705Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","jobId":"632a8be7-bb80-4611-af7f-0c693d4a0b82","generationRunId":"4a02123f-c676-4589-bb18-2d9bf20b7807","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/4a02123f-c676-4589-bb18-2d9bf20b7807/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/4a02123f-c676-4589-bb18-2d9bf20b7807/cover_letter_cover_professional.pdf","session":"4a02123f-c676-4589-bb18-2d9bf20b7807","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4a02123f-c676-4589-bb18-2d9bf20b7807","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.707Z","level":"info","message":"llm_call_metrics","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"4a02123f-c676-4589-bb18-2d9bf20b7807","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4a02123f-c676-4589-bb18-2d9bf20b7807","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.708Z","level":"info","message":"generation_completed","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","jobId":"632a8be7-bb80-4611-af7f-0c693d4a0b82","generationRunId":"4a02123f-c676-4589-bb18-2d9bf20b7807","enhancedScore":80,"outputs":6,"template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.709Z","level":"info","message":"placeholder_record_deleted","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","jobId":"632a8be7-bb80-4611-af7f-0c693d4a0b82","placeholderIdentifier":"4a02123f-c676-4589-bb18-2d9bf20b7807","template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"632a8be7-bb80-4611-af7f-0c693d4a0b82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.710Z","level":"info","message":"http_request_completed","requestId":"4a02123f-c676-4589-bb18-2d9bf20b7807","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":73,"contentLength":"58696","template":"unknown","session":"4a02123f-c676-4589-bb18-2d9bf20b7807","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4a02123f-c676-4589-bb18-2d9bf20b7807","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.716Z","level":"info","message":"http_request_received","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","method":"POST","path":"/api/process-cv","template":"unknown","session":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.718Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.720Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.722Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.723Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.726Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/bdea448c-3fba-4a2a-b5e8-a6bce270c7a1/incoming/original.pdf","chunks":34,"timestamp":1764854256731}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":2097152}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":2097152,"newSize":2097152,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/bdea448c-3fba-4a2a-b5e8-a6bce270c7a1/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/bdea448c-3fba-4a2a-b5e8-a6bce270c7a1/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.733Z","level":"info","message":"process_cv_started","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","jobId":"c6aca364-ca04-4e44-9cd5-352de55fe002","manualJobDescriptionProvided":true,"template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.734Z","level":"info","message":"template_selection","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","jobId":"c6aca364-ca04-4e44-9cd5-352de55fe002","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:36.734Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","jobId":"c6aca364-ca04-4e44-9cd5-352de55fe002","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:17:36.740Z","level":"info","message":"initial_upload_completed","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","jobId":"c6aca364-ca04-4e44-9cd5-352de55fe002","bucket":"test-bucket","key":"cv/candidate/bdea448c-3fba-4a2a-b5e8-a6bce270c7a1/incoming/original.pdf","template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.741Z","level":"info","message":"resume_text_extracted","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","jobId":"c6aca364-ca04-4e44-9cd5-352de55fe002","characters":57,"template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.741Z","level":"info","message":"resume_classified","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","jobId":"c6aca364-ca04-4e44-9cd5-352de55fe002","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.741Z","level":"info","message":"raw_upload_relocated","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","jobId":"c6aca364-ca04-4e44-9cd5-352de55fe002","bucket":"test-bucket","fromKey":"cv/candidate/bdea448c-3fba-4a2a-b5e8-a6bce270c7a1/incoming/original.pdf","toKey":"cv/professional_summary/bdea448c-3fba-4a2a-b5e8-a6bce270c7a1/original.pdf","template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.742Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","jobId":"c6aca364-ca04-4e44-9cd5-352de55fe002","bucket":"test-bucket","key":"cv/professional_summary/bdea448c-3fba-4a2a-b5e8-a6bce270c7a1/original.pdf","template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.742Z","level":"info","message":"dynamo_initial_record_written","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","jobId":"c6aca364-ca04-4e44-9cd5-352de55fe002","bucket":"test-bucket","key":"cv/professional_summary/bdea448c-3fba-4a2a-b5e8-a6bce270c7a1/original.pdf","template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.742Z","level":"info","message":"upload_metadata_written","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","jobId":"c6aca364-ca04-4e44-9cd5-352de55fe002","bucket":"test-bucket","key":"cv/professional_summary/bdea448c-3fba-4a2a-b5e8-a6bce270c7a1/logs/log.json","template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.743Z","level":"info","message":"job_description_supplied_manually","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","jobId":"c6aca364-ca04-4e44-9cd5-352de55fe002","characters":174,"template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.743Z","level":"info","message":"job_description_analyzed","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","jobId":"c6aca364-ca04-4e44-9cd5-352de55fe002","jobTitle":"","jobSkills":5,"template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.744Z","level":"info","message":"resume_skills_analyzed","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","jobId":"c6aca364-ca04-4e44-9cd5-352de55fe002","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.744Z","level":"info","message":"llm_call_metrics","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.745Z","level":"info","message":"process_cv_scoring_completed","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","jobId":"c6aca364-ca04-4e44-9cd5-352de55fe002","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.747Z","level":"info","message":"llm_call_metrics","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.747Z","level":"info","message":"generation_section_rewrite_completed","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","jobId":"c6aca364-ca04-4e44-9cd5-352de55fe002","generationRunId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.748Z","level":"info","message":"llm_call_metrics","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.750Z","level":"info","message":"generation_resume_verified","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","jobId":"c6aca364-ca04-4e44-9cd5-352de55fe002","generationRunId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:17:36.752Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","jobId":"c6aca364-ca04-4e44-9cd5-352de55fe002","generationRunId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
          at runMicrotasks (<anonymous>)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:36.760Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","jobId":"c6aca364-ca04-4e44-9cd5-352de55fe002","generationRunId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
          at runMicrotasks (<anonymous>)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:36.765Z","level":"info","message":"generation_cover_letters_completed","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","jobId":"c6aca364-ca04-4e44-9cd5-352de55fe002","generationRunId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","variants":2,"fallbackApplied":true,"template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.766Z","level":"info","message":"pdf_generation_attempt","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","jobId":"c6aca364-ca04-4e44-9cd5-352de55fe002","generationRunId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/bdea448c-3fba-4a2a-b5e8-a6bce270c7a1/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/bdea448c-3fba-4a2a-b5e8-a6bce270c7a1/enhanced_modern.pdf","session":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.766Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","jobId":"c6aca364-ca04-4e44-9cd5-352de55fe002","generationRunId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/bdea448c-3fba-4a2a-b5e8-a6bce270c7a1/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.767Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","jobId":"c6aca364-ca04-4e44-9cd5-352de55fe002","generationRunId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/bdea448c-3fba-4a2a-b5e8-a6bce270c7a1/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/bdea448c-3fba-4a2a-b5e8-a6bce270c7a1/enhanced_modern.pdf","session":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.767Z","level":"info","message":"pdf_generation_attempt","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","jobId":"c6aca364-ca04-4e44-9cd5-352de55fe002","generationRunId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/bdea448c-3fba-4a2a-b5e8-a6bce270c7a1/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/bdea448c-3fba-4a2a-b5e8-a6bce270c7a1/enhanced_professional.pdf","session":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.768Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","jobId":"c6aca364-ca04-4e44-9cd5-352de55fe002","generationRunId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/bdea448c-3fba-4a2a-b5e8-a6bce270c7a1/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.768Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","jobId":"c6aca364-ca04-4e44-9cd5-352de55fe002","generationRunId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/bdea448c-3fba-4a2a-b5e8-a6bce270c7a1/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/bdea448c-3fba-4a2a-b5e8-a6bce270c7a1/enhanced_professional.pdf","session":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.768Z","level":"info","message":"pdf_generation_attempt","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","jobId":"c6aca364-ca04-4e44-9cd5-352de55fe002","generationRunId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/bdea448c-3fba-4a2a-b5e8-a6bce270c7a1/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/bdea448c-3fba-4a2a-b5e8-a6bce270c7a1/cover_letter_cover_modern.pdf","session":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.769Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","jobId":"c6aca364-ca04-4e44-9cd5-352de55fe002","generationRunId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/bdea448c-3fba-4a2a-b5e8-a6bce270c7a1/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.769Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","jobId":"c6aca364-ca04-4e44-9cd5-352de55fe002","generationRunId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/bdea448c-3fba-4a2a-b5e8-a6bce270c7a1/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/bdea448c-3fba-4a2a-b5e8-a6bce270c7a1/cover_letter_cover_modern.pdf","session":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.770Z","level":"info","message":"pdf_generation_attempt","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","jobId":"c6aca364-ca04-4e44-9cd5-352de55fe002","generationRunId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/bdea448c-3fba-4a2a-b5e8-a6bce270c7a1/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/bdea448c-3fba-4a2a-b5e8-a6bce270c7a1/cover_letter_cover_professional.pdf","session":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.770Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","jobId":"c6aca364-ca04-4e44-9cd5-352de55fe002","generationRunId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/bdea448c-3fba-4a2a-b5e8-a6bce270c7a1/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.771Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","jobId":"c6aca364-ca04-4e44-9cd5-352de55fe002","generationRunId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/bdea448c-3fba-4a2a-b5e8-a6bce270c7a1/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/bdea448c-3fba-4a2a-b5e8-a6bce270c7a1/cover_letter_cover_professional.pdf","session":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.773Z","level":"info","message":"llm_call_metrics","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.773Z","level":"info","message":"generation_completed","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","jobId":"c6aca364-ca04-4e44-9cd5-352de55fe002","generationRunId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","enhancedScore":80,"outputs":5,"template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.774Z","level":"info","message":"placeholder_record_deleted","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","jobId":"c6aca364-ca04-4e44-9cd5-352de55fe002","placeholderIdentifier":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c6aca364-ca04-4e44-9cd5-352de55fe002","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.775Z","level":"info","message":"http_request_completed","requestId":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":59,"contentLength":"58133","template":"unknown","session":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bdea448c-3fba-4a2a-b5e8-a6bce270c7a1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.778Z","level":"info","message":"http_request_received","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","method":"POST","path":"/api/process-cv","template":"unknown","session":"fb919045-276c-4b1a-acff-423699a7f54f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb919045-276c-4b1a-acff-423699a7f54f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.779Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.780Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.782Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.783Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.785Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/fb919045-276c-4b1a-acff-423699a7f54f/incoming/original.pdf","chunks":83,"timestamp":1764854256793}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5241856}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5241856,"newSize":5241856,"durationMs":52}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/fb919045-276c-4b1a-acff-423699a7f54f/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/fb919045-276c-4b1a-acff-423699a7f54f/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":53}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.847Z","level":"info","message":"process_cv_started","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","jobId":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","manualJobDescriptionProvided":true,"template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.847Z","level":"info","message":"template_selection","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","jobId":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.848Z","level":"info","message":"initial_upload_completed","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","jobId":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","bucket":"test-bucket","key":"cv/candidate/fb919045-276c-4b1a-acff-423699a7f54f/incoming/original.pdf","template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.848Z","level":"info","message":"resume_text_extracted","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","jobId":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","characters":9,"template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.849Z","level":"info","message":"document_classification_ai_metrics","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","jobId":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"3fb95a90cc3314ffe158e6938082b6242f708ef53653928d4aec2ec0ec66e1aa","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.849Z","level":"info","message":"resume_classified","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","jobId":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","isResume":false,"description":"a document starting with \"Docx text\"","confidence":0.3,"accepted":true,"overridden":true,"template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.850Z","level":"info","message":"raw_upload_relocated","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","jobId":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","bucket":"test-bucket","fromKey":"cv/candidate/fb919045-276c-4b1a-acff-423699a7f54f/incoming/original.pdf","toKey":"cv/docx_text/fb919045-276c-4b1a-acff-423699a7f54f/original.docx","template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.850Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","jobId":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","bucket":"test-bucket","key":"cv/docx_text/fb919045-276c-4b1a-acff-423699a7f54f/original.docx","template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.850Z","level":"info","message":"dynamo_initial_record_written","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","jobId":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","bucket":"test-bucket","key":"cv/docx_text/fb919045-276c-4b1a-acff-423699a7f54f/original.docx","template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.851Z","level":"info","message":"upload_metadata_written","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","jobId":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","bucket":"test-bucket","key":"cv/docx_text/fb919045-276c-4b1a-acff-423699a7f54f/logs/log.json","template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.851Z","level":"info","message":"job_description_supplied_manually","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","jobId":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","characters":174,"template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.851Z","level":"info","message":"job_description_analyzed","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","jobId":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","jobTitle":"","jobSkills":5,"template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.852Z","level":"info","message":"resume_skills_analyzed","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","jobId":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.852Z","level":"info","message":"llm_call_metrics","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"fb919045-276c-4b1a-acff-423699a7f54f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"fb919045-276c-4b1a-acff-423699a7f54f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.853Z","level":"info","message":"process_cv_scoring_completed","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","jobId":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","applicantName":"Docx text","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.855Z","level":"info","message":"llm_call_metrics","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"31abd14e21e30560dd0979a805a53ba1e348c7a15b5557d1589a085105e61022","outputDigest":"20c6bad519a1c8c51482632fc36f521f4cdc6c74524ae2a7da48d87e23be89bd","addedSkillCount":0,"template":"resume_rewrite","session":"fb919045-276c-4b1a-acff-423699a7f54f","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"fb919045-276c-4b1a-acff-423699a7f54f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.855Z","level":"info","message":"generation_section_rewrite_completed","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","jobId":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","generationRunId":"fb919045-276c-4b1a-acff-423699a7f54f","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.856Z","level":"info","message":"llm_call_metrics","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"fb919045-276c-4b1a-acff-423699a7f54f","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"fb919045-276c-4b1a-acff-423699a7f54f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.861Z","level":"info","message":"generation_resume_verified","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","jobId":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","generationRunId":"fb919045-276c-4b1a-acff-423699a7f54f","template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:17:36.864Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","jobId":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","generationRunId":"fb919045-276c-4b1a-acff-423699a7f54f","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
          at runMicrotasks (<anonymous>)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:17:36.869Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","jobId":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","generationRunId":"fb919045-276c-4b1a-acff-423699a7f54f","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
          at runMicrotasks (<anonymous>)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:36.878Z","level":"info","message":"generation_cover_letters_completed","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","jobId":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","generationRunId":"fb919045-276c-4b1a-acff-423699a7f54f","variants":2,"fallbackApplied":true,"template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.879Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","jobId":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","generationRunId":"fb919045-276c-4b1a-acff-423699a7f54f","documentType":"resume","outputName":"original_upload","outputKeyPrefix":"cv/docx_text/fb919045-276c-4b1a-acff-423699a7f54f/","originalUploadKey":"cv/docx_text/fb919045-276c-4b1a-acff-423699a7f54f/original.docx","originalUploadExtension":".docx","templateId":"modern","requestedTemplateId":"modern","engine":"pdf-lib","bytes":9,"template":"modern","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.881Z","level":"info","message":"original_upload_pdf_generated","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","jobId":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","generationRunId":"fb919045-276c-4b1a-acff-423699a7f54f","storageKey":"cv/docx_text/fb919045-276c-4b1a-acff-423699a7f54f/original/original_upload.pdf","originalUploadKey":"cv/docx_text/fb919045-276c-4b1a-acff-423699a7f54f/original.docx","originalUploadExtension":".docx","template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.883Z","level":"info","message":"pdf_generation_attempt","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","jobId":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","generationRunId":"fb919045-276c-4b1a-acff-423699a7f54f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/fb919045-276c-4b1a-acff-423699a7f54f/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/fb919045-276c-4b1a-acff-423699a7f54f/enhanced_modern.pdf","session":"fb919045-276c-4b1a-acff-423699a7f54f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"fb919045-276c-4b1a-acff-423699a7f54f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.884Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","jobId":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","generationRunId":"fb919045-276c-4b1a-acff-423699a7f54f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/fb919045-276c-4b1a-acff-423699a7f54f/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"fb919045-276c-4b1a-acff-423699a7f54f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"fb919045-276c-4b1a-acff-423699a7f54f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.884Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","jobId":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","generationRunId":"fb919045-276c-4b1a-acff-423699a7f54f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/fb919045-276c-4b1a-acff-423699a7f54f/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/fb919045-276c-4b1a-acff-423699a7f54f/enhanced_modern.pdf","session":"fb919045-276c-4b1a-acff-423699a7f54f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"fb919045-276c-4b1a-acff-423699a7f54f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.885Z","level":"info","message":"pdf_generation_attempt","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","jobId":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","generationRunId":"fb919045-276c-4b1a-acff-423699a7f54f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/fb919045-276c-4b1a-acff-423699a7f54f/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/fb919045-276c-4b1a-acff-423699a7f54f/enhanced_professional.pdf","session":"fb919045-276c-4b1a-acff-423699a7f54f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"fb919045-276c-4b1a-acff-423699a7f54f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.886Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","jobId":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","generationRunId":"fb919045-276c-4b1a-acff-423699a7f54f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/fb919045-276c-4b1a-acff-423699a7f54f/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"fb919045-276c-4b1a-acff-423699a7f54f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"fb919045-276c-4b1a-acff-423699a7f54f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.886Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","jobId":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","generationRunId":"fb919045-276c-4b1a-acff-423699a7f54f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/fb919045-276c-4b1a-acff-423699a7f54f/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/fb919045-276c-4b1a-acff-423699a7f54f/enhanced_professional.pdf","session":"fb919045-276c-4b1a-acff-423699a7f54f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"fb919045-276c-4b1a-acff-423699a7f54f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.887Z","level":"info","message":"pdf_generation_attempt","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","jobId":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","generationRunId":"fb919045-276c-4b1a-acff-423699a7f54f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/fb919045-276c-4b1a-acff-423699a7f54f/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/fb919045-276c-4b1a-acff-423699a7f54f/cover_letter_cover_modern.pdf","session":"fb919045-276c-4b1a-acff-423699a7f54f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"fb919045-276c-4b1a-acff-423699a7f54f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.888Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","jobId":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","generationRunId":"fb919045-276c-4b1a-acff-423699a7f54f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/fb919045-276c-4b1a-acff-423699a7f54f/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"fb919045-276c-4b1a-acff-423699a7f54f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"fb919045-276c-4b1a-acff-423699a7f54f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.889Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","jobId":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","generationRunId":"fb919045-276c-4b1a-acff-423699a7f54f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/fb919045-276c-4b1a-acff-423699a7f54f/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/fb919045-276c-4b1a-acff-423699a7f54f/cover_letter_cover_modern.pdf","session":"fb919045-276c-4b1a-acff-423699a7f54f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"fb919045-276c-4b1a-acff-423699a7f54f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.890Z","level":"info","message":"pdf_generation_attempt","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","jobId":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","generationRunId":"fb919045-276c-4b1a-acff-423699a7f54f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/fb919045-276c-4b1a-acff-423699a7f54f/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/fb919045-276c-4b1a-acff-423699a7f54f/cover_letter_cover_professional.pdf","session":"fb919045-276c-4b1a-acff-423699a7f54f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"fb919045-276c-4b1a-acff-423699a7f54f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.890Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","jobId":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","generationRunId":"fb919045-276c-4b1a-acff-423699a7f54f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/fb919045-276c-4b1a-acff-423699a7f54f/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"fb919045-276c-4b1a-acff-423699a7f54f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"fb919045-276c-4b1a-acff-423699a7f54f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.897Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","jobId":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","generationRunId":"fb919045-276c-4b1a-acff-423699a7f54f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/fb919045-276c-4b1a-acff-423699a7f54f/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/fb919045-276c-4b1a-acff-423699a7f54f/cover_letter_cover_professional.pdf","session":"fb919045-276c-4b1a-acff-423699a7f54f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"fb919045-276c-4b1a-acff-423699a7f54f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.903Z","level":"info","message":"llm_call_metrics","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"fb919045-276c-4b1a-acff-423699a7f54f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"fb919045-276c-4b1a-acff-423699a7f54f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.904Z","level":"info","message":"generation_completed","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","jobId":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","generationRunId":"fb919045-276c-4b1a-acff-423699a7f54f","enhancedScore":80,"outputs":6,"template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.905Z","level":"info","message":"placeholder_record_deleted","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","jobId":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","placeholderIdentifier":"fb919045-276c-4b1a-acff-423699a7f54f","template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cadfa85e-4019-43e3-857e-ea0ed0339f3a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.906Z","level":"info","message":"http_request_completed","requestId":"fb919045-276c-4b1a-acff-423699a7f54f","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":128,"contentLength":"58696","template":"unknown","session":"fb919045-276c-4b1a-acff-423699a7f54f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb919045-276c-4b1a-acff-423699a7f54f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.910Z","level":"info","message":"http_request_received","requestId":"f649cbc5-ef5a-4faf-939a-ef294f199ae2","method":"POST","path":"/api/process-cv","template":"unknown","session":"f649cbc5-ef5a-4faf-939a-ef294f199ae2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f649cbc5-ef5a-4faf-939a-ef294f199ae2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.911Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.913Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.914Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.915Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.917Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/f649cbc5-ef5a-4faf-939a-ef294f199ae2/incoming/original.pdf","chunks":85,"timestamp":1764854256924}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5242880}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5242880,"newSize":5242880,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/f649cbc5-ef5a-4faf-939a-ef294f199ae2/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/f649cbc5-ef5a-4faf-939a-ef294f199ae2/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:17:36.926Z","level":"warn","message":"resume_upload_failed","requestId":"f649cbc5-ef5a-4faf-939a-ef294f199ae2","jobId":"35fefcd1-8242-44d5-8de6-8d72ffe4993a","storageError":false,"error":{"name":"MulterError","message":"File too large","code":"LIMIT_FILE_SIZE","stack":"MulterError: File too large\n    at abortWithCode (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:73:22)\n    at FileStream.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:136:11)\n    at FileStream.emit (node:events:513:28)\n    at SBMH.ssCb [as _cb] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:479:32)\n    at feed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:219:14)\n    at SBMH.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:391:12)\n    at _write (node:internal/streams/writable:332:10)\n    at Multipart.Writable.write (node:internal/streams/writable:336:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:754:22)\n    at IncomingMessage.emit (node:events:513:28)\n    at addChunk (node:internal/streams/readable:315:12)\n    at readableAddChunk (node:internal/streams/readable:289:9)\n    at IncomingMessage.Readable.push (node:internal/streams/readable:228:10)\n    at HTTPParser.parserOnBody (node:_http_common:140:24)"},"template":"unknown","session":"35fefcd1-8242-44d5-8de6-8d72ffe4993a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35fefcd1-8242-44d5-8de6-8d72ffe4993a","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:24780:7
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at node_modules/multer/lib/remove-uploaded-files.js:20:9
      at Object.cb [as _removeFile] (lib/uploads/s3StreamingStorage.js:166:9)
      at remove (node_modules/multer/lib/make-middleware.js:60:19)
      at handleFile (node_modules/multer/lib/remove-uploaded-files.js:10:5)
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:25:3)
      at Counter.<anonymous> (node_modules/multer/lib/make-middleware.js:63:9)
      at Counter.decrement (node_modules/multer/lib/counter.js:15:32)
      at node_modules/multer/lib/make-middleware.js:143:34
      at cb (lib/uploads/s3StreamingStorage.js:82:9)
      at FileStream.finish (lib/uploads/s3StreamingStorage.js:149:11)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:17:36.932Z","level":"warn","message":"api_error_response","requestId":"f649cbc5-ef5a-4faf-939a-ef294f199ae2","jobId":"35fefcd1-8242-44d5-8de6-8d72ffe4993a","status":400,"error":{"code":"UPLOAD_VALIDATION_FAILED","message":"File too large","details":{"field":"resume"},"requestId":"f649cbc5-ef5a-4faf-939a-ef294f199ae2","jobId":"35fefcd1-8242-44d5-8de6-8d72ffe4993a"},"template":"unknown","session":"35fefcd1-8242-44d5-8de6-8d72ffe4993a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35fefcd1-8242-44d5-8de6-8d72ffe4993a","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at sendError (server.js:3965:3)
      at respond (server.js:24788:9)
      at server.js:24792:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at node_modules/multer/lib/remove-uploaded-files.js:20:9
      at Object.cb [as _removeFile] (lib/uploads/s3StreamingStorage.js:166:9)
      at remove (node_modules/multer/lib/make-middleware.js:60:19)
      at handleFile (node_modules/multer/lib/remove-uploaded-files.js:10:5)
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:25:3)
      at Counter.<anonymous> (node_modules/multer/lib/make-middleware.js:63:9)
      at Counter.decrement (node_modules/multer/lib/counter.js:15:32)
      at node_modules/multer/lib/make-middleware.js:143:34
      at cb (lib/uploads/s3StreamingStorage.js:82:9)
      at FileStream.finish (lib/uploads/s3StreamingStorage.js:149:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.939Z","level":"info","message":"http_request_completed","requestId":"f649cbc5-ef5a-4faf-939a-ef294f199ae2","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":29,"contentLength":"215","template":"unknown","session":"f649cbc5-ef5a-4faf-939a-ef294f199ae2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f649cbc5-ef5a-4faf-939a-ef294f199ae2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.941Z","level":"info","message":"http_request_received","requestId":"db112467-1c3b-4036-a5bd-c31fe47d828f","method":"POST","path":"/api/process-cv","template":"unknown","session":"db112467-1c3b-4036-a5bd-c31fe47d828f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db112467-1c3b-4036-a5bd-c31fe47d828f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.942Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.943Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.945Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.946Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.948Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/db112467-1c3b-4036-a5bd-c31fe47d828f/incoming/original.pdf","chunks":1,"timestamp":1764854256950}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/db112467-1c3b-4036-a5bd-c31fe47d828f/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/db112467-1c3b-4036-a5bd-c31fe47d828f/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.958Z","level":"info","message":"process_cv_started","requestId":"db112467-1c3b-4036-a5bd-c31fe47d828f","jobId":"d3650cd0-d3c3-48ca-aa8e-89e586f50446","manualJobDescriptionProvided":true,"template":"unknown","session":"d3650cd0-d3c3-48ca-aa8e-89e586f50446","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3650cd0-d3c3-48ca-aa8e-89e586f50446","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.958Z","level":"info","message":"template_selection","requestId":"db112467-1c3b-4036-a5bd-c31fe47d828f","jobId":"d3650cd0-d3c3-48ca-aa8e-89e586f50446","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"d3650cd0-d3c3-48ca-aa8e-89e586f50446","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d3650cd0-d3c3-48ca-aa8e-89e586f50446","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:36.959Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"db112467-1c3b-4036-a5bd-c31fe47d828f","jobId":"d3650cd0-d3c3-48ca-aa8e-89e586f50446","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"d3650cd0-d3c3-48ca-aa8e-89e586f50446","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3650cd0-d3c3-48ca-aa8e-89e586f50446","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:17:36.965Z","level":"info","message":"initial_upload_completed","requestId":"db112467-1c3b-4036-a5bd-c31fe47d828f","jobId":"d3650cd0-d3c3-48ca-aa8e-89e586f50446","bucket":"test-bucket","key":"cv/candidate/db112467-1c3b-4036-a5bd-c31fe47d828f/incoming/original.pdf","template":"unknown","session":"d3650cd0-d3c3-48ca-aa8e-89e586f50446","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3650cd0-d3c3-48ca-aa8e-89e586f50446","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.965Z","level":"info","message":"resume_text_extracted","requestId":"db112467-1c3b-4036-a5bd-c31fe47d828f","jobId":"d3650cd0-d3c3-48ca-aa8e-89e586f50446","characters":70,"template":"unknown","session":"d3650cd0-d3c3-48ca-aa8e-89e586f50446","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3650cd0-d3c3-48ca-aa8e-89e586f50446","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.966Z","level":"info","message":"document_classification_ai_metrics","requestId":"db112467-1c3b-4036-a5bd-c31fe47d828f","jobId":"d3650cd0-d3c3-48ca-aa8e-89e586f50446","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"6e7cfda39efd36ecdd0998d74c5dc8668e761fe838cd589d1b8e87517f67efbf","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"d3650cd0-d3c3-48ca-aa8e-89e586f50446","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"d3650cd0-d3c3-48ca-aa8e-89e586f50446","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.966Z","level":"info","message":"resume_classified","requestId":"db112467-1c3b-4036-a5bd-c31fe47d828f","jobId":"d3650cd0-d3c3-48ca-aa8e-89e586f50446","isResume":false,"description":"an invoice document","confidence":0.4,"accepted":false,"overridden":false,"template":"unknown","session":"d3650cd0-d3c3-48ca-aa8e-89e586f50446","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3650cd0-d3c3-48ca-aa8e-89e586f50446","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:17:36.967Z","level":"warn","message":"resume_validation_failed","requestId":"db112467-1c3b-4036-a5bd-c31fe47d828f","jobId":"d3650cd0-d3c3-48ca-aa8e-89e586f50446","reason":"not_identified_as_resume","description":"an invoice document","confidence":0.4,"wordCount":12,"invalidKey":"invalid/candidate/2025-12-04/db112467-1c3b-4036-a5bd-c31fe47d828f/an-invoice-f98e001c-613c-4022-bd73-8fdc4b318c48.pdf","classification":"an invoice","template":"unknown","session":"d3650cd0-d3c3-48ca-aa8e-89e586f50446","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3650cd0-d3c3-48ca-aa8e-89e586f50446","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25667:9
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:17:36.975Z","level":"warn","message":"api_error_response","requestId":"db112467-1c3b-4036-a5bd-c31fe47d828f","jobId":"d3650cd0-d3c3-48ca-aa8e-89e586f50446","status":400,"error":{"code":"INVALID_RESUME_CONTENT","message":"You have uploaded an invoice document (classified as \"invoice\"). Detected invoice document keywords such as \"invoice\", \"bill to\", and \"payment terms\". Please upload a correct CV or resume to continue.","details":{"description":"an invoice document","confidence":0.4,"reason":"Detected invoice document keywords such as \"invoice\", \"bill to\", and \"payment terms\".","classification":"an invoice","className":"invoice","storageKey":"invalid/candidate/2025-12-04/db112467-1c3b-4036-a5bd-c31fe47d828f/an-invoice-f98e001c-613c-4022-bd73-8fdc4b318c48.pdf","invalidStorageKey":"invalid/candidate/2025-12-04/db112467-1c3b-4036-a5bd-c31fe47d828f/an-invoice-f98e001c-613c-4022-bd73-8fdc4b318c48.pdf"},"requestId":"db112467-1c3b-4036-a5bd-c31fe47d828f","jobId":"d3650cd0-d3c3-48ca-aa8e-89e586f50446"},"template":"unknown","session":"d3650cd0-d3c3-48ca-aa8e-89e586f50446","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3650cd0-d3c3-48ca-aa8e-89e586f50446","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at sendError (server.js:3965:3)
      at server.js:25742:14
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:36.980Z","level":"info","message":"http_request_completed","requestId":"db112467-1c3b-4036-a5bd-c31fe47d828f","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":39,"contentLength":"871","template":"unknown","session":"db112467-1c3b-4036-a5bd-c31fe47d828f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db112467-1c3b-4036-a5bd-c31fe47d828f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.983Z","level":"info","message":"http_request_received","requestId":"14adf134-a61f-4c9e-8402-69661dedaa94","method":"POST","path":"/api/process-cv","template":"unknown","session":"14adf134-a61f-4c9e-8402-69661dedaa94","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"14adf134-a61f-4c9e-8402-69661dedaa94","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.984Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.985Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.986Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.988Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:36.989Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/14adf134-a61f-4c9e-8402-69661dedaa94/incoming/original.pdf","chunks":1,"timestamp":1764854256991}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":203,"durationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/14adf134-a61f-4c9e-8402-69661dedaa94/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/14adf134-a61f-4c9e-8402-69661dedaa94/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":4}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.002Z","level":"info","message":"process_cv_started","requestId":"14adf134-a61f-4c9e-8402-69661dedaa94","jobId":"3e581426-dd5c-4b22-8f30-84f317b697b2","manualJobDescriptionProvided":true,"template":"unknown","session":"3e581426-dd5c-4b22-8f30-84f317b697b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3e581426-dd5c-4b22-8f30-84f317b697b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.003Z","level":"info","message":"template_selection","requestId":"14adf134-a61f-4c9e-8402-69661dedaa94","jobId":"3e581426-dd5c-4b22-8f30-84f317b697b2","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"3e581426-dd5c-4b22-8f30-84f317b697b2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3e581426-dd5c-4b22-8f30-84f317b697b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.003Z","level":"info","message":"initial_upload_completed","requestId":"14adf134-a61f-4c9e-8402-69661dedaa94","jobId":"3e581426-dd5c-4b22-8f30-84f317b697b2","bucket":"test-bucket","key":"cv/candidate/14adf134-a61f-4c9e-8402-69661dedaa94/incoming/original.pdf","template":"unknown","session":"3e581426-dd5c-4b22-8f30-84f317b697b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3e581426-dd5c-4b22-8f30-84f317b697b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.004Z","level":"info","message":"resume_text_extracted","requestId":"14adf134-a61f-4c9e-8402-69661dedaa94","jobId":"3e581426-dd5c-4b22-8f30-84f317b697b2","characters":52,"template":"unknown","session":"3e581426-dd5c-4b22-8f30-84f317b697b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3e581426-dd5c-4b22-8f30-84f317b697b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.005Z","level":"info","message":"document_classification_ai_metrics","requestId":"14adf134-a61f-4c9e-8402-69661dedaa94","jobId":"3e581426-dd5c-4b22-8f30-84f317b697b2","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"b660b3e8ecbc83aad9e6543dcb4a0d862627f82012d98cdb58b183fb5f0cc539","outputDigest":"ce4b8bd954f55aa4d760051876705884299536b3f182fa6f09cbd2aaee0a6b16","latencyMs":0,"isResume":false,"confidence":0.2,"template":"document_classification","session":"3e581426-dd5c-4b22-8f30-84f317b697b2","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"3e581426-dd5c-4b22-8f30-84f317b697b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.005Z","level":"info","message":"resume_classified","requestId":"14adf134-a61f-4c9e-8402-69661dedaa94","jobId":"3e581426-dd5c-4b22-8f30-84f317b697b2","isResume":false,"description":"a short memo","confidence":0.2,"accepted":false,"overridden":false,"template":"unknown","session":"3e581426-dd5c-4b22-8f30-84f317b697b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3e581426-dd5c-4b22-8f30-84f317b697b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:17:37.005Z","level":"warn","message":"resume_validation_failed","requestId":"14adf134-a61f-4c9e-8402-69661dedaa94","jobId":"3e581426-dd5c-4b22-8f30-84f317b697b2","reason":"not_identified_as_resume","description":"a short memo","confidence":0.2,"wordCount":9,"invalidKey":"invalid/candidate/2025-12-04/14adf134-a61f-4c9e-8402-69661dedaa94/a-short-memo-fcac3116-6b4c-421a-9f58-9e494fed9a80.docx","classification":"a short memo","template":"unknown","session":"3e581426-dd5c-4b22-8f30-84f317b697b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3e581426-dd5c-4b22-8f30-84f317b697b2","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25667:9
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:17:37.011Z","level":"warn","message":"api_error_response","requestId":"14adf134-a61f-4c9e-8402-69661dedaa94","jobId":"3e581426-dd5c-4b22-8f30-84f317b697b2","status":400,"error":{"code":"INVALID_RESUME_CONTENT","message":"You have uploaded a short memo document (classified as \"short_memo\"). Missing resume structure. Please upload a correct CV or resume to continue.","details":{"description":"a short memo","confidence":0.2,"reason":"Missing resume structure.","classification":"a short memo","className":"short_memo","storageKey":"invalid/candidate/2025-12-04/14adf134-a61f-4c9e-8402-69661dedaa94/a-short-memo-fcac3116-6b4c-421a-9f58-9e494fed9a80.docx","invalidStorageKey":"invalid/candidate/2025-12-04/14adf134-a61f-4c9e-8402-69661dedaa94/a-short-memo-fcac3116-6b4c-421a-9f58-9e494fed9a80.docx"},"requestId":"14adf134-a61f-4c9e-8402-69661dedaa94","jobId":"3e581426-dd5c-4b22-8f30-84f317b697b2"},"template":"unknown","session":"3e581426-dd5c-4b22-8f30-84f317b697b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3e581426-dd5c-4b22-8f30-84f317b697b2","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at sendError (server.js:3965:3)
      at server.js:25742:14
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.017Z","level":"info","message":"http_request_completed","requestId":"14adf134-a61f-4c9e-8402-69661dedaa94","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":34,"contentLength":"748","template":"unknown","session":"14adf134-a61f-4c9e-8402-69661dedaa94","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"14adf134-a61f-4c9e-8402-69661dedaa94","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.020Z","level":"info","message":"http_request_received","requestId":"db145151-50a3-4121-87d0-9f4d3c31751f","method":"POST","path":"/api/process-cv","template":"unknown","session":"db145151-50a3-4121-87d0-9f4d3c31751f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db145151-50a3-4121-87d0-9f4d3c31751f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.021Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.022Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.023Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.024Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.026Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/db145151-50a3-4121-87d0-9f4d3c31751f/incoming/original.pdf","chunks":1,"timestamp":1764854257028}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/db145151-50a3-4121-87d0-9f4d3c31751f/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/db145151-50a3-4121-87d0-9f4d3c31751f/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.029Z","level":"info","message":"process_cv_started","requestId":"db145151-50a3-4121-87d0-9f4d3c31751f","jobId":"f8336d88-e6ba-446a-ae0a-30d3e092ed6f","manualJobDescriptionProvided":false,"template":"unknown","session":"f8336d88-e6ba-446a-ae0a-30d3e092ed6f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f8336d88-e6ba-446a-ae0a-30d3e092ed6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.030Z","level":"info","message":"template_selection","requestId":"db145151-50a3-4121-87d0-9f4d3c31751f","jobId":"f8336d88-e6ba-446a-ae0a-30d3e092ed6f","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"f8336d88-e6ba-446a-ae0a-30d3e092ed6f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f8336d88-e6ba-446a-ae0a-30d3e092ed6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:37.030Z","level":"warn","message":"job_description_missing","requestId":"db145151-50a3-4121-87d0-9f4d3c31751f","jobId":"f8336d88-e6ba-446a-ae0a-30d3e092ed6f","template":"unknown","session":"f8336d88-e6ba-446a-ae0a-30d3e092ed6f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f8336d88-e6ba-446a-ae0a-30d3e092ed6f","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25096:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T13:17:37.036Z","level":"warn","message":"api_error_response","requestId":"db145151-50a3-4121-87d0-9f4d3c31751f","jobId":"f8336d88-e6ba-446a-ae0a-30d3e092ed6f","status":400,"error":{"code":"JOB_DESCRIPTION_REQUIRED","message":"manualJobDescription required","details":{"field":"manualJobDescription"},"requestId":"db145151-50a3-4121-87d0-9f4d3c31751f","jobId":"f8336d88-e6ba-446a-ae0a-30d3e092ed6f"},"template":"unknown","session":"f8336d88-e6ba-446a-ae0a-30d3e092ed6f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f8336d88-e6ba-446a-ae0a-30d3e092ed6f","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at sendError (server.js:3965:3)
      at server.js:25097:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:17:37.042Z","level":"info","message":"http_request_completed","requestId":"db145151-50a3-4121-87d0-9f4d3c31751f","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":22,"contentLength":"244","template":"unknown","session":"db145151-50a3-4121-87d0-9f4d3c31751f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db145151-50a3-4121-87d0-9f4d3c31751f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.044Z","level":"info","message":"http_request_received","requestId":"9772be80-1a49-45c8-998e-4e41ffe69130","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"9772be80-1a49-45c8-998e-4e41ffe69130","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9772be80-1a49-45c8-998e-4e41ffe69130","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.044Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.046Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.047Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.048Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.049Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:37.051Z","level":"warn","message":"api_error_response","requestId":"9772be80-1a49-45c8-998e-4e41ffe69130","jobId":"bc8db7a0-fd5f-42a4-86bc-b59151f49fbc","status":400,"error":{"code":"JOB_ID_REQUIRED","message":"jobId is required to generate enhanced documents.","details":{},"requestId":"9772be80-1a49-45c8-998e-4e41ffe69130","jobId":"bc8db7a0-fd5f-42a4-86bc-b59151f49fbc"},"template":"unknown","session":"bc8db7a0-fd5f-42a4-86bc-b59151f49fbc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bc8db7a0-fd5f-42a4-86bc-b59151f49fbc","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at sendError (server.js:3965:3)
      at server.js:22506:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at assignJobContext (server.js:16418:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at serveStatic (node_modules/serve-static/index.js:75:16)
      at server.js:4953:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at tryServeHashedIndexAssetFromS3 (server.js:1187:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at serveIndexAssetAlias (server.js:1522:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4935:5
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4929:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at urlencodedParser (node_modules/body-parser/lib/types/urlencoded.js:85:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/body-parser/lib/read.js:137:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

  console.log
    {"timestamp":"2025-12-04T13:17:37.061Z","level":"info","message":"http_request_completed","requestId":"9772be80-1a49-45c8-998e-4e41ffe69130","method":"POST","path":"/api/generate-enhanced-docs","statusCode":400,"durationMs":17,"contentLength":"225","template":"unknown","session":"9772be80-1a49-45c8-998e-4e41ffe69130","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9772be80-1a49-45c8-998e-4e41ffe69130","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.063Z","level":"info","message":"http_request_received","requestId":"6a8980ad-4124-4252-9bbd-310acee617b0","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.064Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.068Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.072Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.073Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.074Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:37.076Z","level":"warn","message":"generation_job_context_missing","requestId":"6a8980ad-4124-4252-9bbd-310acee617b0","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:22698:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.084Z","level":"info","message":"llm_call_metrics","requestId":"6a8980ad-4124-4252-9bbd-310acee617b0","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"7ff1a2fe49f8d71808c8d1fdb99db5320bf5a75739ee80e7efed665ea9588077","outputDigest":"5af248b63fed3c73350376c1d32988fbeb95f6a40181a19b7e450c5651a56ea6","addedSkillCount":0,"template":"resume_rewrite","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.084Z","level":"info","message":"generation_section_rewrite_completed","requestId":"6a8980ad-4124-4252-9bbd-310acee617b0","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6a8980ad-4124-4252-9bbd-310acee617b0","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.086Z","level":"info","message":"generation_resume_verified","requestId":"6a8980ad-4124-4252-9bbd-310acee617b0","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6a8980ad-4124-4252-9bbd-310acee617b0","template":"unknown","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:17:37.089Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"6a8980ad-4124-4252-9bbd-310acee617b0","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6a8980ad-4124-4252-9bbd-310acee617b0","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
          at runMicrotasks (<anonymous>)
      at server.js:23001:28

  console.log
    {"timestamp":"2025-12-04T13:17:37.095Z","level":"info","message":"generation_cover_letters_completed","requestId":"6a8980ad-4124-4252-9bbd-310acee617b0","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6a8980ad-4124-4252-9bbd-310acee617b0","variants":2,"fallbackApplied":true,"template":"unknown","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.095Z","level":"info","message":"pdf_generation_attempt","requestId":"6a8980ad-4124-4252-9bbd-310acee617b0","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6a8980ad-4124-4252-9bbd-310acee617b0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/6a8980ad-4124-4252-9bbd-310acee617b0/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jane_doe/6a8980ad-4124-4252-9bbd-310acee617b0/enhanced_modern.pdf","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.096Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6a8980ad-4124-4252-9bbd-310acee617b0","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6a8980ad-4124-4252-9bbd-310acee617b0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/6a8980ad-4124-4252-9bbd-310acee617b0/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.096Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6a8980ad-4124-4252-9bbd-310acee617b0","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6a8980ad-4124-4252-9bbd-310acee617b0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/6a8980ad-4124-4252-9bbd-310acee617b0/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jane_doe/6a8980ad-4124-4252-9bbd-310acee617b0/enhanced_modern.pdf","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.097Z","level":"info","message":"pdf_generation_attempt","requestId":"6a8980ad-4124-4252-9bbd-310acee617b0","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6a8980ad-4124-4252-9bbd-310acee617b0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/6a8980ad-4124-4252-9bbd-310acee617b0/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jane_doe/6a8980ad-4124-4252-9bbd-310acee617b0/enhanced_professional.pdf","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.097Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6a8980ad-4124-4252-9bbd-310acee617b0","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6a8980ad-4124-4252-9bbd-310acee617b0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/6a8980ad-4124-4252-9bbd-310acee617b0/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.098Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6a8980ad-4124-4252-9bbd-310acee617b0","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6a8980ad-4124-4252-9bbd-310acee617b0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/6a8980ad-4124-4252-9bbd-310acee617b0/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jane_doe/6a8980ad-4124-4252-9bbd-310acee617b0/enhanced_professional.pdf","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.098Z","level":"info","message":"pdf_generation_attempt","requestId":"6a8980ad-4124-4252-9bbd-310acee617b0","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6a8980ad-4124-4252-9bbd-310acee617b0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/6a8980ad-4124-4252-9bbd-310acee617b0/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jane_doe/6a8980ad-4124-4252-9bbd-310acee617b0/cover_letter_cover_modern.pdf","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.098Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6a8980ad-4124-4252-9bbd-310acee617b0","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6a8980ad-4124-4252-9bbd-310acee617b0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/6a8980ad-4124-4252-9bbd-310acee617b0/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.099Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6a8980ad-4124-4252-9bbd-310acee617b0","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6a8980ad-4124-4252-9bbd-310acee617b0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/6a8980ad-4124-4252-9bbd-310acee617b0/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jane_doe/6a8980ad-4124-4252-9bbd-310acee617b0/cover_letter_cover_modern.pdf","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.099Z","level":"info","message":"pdf_generation_attempt","requestId":"6a8980ad-4124-4252-9bbd-310acee617b0","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6a8980ad-4124-4252-9bbd-310acee617b0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/6a8980ad-4124-4252-9bbd-310acee617b0/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jane_doe/6a8980ad-4124-4252-9bbd-310acee617b0/cover_letter_cover_professional.pdf","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.100Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6a8980ad-4124-4252-9bbd-310acee617b0","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6a8980ad-4124-4252-9bbd-310acee617b0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/6a8980ad-4124-4252-9bbd-310acee617b0/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.100Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6a8980ad-4124-4252-9bbd-310acee617b0","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6a8980ad-4124-4252-9bbd-310acee617b0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/6a8980ad-4124-4252-9bbd-310acee617b0/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jane_doe/6a8980ad-4124-4252-9bbd-310acee617b0/cover_letter_cover_professional.pdf","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.102Z","level":"info","message":"llm_call_metrics","requestId":"6a8980ad-4124-4252-9bbd-310acee617b0","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.103Z","level":"info","message":"generation_completed","requestId":"6a8980ad-4124-4252-9bbd-310acee617b0","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6a8980ad-4124-4252-9bbd-310acee617b0","enhancedScore":0,"outputs":4,"template":"unknown","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.106Z","level":"info","message":"http_request_completed","requestId":"6a8980ad-4124-4252-9bbd-310acee617b0","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":43,"contentLength":"55422","template":"unknown","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6a8980ad-4124-4252-9bbd-310acee617b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.109Z","level":"info","message":"http_request_received","requestId":"0580988e-a4e6-49f1-b140-93b2380555ee","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.110Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.111Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.112Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.113Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.114Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:37.115Z","level":"warn","message":"generation_job_context_missing","requestId":"0580988e-a4e6-49f1-b140-93b2380555ee","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:22698:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.126Z","level":"info","message":"llm_call_metrics","requestId":"0580988e-a4e6-49f1-b140-93b2380555ee","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.126Z","level":"info","message":"generation_section_rewrite_completed","requestId":"0580988e-a4e6-49f1-b140-93b2380555ee","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0580988e-a4e6-49f1-b140-93b2380555ee","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.129Z","level":"info","message":"generation_resume_verified","requestId":"0580988e-a4e6-49f1-b140-93b2380555ee","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0580988e-a4e6-49f1-b140-93b2380555ee","template":"unknown","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:17:37.138Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"0580988e-a4e6-49f1-b140-93b2380555ee","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0580988e-a4e6-49f1-b140-93b2380555ee","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
          at runMicrotasks (<anonymous>)
      at server.js:23001:28

  console.log
    {"timestamp":"2025-12-04T13:17:37.143Z","level":"info","message":"generation_cover_letters_completed","requestId":"0580988e-a4e6-49f1-b140-93b2380555ee","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0580988e-a4e6-49f1-b140-93b2380555ee","variants":2,"fallbackApplied":true,"template":"unknown","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.143Z","level":"info","message":"pdf_generation_attempt","requestId":"0580988e-a4e6-49f1-b140-93b2380555ee","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0580988e-a4e6-49f1-b140-93b2380555ee","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/0580988e-a4e6-49f1-b140-93b2380555ee/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/0580988e-a4e6-49f1-b140-93b2380555ee/enhanced_modern.pdf","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.144Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0580988e-a4e6-49f1-b140-93b2380555ee","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0580988e-a4e6-49f1-b140-93b2380555ee","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/0580988e-a4e6-49f1-b140-93b2380555ee/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.144Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0580988e-a4e6-49f1-b140-93b2380555ee","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0580988e-a4e6-49f1-b140-93b2380555ee","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/0580988e-a4e6-49f1-b140-93b2380555ee/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/0580988e-a4e6-49f1-b140-93b2380555ee/enhanced_modern.pdf","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.145Z","level":"info","message":"pdf_generation_attempt","requestId":"0580988e-a4e6-49f1-b140-93b2380555ee","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0580988e-a4e6-49f1-b140-93b2380555ee","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/0580988e-a4e6-49f1-b140-93b2380555ee/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/0580988e-a4e6-49f1-b140-93b2380555ee/enhanced_professional.pdf","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.145Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0580988e-a4e6-49f1-b140-93b2380555ee","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0580988e-a4e6-49f1-b140-93b2380555ee","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/0580988e-a4e6-49f1-b140-93b2380555ee/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.146Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0580988e-a4e6-49f1-b140-93b2380555ee","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0580988e-a4e6-49f1-b140-93b2380555ee","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/0580988e-a4e6-49f1-b140-93b2380555ee/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/0580988e-a4e6-49f1-b140-93b2380555ee/enhanced_professional.pdf","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.146Z","level":"info","message":"pdf_generation_attempt","requestId":"0580988e-a4e6-49f1-b140-93b2380555ee","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0580988e-a4e6-49f1-b140-93b2380555ee","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/0580988e-a4e6-49f1-b140-93b2380555ee/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/0580988e-a4e6-49f1-b140-93b2380555ee/cover_letter_cover_modern.pdf","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.146Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0580988e-a4e6-49f1-b140-93b2380555ee","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0580988e-a4e6-49f1-b140-93b2380555ee","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/0580988e-a4e6-49f1-b140-93b2380555ee/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.147Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0580988e-a4e6-49f1-b140-93b2380555ee","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0580988e-a4e6-49f1-b140-93b2380555ee","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/0580988e-a4e6-49f1-b140-93b2380555ee/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/0580988e-a4e6-49f1-b140-93b2380555ee/cover_letter_cover_modern.pdf","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.147Z","level":"info","message":"pdf_generation_attempt","requestId":"0580988e-a4e6-49f1-b140-93b2380555ee","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0580988e-a4e6-49f1-b140-93b2380555ee","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/0580988e-a4e6-49f1-b140-93b2380555ee/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/0580988e-a4e6-49f1-b140-93b2380555ee/cover_letter_cover_professional.pdf","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.148Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0580988e-a4e6-49f1-b140-93b2380555ee","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0580988e-a4e6-49f1-b140-93b2380555ee","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/0580988e-a4e6-49f1-b140-93b2380555ee/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.148Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0580988e-a4e6-49f1-b140-93b2380555ee","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0580988e-a4e6-49f1-b140-93b2380555ee","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/0580988e-a4e6-49f1-b140-93b2380555ee/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/0580988e-a4e6-49f1-b140-93b2380555ee/cover_letter_cover_professional.pdf","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.153Z","level":"info","message":"llm_call_metrics","requestId":"0580988e-a4e6-49f1-b140-93b2380555ee","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.154Z","level":"info","message":"generation_completed","requestId":"0580988e-a4e6-49f1-b140-93b2380555ee","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0580988e-a4e6-49f1-b140-93b2380555ee","enhancedScore":0,"outputs":4,"template":"unknown","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.156Z","level":"info","message":"http_request_completed","requestId":"0580988e-a4e6-49f1-b140-93b2380555ee","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":47,"contentLength":"60025","template":"unknown","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0580988e-a4e6-49f1-b140-93b2380555ee","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.159Z","level":"info","message":"http_request_received","requestId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.160Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.161Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.162Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.164Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.164Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:37.165Z","level":"warn","message":"generation_job_context_missing","requestId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:22698:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.173Z","level":"info","message":"llm_call_metrics","requestId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.174Z","level":"info","message":"generation_section_rewrite_completed","requestId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.176Z","level":"info","message":"generation_resume_verified","requestId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","template":"unknown","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:17:37.180Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","invalidLetters":[{"key":"cover_letter1","issues":["placeholder_detected","weak_closing","section_heading_without_content"]}],"template":"unknown","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
          at runMicrotasks (<anonymous>)
      at server.js:23001:28

  console.warn
    {"timestamp":"2025-12-04T13:17:37.186Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","missing":["cover_letter1"],"template":"unknown","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
          at runMicrotasks (<anonymous>)
      at server.js:23001:28

  console.log
    {"timestamp":"2025-12-04T13:17:37.191Z","level":"info","message":"generation_cover_letters_completed","requestId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","variants":2,"fallbackApplied":true,"template":"unknown","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.191Z","level":"info","message":"pdf_generation_attempt","requestId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/621df2fa-9a1c-4af8-8d97-a1eaac553344/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/621df2fa-9a1c-4af8-8d97-a1eaac553344/enhanced_modern.pdf","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.192Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/621df2fa-9a1c-4af8-8d97-a1eaac553344/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.193Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/621df2fa-9a1c-4af8-8d97-a1eaac553344/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/621df2fa-9a1c-4af8-8d97-a1eaac553344/enhanced_modern.pdf","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.193Z","level":"info","message":"pdf_generation_attempt","requestId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/621df2fa-9a1c-4af8-8d97-a1eaac553344/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/621df2fa-9a1c-4af8-8d97-a1eaac553344/enhanced_professional.pdf","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.194Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/621df2fa-9a1c-4af8-8d97-a1eaac553344/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.194Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/621df2fa-9a1c-4af8-8d97-a1eaac553344/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/621df2fa-9a1c-4af8-8d97-a1eaac553344/enhanced_professional.pdf","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.194Z","level":"info","message":"pdf_generation_attempt","requestId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/621df2fa-9a1c-4af8-8d97-a1eaac553344/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/621df2fa-9a1c-4af8-8d97-a1eaac553344/cover_letter_cover_modern.pdf","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.195Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/621df2fa-9a1c-4af8-8d97-a1eaac553344/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.195Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/621df2fa-9a1c-4af8-8d97-a1eaac553344/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/621df2fa-9a1c-4af8-8d97-a1eaac553344/cover_letter_cover_modern.pdf","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.196Z","level":"info","message":"pdf_generation_attempt","requestId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/621df2fa-9a1c-4af8-8d97-a1eaac553344/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/621df2fa-9a1c-4af8-8d97-a1eaac553344/cover_letter_cover_professional.pdf","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.196Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/621df2fa-9a1c-4af8-8d97-a1eaac553344/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.197Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/621df2fa-9a1c-4af8-8d97-a1eaac553344/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/621df2fa-9a1c-4af8-8d97-a1eaac553344/cover_letter_cover_professional.pdf","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.199Z","level":"info","message":"llm_call_metrics","requestId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.200Z","level":"info","message":"generation_completed","requestId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","enhancedScore":0,"outputs":4,"template":"unknown","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.202Z","level":"info","message":"http_request_completed","requestId":"621df2fa-9a1c-4af8-8d97-a1eaac553344","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":43,"contentLength":"52626","template":"unknown","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"621df2fa-9a1c-4af8-8d97-a1eaac553344","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.205Z","level":"info","message":"http_request_received","requestId":"77369db0-9ad5-4bba-a83f-56eb067294e3","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.206Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.207Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.208Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.210Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.210Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:37.212Z","level":"warn","message":"generation_job_context_missing","requestId":"77369db0-9ad5-4bba-a83f-56eb067294e3","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:22698:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.219Z","level":"info","message":"llm_call_metrics","requestId":"77369db0-9ad5-4bba-a83f-56eb067294e3","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.220Z","level":"info","message":"generation_section_rewrite_completed","requestId":"77369db0-9ad5-4bba-a83f-56eb067294e3","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"77369db0-9ad5-4bba-a83f-56eb067294e3","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.222Z","level":"info","message":"generation_resume_verified","requestId":"77369db0-9ad5-4bba-a83f-56eb067294e3","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"77369db0-9ad5-4bba-a83f-56eb067294e3","template":"unknown","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:17:37.226Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"77369db0-9ad5-4bba-a83f-56eb067294e3","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"77369db0-9ad5-4bba-a83f-56eb067294e3","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing"]}],"template":"unknown","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
          at runMicrotasks (<anonymous>)
      at server.js:23001:28

  console.log
    {"timestamp":"2025-12-04T13:17:37.231Z","level":"info","message":"generation_cover_letters_confident_closing_applied","requestId":"77369db0-9ad5-4bba-a83f-56eb067294e3","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"77369db0-9ad5-4bba-a83f-56eb067294e3","variants":["cover_letter1"],"template":"unknown","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.233Z","level":"info","message":"generation_cover_letters_completed","requestId":"77369db0-9ad5-4bba-a83f-56eb067294e3","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"77369db0-9ad5-4bba-a83f-56eb067294e3","variants":2,"fallbackApplied":true,"template":"unknown","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.233Z","level":"info","message":"pdf_generation_attempt","requestId":"77369db0-9ad5-4bba-a83f-56eb067294e3","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"77369db0-9ad5-4bba-a83f-56eb067294e3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/77369db0-9ad5-4bba-a83f-56eb067294e3/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/77369db0-9ad5-4bba-a83f-56eb067294e3/enhanced_modern.pdf","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.234Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"77369db0-9ad5-4bba-a83f-56eb067294e3","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"77369db0-9ad5-4bba-a83f-56eb067294e3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/77369db0-9ad5-4bba-a83f-56eb067294e3/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.234Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"77369db0-9ad5-4bba-a83f-56eb067294e3","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"77369db0-9ad5-4bba-a83f-56eb067294e3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/77369db0-9ad5-4bba-a83f-56eb067294e3/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/77369db0-9ad5-4bba-a83f-56eb067294e3/enhanced_modern.pdf","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.235Z","level":"info","message":"pdf_generation_attempt","requestId":"77369db0-9ad5-4bba-a83f-56eb067294e3","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"77369db0-9ad5-4bba-a83f-56eb067294e3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/77369db0-9ad5-4bba-a83f-56eb067294e3/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/77369db0-9ad5-4bba-a83f-56eb067294e3/enhanced_professional.pdf","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.236Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"77369db0-9ad5-4bba-a83f-56eb067294e3","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"77369db0-9ad5-4bba-a83f-56eb067294e3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/77369db0-9ad5-4bba-a83f-56eb067294e3/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.236Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"77369db0-9ad5-4bba-a83f-56eb067294e3","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"77369db0-9ad5-4bba-a83f-56eb067294e3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/77369db0-9ad5-4bba-a83f-56eb067294e3/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/77369db0-9ad5-4bba-a83f-56eb067294e3/enhanced_professional.pdf","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.237Z","level":"info","message":"pdf_generation_attempt","requestId":"77369db0-9ad5-4bba-a83f-56eb067294e3","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"77369db0-9ad5-4bba-a83f-56eb067294e3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/77369db0-9ad5-4bba-a83f-56eb067294e3/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/77369db0-9ad5-4bba-a83f-56eb067294e3/cover_letter_cover_modern.pdf","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.237Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"77369db0-9ad5-4bba-a83f-56eb067294e3","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"77369db0-9ad5-4bba-a83f-56eb067294e3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/77369db0-9ad5-4bba-a83f-56eb067294e3/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.238Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"77369db0-9ad5-4bba-a83f-56eb067294e3","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"77369db0-9ad5-4bba-a83f-56eb067294e3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/77369db0-9ad5-4bba-a83f-56eb067294e3/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/77369db0-9ad5-4bba-a83f-56eb067294e3/cover_letter_cover_modern.pdf","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.238Z","level":"info","message":"pdf_generation_attempt","requestId":"77369db0-9ad5-4bba-a83f-56eb067294e3","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"77369db0-9ad5-4bba-a83f-56eb067294e3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/77369db0-9ad5-4bba-a83f-56eb067294e3/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/77369db0-9ad5-4bba-a83f-56eb067294e3/cover_letter_cover_professional.pdf","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.239Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"77369db0-9ad5-4bba-a83f-56eb067294e3","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"77369db0-9ad5-4bba-a83f-56eb067294e3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/77369db0-9ad5-4bba-a83f-56eb067294e3/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.239Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"77369db0-9ad5-4bba-a83f-56eb067294e3","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"77369db0-9ad5-4bba-a83f-56eb067294e3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/77369db0-9ad5-4bba-a83f-56eb067294e3/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/77369db0-9ad5-4bba-a83f-56eb067294e3/cover_letter_cover_professional.pdf","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.241Z","level":"info","message":"llm_call_metrics","requestId":"77369db0-9ad5-4bba-a83f-56eb067294e3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.242Z","level":"info","message":"generation_completed","requestId":"77369db0-9ad5-4bba-a83f-56eb067294e3","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"77369db0-9ad5-4bba-a83f-56eb067294e3","enhancedScore":0,"outputs":4,"template":"unknown","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.243Z","level":"info","message":"http_request_completed","requestId":"77369db0-9ad5-4bba-a83f-56eb067294e3","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":38,"contentLength":"48347","template":"unknown","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"77369db0-9ad5-4bba-a83f-56eb067294e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.246Z","level":"info","message":"http_request_received","requestId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.247Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.248Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.249Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.251Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.251Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:37.252Z","level":"warn","message":"generation_job_context_missing","requestId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:22698:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.260Z","level":"info","message":"llm_call_metrics","requestId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.260Z","level":"info","message":"generation_section_rewrite_completed","requestId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.263Z","level":"info","message":"generation_resume_verified","requestId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","template":"unknown","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:17:37.278Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","invalidLetters":[{"key":"cover_letter1","issues":["exceeds_word_limit"]},{"key":"cover_letter2","issues":["exceeds_word_limit"]}],"template":"unknown","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
          at runMicrotasks (<anonymous>)
      at server.js:23001:28

  console.warn
    {"timestamp":"2025-12-04T13:17:37.285Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
          at runMicrotasks (<anonymous>)
      at server.js:23001:28

  console.log
    {"timestamp":"2025-12-04T13:17:37.290Z","level":"info","message":"generation_cover_letters_completed","requestId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","variants":2,"fallbackApplied":true,"template":"unknown","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.290Z","level":"info","message":"pdf_generation_attempt","requestId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/2e226b3c-aa87-44fc-84a2-23214e6d3f2b/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/2e226b3c-aa87-44fc-84a2-23214e6d3f2b/enhanced_modern.pdf","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.291Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/2e226b3c-aa87-44fc-84a2-23214e6d3f2b/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.291Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/2e226b3c-aa87-44fc-84a2-23214e6d3f2b/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/2e226b3c-aa87-44fc-84a2-23214e6d3f2b/enhanced_modern.pdf","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.292Z","level":"info","message":"pdf_generation_attempt","requestId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/2e226b3c-aa87-44fc-84a2-23214e6d3f2b/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/2e226b3c-aa87-44fc-84a2-23214e6d3f2b/enhanced_professional.pdf","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.292Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/2e226b3c-aa87-44fc-84a2-23214e6d3f2b/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.293Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/2e226b3c-aa87-44fc-84a2-23214e6d3f2b/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/2e226b3c-aa87-44fc-84a2-23214e6d3f2b/enhanced_professional.pdf","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.293Z","level":"info","message":"pdf_generation_attempt","requestId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/2e226b3c-aa87-44fc-84a2-23214e6d3f2b/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/2e226b3c-aa87-44fc-84a2-23214e6d3f2b/cover_letter_cover_modern.pdf","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.293Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/2e226b3c-aa87-44fc-84a2-23214e6d3f2b/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.294Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/2e226b3c-aa87-44fc-84a2-23214e6d3f2b/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/2e226b3c-aa87-44fc-84a2-23214e6d3f2b/cover_letter_cover_modern.pdf","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.294Z","level":"info","message":"pdf_generation_attempt","requestId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/2e226b3c-aa87-44fc-84a2-23214e6d3f2b/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/2e226b3c-aa87-44fc-84a2-23214e6d3f2b/cover_letter_cover_professional.pdf","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.295Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/2e226b3c-aa87-44fc-84a2-23214e6d3f2b/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.295Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/2e226b3c-aa87-44fc-84a2-23214e6d3f2b/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/2e226b3c-aa87-44fc-84a2-23214e6d3f2b/cover_letter_cover_professional.pdf","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.302Z","level":"info","message":"llm_call_metrics","requestId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.302Z","level":"info","message":"generation_completed","requestId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","enhancedScore":0,"outputs":4,"template":"unknown","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.304Z","level":"info","message":"http_request_completed","requestId":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":58,"contentLength":"60025","template":"unknown","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e226b3c-aa87-44fc-84a2-23214e6d3f2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.306Z","level":"info","message":"http_request_received","requestId":"2f269664-9318-419f-a1bc-de9bf4f0db0d","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"2f269664-9318-419f-a1bc-de9bf4f0db0d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2f269664-9318-419f-a1bc-de9bf4f0db0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.307Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.309Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.310Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.311Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.312Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:37.313Z","level":"warn","message":"generation_job_context_missing","requestId":"2f269664-9318-419f-a1bc-de9bf4f0db0d","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"2f269664-9318-419f-a1bc-de9bf4f0db0d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2f269664-9318-419f-a1bc-de9bf4f0db0d","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:22698:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.320Z","level":"info","message":"llm_call_metrics","requestId":"2f269664-9318-419f-a1bc-de9bf4f0db0d","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d49fc3c9f3e6b68c516d8ed2277f352be0cdf73d24dc9159a6ddd8d2156f86c9","outputDigest":"df45602e27dd18441258611754779b1df94aaddbe2a7ac6965c12432f6053bc4","addedSkillCount":0,"template":"resume_rewrite","session":"2f269664-9318-419f-a1bc-de9bf4f0db0d","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"2f269664-9318-419f-a1bc-de9bf4f0db0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.320Z","level":"info","message":"generation_section_rewrite_completed","requestId":"2f269664-9318-419f-a1bc-de9bf4f0db0d","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2f269664-9318-419f-a1bc-de9bf4f0db0d","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"2f269664-9318-419f-a1bc-de9bf4f0db0d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2f269664-9318-419f-a1bc-de9bf4f0db0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.322Z","level":"info","message":"generation_resume_verified","requestId":"2f269664-9318-419f-a1bc-de9bf4f0db0d","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2f269664-9318-419f-a1bc-de9bf4f0db0d","template":"unknown","session":"2f269664-9318-419f-a1bc-de9bf4f0db0d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2f269664-9318-419f-a1bc-de9bf4f0db0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:17:37.324Z","level":"warn","message":"generation_cover_letters_unavailable","requestId":"2f269664-9318-419f-a1bc-de9bf4f0db0d","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2f269664-9318-419f-a1bc-de9bf4f0db0d","unavailable":["cover_letter1","cover_letter2"],"template":"unknown","session":"2f269664-9318-419f-a1bc-de9bf4f0db0d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2f269664-9318-419f-a1bc-de9bf4f0db0d","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20741:7)
          at runMicrotasks (<anonymous>)
      at server.js:23001:28

  console.log
    {"timestamp":"2025-12-04T13:17:37.330Z","level":"info","message":"generation_cover_letters_completed","requestId":"2f269664-9318-419f-a1bc-de9bf4f0db0d","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2f269664-9318-419f-a1bc-de9bf4f0db0d","variants":0,"fallbackApplied":false,"template":"unknown","session":"2f269664-9318-419f-a1bc-de9bf4f0db0d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2f269664-9318-419f-a1bc-de9bf4f0db0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.331Z","level":"info","message":"pdf_generation_attempt","requestId":"2f269664-9318-419f-a1bc-de9bf4f0db0d","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2f269664-9318-419f-a1bc-de9bf4f0db0d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/2f269664-9318-419f-a1bc-de9bf4f0db0d/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jamie_doe/2f269664-9318-419f-a1bc-de9bf4f0db0d/enhanced_modern.pdf","session":"2f269664-9318-419f-a1bc-de9bf4f0db0d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2f269664-9318-419f-a1bc-de9bf4f0db0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.332Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2f269664-9318-419f-a1bc-de9bf4f0db0d","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2f269664-9318-419f-a1bc-de9bf4f0db0d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/2f269664-9318-419f-a1bc-de9bf4f0db0d/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2f269664-9318-419f-a1bc-de9bf4f0db0d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2f269664-9318-419f-a1bc-de9bf4f0db0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.333Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2f269664-9318-419f-a1bc-de9bf4f0db0d","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2f269664-9318-419f-a1bc-de9bf4f0db0d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/2f269664-9318-419f-a1bc-de9bf4f0db0d/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jamie_doe/2f269664-9318-419f-a1bc-de9bf4f0db0d/enhanced_modern.pdf","session":"2f269664-9318-419f-a1bc-de9bf4f0db0d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2f269664-9318-419f-a1bc-de9bf4f0db0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.333Z","level":"info","message":"pdf_generation_attempt","requestId":"2f269664-9318-419f-a1bc-de9bf4f0db0d","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2f269664-9318-419f-a1bc-de9bf4f0db0d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/2f269664-9318-419f-a1bc-de9bf4f0db0d/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jamie_doe/2f269664-9318-419f-a1bc-de9bf4f0db0d/enhanced_professional.pdf","session":"2f269664-9318-419f-a1bc-de9bf4f0db0d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2f269664-9318-419f-a1bc-de9bf4f0db0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.333Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2f269664-9318-419f-a1bc-de9bf4f0db0d","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2f269664-9318-419f-a1bc-de9bf4f0db0d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/2f269664-9318-419f-a1bc-de9bf4f0db0d/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2f269664-9318-419f-a1bc-de9bf4f0db0d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2f269664-9318-419f-a1bc-de9bf4f0db0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.334Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2f269664-9318-419f-a1bc-de9bf4f0db0d","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2f269664-9318-419f-a1bc-de9bf4f0db0d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/2f269664-9318-419f-a1bc-de9bf4f0db0d/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jamie_doe/2f269664-9318-419f-a1bc-de9bf4f0db0d/enhanced_professional.pdf","session":"2f269664-9318-419f-a1bc-de9bf4f0db0d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2f269664-9318-419f-a1bc-de9bf4f0db0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.335Z","level":"info","message":"llm_call_metrics","requestId":"2f269664-9318-419f-a1bc-de9bf4f0db0d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"2f269664-9318-419f-a1bc-de9bf4f0db0d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"2f269664-9318-419f-a1bc-de9bf4f0db0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.336Z","level":"info","message":"generation_completed","requestId":"2f269664-9318-419f-a1bc-de9bf4f0db0d","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2f269664-9318-419f-a1bc-de9bf4f0db0d","enhancedScore":0,"outputs":2,"template":"unknown","session":"2f269664-9318-419f-a1bc-de9bf4f0db0d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2f269664-9318-419f-a1bc-de9bf4f0db0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.337Z","level":"info","message":"http_request_completed","requestId":"2f269664-9318-419f-a1bc-de9bf4f0db0d","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":31,"contentLength":"32129","template":"unknown","session":"2f269664-9318-419f-a1bc-de9bf4f0db0d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2f269664-9318-419f-a1bc-de9bf4f0db0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.340Z","level":"info","message":"http_request_received","requestId":"f588d7ee-481b-464c-9ddc-f130d078a538","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.341Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.342Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.343Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.344Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.346Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:37.349Z","level":"warn","message":"generation_change_log_load_failed","requestId":"f588d7ee-481b-464c-9ddc-f130d078a538","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","bucket":"test-bucket","key":"cv/candidate/session/logs/change-log.json","error":{"name":"ReferenceError","message":"sessionScoreSnapshot is not defined","stack":"ReferenceError: sessionScoreSnapshot is not defined\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:22764:34\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:22766:13
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.354Z","level":"info","message":"generation_session_artifacts_refreshed","requestId":"f588d7ee-481b-464c-9ddc-f130d078a538","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","reason":"job_description_changed","template":"unknown","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.356Z","level":"info","message":"llm_call_metrics","requestId":"f588d7ee-481b-464c-9ddc-f130d078a538","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"acf1b9378acb575b229122bd0509d239fb40292b5a2de638f8974b10630dddf9","outputDigest":"d38deb915a9824cbd24a0a21322f3421cffa08850deba8b630d4c012e36accc6","addedSkillCount":0,"template":"resume_rewrite","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.356Z","level":"info","message":"generation_section_rewrite_completed","requestId":"f588d7ee-481b-464c-9ddc-f130d078a538","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f588d7ee-481b-464c-9ddc-f130d078a538","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.357Z","level":"info","message":"llm_call_metrics","requestId":"f588d7ee-481b-464c-9ddc-f130d078a538","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"a89c45c951abfe25af2671eb78aaf142165e3f6bd78d4b83089b4f9a78e64f20","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":1,"template":"project_summary","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.359Z","level":"info","message":"generation_resume_verified","requestId":"f588d7ee-481b-464c-9ddc-f130d078a538","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f588d7ee-481b-464c-9ddc-f130d078a538","template":"unknown","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:17:37.362Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"f588d7ee-481b-464c-9ddc-f130d078a538","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f588d7ee-481b-464c-9ddc-f130d078a538","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
          at runMicrotasks (<anonymous>)
      at server.js:23001:28

  console.warn
    {"timestamp":"2025-12-04T13:17:37.368Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"f588d7ee-481b-464c-9ddc-f130d078a538","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f588d7ee-481b-464c-9ddc-f130d078a538","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
          at runMicrotasks (<anonymous>)
      at server.js:23001:28

  console.log
    {"timestamp":"2025-12-04T13:17:37.375Z","level":"info","message":"generation_cover_letters_completed","requestId":"f588d7ee-481b-464c-9ddc-f130d078a538","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f588d7ee-481b-464c-9ddc-f130d078a538","variants":2,"fallbackApplied":true,"template":"unknown","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.376Z","level":"info","message":"pdf_generation_attempt","requestId":"f588d7ee-481b-464c-9ddc-f130d078a538","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f588d7ee-481b-464c-9ddc-f130d078a538","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.376Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f588d7ee-481b-464c-9ddc-f130d078a538","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f588d7ee-481b-464c-9ddc-f130d078a538","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.377Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f588d7ee-481b-464c-9ddc-f130d078a538","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f588d7ee-481b-464c-9ddc-f130d078a538","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.377Z","level":"info","message":"pdf_generation_attempt","requestId":"f588d7ee-481b-464c-9ddc-f130d078a538","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f588d7ee-481b-464c-9ddc-f130d078a538","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.378Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f588d7ee-481b-464c-9ddc-f130d078a538","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f588d7ee-481b-464c-9ddc-f130d078a538","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.378Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f588d7ee-481b-464c-9ddc-f130d078a538","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f588d7ee-481b-464c-9ddc-f130d078a538","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.378Z","level":"info","message":"pdf_generation_attempt","requestId":"f588d7ee-481b-464c-9ddc-f130d078a538","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f588d7ee-481b-464c-9ddc-f130d078a538","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.379Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f588d7ee-481b-464c-9ddc-f130d078a538","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f588d7ee-481b-464c-9ddc-f130d078a538","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.379Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f588d7ee-481b-464c-9ddc-f130d078a538","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f588d7ee-481b-464c-9ddc-f130d078a538","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.380Z","level":"info","message":"pdf_generation_attempt","requestId":"f588d7ee-481b-464c-9ddc-f130d078a538","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f588d7ee-481b-464c-9ddc-f130d078a538","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.380Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f588d7ee-481b-464c-9ddc-f130d078a538","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f588d7ee-481b-464c-9ddc-f130d078a538","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.380Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f588d7ee-481b-464c-9ddc-f130d078a538","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f588d7ee-481b-464c-9ddc-f130d078a538","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.382Z","level":"info","message":"llm_call_metrics","requestId":"f588d7ee-481b-464c-9ddc-f130d078a538","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"6daad81d53ca29e2440dbdfd5e7ac149ac9bc677f5bd5a926b958a85793be6c1","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.383Z","level":"info","message":"generation_completed","requestId":"f588d7ee-481b-464c-9ddc-f130d078a538","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f588d7ee-481b-464c-9ddc-f130d078a538","enhancedScore":0,"outputs":5,"template":"unknown","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.384Z","level":"info","message":"http_request_completed","requestId":"f588d7ee-481b-464c-9ddc-f130d078a538","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":44,"contentLength":"52667","template":"unknown","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f588d7ee-481b-464c-9ddc-f130d078a538","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.387Z","level":"info","message":"http_request_received","requestId":"ae1a8149-168f-430a-91a8-2dd9b2052059","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.388Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.389Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.390Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.392Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.392Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:37.394Z","level":"warn","message":"generation_change_log_load_failed","requestId":"ae1a8149-168f-430a-91a8-2dd9b2052059","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","bucket":"test-bucket","key":"cv/candidate/session/logs/change-log.json","error":{"name":"ReferenceError","message":"sessionScoreSnapshot is not defined","stack":"ReferenceError: sessionScoreSnapshot is not defined\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:22764:34\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:22766:13
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.399Z","level":"info","message":"generation_session_artifacts_refreshed","requestId":"ae1a8149-168f-430a-91a8-2dd9b2052059","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","reason":"job_description_changed","template":"unknown","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.401Z","level":"info","message":"llm_call_metrics","requestId":"ae1a8149-168f-430a-91a8-2dd9b2052059","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"fc71d2d7420045c9674c39d1bc893139670e4554452723b0b8930f14ae74efd1","outputDigest":"994365ee088ebf4da994d91479825476737b8633f45dc9441cf82f317f739457","addedSkillCount":0,"template":"resume_rewrite","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.401Z","level":"info","message":"generation_section_rewrite_completed","requestId":"ae1a8149-168f-430a-91a8-2dd9b2052059","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ae1a8149-168f-430a-91a8-2dd9b2052059","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.402Z","level":"info","message":"llm_call_metrics","requestId":"ae1a8149-168f-430a-91a8-2dd9b2052059","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"2941229673895ce87f4eb2dd47c041b77270273e0250170302676d5a10351fbf","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":1,"template":"project_summary","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.404Z","level":"info","message":"generation_resume_verified","requestId":"ae1a8149-168f-430a-91a8-2dd9b2052059","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ae1a8149-168f-430a-91a8-2dd9b2052059","template":"unknown","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:17:37.406Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"ae1a8149-168f-430a-91a8-2dd9b2052059","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ae1a8149-168f-430a-91a8-2dd9b2052059","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
          at runMicrotasks (<anonymous>)
      at server.js:23001:28

  console.warn
    {"timestamp":"2025-12-04T13:17:37.413Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"ae1a8149-168f-430a-91a8-2dd9b2052059","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ae1a8149-168f-430a-91a8-2dd9b2052059","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
          at runMicrotasks (<anonymous>)
      at server.js:23001:28

  console.log
    {"timestamp":"2025-12-04T13:17:37.418Z","level":"info","message":"generation_cover_letters_completed","requestId":"ae1a8149-168f-430a-91a8-2dd9b2052059","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ae1a8149-168f-430a-91a8-2dd9b2052059","variants":2,"fallbackApplied":true,"template":"unknown","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.418Z","level":"info","message":"pdf_generation_attempt","requestId":"ae1a8149-168f-430a-91a8-2dd9b2052059","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ae1a8149-168f-430a-91a8-2dd9b2052059","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.419Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ae1a8149-168f-430a-91a8-2dd9b2052059","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ae1a8149-168f-430a-91a8-2dd9b2052059","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.419Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ae1a8149-168f-430a-91a8-2dd9b2052059","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ae1a8149-168f-430a-91a8-2dd9b2052059","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.420Z","level":"info","message":"pdf_generation_attempt","requestId":"ae1a8149-168f-430a-91a8-2dd9b2052059","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ae1a8149-168f-430a-91a8-2dd9b2052059","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.420Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ae1a8149-168f-430a-91a8-2dd9b2052059","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ae1a8149-168f-430a-91a8-2dd9b2052059","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.420Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ae1a8149-168f-430a-91a8-2dd9b2052059","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ae1a8149-168f-430a-91a8-2dd9b2052059","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.421Z","level":"info","message":"pdf_generation_attempt","requestId":"ae1a8149-168f-430a-91a8-2dd9b2052059","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ae1a8149-168f-430a-91a8-2dd9b2052059","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.421Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ae1a8149-168f-430a-91a8-2dd9b2052059","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ae1a8149-168f-430a-91a8-2dd9b2052059","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.422Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ae1a8149-168f-430a-91a8-2dd9b2052059","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ae1a8149-168f-430a-91a8-2dd9b2052059","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.422Z","level":"info","message":"pdf_generation_attempt","requestId":"ae1a8149-168f-430a-91a8-2dd9b2052059","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ae1a8149-168f-430a-91a8-2dd9b2052059","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.422Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ae1a8149-168f-430a-91a8-2dd9b2052059","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ae1a8149-168f-430a-91a8-2dd9b2052059","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.423Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ae1a8149-168f-430a-91a8-2dd9b2052059","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ae1a8149-168f-430a-91a8-2dd9b2052059","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.424Z","level":"info","message":"llm_call_metrics","requestId":"ae1a8149-168f-430a-91a8-2dd9b2052059","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"bb70bada40357e7ad85703e98908783ac38c79f83207e1ee038136c2f4863594","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.425Z","level":"info","message":"generation_completed","requestId":"ae1a8149-168f-430a-91a8-2dd9b2052059","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ae1a8149-168f-430a-91a8-2dd9b2052059","enhancedScore":0,"outputs":5,"template":"unknown","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.427Z","level":"info","message":"http_request_completed","requestId":"ae1a8149-168f-430a-91a8-2dd9b2052059","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":40,"contentLength":"50998","template":"unknown","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ae1a8149-168f-430a-91a8-2dd9b2052059","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.430Z","level":"info","message":"http_request_received","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","method":"POST","path":"/api/process-cv","template":"unknown","session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.431Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.432Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.433Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.435Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.436Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/765af056-a0ee-427b-84ec-01a37b923a21/incoming/original.pdf","chunks":1,"timestamp":1764854257438}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/765af056-a0ee-427b-84ec-01a37b923a21/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/765af056-a0ee-427b-84ec-01a37b923a21/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.440Z","level":"info","message":"process_cv_started","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","jobId":"21d599b1-35dc-4715-a223-0107d8d5397d","manualJobDescriptionProvided":true,"template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.440Z","level":"info","message":"template_selection","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","jobId":"21d599b1-35dc-4715-a223-0107d8d5397d","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:37.441Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","jobId":"21d599b1-35dc-4715-a223-0107d8d5397d","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:17:37.446Z","level":"info","message":"initial_upload_completed","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","jobId":"21d599b1-35dc-4715-a223-0107d8d5397d","bucket":"test-bucket","key":"cv/candidate/765af056-a0ee-427b-84ec-01a37b923a21/incoming/original.pdf","template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.446Z","level":"info","message":"resume_text_extracted","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","jobId":"21d599b1-35dc-4715-a223-0107d8d5397d","characters":57,"template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.447Z","level":"info","message":"resume_classified","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","jobId":"21d599b1-35dc-4715-a223-0107d8d5397d","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.447Z","level":"info","message":"raw_upload_relocated","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","jobId":"21d599b1-35dc-4715-a223-0107d8d5397d","bucket":"test-bucket","fromKey":"cv/candidate/765af056-a0ee-427b-84ec-01a37b923a21/incoming/original.pdf","toKey":"cv/professional_summary/765af056-a0ee-427b-84ec-01a37b923a21/original.pdf","template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.447Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","jobId":"21d599b1-35dc-4715-a223-0107d8d5397d","bucket":"test-bucket","key":"cv/professional_summary/765af056-a0ee-427b-84ec-01a37b923a21/original.pdf","template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.448Z","level":"info","message":"dynamo_initial_record_written","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","jobId":"21d599b1-35dc-4715-a223-0107d8d5397d","bucket":"test-bucket","key":"cv/professional_summary/765af056-a0ee-427b-84ec-01a37b923a21/original.pdf","template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.448Z","level":"info","message":"upload_metadata_written","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","jobId":"21d599b1-35dc-4715-a223-0107d8d5397d","bucket":"test-bucket","key":"cv/professional_summary/765af056-a0ee-427b-84ec-01a37b923a21/logs/log.json","template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.448Z","level":"info","message":"job_description_supplied_manually","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","jobId":"21d599b1-35dc-4715-a223-0107d8d5397d","characters":174,"template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.449Z","level":"info","message":"job_description_analyzed","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","jobId":"21d599b1-35dc-4715-a223-0107d8d5397d","jobTitle":"","jobSkills":5,"template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.450Z","level":"info","message":"resume_skills_analyzed","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","jobId":"21d599b1-35dc-4715-a223-0107d8d5397d","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.451Z","level":"info","message":"llm_call_metrics","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.451Z","level":"info","message":"process_cv_scoring_completed","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","jobId":"21d599b1-35dc-4715-a223-0107d8d5397d","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.453Z","level":"info","message":"llm_call_metrics","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"e0b0f289a004a53fc90e2f086b7a8368b36f3cb57e330732da1cad386d479cd5","addedSkillCount":0,"template":"resume_rewrite","session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.454Z","level":"info","message":"generation_section_rewrite_completed","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","jobId":"21d599b1-35dc-4715-a223-0107d8d5397d","generationRunId":"765af056-a0ee-427b-84ec-01a37b923a21","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.456Z","level":"info","message":"generation_resume_verified","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","jobId":"21d599b1-35dc-4715-a223-0107d8d5397d","generationRunId":"765af056-a0ee-427b-84ec-01a37b923a21","template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:17:37.459Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","jobId":"21d599b1-35dc-4715-a223-0107d8d5397d","generationRunId":"765af056-a0ee-427b-84ec-01a37b923a21","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
          at runMicrotasks (<anonymous>)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:37.464Z","level":"info","message":"generation_cover_letters_completed","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","jobId":"21d599b1-35dc-4715-a223-0107d8d5397d","generationRunId":"765af056-a0ee-427b-84ec-01a37b923a21","variants":2,"fallbackApplied":true,"template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.465Z","level":"info","message":"pdf_generation_attempt","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","jobId":"21d599b1-35dc-4715-a223-0107d8d5397d","generationRunId":"765af056-a0ee-427b-84ec-01a37b923a21","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/765af056-a0ee-427b-84ec-01a37b923a21/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/765af056-a0ee-427b-84ec-01a37b923a21/enhanced_modern.pdf","session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.465Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","jobId":"21d599b1-35dc-4715-a223-0107d8d5397d","generationRunId":"765af056-a0ee-427b-84ec-01a37b923a21","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/765af056-a0ee-427b-84ec-01a37b923a21/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T13:17:37.466Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","jobId":"21d599b1-35dc-4715-a223-0107d8d5397d","generationRunId":"765af056-a0ee-427b-84ec-01a37b923a21","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/765af056-a0ee-427b-84ec-01a37b923a21/","sessionId":"[REDACTED]","template":"modern","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3360:27)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/765af056-a0ee-427b-84ec-01a37b923a21/enhanced_modern.pdf","environment":{"nodeEnv":"development","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
          at runMicrotasks (<anonymous>)
      at generateEnhancedDocumentsResponse (server.js:21302:11)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:17:37.471Z","level":"info","message":"pdf_generation_attempt","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","jobId":"21d599b1-35dc-4715-a223-0107d8d5397d","generationRunId":"765af056-a0ee-427b-84ec-01a37b923a21","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/765af056-a0ee-427b-84ec-01a37b923a21/","sessionId":"[REDACTED]","template":"professional","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/765af056-a0ee-427b-84ec-01a37b923a21/enhanced_professional.pdf","session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.472Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","jobId":"21d599b1-35dc-4715-a223-0107d8d5397d","generationRunId":"765af056-a0ee-427b-84ec-01a37b923a21","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/765af056-a0ee-427b-84ec-01a37b923a21/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.472Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","jobId":"21d599b1-35dc-4715-a223-0107d8d5397d","generationRunId":"765af056-a0ee-427b-84ec-01a37b923a21","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/765af056-a0ee-427b-84ec-01a37b923a21/","sessionId":"[REDACTED]","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/765af056-a0ee-427b-84ec-01a37b923a21/enhanced_professional.pdf","session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.473Z","level":"info","message":"pdf_generation_attempt","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","jobId":"21d599b1-35dc-4715-a223-0107d8d5397d","generationRunId":"765af056-a0ee-427b-84ec-01a37b923a21","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/765af056-a0ee-427b-84ec-01a37b923a21/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/765af056-a0ee-427b-84ec-01a37b923a21/enhanced_professional.pdf","session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.473Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","jobId":"21d599b1-35dc-4715-a223-0107d8d5397d","generationRunId":"765af056-a0ee-427b-84ec-01a37b923a21","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/765af056-a0ee-427b-84ec-01a37b923a21/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.473Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","jobId":"21d599b1-35dc-4715-a223-0107d8d5397d","generationRunId":"765af056-a0ee-427b-84ec-01a37b923a21","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/765af056-a0ee-427b-84ec-01a37b923a21/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/765af056-a0ee-427b-84ec-01a37b923a21/enhanced_professional.pdf","session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.474Z","level":"info","message":"pdf_generation_attempt","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","jobId":"21d599b1-35dc-4715-a223-0107d8d5397d","generationRunId":"765af056-a0ee-427b-84ec-01a37b923a21","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/765af056-a0ee-427b-84ec-01a37b923a21/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/765af056-a0ee-427b-84ec-01a37b923a21/cover_letter_cover_modern.pdf","session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.474Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","jobId":"21d599b1-35dc-4715-a223-0107d8d5397d","generationRunId":"765af056-a0ee-427b-84ec-01a37b923a21","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/765af056-a0ee-427b-84ec-01a37b923a21/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.475Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","jobId":"21d599b1-35dc-4715-a223-0107d8d5397d","generationRunId":"765af056-a0ee-427b-84ec-01a37b923a21","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/765af056-a0ee-427b-84ec-01a37b923a21/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":16,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/765af056-a0ee-427b-84ec-01a37b923a21/cover_letter_cover_modern.pdf","session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.475Z","level":"info","message":"pdf_generation_attempt","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","jobId":"21d599b1-35dc-4715-a223-0107d8d5397d","generationRunId":"765af056-a0ee-427b-84ec-01a37b923a21","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/765af056-a0ee-427b-84ec-01a37b923a21/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/765af056-a0ee-427b-84ec-01a37b923a21/cover_letter_cover_professional.pdf","session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.476Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","jobId":"21d599b1-35dc-4715-a223-0107d8d5397d","generationRunId":"765af056-a0ee-427b-84ec-01a37b923a21","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/765af056-a0ee-427b-84ec-01a37b923a21/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.476Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","jobId":"21d599b1-35dc-4715-a223-0107d8d5397d","generationRunId":"765af056-a0ee-427b-84ec-01a37b923a21","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/765af056-a0ee-427b-84ec-01a37b923a21/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":22,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/765af056-a0ee-427b-84ec-01a37b923a21/cover_letter_cover_professional.pdf","session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.478Z","level":"info","message":"llm_call_metrics","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"b81624598eca82514b81f4fd0ef858c4f8eda9605bf4a3b33ed31144fa2daed3","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.478Z","level":"info","message":"generation_completed","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","jobId":"21d599b1-35dc-4715-a223-0107d8d5397d","generationRunId":"765af056-a0ee-427b-84ec-01a37b923a21","enhancedScore":80,"outputs":5,"template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.479Z","level":"info","message":"placeholder_record_deleted","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","jobId":"21d599b1-35dc-4715-a223-0107d8d5397d","placeholderIdentifier":"765af056-a0ee-427b-84ec-01a37b923a21","template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21d599b1-35dc-4715-a223-0107d8d5397d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.480Z","level":"info","message":"http_request_completed","requestId":"765af056-a0ee-427b-84ec-01a37b923a21","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":50,"contentLength":"59519","template":"unknown","session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"765af056-a0ee-427b-84ec-01a37b923a21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.482Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"2025","attempt":1,"totalAttempts":2,"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.483Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"2025","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T13:17:37.484Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"2025","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","code":"TEMPLATE_RENDER_FAILED","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3465:25)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3479:20)

  console.log
    {"timestamp":"2025-12-04T13:17:37.490Z","level":"info","message":"pdf_generation_backstop_succeeded","documentType":"resume","template":"2025","templatesBackstopped":["2025"],"backstopResults":[{"templateId":"2025","bytes":1024}],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.490Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"modern","attempt":2,"totalAttempts":2,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.491Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.491Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"modern","attempt":2,"bytes":10,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.492Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"modern","attempt":1,"totalAttempts":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.493Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T13:17:37.494Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"modern","attempt":1,"error":{"name":"Error","message":"Modern renderer unavailable","stack":"Error: Modern renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3504:30)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3508:20)

  console.log
    {"timestamp":"2025-12-04T13:17:37.499Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"professional","attempt":2,"totalAttempts":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.500Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"professional","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.500Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.501Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"2025","attempt":1,"totalAttempts":3,"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.501Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"2025","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T13:17:37.502Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"2025","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","code":"TEMPLATE_RENDER_FAILED","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3526:25)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3539:20)

  console.log
    {"timestamp":"2025-12-04T13:17:37.507Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"professional","attempt":2,"totalAttempts":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.507Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"professional","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.507Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.508Z","level":"info","message":"pdf_generation_attempt","documentType":"cover_letter","template":"cover_modern","attempt":1,"totalAttempts":1,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cover_letter_cover_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.509Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"cover_letter","template":"cover_modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T13:17:37.509Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"cover_letter","template":"cover_modern","attempt":1,"error":{"name":"Error","message":"Primary renderer offline","stack":"Error: Primary renderer offline\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3557:48)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11009:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3594:5)

  console.warn
    {"timestamp":"2025-12-04T13:17:37.514Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","forcedFallback":false,"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11153:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3594:5)

  console.error
    {"timestamp":"2025-12-04T13:17:37.519Z","level":"error","message":"pdf_generation_plain_fallback_failed","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","error":{"name":"Error","message":"Plain fallback offline","stack":"Error: Plain fallback offline\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3559:13\n    at generatePlainPdfFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9789:12)\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11157:36)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3594:5)"},"forcedFallback":false,"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11202:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3594:5)

  console.error
    {"timestamp":"2025-12-04T13:17:37.525Z","level":"error","message":"pdf_generation_minimal_fallback_failed","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","forcedFallback":false,"error":{"name":"Error","message":"Minimal fallback unavailable","stack":"Error: Minimal fallback unavailable\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3562:13\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11223:29)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3594:5)"},"previousError":{"name":"Error","message":"Plain fallback offline","stack":"Error: Plain fallback offline\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3559:13\n    at generatePlainPdfFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9789:12)\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11157:36)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3594:5)"},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11246:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3594:5)

  console.error
    {"timestamp":"2025-12-04T13:17:37.530Z","level":"error","message":"pdf_generation_all_attempts_failed","documentType":"cover_letter","templates":["cover_modern"],"error":{"name":"Error","message":"Minimal fallback unavailable","stack":"Error: Minimal fallback unavailable\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3562:13\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11223:29)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3594:5)"},"targetFilePath":"cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"summary":"Unable to generate cover letter PDF. Tried templates: Modern Cover Letter. Last error: Minimal fallback unavailable","messages":["Unable to generate cover letter PDF. Tried templates: Modern Cover Letter. Last error: Minimal fallback unavailable"],"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3454 |     const safePayload = sanitizeLogPayload(payload);
      3455 |     const serialised = JSON.stringify(safePayload);
    > 3456 |     logFn(serialised);
           |     ^
      3457 |     if (level === 'error') {
      3458 |       scheduleErrorLog(safePayload);
      3459 |     }

      at logStructured (server.js:3456:5)
      at generatePdfWithFallback (server.js:11268:3)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3594:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.564Z","level":"info","message":"http_request_received","requestId":"64b6a643-165b-4540-9471-89bf3061e8a6","method":"POST","path":"/api/change-log","template":"unknown","session":"64b6a643-165b-4540-9471-89bf3061e8a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64b6a643-165b-4540-9471-89bf3061e8a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.565Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.566Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.567Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.569Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.569Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.572Z","level":"info","message":"change_log_updated","requestId":"64b6a643-165b-4540-9471-89bf3061e8a6","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.574Z","level":"info","message":"http_request_completed","requestId":"64b6a643-165b-4540-9471-89bf3061e8a6","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":10,"contentLength":"48197","template":"unknown","session":"64b6a643-165b-4540-9471-89bf3061e8a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64b6a643-165b-4540-9471-89bf3061e8a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.578Z","level":"info","message":"http_request_received","requestId":"21eb541c-d372-4c3d-aec2-55d73e5c807a","method":"POST","path":"/api/change-log","template":"unknown","session":"21eb541c-d372-4c3d-aec2-55d73e5c807a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21eb541c-d372-4c3d-aec2-55d73e5c807a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.579Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.580Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.581Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.583Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.583Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.585Z","level":"info","message":"change_log_updated","requestId":"21eb541c-d372-4c3d-aec2-55d73e5c807a","jobId":"job-321","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-321","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-321","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.586Z","level":"info","message":"http_request_completed","requestId":"21eb541c-d372-4c3d-aec2-55d73e5c807a","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":8,"contentLength":"1958","template":"unknown","session":"21eb541c-d372-4c3d-aec2-55d73e5c807a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21eb541c-d372-4c3d-aec2-55d73e5c807a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.589Z","level":"info","message":"http_request_received","requestId":"792b8b82-1ef2-44ce-9b7b-63ee2937692f","method":"POST","path":"/api/change-log","template":"unknown","session":"792b8b82-1ef2-44ce-9b7b-63ee2937692f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"792b8b82-1ef2-44ce-9b7b-63ee2937692f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.590Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.591Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.592Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.593Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.594Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.597Z","level":"info","message":"change_log_updated","requestId":"792b8b82-1ef2-44ce-9b7b-63ee2937692f","jobId":"job-789","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-789","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-789","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.597Z","level":"info","message":"http_request_completed","requestId":"792b8b82-1ef2-44ce-9b7b-63ee2937692f","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":8,"contentLength":"6061","template":"unknown","session":"792b8b82-1ef2-44ce-9b7b-63ee2937692f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"792b8b82-1ef2-44ce-9b7b-63ee2937692f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.600Z","level":"info","message":"http_request_received","requestId":"afd5a930-c068-4d97-a9b2-9d785a5bf7bd","method":"POST","path":"/api/change-log","template":"unknown","session":"afd5a930-c068-4d97-a9b2-9d785a5bf7bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afd5a930-c068-4d97-a9b2-9d785a5bf7bd","build":"local-dev","artifactType":"none"},"userId":"user-789"}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.601Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.602Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.603Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.604Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.605Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.606Z","level":"info","message":"change_log_updated","requestId":"afd5a930-c068-4d97-a9b2-9d785a5bf7bd","jobId":"job-session","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-session","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-session","build":"local-dev","artifactType":"none"},"userId":"user-789"}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.607Z","level":"info","message":"http_request_completed","requestId":"afd5a930-c068-4d97-a9b2-9d785a5bf7bd","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":7,"contentLength":"1213","template":"unknown","session":"afd5a930-c068-4d97-a9b2-9d785a5bf7bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afd5a930-c068-4d97-a9b2-9d785a5bf7bd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.609Z","level":"info","message":"http_request_received","requestId":"a38a2f4f-1f44-461d-891a-8c916f0efbdd","method":"POST","path":"/api/change-log","template":"unknown","session":"a38a2f4f-1f44-461d-891a-8c916f0efbdd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a38a2f4f-1f44-461d-891a-8c916f0efbdd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.610Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.611Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.612Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.613Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.614Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.615Z","level":"info","message":"change_log_updated","requestId":"a38a2f4f-1f44-461d-891a-8c916f0efbdd","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.616Z","level":"info","message":"http_request_completed","requestId":"a38a2f4f-1f44-461d-891a-8c916f0efbdd","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":7,"contentLength":"789","template":"unknown","session":"a38a2f4f-1f44-461d-891a-8c916f0efbdd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a38a2f4f-1f44-461d-891a-8c916f0efbdd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.617Z","level":"info","message":"http_request_received","requestId":"082b18c7-e378-4980-a86f-b0d310522240","method":"POST","path":"/api/change-log","template":"unknown","session":"082b18c7-e378-4980-a86f-b0d310522240","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"082b18c7-e378-4980-a86f-b0d310522240","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.618Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.620Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.621Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.622Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.623Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.624Z","level":"info","message":"change_log_updated","requestId":"082b18c7-e378-4980-a86f-b0d310522240","jobId":"job-123","route":"change-log","entries":0,"action":"remove","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.624Z","level":"info","message":"http_request_completed","requestId":"082b18c7-e378-4980-a86f-b0d310522240","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":7,"contentLength":"350","template":"unknown","session":"082b18c7-e378-4980-a86f-b0d310522240","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"082b18c7-e378-4980-a86f-b0d310522240","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.626Z","level":"info","message":"http_request_received","requestId":"f91b1da8-c7f2-4c93-998c-6a9b4ff63249","method":"POST","path":"/api/change-log","template":"unknown","session":"f91b1da8-c7f2-4c93-998c-6a9b4ff63249","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f91b1da8-c7f2-4c93-998c-6a9b4ff63249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.627Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.628Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.630Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.631Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.632Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.633Z","level":"info","message":"change_log_updated","requestId":"f91b1da8-c7f2-4c93-998c-6a9b4ff63249","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.633Z","level":"info","message":"http_request_completed","requestId":"f91b1da8-c7f2-4c93-998c-6a9b4ff63249","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":7,"contentLength":"1151","template":"unknown","session":"f91b1da8-c7f2-4c93-998c-6a9b4ff63249","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f91b1da8-c7f2-4c93-998c-6a9b4ff63249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.636Z","level":"info","message":"http_request_received","requestId":"2bba2c28-c33d-4a50-aa0a-078deec69db0","method":"POST","path":"/api/change-log","template":"unknown","session":"2bba2c28-c33d-4a50-aa0a-078deec69db0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2bba2c28-c33d-4a50-aa0a-078deec69db0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.637Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.638Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.640Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.641Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.642Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.643Z","level":"info","message":"change_log_updated","requestId":"2bba2c28-c33d-4a50-aa0a-078deec69db0","jobId":"job-123","route":"change-log","entries":0,"action":"remove","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.643Z","level":"info","message":"http_request_completed","requestId":"2bba2c28-c33d-4a50-aa0a-078deec69db0","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":7,"contentLength":"596","template":"unknown","session":"2bba2c28-c33d-4a50-aa0a-078deec69db0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2bba2c28-c33d-4a50-aa0a-078deec69db0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.645Z","level":"info","message":"http_request_received","requestId":"f4616d54-1a87-4e45-8f3a-0b3bc1aed813","method":"POST","path":"/api/change-log","template":"unknown","session":"f4616d54-1a87-4e45-8f3a-0b3bc1aed813","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f4616d54-1a87-4e45-8f3a-0b3bc1aed813","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.646Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.647Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.649Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.650Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.651Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

  console.log
    {"timestamp":"2025-12-04T13:17:37.653Z","level":"info","message":"change_log_updated","requestId":"f4616d54-1a87-4e45-8f3a-0b3bc1aed813","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:17:37.654Z","level":"info","message":"http_request_completed","requestId":"f4616d54-1a87-4e45-8f3a-0b3bc1aed813","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":9,"contentLength":"2337","template":"unknown","session":"f4616d54-1a87-4e45-8f3a-0b3bc1aed813","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f4616d54-1a87-4e45-8f3a-0b3bc1aed813","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3456:5)

PASS tests/server.test.mjs (5.838 s)
  health check
     GET /healthz (100 ms)
  static asset fallbacks
     GET /favicon.ico returns 204 (20 ms)
     serves hashed index asset from S3 when local file is missing (29 ms)
     serves hashed index asset directly from the bundled client when available (28 ms)
     strips API Gateway stage prefixes before resolving static index aliases (21 ms)
     performs HEAD lookup against S3 for hashed index asset metadata (22 ms)
     serves the latest index asset alias via S3 when local files are unavailable (29 ms)
     serves the index asset alias via the S3 manifest when the local manifest is missing (21 ms)
     serves the index asset alias when the manifest contains prefixed S3 keys (20 ms)
     serves the index asset alias via manifest fallback when the primary bundle is missing from S3 (41 ms)
  static asset proxy endpoint
     serves the index alias via the local build (19 ms)
     normalizes stray punctuation in proxy asset queries (28 ms)
     strips inline alias annotations from hashed proxy asset queries (29 ms)
     falls back to S3 when the hashed bundle is unavailable locally (64 ms)
     degrades hashed proxy requests to the index alias when upstream assets are missing (30 ms)
     degrades direct hashed asset requests to the index alias when upstream bundles are missing (30 ms)
     rejects invalid asset paths (19 ms)
  static asset manifest endpoint
     returns manifest data when available (12 ms)
     allows forcing a manifest refresh via query parameter (23 ms)
     returns 503 when manifest is unavailable (24 ms)
  /api/process-cv
     handles DynamoDB table lifecycle (240 ms)
     removes stale session change logs when starting a new upload session (63 ms)
     removes session change log data when the session prefix is reused (55 ms)
     requires manual job description input (83 ms)
     sanitizes manual job description input before analysis (54 ms)
     rejects manual job description input containing prohibited HTML tags (25 ms)
     stores sanitized job description as session input metadata (64 ms)
     accepts uploads without a LinkedIn profile URL (60 ms)
     malformed AI response (72 ms)
     handles code-fenced JSON with extra text (73 ms)
     handles JSON surrounded by text (70 ms)
     returns presigned PDF URLs with labeled asset types (79 ms)
     returns a structured error when download URLs cannot be generated (132 ms)
     cover letter urls include structured metadata (91 ms)
     uses provided templates in preferred order (65 ms)
     uses templates array (68 ms)
     filters AI guidance lines (57 ms)
     resume prompt asks for a project matching job skills (56 ms)
     inserts project into resume text (58 ms)
     adds project section when job description provided (55 ms)
     cover letters omit placeholder sections (56 ms)
     normalizes structured cover letter responses into text (50 ms)
     uses sanitized resume fallback when AI returns plain text for versions (55 ms)
     falls back to plain PDFs when template rendering fails (209 ms)
     final CV includes updated title, project, and skills (56 ms)
     missing file (25 ms)
     unsupported file type (27 ms)
     rejects non-resume content with descriptive feedback (42 ms)
     requires re-upload when classification does not identify a CV (37 ms)
     missing job description text (23 ms)
    download link refresh
       resigns an existing artifact key for the active job (33 ms)
       returns not found when the storage key does not match the job context (35 ms)
    resume size handling
       accepts tiny PDF (32 KB) uploads up to 5 MB (53 ms)
       accepts small DOCX (256 KB) uploads up to 5 MB (77 ms)
       accepts mid-sized PDF (2 MB) uploads up to 5 MB (63 ms)
       accepts near-limit DOCX (just under 5 MB) uploads up to 5 MB (130 ms)
       rejects resumes larger than 5 MB (32 ms)
  /api/generate-enhanced-docs
     responds with structured details when jobId is missing (19 ms)
     queues message when fallback cover letters are used (46 ms)
     replaces whitespace cover letters with fallback copy (50 ms)
     audits cover letters for placeholders and applies fallback (45 ms)
     replaces weak closing cover letters with confident fallback copy (41 ms)
     replaces cover letters exceeding the word limit with confident fallback copy (60 ms)
     surfaces message when cover letters remain unavailable (32 ms)
     refreshes session artifacts when job description changes for a new enhancement (48 ms)
     refreshes session artifacts automatically when job description changes (43 ms)
     persists template vs population errors in stage metadata (53 ms)
  generatePdfWithFallback
     records retry message when 2025 renderer fails (10 ms)
     announces next template when fallback occurs for non-2025 resume (8 ms)
     announces actual next template when 2025 fallback prefers contrast option (8 ms)
     throws explicit PdfGenerationError with summary when all strategies fail (30 ms)
  classifyDocument
     identifies resumes by section structure
     detects cover letters (1 ms)
     rejects job descriptions that mimic resume sections
  extractText
     extracts text from pdf (1 ms)
     extracts text from docx
     guides user when pdf parsing fails (17 ms)
     guides user when docx parsing fails (1 ms)
     extracts text from doc (2 ms)
     rejects plain text files
  client download labels
     App displays correct labels for each file type (3 ms)
  change log persistence safeguards
     truncates oversized change log fields before persisting (13 ms)
     persists category changelog details for ATS, skills, and related sections (12 ms)
     captures rescore summary and updates session score snapshot (11 ms)
     stores session change logs under a user session prefix when no prior key exists (9 ms)
  change log session visibility
     persists reverted entries when updating the change log (9 ms)
     stores rejected entries in the session change log dismissed list (8 ms)
     persists cover letter change log payloads to S3 (9 ms)
     removing a cover letter entry records dismissal state in S3 (9 ms)
     persists activity logs from nested payloads into the session change log (12 ms)

Test Suites: 1 passed, 1 total
Tests:       90 passed, 90 total
Snapshots:   0 total
Time:        5.88 s
Ran all test suites matching /tests\/server.test.mjs/i.
Force exiting Jest: Have you considered using `--detectOpenHandles` to detect async operations that kept running after all tests finished?
