
> resumeforge@1.0.0 test
> node --experimental-vm-modules node_modules/jest/bin/jest.js tests/server.test.mjs

[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`
(node:9563) ExperimentalWarning: VM Modules is an experimental feature. This feature could change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
  console.log
    {"timestamp":"2025-12-04T13:21:39.690Z","level":"info","message":"http_request_received","requestId":"17efaa20-276c-4946-9c9c-db6a4243be74","method":"GET","path":"/healthz","template":"unknown","session":"17efaa20-276c-4946-9c9c-db6a4243be74","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"17efaa20-276c-4946-9c9c-db6a4243be74","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.714Z","level":"info","message":"path_restoration_debug","reqPath":"/healthz","reqUrl":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.716Z","level":"info","message":"request_received","path":"/healthz","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.720Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.723Z","level":"info","message":"client_app_routes_entered","path":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.726Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.732Z","level":"info","message":"http_request_completed","requestId":"17efaa20-276c-4946-9c9c-db6a4243be74","method":"GET","path":"/healthz","statusCode":200,"durationMs":42,"contentLength":"15","template":"unknown","session":"17efaa20-276c-4946-9c9c-db6a4243be74","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"17efaa20-276c-4946-9c9c-db6a4243be74","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.740Z","level":"info","message":"http_request_received","requestId":"60246157-77ec-4a46-a0a5-00f85cb6c00d","method":"GET","path":"/favicon.ico","template":"unknown","session":"60246157-77ec-4a46-a0a5-00f85cb6c00d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60246157-77ec-4a46-a0a5-00f85cb6c00d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.742Z","level":"info","message":"path_restoration_debug","reqPath":"/favicon.ico","reqUrl":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.744Z","level":"info","message":"request_received","path":"/favicon.ico","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.746Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.748Z","level":"info","message":"client_app_routes_entered","path":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.750Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.754Z","level":"info","message":"http_request_completed","requestId":"60246157-77ec-4a46-a0a5-00f85cb6c00d","method":"GET","path":"/favicon.ico","statusCode":204,"durationMs":14,"template":"unknown","session":"60246157-77ec-4a46-a0a5-00f85cb6c00d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60246157-77ec-4a46-a0a5-00f85cb6c00d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.757Z","level":"info","message":"http_request_received","requestId":"97c4b30d-c9a2-42e6-91ed-49bbadd07fe6","method":"GET","path":"/assets/index-missing.css","template":"unknown","session":"97c4b30d-c9a2-42e6-91ed-49bbadd07fe6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"97c4b30d-c9a2-42e6-91ed-49bbadd07fe6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.758Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-missing.css","reqUrl":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.760Z","level":"info","message":"request_received","path":"/assets/index-missing.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.761Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.763Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.768Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 {
      assetPath: '/assets/index-missing.css',
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest'
    }

      at serveHashedIndexAssetFromS3 (server.js:1099:11)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60","ETag":"\"etag-css\""}

      at applyS3ResponseHeaders (server.js:617:11)

  console.log
    DEBUG: streamS3BodyToResponse data chunk length=18

      at Readable.<anonymous> (server.js:505:17)

  console.log
    DEBUG: streamS3BodyToResponse end fullBody length=18

      at Readable.<anonymous> (server.js:513:19)

  console.log
    {"timestamp":"2025-12-04T13:21:39.786Z","level":"info","message":"http_request_completed","requestId":"97c4b30d-c9a2-42e6-91ed-49bbadd07fe6","method":"GET","path":"/assets/index-missing.css","statusCode":200,"durationMs":29,"contentLength":"18","template":"unknown","session":"97c4b30d-c9a2-42e6-91ed-49bbadd07fe6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"97c4b30d-c9a2-42e6-91ed-49bbadd07fe6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.786Z","level":"info","message":"client_asset_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-missing.css","path":"/assets/index-missing.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.792Z","level":"info","message":"http_request_received","requestId":"0d1e0baa-c94c-48fc-9bda-3e6a17646421","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"0d1e0baa-c94c-48fc-9bda-3e6a17646421","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0d1e0baa-c94c-48fc-9bda-3e6a17646421","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.794Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.795Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.798Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.800Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest function called {
      aliasPath: '/assets/index-latest.css',
      requestPath: '/assets/index-latest.css'
    }

      at handleIndexAssetAliasRequest (server.js:1283:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:21:39.824Z","level":"info","message":"http_request_completed","requestId":"0d1e0baa-c94c-48fc-9bda-3e6a17646421","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":32,"contentLength":"106285","template":"unknown","session":"0d1e0baa-c94c-48fc-9bda-3e6a17646421","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0d1e0baa-c94c-48fc-9bda-3e6a17646421","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.826Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.829Z","level":"info","message":"http_request_received","requestId":"87119f25-fe5c-42f3-a9ae-7cffda3ded75","method":"GET","path":"/prod/assets/index-latest.css","template":"unknown","session":"87119f25-fe5c-42f3-a9ae-7cffda3ded75","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87119f25-fe5c-42f3-a9ae-7cffda3ded75","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.830Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.832Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.834Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.835Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest function called {
      aliasPath: '/assets/index-latest.css',
      requestPath: '/assets/index-latest.css'
    }

      at handleIndexAssetAliasRequest (server.js:1283:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:21:39.850Z","level":"info","message":"http_request_completed","requestId":"87119f25-fe5c-42f3-a9ae-7cffda3ded75","method":"GET","path":"/prod/assets/index-latest.css","statusCode":200,"durationMs":21,"contentLength":"106285","template":"unknown","session":"87119f25-fe5c-42f3-a9ae-7cffda3ded75","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87119f25-fe5c-42f3-a9ae-7cffda3ded75","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.851Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.854Z","level":"info","message":"http_request_received","requestId":"c4e3f6c3-c31d-4c30-9e09-b34f03c8298a","method":"HEAD","path":"/assets/index-meta.js","template":"unknown","session":"c4e3f6c3-c31d-4c30-9e09-b34f03c8298a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c4e3f6c3-c31d-4c30-9e09-b34f03c8298a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.855Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-meta.js","reqUrl":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.857Z","level":"info","message":"request_received","path":"/assets/index-meta.js","method":"HEAD","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.858Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.860Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.862Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-meta.js'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-meta.js'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-meta.js'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 {
      assetPath: '/assets/index-meta.js',
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest'
    }

      at serveHashedIndexAssetFromS3 (server.js:1099:11)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=1234 resolved=1234 metadata={"ContentType":"application/javascript","ContentLength":1234,"CacheControl":"public, max-age=31536000, immutable","ETag":"\"etag-js\"","LastModified":"2024-05-01T00:00:00.000Z"}

      at applyS3ResponseHeaders (server.js:617:11)

  console.log
    {"timestamp":"2025-12-04T13:21:39.876Z","level":"info","message":"client_asset_s3_head_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-meta.js","path":"/assets/index-meta.js","method":"HEAD","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.876Z","level":"info","message":"http_request_completed","requestId":"c4e3f6c3-c31d-4c30-9e09-b34f03c8298a","method":"HEAD","path":"/assets/index-meta.js","statusCode":200,"durationMs":22,"contentLength":"1234","template":"unknown","session":"c4e3f6c3-c31d-4c30-9e09-b34f03c8298a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c4e3f6c3-c31d-4c30-9e09-b34f03c8298a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.879Z","level":"info","message":"http_request_received","requestId":"d9929d6b-9c7e-4e96-bd55-b7361e24f7f4","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"d9929d6b-9c7e-4e96-bd55-b7361e24f7f4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9929d6b-9c7e-4e96-bd55-b7361e24f7f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.880Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.886Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.888Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.890Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest function called {
      aliasPath: '/assets/index-latest.css',
      requestPath: '/assets/index-latest.css'
    }

      at handleIndexAssetAliasRequest (server.js:1283:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-test-alias.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-test-alias.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-test-alias.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 {
      assetPath: 'assets/index-test-alias.css',
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest'
    }

      at serveHashedIndexAssetFromS3 (server.js:1099:11)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60"}

      at applyS3ResponseHeaders (server.js:617:11)

  console.log
    DEBUG: streamS3BodyToResponse data chunk length=23

      at Readable.<anonymous> (server.js:505:17)

  console.log
    DEBUG: streamS3BodyToResponse end fullBody length=23

      at Readable.<anonymous> (server.js:513:19)

  console.log
    {"timestamp":"2025-12-04T13:21:39.912Z","level":"info","message":"http_request_completed","requestId":"d9929d6b-9c7e-4e96-bd55-b7361e24f7f4","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":33,"contentLength":"23","template":"unknown","session":"d9929d6b-9c7e-4e96-bd55-b7361e24f7f4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9929d6b-9c7e-4e96-bd55-b7361e24f7f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.913Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-test-alias.css","path":"assets/index-test-alias.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-test-alias.css","s3Key":"assets/index-test-alias.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.916Z","level":"info","message":"http_request_received","requestId":"b9d03170-a55f-4fde-b295-00844a3da393","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"b9d03170-a55f-4fde-b295-00844a3da393","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b9d03170-a55f-4fde-b295-00844a3da393","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.917Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.918Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.920Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.922Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest function called {
      aliasPath: '/assets/index-latest.css',
      requestPath: '/assets/index-latest.css'
    }

      at handleIndexAssetAliasRequest (server.js:1283:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-manifest-only.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-manifest-only.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-manifest-only.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 {
      assetPath: 'assets/index-manifest-only.css',
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest'
    }

      at serveHashedIndexAssetFromS3 (server.js:1099:11)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60"}

      at applyS3ResponseHeaders (server.js:617:11)

  console.log
    DEBUG: streamS3BodyToResponse data chunk length=31

      at Readable.<anonymous> (server.js:505:17)

  console.log
    DEBUG: streamS3BodyToResponse end fullBody length=31

      at Readable.<anonymous> (server.js:513:19)

  console.log
    {"timestamp":"2025-12-04T13:21:39.938Z","level":"info","message":"http_request_completed","requestId":"b9d03170-a55f-4fde-b295-00844a3da393","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":22,"contentLength":"31","template":"unknown","session":"b9d03170-a55f-4fde-b295-00844a3da393","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b9d03170-a55f-4fde-b295-00844a3da393","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.939Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-manifest-only.css","path":"assets/index-manifest-only.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-manifest-only.css","s3Key":"assets/index-manifest-only.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.942Z","level":"info","message":"http_request_received","requestId":"903fe368-ca27-45cb-8b88-59c6012fe86d","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"903fe368-ca27-45cb-8b88-59c6012fe86d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"903fe368-ca27-45cb-8b88-59c6012fe86d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.943Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.945Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.946Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.948Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest function called {
      aliasPath: '/assets/index-latest.css',
      requestPath: '/assets/index-latest.css'
    }

      at handleIndexAssetAliasRequest (server.js:1283:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-prefixed.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-prefixed.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-prefixed.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 {
      assetPath: 'static/client/prod/latest/assets/index-prefixed.css',
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest'
    }

      at serveHashedIndexAssetFromS3 (server.js:1099:11)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60"}

      at applyS3ResponseHeaders (server.js:617:11)

  console.log
    DEBUG: streamS3BodyToResponse data chunk length=26

      at Readable.<anonymous> (server.js:505:17)

  console.log
    DEBUG: streamS3BodyToResponse end fullBody length=26

      at Readable.<anonymous> (server.js:513:19)

  console.log
    {"timestamp":"2025-12-04T13:21:39.962Z","level":"info","message":"http_request_completed","requestId":"903fe368-ca27-45cb-8b88-59c6012fe86d","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":20,"contentLength":"26","template":"unknown","session":"903fe368-ca27-45cb-8b88-59c6012fe86d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"903fe368-ca27-45cb-8b88-59c6012fe86d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.962Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/prod/latest/assets/index-prefixed.css","path":"static/client/prod/latest/assets/index-prefixed.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-prefixed.css","s3Key":"static/client/prod/latest/assets/index-prefixed.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.966Z","level":"info","message":"http_request_received","requestId":"750306bd-d59b-4140-ac57-ba9f76abc8cb","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"750306bd-d59b-4140-ac57-ba9f76abc8cb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"750306bd-d59b-4140-ac57-ba9f76abc8cb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.968Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.969Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.971Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:39.972Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest function called {
      aliasPath: '/assets/index-latest.css',
      requestPath: '/assets/index-latest.css'
    }

      at handleIndexAssetAliasRequest (server.js:1283:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 {
      assetPath: 'assets/index-missing.css',
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest'
    }

      at serveHashedIndexAssetFromS3 (server.js:1099:11)

  console.warn
    {"timestamp":"2025-12-04T13:21:39.996Z","level":"warn","message":"client_asset_alias_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-missing.css","path":"assets/index-missing.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-missing.css","s3Key":"assets/index-missing.css","error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:578:23)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7810:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7813:16)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1153:32)\n    at handleIndexAssetAliasRequest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1421:30)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at serveIndexAssetAlias (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1532:3)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at serveHashedIndexAssetFromS3 (server.js:1172:5)
      at handleIndexAssetAliasRequest (server.js:1421:24)
      at serveIndexAssetAlias (server.js:1532:3)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-existing.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-existing.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-existing.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 {
      assetPath: 'assets/index-existing.css',
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest'
    }

      at serveHashedIndexAssetFromS3 (server.js:1099:11)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60"}

      at applyS3ResponseHeaders (server.js:617:11)

  console.log
    DEBUG: streamS3BodyToResponse data chunk length=26

      at Readable.<anonymous> (server.js:505:17)

  console.log
    DEBUG: streamS3BodyToResponse end fullBody length=26

      at Readable.<anonymous> (server.js:513:19)

  console.log
    {"timestamp":"2025-12-04T13:21:40.006Z","level":"info","message":"http_request_completed","requestId":"750306bd-d59b-4140-ac57-ba9f76abc8cb","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":40,"contentLength":"26","template":"unknown","session":"750306bd-d59b-4140-ac57-ba9f76abc8cb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"750306bd-d59b-4140-ac57-ba9f76abc8cb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.007Z","level":"info","message":"client_asset_alias_fallback_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-existing.css","path":"assets/index-existing.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-existing.css","s3Key":"assets/index-existing.css","manifestFallback":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.012Z","level":"info","message":"http_request_received","requestId":"aec87453-35c5-457b-a451-d0bdb288bdeb","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"aec87453-35c5-457b-a451-d0bdb288bdeb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aec87453-35c5-457b-a451-d0bdb288bdeb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.013Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.014Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.016Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.017Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.019Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-latest.css' candidate='assets/index-latest.css'

      at normalizeStaticProxyAssetPath (server.js:1605:11)

  console.log
    DEBUG: handleIndexAssetAliasRequest function called {
      aliasPath: '/assets/index-latest.css',
      requestPath: '/assets/index-latest.css'
    }

      at handleIndexAssetAliasRequest (server.js:1283:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:21:40.025Z","level":"info","message":"http_request_completed","requestId":"aec87453-35c5-457b-a451-d0bdb288bdeb","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","statusCode":200,"durationMs":13,"contentLength":"106285","template":"unknown","session":"aec87453-35c5-457b-a451-d0bdb288bdeb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aec87453-35c5-457b-a451-d0bdb288bdeb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.026Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.028Z","level":"info","message":"http_request_received","requestId":"8c81effa-5bc4-4877-b14b-8ed53c5f21d0","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","template":"unknown","session":"8c81effa-5bc4-4877-b14b-8ed53c5f21d0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8c81effa-5bc4-4877-b14b-8ed53c5f21d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.029Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.031Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.032Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.038Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.040Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-latest.css,,' candidate='assets/index-latest.css,,'

      at normalizeStaticProxyAssetPath (server.js:1605:11)

  console.log
    DEBUG: handleIndexAssetAliasRequest function called {
      aliasPath: '/assets/index-latest.css',
      requestPath: '/assets/index-latest.css'
    }

      at handleIndexAssetAliasRequest (server.js:1283:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:21:40.046Z","level":"info","message":"http_request_completed","requestId":"8c81effa-5bc4-4877-b14b-8ed53c5f21d0","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","statusCode":200,"durationMs":18,"contentLength":"106285","template":"unknown","session":"8c81effa-5bc4-4877-b14b-8ed53c5f21d0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8c81effa-5bc4-4877-b14b-8ed53c5f21d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.046Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.050Z","level":"info","message":"http_request_received","requestId":"9f697a70-ebb7-4ab2-8a32-b035be85bbc0","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","template":"unknown","session":"9f697a70-ebb7-4ab2-8a32-b035be85bbc0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9f697a70-ebb7-4ab2-8a32-b035be85bbc0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.051Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.053Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.054Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.055Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.057Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='/assets/index-latest.css' candidate='/assets/index-latest.css'

      at normalizeStaticProxyAssetPath (server.js:1605:11)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-0da4b4af.css,, {"alias":"/assets/index-latest.css"}' candidate='assets/index-0da4b4af.css,, {"alias":"/assets/index-latest.css"}'

      at normalizeStaticProxyAssetPath (server.js:1605:11)

  console.log
    DEBUG: proxy handler { normalizedAssetPath: '/assets/index-0da4b4af.css' }

      at server.js:19137:11

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:21:40.062Z","level":"info","message":"http_request_completed","requestId":"9f697a70-ebb7-4ab2-8a32-b035be85bbc0","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","statusCode":200,"durationMs":12,"contentLength":"106285","template":"unknown","session":"9f697a70-ebb7-4ab2-8a32-b035be85bbc0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9f697a70-ebb7-4ab2-8a32-b035be85bbc0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.063Z","level":"info","message":"client_asset_alias_local_served","path":"/assets/index-0da4b4af.css","method":"GET","proxy":true,"aliasPath":"/assets/index-latest.css","annotatedAlias":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.065Z","level":"info","message":"http_request_received","requestId":"8c97e574-369f-49e1-8ef1-ce7a5458cf93","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"8c97e574-369f-49e1-8ef1-ce7a5458cf93","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8c97e574-369f-49e1-8ef1-ce7a5458cf93","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.067Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.068Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.069Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.071Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.072Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-latest.css' candidate='assets/index-latest.css'

      at normalizeStaticProxyAssetPath (server.js:1605:11)

  console.log
    DEBUG: handleIndexAssetAliasRequest function called {
      aliasPath: '/assets/index-latest.css',
      requestPath: '/assets/index-latest.css'
    }

      at handleIndexAssetAliasRequest (server.js:1283:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 {
      assetPath: 'assets/index-0da4b4af.css',
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest'
    }

      at serveHashedIndexAssetFromS3 (server.js:1099:11)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60"}

      at applyS3ResponseHeaders (server.js:617:11)

  console.log
    DEBUG: streamS3BodyToResponse data chunk length=32

      at Readable.<anonymous> (server.js:505:17)

  console.log
    DEBUG: streamS3BodyToResponse end fullBody length=32

      at Readable.<anonymous> (server.js:513:19)

  console.log
    {"timestamp":"2025-12-04T13:21:40.081Z","level":"info","message":"http_request_completed","requestId":"8c97e574-369f-49e1-8ef1-ce7a5458cf93","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","statusCode":200,"durationMs":16,"contentLength":"32","template":"unknown","session":"8c97e574-369f-49e1-8ef1-ce7a5458cf93","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8c97e574-369f-49e1-8ef1-ce7a5458cf93","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.081Z","level":"info","message":"client_asset_alias_proxy_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-0da4b4af.css","path":"assets/index-0da4b4af.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-0da4b4af.css","s3Key":"assets/index-0da4b4af.css","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.084Z","level":"info","message":"http_request_received","requestId":"27c1600c-66e7-4b7b-bb05-f155c08a181d","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css","template":"unknown","session":"27c1600c-66e7-4b7b-bb05-f155c08a181d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27c1600c-66e7-4b7b-bb05-f155c08a181d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.085Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.086Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.087Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.088Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.090Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-0da4b4af.css' candidate='assets/index-0da4b4af.css'

      at normalizeStaticProxyAssetPath (server.js:1605:11)

  console.log
    DEBUG: proxy handler { normalizedAssetPath: '/assets/index-0da4b4af.css' }

      at server.js:19137:11

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 {
      assetPath: '/assets/index-0da4b4af.css',
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest'
    }

      at serveHashedIndexAssetFromS3 (server.js:1099:11)

  console.warn
    {"timestamp":"2025-12-04T13:21:40.095Z","level":"warn","message":"client_asset_proxy_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-0da4b4af.css","path":"/assets/index-0da4b4af.css","method":"GET","proxy":true,"error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:758:21)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7810:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7813:16)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1153:32)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:19150:30\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at serveHashedIndexAssetFromS3 (server.js:1172:5)
      at server.js:19150:24

  console.log
    DEBUG: proxy handler checking regex { normalizedAssetPath: '/assets/index-0da4b4af.css', matches: true }

      at server.js:19169:11

  console.log
    DEBUG: handleIndexAssetAliasRequest entered { normalizedAssetPath: '/assets/index-0da4b4af.css' }

      at server.js:19171:13

  console.log
    DEBUG: handleIndexAssetAliasRequest function called {
      aliasPath: '/assets/index-latest.css',
      requestPath: '/assets/index-latest.css'
    }

      at handleIndexAssetAliasRequest (server.js:1283:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:21:40.103Z","level":"info","message":"http_request_completed","requestId":"27c1600c-66e7-4b7b-bb05-f155c08a181d","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css","statusCode":200,"durationMs":19,"contentLength":"106285","template":"unknown","session":"27c1600c-66e7-4b7b-bb05-f155c08a181d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27c1600c-66e7-4b7b-bb05-f155c08a181d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.103Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","path":"/assets/index-0da4b4af.css","proxy":true,"degradedFrom":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:40.104Z","level":"warn","message":"client_asset_proxy_degraded_to_alias","path":"/assets/index-0da4b4af.css","method":"GET","proxy":true,"aliasPath":"/assets/index-latest.css","degradedFrom":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:19204:9

  console.log
    {"timestamp":"2025-12-04T13:21:40.124Z","level":"info","message":"http_request_received","requestId":"a3717b4d-15f6-47e7-ab13-a35f831551dd","method":"GET","path":"/assets/index-0da4b4af.css","template":"unknown","session":"a3717b4d-15f6-47e7-ab13-a35f831551dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a3717b4d-15f6-47e7-ab13-a35f831551dd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.129Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-0da4b4af.css","reqUrl":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.135Z","level":"info","message":"request_received","path":"/assets/index-0da4b4af.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.139Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.141Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.145Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 {
      assetPath: '/assets/index-0da4b4af.css',
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest'
    }

      at serveHashedIndexAssetFromS3 (server.js:1099:11)

  console.warn
    {"timestamp":"2025-12-04T13:21:40.154Z","level":"warn","message":"client_asset_s3_fallback_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-0da4b4af.css","path":"/assets/index-0da4b4af.css","method":"GET","error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:804:21)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7810:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7813:16)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1153:32)\n    at tryServeHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1213:24)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at serveHashedIndexAssetFromS3 (server.js:1172:5)
      at tryServeHashedIndexAssetFromS3 (server.js:1213:18)

  console.log
    DEBUG: handleIndexAssetAliasRequest function called {
      aliasPath: '/assets/index-latest.css',
      requestPath: '/assets/index-0da4b4af.css'
    }

      at handleIndexAssetAliasRequest (server.js:1283:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:21:40.163Z","level":"info","message":"http_request_completed","requestId":"a3717b4d-15f6-47e7-ab13-a35f831551dd","method":"GET","path":"/assets/index-0da4b4af.css","statusCode":200,"durationMs":39,"contentLength":"106285","template":"unknown","session":"a3717b4d-15f6-47e7-ab13-a35f831551dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a3717b4d-15f6-47e7-ab13-a35f831551dd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.163Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","hashedPath":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:40.164Z","level":"warn","message":"hashed_index_asset_degraded_to_alias","hashedPath":"/assets/index-0da4b4af.css","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at tryServeHashedIndexAssetFromS3 (server.js:1265:7)

  console.log
    {"timestamp":"2025-12-04T13:21:40.171Z","level":"info","message":"http_request_received","requestId":"5f55d09f-8fa0-4f41-b0e7-d6f4aae125e2","method":"GET","path":"/api/static-proxy?asset=..%2Fsecrets.txt","template":"unknown","session":"5f55d09f-8fa0-4f41-b0e7-d6f4aae125e2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5f55d09f-8fa0-4f41-b0e7-d6f4aae125e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.172Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=..%2Fsecrets.txt","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.173Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.174Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.176Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.177Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='../secrets.txt' candidate='../secrets.txt'

      at normalizeStaticProxyAssetPath (server.js:1605:11)

  console.warn
    {"timestamp":"2025-12-04T13:21:40.181Z","level":"warn","message":"api_error_response","requestId":"5f55d09f-8fa0-4f41-b0e7-d6f4aae125e2","status":400,"error":{"code":"INVALID_STATIC_ASSET_PATH","message":"Provide a valid static asset path to proxy.","details":{},"requestId":"5f55d09f-8fa0-4f41-b0e7-d6f4aae125e2"},"template":"unknown","session":"5f55d09f-8fa0-4f41-b0e7-d6f4aae125e2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5f55d09f-8fa0-4f41-b0e7-d6f4aae125e2","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at sendError (server.js:3966:3)
      at server.js:19082:12
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at SendStream.error (node_modules/serve-static/index.js:121:7)
      at SendStream.error (node_modules/send/index.js:270:17)
      at SendStream.onStatError (node_modules/send/index.js:417:12)
      at next (node_modules/send/index.js:730:16)
      at onstat (node_modules/send/index.js:719:14)

  console.log
    {"timestamp":"2025-12-04T13:21:40.188Z","level":"info","message":"http_request_completed","requestId":"5f55d09f-8fa0-4f41-b0e7-d6f4aae125e2","method":"GET","path":"/api/static-proxy?asset=..%2Fsecrets.txt","statusCode":400,"durationMs":17,"contentLength":"182","template":"unknown","session":"5f55d09f-8fa0-4f41-b0e7-d6f4aae125e2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5f55d09f-8fa0-4f41-b0e7-d6f4aae125e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.191Z","level":"info","message":"http_request_received","requestId":"84542be8-9c58-42ed-880b-40a2eeb1f626","method":"GET","path":"/api/static-manifest","template":"unknown","session":"84542be8-9c58-42ed-880b-40a2eeb1f626","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"84542be8-9c58-42ed-880b-40a2eeb1f626","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.191Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.193Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.194Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.195Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.197Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.200Z","level":"info","message":"http_request_completed","requestId":"84542be8-9c58-42ed-880b-40a2eeb1f626","method":"GET","path":"/api/static-manifest","statusCode":200,"durationMs":9,"contentLength":"301","template":"unknown","session":"84542be8-9c58-42ed-880b-40a2eeb1f626","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"84542be8-9c58-42ed-880b-40a2eeb1f626","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.202Z","level":"info","message":"http_request_received","requestId":"ba62ec0e-c9a7-4712-8169-1e41b1fce361","method":"GET","path":"/api/static-manifest","template":"unknown","session":"ba62ec0e-c9a7-4712-8169-1e41b1fce361","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ba62ec0e-c9a7-4712-8169-1e41b1fce361","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.203Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.204Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.206Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.207Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.209Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.211Z","level":"info","message":"http_request_completed","requestId":"ba62ec0e-c9a7-4712-8169-1e41b1fce361","method":"GET","path":"/api/static-manifest","statusCode":200,"durationMs":9,"contentLength":"195","template":"unknown","session":"ba62ec0e-c9a7-4712-8169-1e41b1fce361","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ba62ec0e-c9a7-4712-8169-1e41b1fce361","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.213Z","level":"info","message":"http_request_received","requestId":"5678037b-bfab-4baf-a350-0b2b1698ec4b","method":"GET","path":"/api/static-manifest?refresh=1","template":"unknown","session":"5678037b-bfab-4baf-a350-0b2b1698ec4b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5678037b-bfab-4baf-a350-0b2b1698ec4b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.214Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest?refresh=1","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.215Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.216Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.218Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.219Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.222Z","level":"info","message":"http_request_completed","requestId":"5678037b-bfab-4baf-a350-0b2b1698ec4b","method":"GET","path":"/api/static-manifest?refresh=1","statusCode":200,"durationMs":9,"contentLength":"195","template":"unknown","session":"5678037b-bfab-4baf-a350-0b2b1698ec4b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5678037b-bfab-4baf-a350-0b2b1698ec4b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.223Z","level":"info","message":"http_request_received","requestId":"8188fe03-f4b3-46bd-ad14-672196e6091f","method":"GET","path":"/api/static-manifest","template":"unknown","session":"8188fe03-f4b3-46bd-ad14-672196e6091f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8188fe03-f4b3-46bd-ad14-672196e6091f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.224Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.226Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.227Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.228Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.230Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:40.233Z","level":"warn","message":"client_asset_manifest_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/manifest.json","error":{"name":"Error","message":"manifest not found","stack":"Error: manifest not found\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:902:22)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7810:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7813:16)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:868:30\n    at loadStaticAssetManifestFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:951:5)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:19224:28\n    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/serve-static/index.js:121:7)\n    at SendStream.emit (node:events:513:28)\n    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:270:17)\n    at SendStream.onStatError (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:417:12)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:730:16)\n    at onstat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:719:14)\n    at FSReqCallback.oncomplete (node:fs:206:21)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:943:7
      at loadStaticAssetManifestFromS3 (server.js:958:12)
      at server.js:19224:22

  console.error
    {"timestamp":"2025-12-04T13:21:40.238Z","level":"error","message":"api_error_response","requestId":"8188fe03-f4b3-46bd-ad14-672196e6091f","status":503,"error":{"code":"STATIC_MANIFEST_UNAVAILABLE","message":"Static asset manifest is not currently available. Please try again shortly.","details":{},"requestId":"8188fe03-f4b3-46bd-ad14-672196e6091f"},"template":"unknown","session":"8188fe03-f4b3-46bd-ad14-672196e6091f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8188fe03-f4b3-46bd-ad14-672196e6091f","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at sendError (server.js:3966:3)
      at server.js:19229:14

  console.log
    {"timestamp":"2025-12-04T13:21:40.244Z","level":"info","message":"http_request_completed","requestId":"8188fe03-f4b3-46bd-ad14-672196e6091f","method":"GET","path":"/api/static-manifest","statusCode":503,"durationMs":21,"contentLength":"216","template":"unknown","session":"8188fe03-f4b3-46bd-ad14-672196e6091f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8188fe03-f4b3-46bd-ad14-672196e6091f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.248Z","level":"info","message":"http_request_received","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","method":"POST","path":"/api/process-cv","template":"unknown","session":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.249Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.250Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.251Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.253Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.255Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/169ac8a5-61f2-40d7-9503-6c7a2c1ea654/incoming/original.pdf","chunks":1,"timestamp":1764854500260}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/169ac8a5-61f2-40d7-9503-6c7a2c1ea654/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/169ac8a5-61f2-40d7-9503-6c7a2c1ea654/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":8}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:21:40.276Z","level":"info","message":"process_cv_started","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","jobId":"cf9968e1-a437-49f4-a744-93d1b37b8f40","manualJobDescriptionProvided":true,"template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.277Z","level":"info","message":"template_selection","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","jobId":"cf9968e1-a437-49f4-a744-93d1b37b8f40","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:40.279Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","jobId":"cf9968e1-a437-49f4-a744-93d1b37b8f40","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:21:40.285Z","level":"info","message":"initial_upload_completed","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","jobId":"cf9968e1-a437-49f4-a744-93d1b37b8f40","bucket":"test-bucket","key":"cv/candidate/169ac8a5-61f2-40d7-9503-6c7a2c1ea654/incoming/original.pdf","template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.297Z","level":"info","message":"resume_text_extracted","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","jobId":"cf9968e1-a437-49f4-a744-93d1b37b8f40","characters":57,"template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.298Z","level":"info","message":"resume_classified","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","jobId":"cf9968e1-a437-49f4-a744-93d1b37b8f40","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.300Z","level":"info","message":"raw_upload_relocated","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","jobId":"cf9968e1-a437-49f4-a744-93d1b37b8f40","bucket":"test-bucket","fromKey":"cv/candidate/169ac8a5-61f2-40d7-9503-6c7a2c1ea654/incoming/original.pdf","toKey":"cv/professional_summary/169ac8a5-61f2-40d7-9503-6c7a2c1ea654/original.pdf","template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.301Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","jobId":"cf9968e1-a437-49f4-a744-93d1b37b8f40","bucket":"test-bucket","key":"cv/professional_summary/169ac8a5-61f2-40d7-9503-6c7a2c1ea654/original.pdf","template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.301Z","level":"info","message":"dynamo_initial_record_written","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","jobId":"cf9968e1-a437-49f4-a744-93d1b37b8f40","bucket":"test-bucket","key":"cv/professional_summary/169ac8a5-61f2-40d7-9503-6c7a2c1ea654/original.pdf","template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.302Z","level":"info","message":"upload_metadata_written","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","jobId":"cf9968e1-a437-49f4-a744-93d1b37b8f40","bucket":"test-bucket","key":"cv/professional_summary/169ac8a5-61f2-40d7-9503-6c7a2c1ea654/logs/log.json","template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.302Z","level":"info","message":"job_description_supplied_manually","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","jobId":"cf9968e1-a437-49f4-a744-93d1b37b8f40","characters":174,"template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.303Z","level":"info","message":"job_description_analyzed","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","jobId":"cf9968e1-a437-49f4-a744-93d1b37b8f40","jobTitle":"","jobSkills":5,"template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.308Z","level":"info","message":"resume_skills_analyzed","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","jobId":"cf9968e1-a437-49f4-a744-93d1b37b8f40","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.310Z","level":"info","message":"llm_call_metrics","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.312Z","level":"info","message":"process_cv_scoring_completed","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","jobId":"cf9968e1-a437-49f4-a744-93d1b37b8f40","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.327Z","level":"info","message":"llm_call_metrics","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.328Z","level":"info","message":"generation_section_rewrite_completed","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","jobId":"cf9968e1-a437-49f4-a744-93d1b37b8f40","generationRunId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.328Z","level":"info","message":"llm_call_metrics","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.332Z","level":"info","message":"generation_resume_verified","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","jobId":"cf9968e1-a437-49f4-a744-93d1b37b8f40","generationRunId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:40.346Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","jobId":"cf9968e1-a437-49f4-a744-93d1b37b8f40","generationRunId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:40.354Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","jobId":"cf9968e1-a437-49f4-a744-93d1b37b8f40","generationRunId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:40.360Z","level":"info","message":"generation_cover_letters_completed","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","jobId":"cf9968e1-a437-49f4-a744-93d1b37b8f40","generationRunId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","variants":2,"fallbackApplied":true,"template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.362Z","level":"info","message":"pdf_generation_attempt","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","jobId":"cf9968e1-a437-49f4-a744-93d1b37b8f40","generationRunId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/169ac8a5-61f2-40d7-9503-6c7a2c1ea654/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/169ac8a5-61f2-40d7-9503-6c7a2c1ea654/enhanced_modern.pdf","session":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.363Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","jobId":"cf9968e1-a437-49f4-a744-93d1b37b8f40","generationRunId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/169ac8a5-61f2-40d7-9503-6c7a2c1ea654/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.363Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","jobId":"cf9968e1-a437-49f4-a744-93d1b37b8f40","generationRunId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/169ac8a5-61f2-40d7-9503-6c7a2c1ea654/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/169ac8a5-61f2-40d7-9503-6c7a2c1ea654/enhanced_modern.pdf","session":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.364Z","level":"info","message":"pdf_generation_attempt","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","jobId":"cf9968e1-a437-49f4-a744-93d1b37b8f40","generationRunId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/169ac8a5-61f2-40d7-9503-6c7a2c1ea654/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/169ac8a5-61f2-40d7-9503-6c7a2c1ea654/enhanced_professional.pdf","session":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.365Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","jobId":"cf9968e1-a437-49f4-a744-93d1b37b8f40","generationRunId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/169ac8a5-61f2-40d7-9503-6c7a2c1ea654/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.365Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","jobId":"cf9968e1-a437-49f4-a744-93d1b37b8f40","generationRunId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/169ac8a5-61f2-40d7-9503-6c7a2c1ea654/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/169ac8a5-61f2-40d7-9503-6c7a2c1ea654/enhanced_professional.pdf","session":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.366Z","level":"info","message":"pdf_generation_attempt","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","jobId":"cf9968e1-a437-49f4-a744-93d1b37b8f40","generationRunId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/169ac8a5-61f2-40d7-9503-6c7a2c1ea654/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/169ac8a5-61f2-40d7-9503-6c7a2c1ea654/cover_letter_cover_modern.pdf","session":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.366Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","jobId":"cf9968e1-a437-49f4-a744-93d1b37b8f40","generationRunId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/169ac8a5-61f2-40d7-9503-6c7a2c1ea654/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.366Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","jobId":"cf9968e1-a437-49f4-a744-93d1b37b8f40","generationRunId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/169ac8a5-61f2-40d7-9503-6c7a2c1ea654/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/169ac8a5-61f2-40d7-9503-6c7a2c1ea654/cover_letter_cover_modern.pdf","session":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.367Z","level":"info","message":"pdf_generation_attempt","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","jobId":"cf9968e1-a437-49f4-a744-93d1b37b8f40","generationRunId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/169ac8a5-61f2-40d7-9503-6c7a2c1ea654/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/169ac8a5-61f2-40d7-9503-6c7a2c1ea654/cover_letter_cover_professional.pdf","session":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.368Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","jobId":"cf9968e1-a437-49f4-a744-93d1b37b8f40","generationRunId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/169ac8a5-61f2-40d7-9503-6c7a2c1ea654/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.368Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","jobId":"cf9968e1-a437-49f4-a744-93d1b37b8f40","generationRunId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/169ac8a5-61f2-40d7-9503-6c7a2c1ea654/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/169ac8a5-61f2-40d7-9503-6c7a2c1ea654/cover_letter_cover_professional.pdf","session":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.374Z","level":"info","message":"llm_call_metrics","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.375Z","level":"info","message":"generation_completed","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","jobId":"cf9968e1-a437-49f4-a744-93d1b37b8f40","generationRunId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","enhancedScore":80,"outputs":5,"template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.376Z","level":"info","message":"placeholder_record_deleted","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","jobId":"cf9968e1-a437-49f4-a744-93d1b37b8f40","placeholderIdentifier":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf9968e1-a437-49f4-a744-93d1b37b8f40","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.378Z","level":"info","message":"http_request_completed","requestId":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":130,"contentLength":"58133","template":"unknown","session":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"169ac8a5-61f2-40d7-9503-6c7a2c1ea654","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.380Z","level":"info","message":"http_request_received","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","method":"POST","path":"/api/process-cv","template":"unknown","session":"bc39256e-cb3b-434f-8f8b-102557489edb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bc39256e-cb3b-434f-8f8b-102557489edb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.381Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.383Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.384Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.385Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.387Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/bc39256e-cb3b-434f-8f8b-102557489edb/incoming/original.pdf","chunks":1,"timestamp":1764854500390}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/bc39256e-cb3b-434f-8f8b-102557489edb/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/bc39256e-cb3b-434f-8f8b-102557489edb/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:21:40.399Z","level":"info","message":"process_cv_started","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","jobId":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","manualJobDescriptionProvided":true,"template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.399Z","level":"info","message":"template_selection","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","jobId":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:40.400Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","jobId":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:21:40.406Z","level":"info","message":"initial_upload_completed","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","jobId":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","bucket":"test-bucket","key":"cv/candidate/bc39256e-cb3b-434f-8f8b-102557489edb/incoming/original.pdf","template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.411Z","level":"info","message":"resume_text_extracted","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","jobId":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","characters":57,"template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.411Z","level":"info","message":"resume_classified","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","jobId":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.411Z","level":"info","message":"raw_upload_relocated","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","jobId":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","bucket":"test-bucket","fromKey":"cv/candidate/bc39256e-cb3b-434f-8f8b-102557489edb/incoming/original.pdf","toKey":"cv/professional_summary/bc39256e-cb3b-434f-8f8b-102557489edb/original.pdf","template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.412Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","jobId":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","bucket":"test-bucket","key":"cv/professional_summary/bc39256e-cb3b-434f-8f8b-102557489edb/original.pdf","template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.412Z","level":"info","message":"dynamo_initial_record_written","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","jobId":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","bucket":"test-bucket","key":"cv/professional_summary/bc39256e-cb3b-434f-8f8b-102557489edb/original.pdf","template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.412Z","level":"info","message":"upload_metadata_written","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","jobId":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","bucket":"test-bucket","key":"cv/professional_summary/bc39256e-cb3b-434f-8f8b-102557489edb/logs/log.json","template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.413Z","level":"info","message":"job_description_supplied_manually","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","jobId":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","characters":174,"template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.413Z","level":"info","message":"job_description_analyzed","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","jobId":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","jobTitle":"","jobSkills":5,"template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.416Z","level":"info","message":"resume_skills_analyzed","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","jobId":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.416Z","level":"info","message":"llm_call_metrics","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"bc39256e-cb3b-434f-8f8b-102557489edb","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"bc39256e-cb3b-434f-8f8b-102557489edb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.417Z","level":"info","message":"process_cv_scoring_completed","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","jobId":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.420Z","level":"info","message":"llm_call_metrics","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"bc39256e-cb3b-434f-8f8b-102557489edb","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"bc39256e-cb3b-434f-8f8b-102557489edb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.420Z","level":"info","message":"generation_section_rewrite_completed","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","jobId":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","generationRunId":"bc39256e-cb3b-434f-8f8b-102557489edb","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.421Z","level":"info","message":"llm_call_metrics","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"bc39256e-cb3b-434f-8f8b-102557489edb","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"bc39256e-cb3b-434f-8f8b-102557489edb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.424Z","level":"info","message":"generation_resume_verified","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","jobId":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","generationRunId":"bc39256e-cb3b-434f-8f8b-102557489edb","template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:40.428Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","jobId":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","generationRunId":"bc39256e-cb3b-434f-8f8b-102557489edb","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:40.435Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","jobId":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","generationRunId":"bc39256e-cb3b-434f-8f8b-102557489edb","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:40.440Z","level":"info","message":"generation_cover_letters_completed","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","jobId":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","generationRunId":"bc39256e-cb3b-434f-8f8b-102557489edb","variants":2,"fallbackApplied":true,"template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.441Z","level":"info","message":"pdf_generation_attempt","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","jobId":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","generationRunId":"bc39256e-cb3b-434f-8f8b-102557489edb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/bc39256e-cb3b-434f-8f8b-102557489edb/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/bc39256e-cb3b-434f-8f8b-102557489edb/enhanced_modern.pdf","session":"bc39256e-cb3b-434f-8f8b-102557489edb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"bc39256e-cb3b-434f-8f8b-102557489edb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.441Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","jobId":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","generationRunId":"bc39256e-cb3b-434f-8f8b-102557489edb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/bc39256e-cb3b-434f-8f8b-102557489edb/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"bc39256e-cb3b-434f-8f8b-102557489edb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"bc39256e-cb3b-434f-8f8b-102557489edb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.441Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","jobId":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","generationRunId":"bc39256e-cb3b-434f-8f8b-102557489edb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/bc39256e-cb3b-434f-8f8b-102557489edb/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/bc39256e-cb3b-434f-8f8b-102557489edb/enhanced_modern.pdf","session":"bc39256e-cb3b-434f-8f8b-102557489edb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"bc39256e-cb3b-434f-8f8b-102557489edb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.442Z","level":"info","message":"pdf_generation_attempt","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","jobId":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","generationRunId":"bc39256e-cb3b-434f-8f8b-102557489edb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/bc39256e-cb3b-434f-8f8b-102557489edb/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/bc39256e-cb3b-434f-8f8b-102557489edb/enhanced_professional.pdf","session":"bc39256e-cb3b-434f-8f8b-102557489edb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"bc39256e-cb3b-434f-8f8b-102557489edb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.442Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","jobId":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","generationRunId":"bc39256e-cb3b-434f-8f8b-102557489edb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/bc39256e-cb3b-434f-8f8b-102557489edb/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"bc39256e-cb3b-434f-8f8b-102557489edb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"bc39256e-cb3b-434f-8f8b-102557489edb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.443Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","jobId":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","generationRunId":"bc39256e-cb3b-434f-8f8b-102557489edb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/bc39256e-cb3b-434f-8f8b-102557489edb/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/bc39256e-cb3b-434f-8f8b-102557489edb/enhanced_professional.pdf","session":"bc39256e-cb3b-434f-8f8b-102557489edb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"bc39256e-cb3b-434f-8f8b-102557489edb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.443Z","level":"info","message":"pdf_generation_attempt","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","jobId":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","generationRunId":"bc39256e-cb3b-434f-8f8b-102557489edb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/bc39256e-cb3b-434f-8f8b-102557489edb/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/bc39256e-cb3b-434f-8f8b-102557489edb/cover_letter_cover_modern.pdf","session":"bc39256e-cb3b-434f-8f8b-102557489edb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"bc39256e-cb3b-434f-8f8b-102557489edb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.443Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","jobId":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","generationRunId":"bc39256e-cb3b-434f-8f8b-102557489edb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/bc39256e-cb3b-434f-8f8b-102557489edb/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"bc39256e-cb3b-434f-8f8b-102557489edb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"bc39256e-cb3b-434f-8f8b-102557489edb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.444Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","jobId":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","generationRunId":"bc39256e-cb3b-434f-8f8b-102557489edb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/bc39256e-cb3b-434f-8f8b-102557489edb/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/bc39256e-cb3b-434f-8f8b-102557489edb/cover_letter_cover_modern.pdf","session":"bc39256e-cb3b-434f-8f8b-102557489edb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"bc39256e-cb3b-434f-8f8b-102557489edb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.445Z","level":"info","message":"pdf_generation_attempt","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","jobId":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","generationRunId":"bc39256e-cb3b-434f-8f8b-102557489edb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/bc39256e-cb3b-434f-8f8b-102557489edb/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/bc39256e-cb3b-434f-8f8b-102557489edb/cover_letter_cover_professional.pdf","session":"bc39256e-cb3b-434f-8f8b-102557489edb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"bc39256e-cb3b-434f-8f8b-102557489edb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.445Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","jobId":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","generationRunId":"bc39256e-cb3b-434f-8f8b-102557489edb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/bc39256e-cb3b-434f-8f8b-102557489edb/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"bc39256e-cb3b-434f-8f8b-102557489edb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"bc39256e-cb3b-434f-8f8b-102557489edb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.445Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","jobId":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","generationRunId":"bc39256e-cb3b-434f-8f8b-102557489edb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/bc39256e-cb3b-434f-8f8b-102557489edb/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/bc39256e-cb3b-434f-8f8b-102557489edb/cover_letter_cover_professional.pdf","session":"bc39256e-cb3b-434f-8f8b-102557489edb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"bc39256e-cb3b-434f-8f8b-102557489edb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.448Z","level":"info","message":"llm_call_metrics","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"bc39256e-cb3b-434f-8f8b-102557489edb","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"bc39256e-cb3b-434f-8f8b-102557489edb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.449Z","level":"info","message":"generation_completed","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","jobId":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","generationRunId":"bc39256e-cb3b-434f-8f8b-102557489edb","enhancedScore":80,"outputs":5,"template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.450Z","level":"info","message":"placeholder_record_deleted","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","jobId":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","placeholderIdentifier":"bc39256e-cb3b-434f-8f8b-102557489edb","template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c4ee7da8-2d8f-458d-ae15-bb51e0c6378b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.451Z","level":"info","message":"http_request_completed","requestId":"bc39256e-cb3b-434f-8f8b-102557489edb","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":71,"contentLength":"58133","template":"unknown","session":"bc39256e-cb3b-434f-8f8b-102557489edb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bc39256e-cb3b-434f-8f8b-102557489edb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.461Z","level":"info","message":"http_request_received","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","method":"POST","path":"/api/process-cv","template":"unknown","session":"122d8dfd-fc17-47a5-962b-a21a233e493c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"122d8dfd-fc17-47a5-962b-a21a233e493c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.462Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.463Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.464Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.466Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.468Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/122d8dfd-fc17-47a5-962b-a21a233e493c/incoming/original.pdf","chunks":1,"timestamp":1764854500470}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/122d8dfd-fc17-47a5-962b-a21a233e493c/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/122d8dfd-fc17-47a5-962b-a21a233e493c/incoming/original.pdf","uploadDurationMs":1,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:21:40.473Z","level":"info","message":"process_cv_started","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","jobId":"4a312e44-47bc-4aec-809f-4485a49675bd","manualJobDescriptionProvided":true,"template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.473Z","level":"info","message":"template_selection","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","jobId":"4a312e44-47bc-4aec-809f-4485a49675bd","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:40.474Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","jobId":"4a312e44-47bc-4aec-809f-4485a49675bd","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:21:40.479Z","level":"info","message":"initial_upload_completed","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","jobId":"4a312e44-47bc-4aec-809f-4485a49675bd","bucket":"test-bucket","key":"cv/candidate/122d8dfd-fc17-47a5-962b-a21a233e493c/incoming/original.pdf","template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.480Z","level":"info","message":"resume_text_extracted","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","jobId":"4a312e44-47bc-4aec-809f-4485a49675bd","characters":57,"template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.480Z","level":"info","message":"resume_classified","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","jobId":"4a312e44-47bc-4aec-809f-4485a49675bd","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.481Z","level":"info","message":"raw_upload_relocated","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","jobId":"4a312e44-47bc-4aec-809f-4485a49675bd","bucket":"test-bucket","fromKey":"cv/candidate/122d8dfd-fc17-47a5-962b-a21a233e493c/incoming/original.pdf","toKey":"cv/professional_summary/122d8dfd-fc17-47a5-962b-a21a233e493c/original.pdf","template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.481Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","jobId":"4a312e44-47bc-4aec-809f-4485a49675bd","bucket":"test-bucket","key":"cv/professional_summary/122d8dfd-fc17-47a5-962b-a21a233e493c/original.pdf","template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.482Z","level":"info","message":"dynamo_initial_record_written","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","jobId":"4a312e44-47bc-4aec-809f-4485a49675bd","bucket":"test-bucket","key":"cv/professional_summary/122d8dfd-fc17-47a5-962b-a21a233e493c/original.pdf","template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.484Z","level":"info","message":"upload_metadata_written","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","jobId":"4a312e44-47bc-4aec-809f-4485a49675bd","bucket":"test-bucket","key":"cv/professional_summary/122d8dfd-fc17-47a5-962b-a21a233e493c/logs/log.json","template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.484Z","level":"info","message":"session_transition_change_log_removed","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","jobId":"4a312e44-47bc-4aec-809f-4485a49675bd","bucket":"test-bucket","removedKeys":["cv/candidate/session-old/logs/change-log.json","cv/candidate/session-old/artifacts/changelog.json"],"template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.484Z","level":"info","message":"job_description_supplied_manually","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","jobId":"4a312e44-47bc-4aec-809f-4485a49675bd","characters":174,"template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.485Z","level":"info","message":"job_description_analyzed","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","jobId":"4a312e44-47bc-4aec-809f-4485a49675bd","jobTitle":"","jobSkills":5,"template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.485Z","level":"info","message":"resume_skills_analyzed","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","jobId":"4a312e44-47bc-4aec-809f-4485a49675bd","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.486Z","level":"info","message":"llm_call_metrics","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"122d8dfd-fc17-47a5-962b-a21a233e493c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"122d8dfd-fc17-47a5-962b-a21a233e493c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.487Z","level":"info","message":"process_cv_scoring_completed","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","jobId":"4a312e44-47bc-4aec-809f-4485a49675bd","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.489Z","level":"info","message":"llm_call_metrics","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"122d8dfd-fc17-47a5-962b-a21a233e493c","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"122d8dfd-fc17-47a5-962b-a21a233e493c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.490Z","level":"info","message":"generation_section_rewrite_completed","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","jobId":"4a312e44-47bc-4aec-809f-4485a49675bd","generationRunId":"122d8dfd-fc17-47a5-962b-a21a233e493c","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.490Z","level":"info","message":"llm_call_metrics","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"122d8dfd-fc17-47a5-962b-a21a233e493c","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"122d8dfd-fc17-47a5-962b-a21a233e493c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.492Z","level":"info","message":"generation_resume_verified","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","jobId":"4a312e44-47bc-4aec-809f-4485a49675bd","generationRunId":"122d8dfd-fc17-47a5-962b-a21a233e493c","template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:40.495Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","jobId":"4a312e44-47bc-4aec-809f-4485a49675bd","generationRunId":"122d8dfd-fc17-47a5-962b-a21a233e493c","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:40.501Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","jobId":"4a312e44-47bc-4aec-809f-4485a49675bd","generationRunId":"122d8dfd-fc17-47a5-962b-a21a233e493c","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:40.506Z","level":"info","message":"generation_cover_letters_completed","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","jobId":"4a312e44-47bc-4aec-809f-4485a49675bd","generationRunId":"122d8dfd-fc17-47a5-962b-a21a233e493c","variants":2,"fallbackApplied":true,"template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.507Z","level":"info","message":"pdf_generation_attempt","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","jobId":"4a312e44-47bc-4aec-809f-4485a49675bd","generationRunId":"122d8dfd-fc17-47a5-962b-a21a233e493c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/122d8dfd-fc17-47a5-962b-a21a233e493c/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/122d8dfd-fc17-47a5-962b-a21a233e493c/enhanced_modern.pdf","session":"122d8dfd-fc17-47a5-962b-a21a233e493c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"122d8dfd-fc17-47a5-962b-a21a233e493c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.507Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","jobId":"4a312e44-47bc-4aec-809f-4485a49675bd","generationRunId":"122d8dfd-fc17-47a5-962b-a21a233e493c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/122d8dfd-fc17-47a5-962b-a21a233e493c/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"122d8dfd-fc17-47a5-962b-a21a233e493c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"122d8dfd-fc17-47a5-962b-a21a233e493c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.508Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","jobId":"4a312e44-47bc-4aec-809f-4485a49675bd","generationRunId":"122d8dfd-fc17-47a5-962b-a21a233e493c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/122d8dfd-fc17-47a5-962b-a21a233e493c/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/122d8dfd-fc17-47a5-962b-a21a233e493c/enhanced_modern.pdf","session":"122d8dfd-fc17-47a5-962b-a21a233e493c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"122d8dfd-fc17-47a5-962b-a21a233e493c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.508Z","level":"info","message":"pdf_generation_attempt","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","jobId":"4a312e44-47bc-4aec-809f-4485a49675bd","generationRunId":"122d8dfd-fc17-47a5-962b-a21a233e493c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/122d8dfd-fc17-47a5-962b-a21a233e493c/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/122d8dfd-fc17-47a5-962b-a21a233e493c/enhanced_professional.pdf","session":"122d8dfd-fc17-47a5-962b-a21a233e493c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"122d8dfd-fc17-47a5-962b-a21a233e493c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.509Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","jobId":"4a312e44-47bc-4aec-809f-4485a49675bd","generationRunId":"122d8dfd-fc17-47a5-962b-a21a233e493c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/122d8dfd-fc17-47a5-962b-a21a233e493c/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"122d8dfd-fc17-47a5-962b-a21a233e493c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"122d8dfd-fc17-47a5-962b-a21a233e493c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.509Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","jobId":"4a312e44-47bc-4aec-809f-4485a49675bd","generationRunId":"122d8dfd-fc17-47a5-962b-a21a233e493c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/122d8dfd-fc17-47a5-962b-a21a233e493c/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/122d8dfd-fc17-47a5-962b-a21a233e493c/enhanced_professional.pdf","session":"122d8dfd-fc17-47a5-962b-a21a233e493c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"122d8dfd-fc17-47a5-962b-a21a233e493c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.509Z","level":"info","message":"pdf_generation_attempt","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","jobId":"4a312e44-47bc-4aec-809f-4485a49675bd","generationRunId":"122d8dfd-fc17-47a5-962b-a21a233e493c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/122d8dfd-fc17-47a5-962b-a21a233e493c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/122d8dfd-fc17-47a5-962b-a21a233e493c/cover_letter_cover_modern.pdf","session":"122d8dfd-fc17-47a5-962b-a21a233e493c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"122d8dfd-fc17-47a5-962b-a21a233e493c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.510Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","jobId":"4a312e44-47bc-4aec-809f-4485a49675bd","generationRunId":"122d8dfd-fc17-47a5-962b-a21a233e493c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/122d8dfd-fc17-47a5-962b-a21a233e493c/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"122d8dfd-fc17-47a5-962b-a21a233e493c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"122d8dfd-fc17-47a5-962b-a21a233e493c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.510Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","jobId":"4a312e44-47bc-4aec-809f-4485a49675bd","generationRunId":"122d8dfd-fc17-47a5-962b-a21a233e493c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/122d8dfd-fc17-47a5-962b-a21a233e493c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/122d8dfd-fc17-47a5-962b-a21a233e493c/cover_letter_cover_modern.pdf","session":"122d8dfd-fc17-47a5-962b-a21a233e493c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"122d8dfd-fc17-47a5-962b-a21a233e493c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.511Z","level":"info","message":"pdf_generation_attempt","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","jobId":"4a312e44-47bc-4aec-809f-4485a49675bd","generationRunId":"122d8dfd-fc17-47a5-962b-a21a233e493c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/122d8dfd-fc17-47a5-962b-a21a233e493c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/122d8dfd-fc17-47a5-962b-a21a233e493c/cover_letter_cover_professional.pdf","session":"122d8dfd-fc17-47a5-962b-a21a233e493c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"122d8dfd-fc17-47a5-962b-a21a233e493c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.512Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","jobId":"4a312e44-47bc-4aec-809f-4485a49675bd","generationRunId":"122d8dfd-fc17-47a5-962b-a21a233e493c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/122d8dfd-fc17-47a5-962b-a21a233e493c/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"122d8dfd-fc17-47a5-962b-a21a233e493c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"122d8dfd-fc17-47a5-962b-a21a233e493c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.512Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","jobId":"4a312e44-47bc-4aec-809f-4485a49675bd","generationRunId":"122d8dfd-fc17-47a5-962b-a21a233e493c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/122d8dfd-fc17-47a5-962b-a21a233e493c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/122d8dfd-fc17-47a5-962b-a21a233e493c/cover_letter_cover_professional.pdf","session":"122d8dfd-fc17-47a5-962b-a21a233e493c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"122d8dfd-fc17-47a5-962b-a21a233e493c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.515Z","level":"info","message":"llm_call_metrics","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"122d8dfd-fc17-47a5-962b-a21a233e493c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"122d8dfd-fc17-47a5-962b-a21a233e493c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.515Z","level":"info","message":"generation_completed","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","jobId":"4a312e44-47bc-4aec-809f-4485a49675bd","generationRunId":"122d8dfd-fc17-47a5-962b-a21a233e493c","enhancedScore":80,"outputs":5,"template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.518Z","level":"info","message":"placeholder_record_deleted","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","jobId":"4a312e44-47bc-4aec-809f-4485a49675bd","placeholderIdentifier":"122d8dfd-fc17-47a5-962b-a21a233e493c","template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4a312e44-47bc-4aec-809f-4485a49675bd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.519Z","level":"info","message":"http_request_completed","requestId":"122d8dfd-fc17-47a5-962b-a21a233e493c","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":58,"contentLength":"58133","template":"unknown","session":"122d8dfd-fc17-47a5-962b-a21a233e493c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"122d8dfd-fc17-47a5-962b-a21a233e493c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.522Z","level":"info","message":"http_request_received","requestId":"repeat","method":"POST","path":"/api/process-cv","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.523Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.524Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.525Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.527Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.529Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","chunks":1,"timestamp":1764854500531}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:21:40.532Z","level":"info","message":"process_cv_started","requestId":"repeat","jobId":"repeat","manualJobDescriptionProvided":true,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.533Z","level":"info","message":"template_selection","requestId":"repeat","jobId":"repeat","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:40.534Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"repeat","jobId":"repeat","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:21:40.539Z","level":"info","message":"initial_upload_completed","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.540Z","level":"info","message":"resume_text_extracted","requestId":"repeat","jobId":"repeat","characters":57,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.540Z","level":"info","message":"resume_classified","requestId":"repeat","jobId":"repeat","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.540Z","level":"info","message":"raw_upload_relocated","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","fromKey":"cv/candidate/repeat/incoming/original.pdf","toKey":"cv/professional_summary/repeat/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.541Z","level":"info","message":"dynamo_initial_record_written","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/professional_summary/repeat/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.541Z","level":"info","message":"upload_metadata_written","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/professional_summary/repeat/logs/log.json","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.541Z","level":"info","message":"session_transition_change_log_removed","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","removedKeys":["cv/candidate/repeat/logs/change-log.json","cv/candidate/repeat/artifacts/changelog.json"],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.542Z","level":"info","message":"job_description_supplied_manually","requestId":"repeat","jobId":"repeat","characters":174,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.542Z","level":"info","message":"job_description_analyzed","requestId":"repeat","jobId":"repeat","jobTitle":"","jobSkills":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.542Z","level":"info","message":"resume_skills_analyzed","requestId":"repeat","jobId":"repeat","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.543Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.543Z","level":"info","message":"process_cv_scoring_completed","requestId":"repeat","jobId":"repeat","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.545Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.546Z","level":"info","message":"generation_section_rewrite_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.546Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.548Z","level":"info","message":"generation_resume_verified","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:40.550Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:40.558Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:40.563Z","level":"info","message":"generation_cover_letters_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","variants":2,"fallbackApplied":true,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.564Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.564Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.565Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.565Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.565Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.566Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.566Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.567Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.568Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.569Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.569Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.569Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.572Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.572Z","level":"info","message":"generation_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","enhancedScore":80,"outputs":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.574Z","level":"info","message":"http_request_completed","requestId":"repeat","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":52,"contentLength":"57353","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.577Z","level":"info","message":"http_request_received","requestId":"5fcdfff8-5098-48ca-9883-6e6947d00f54","method":"POST","path":"/api/process-cv","template":"unknown","session":"5fcdfff8-5098-48ca-9883-6e6947d00f54","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5fcdfff8-5098-48ca-9883-6e6947d00f54","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.578Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.579Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.580Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.582Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.583Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/5fcdfff8-5098-48ca-9883-6e6947d00f54/incoming/original.pdf","chunks":1,"timestamp":1764854500586}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/5fcdfff8-5098-48ca-9883-6e6947d00f54/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/5fcdfff8-5098-48ca-9883-6e6947d00f54/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:21:40.587Z","level":"info","message":"process_cv_started","requestId":"5fcdfff8-5098-48ca-9883-6e6947d00f54","jobId":"1a5ae5ed-1300-419c-a1eb-a2fff86ff61c","manualJobDescriptionProvided":false,"template":"unknown","session":"1a5ae5ed-1300-419c-a1eb-a2fff86ff61c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a5ae5ed-1300-419c-a1eb-a2fff86ff61c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.588Z","level":"info","message":"template_selection","requestId":"5fcdfff8-5098-48ca-9883-6e6947d00f54","jobId":"1a5ae5ed-1300-419c-a1eb-a2fff86ff61c","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"1a5ae5ed-1300-419c-a1eb-a2fff86ff61c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1a5ae5ed-1300-419c-a1eb-a2fff86ff61c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:40.588Z","level":"warn","message":"job_description_missing","requestId":"5fcdfff8-5098-48ca-9883-6e6947d00f54","jobId":"1a5ae5ed-1300-419c-a1eb-a2fff86ff61c","template":"unknown","session":"1a5ae5ed-1300-419c-a1eb-a2fff86ff61c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a5ae5ed-1300-419c-a1eb-a2fff86ff61c","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25098:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T13:21:40.595Z","level":"warn","message":"api_error_response","requestId":"5fcdfff8-5098-48ca-9883-6e6947d00f54","jobId":"1a5ae5ed-1300-419c-a1eb-a2fff86ff61c","status":400,"error":{"code":"JOB_DESCRIPTION_REQUIRED","message":"manualJobDescription required","details":{"field":"manualJobDescription"},"requestId":"5fcdfff8-5098-48ca-9883-6e6947d00f54","jobId":"1a5ae5ed-1300-419c-a1eb-a2fff86ff61c"},"template":"unknown","session":"1a5ae5ed-1300-419c-a1eb-a2fff86ff61c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a5ae5ed-1300-419c-a1eb-a2fff86ff61c","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at sendError (server.js:3966:3)
      at server.js:25099:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:21:40.601Z","level":"info","message":"http_request_completed","requestId":"5fcdfff8-5098-48ca-9883-6e6947d00f54","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":24,"contentLength":"244","template":"unknown","session":"5fcdfff8-5098-48ca-9883-6e6947d00f54","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5fcdfff8-5098-48ca-9883-6e6947d00f54","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.603Z","level":"info","message":"http_request_received","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","method":"POST","path":"/api/process-cv","template":"unknown","session":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.604Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.605Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.606Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.608Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.609Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/33cc735d-b9d5-4b1b-ab07-b71f29a5cba3/incoming/original.pdf","chunks":1,"timestamp":1764854500612}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/33cc735d-b9d5-4b1b-ab07-b71f29a5cba3/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/33cc735d-b9d5-4b1b-ab07-b71f29a5cba3/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:21:40.613Z","level":"info","message":"process_cv_started","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","jobId":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","manualJobDescriptionProvided":true,"template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.613Z","level":"info","message":"template_selection","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","jobId":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:40.614Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","jobId":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:21:40.620Z","level":"info","message":"initial_upload_completed","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","jobId":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","bucket":"test-bucket","key":"cv/candidate/33cc735d-b9d5-4b1b-ab07-b71f29a5cba3/incoming/original.pdf","template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.621Z","level":"info","message":"resume_text_extracted","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","jobId":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","characters":57,"template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.621Z","level":"info","message":"resume_classified","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","jobId":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.622Z","level":"info","message":"raw_upload_relocated","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","jobId":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","bucket":"test-bucket","fromKey":"cv/candidate/33cc735d-b9d5-4b1b-ab07-b71f29a5cba3/incoming/original.pdf","toKey":"cv/professional_summary/33cc735d-b9d5-4b1b-ab07-b71f29a5cba3/original.pdf","template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.622Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","jobId":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","bucket":"test-bucket","key":"cv/professional_summary/33cc735d-b9d5-4b1b-ab07-b71f29a5cba3/original.pdf","template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.622Z","level":"info","message":"dynamo_initial_record_written","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","jobId":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","bucket":"test-bucket","key":"cv/professional_summary/33cc735d-b9d5-4b1b-ab07-b71f29a5cba3/original.pdf","template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.623Z","level":"info","message":"upload_metadata_written","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","jobId":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","bucket":"test-bucket","key":"cv/professional_summary/33cc735d-b9d5-4b1b-ab07-b71f29a5cba3/logs/log.json","template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.623Z","level":"info","message":"job_description_supplied_manually","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","jobId":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","characters":59,"template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.623Z","level":"info","message":"job_description_analyzed","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","jobId":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","jobTitle":"","jobSkills":5,"template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.624Z","level":"info","message":"resume_skills_analyzed","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","jobId":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.624Z","level":"info","message":"llm_call_metrics","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.625Z","level":"info","message":"process_cv_scoring_completed","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","jobId":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.627Z","level":"info","message":"llm_call_metrics","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"ea2430c235b24028819e3e632af324e68724bbc1d27bee61065e3e4452249d1c","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.627Z","level":"info","message":"generation_section_rewrite_completed","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","jobId":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","generationRunId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.628Z","level":"info","message":"llm_call_metrics","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"5ccfe9db3e82fa26357ec9c5a8fa36d7c5cf260bf775e906492a22db0355a609","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.630Z","level":"info","message":"generation_resume_verified","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","jobId":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","generationRunId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:40.634Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","jobId":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","generationRunId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:40.639Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","jobId":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","generationRunId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:40.644Z","level":"info","message":"generation_cover_letters_completed","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","jobId":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","generationRunId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","variants":2,"fallbackApplied":true,"template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.645Z","level":"info","message":"pdf_generation_attempt","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","jobId":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","generationRunId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/33cc735d-b9d5-4b1b-ab07-b71f29a5cba3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/33cc735d-b9d5-4b1b-ab07-b71f29a5cba3/enhanced_modern.pdf","session":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.645Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","jobId":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","generationRunId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/33cc735d-b9d5-4b1b-ab07-b71f29a5cba3/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.646Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","jobId":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","generationRunId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/33cc735d-b9d5-4b1b-ab07-b71f29a5cba3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/33cc735d-b9d5-4b1b-ab07-b71f29a5cba3/enhanced_modern.pdf","session":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.646Z","level":"info","message":"pdf_generation_attempt","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","jobId":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","generationRunId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/33cc735d-b9d5-4b1b-ab07-b71f29a5cba3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/33cc735d-b9d5-4b1b-ab07-b71f29a5cba3/enhanced_professional.pdf","session":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.647Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","jobId":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","generationRunId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/33cc735d-b9d5-4b1b-ab07-b71f29a5cba3/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.647Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","jobId":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","generationRunId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/33cc735d-b9d5-4b1b-ab07-b71f29a5cba3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/33cc735d-b9d5-4b1b-ab07-b71f29a5cba3/enhanced_professional.pdf","session":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.647Z","level":"info","message":"pdf_generation_attempt","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","jobId":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","generationRunId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/33cc735d-b9d5-4b1b-ab07-b71f29a5cba3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/33cc735d-b9d5-4b1b-ab07-b71f29a5cba3/cover_letter_cover_modern.pdf","session":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.648Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","jobId":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","generationRunId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/33cc735d-b9d5-4b1b-ab07-b71f29a5cba3/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.648Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","jobId":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","generationRunId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/33cc735d-b9d5-4b1b-ab07-b71f29a5cba3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/33cc735d-b9d5-4b1b-ab07-b71f29a5cba3/cover_letter_cover_modern.pdf","session":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.649Z","level":"info","message":"pdf_generation_attempt","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","jobId":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","generationRunId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/33cc735d-b9d5-4b1b-ab07-b71f29a5cba3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/33cc735d-b9d5-4b1b-ab07-b71f29a5cba3/cover_letter_cover_professional.pdf","session":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.649Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","jobId":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","generationRunId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/33cc735d-b9d5-4b1b-ab07-b71f29a5cba3/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.649Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","jobId":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","generationRunId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/33cc735d-b9d5-4b1b-ab07-b71f29a5cba3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/33cc735d-b9d5-4b1b-ab07-b71f29a5cba3/cover_letter_cover_professional.pdf","session":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.652Z","level":"info","message":"llm_call_metrics","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.653Z","level":"info","message":"generation_completed","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","jobId":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","generationRunId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","enhancedScore":80,"outputs":5,"template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.654Z","level":"info","message":"placeholder_record_deleted","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","jobId":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","placeholderIdentifier":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d78bc103-2e3d-475e-a84a-1a1a1137bf21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.655Z","level":"info","message":"http_request_completed","requestId":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":52,"contentLength":"55048","template":"unknown","session":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"33cc735d-b9d5-4b1b-ab07-b71f29a5cba3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.657Z","level":"info","message":"http_request_received","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","method":"POST","path":"/api/process-cv","template":"unknown","session":"dffc5fe1-f09f-4012-8244-ce460c3104f2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dffc5fe1-f09f-4012-8244-ce460c3104f2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.658Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.659Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.661Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.662Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.664Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/dffc5fe1-f09f-4012-8244-ce460c3104f2/incoming/original.pdf","chunks":1,"timestamp":1764854500666}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/dffc5fe1-f09f-4012-8244-ce460c3104f2/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/dffc5fe1-f09f-4012-8244-ce460c3104f2/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:21:40.667Z","level":"info","message":"process_cv_started","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","jobId":"03aef9ea-bae9-4f67-8844-bb7e286311b1","manualJobDescriptionProvided":true,"template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.667Z","level":"info","message":"template_selection","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","jobId":"03aef9ea-bae9-4f67-8844-bb7e286311b1","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:40.668Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","jobId":"03aef9ea-bae9-4f67-8844-bb7e286311b1","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:21:40.674Z","level":"info","message":"initial_upload_completed","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","jobId":"03aef9ea-bae9-4f67-8844-bb7e286311b1","bucket":"test-bucket","key":"cv/candidate/dffc5fe1-f09f-4012-8244-ce460c3104f2/incoming/original.pdf","template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.678Z","level":"info","message":"resume_text_extracted","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","jobId":"03aef9ea-bae9-4f67-8844-bb7e286311b1","characters":57,"template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.678Z","level":"info","message":"resume_classified","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","jobId":"03aef9ea-bae9-4f67-8844-bb7e286311b1","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.678Z","level":"info","message":"raw_upload_relocated","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","jobId":"03aef9ea-bae9-4f67-8844-bb7e286311b1","bucket":"test-bucket","fromKey":"cv/candidate/dffc5fe1-f09f-4012-8244-ce460c3104f2/incoming/original.pdf","toKey":"cv/professional_summary/dffc5fe1-f09f-4012-8244-ce460c3104f2/original.pdf","template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.679Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","jobId":"03aef9ea-bae9-4f67-8844-bb7e286311b1","bucket":"test-bucket","key":"cv/professional_summary/dffc5fe1-f09f-4012-8244-ce460c3104f2/original.pdf","template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.679Z","level":"info","message":"dynamo_initial_record_written","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","jobId":"03aef9ea-bae9-4f67-8844-bb7e286311b1","bucket":"test-bucket","key":"cv/professional_summary/dffc5fe1-f09f-4012-8244-ce460c3104f2/original.pdf","template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.679Z","level":"info","message":"upload_metadata_written","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","jobId":"03aef9ea-bae9-4f67-8844-bb7e286311b1","bucket":"test-bucket","key":"cv/professional_summary/dffc5fe1-f09f-4012-8244-ce460c3104f2/logs/log.json","template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.679Z","level":"info","message":"job_description_supplied_manually","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","jobId":"03aef9ea-bae9-4f67-8844-bb7e286311b1","characters":32,"template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.680Z","level":"info","message":"job_description_analyzed","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","jobId":"03aef9ea-bae9-4f67-8844-bb7e286311b1","jobTitle":"","jobSkills":5,"template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.680Z","level":"info","message":"resume_skills_analyzed","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","jobId":"03aef9ea-bae9-4f67-8844-bb7e286311b1","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.681Z","level":"info","message":"llm_call_metrics","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"dffc5fe1-f09f-4012-8244-ce460c3104f2","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"dffc5fe1-f09f-4012-8244-ce460c3104f2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.681Z","level":"info","message":"process_cv_scoring_completed","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","jobId":"03aef9ea-bae9-4f67-8844-bb7e286311b1","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.683Z","level":"info","message":"llm_call_metrics","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"4ee429ea92424e8e19e4720211137d476a19f7274074e1702e9c42fe53b6fed7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"dffc5fe1-f09f-4012-8244-ce460c3104f2","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"dffc5fe1-f09f-4012-8244-ce460c3104f2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.684Z","level":"info","message":"generation_section_rewrite_completed","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","jobId":"03aef9ea-bae9-4f67-8844-bb7e286311b1","generationRunId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.684Z","level":"info","message":"llm_call_metrics","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"b847d6e14d4cae3ee14cd5dbb7c4a4ca1658d965fe5c0b4564eb95e9b23995e3","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"dffc5fe1-f09f-4012-8244-ce460c3104f2","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"dffc5fe1-f09f-4012-8244-ce460c3104f2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.686Z","level":"info","message":"generation_resume_verified","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","jobId":"03aef9ea-bae9-4f67-8844-bb7e286311b1","generationRunId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:40.688Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","jobId":"03aef9ea-bae9-4f67-8844-bb7e286311b1","generationRunId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:40.694Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","jobId":"03aef9ea-bae9-4f67-8844-bb7e286311b1","generationRunId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:40.699Z","level":"info","message":"generation_cover_letters_completed","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","jobId":"03aef9ea-bae9-4f67-8844-bb7e286311b1","generationRunId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","variants":2,"fallbackApplied":true,"template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.699Z","level":"info","message":"pdf_generation_attempt","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","jobId":"03aef9ea-bae9-4f67-8844-bb7e286311b1","generationRunId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/dffc5fe1-f09f-4012-8244-ce460c3104f2/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/dffc5fe1-f09f-4012-8244-ce460c3104f2/enhanced_modern.pdf","session":"dffc5fe1-f09f-4012-8244-ce460c3104f2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dffc5fe1-f09f-4012-8244-ce460c3104f2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.700Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","jobId":"03aef9ea-bae9-4f67-8844-bb7e286311b1","generationRunId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/dffc5fe1-f09f-4012-8244-ce460c3104f2/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"dffc5fe1-f09f-4012-8244-ce460c3104f2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dffc5fe1-f09f-4012-8244-ce460c3104f2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.700Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","jobId":"03aef9ea-bae9-4f67-8844-bb7e286311b1","generationRunId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/dffc5fe1-f09f-4012-8244-ce460c3104f2/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/dffc5fe1-f09f-4012-8244-ce460c3104f2/enhanced_modern.pdf","session":"dffc5fe1-f09f-4012-8244-ce460c3104f2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dffc5fe1-f09f-4012-8244-ce460c3104f2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.701Z","level":"info","message":"pdf_generation_attempt","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","jobId":"03aef9ea-bae9-4f67-8844-bb7e286311b1","generationRunId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/dffc5fe1-f09f-4012-8244-ce460c3104f2/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/dffc5fe1-f09f-4012-8244-ce460c3104f2/enhanced_professional.pdf","session":"dffc5fe1-f09f-4012-8244-ce460c3104f2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"dffc5fe1-f09f-4012-8244-ce460c3104f2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.701Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","jobId":"03aef9ea-bae9-4f67-8844-bb7e286311b1","generationRunId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/dffc5fe1-f09f-4012-8244-ce460c3104f2/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"dffc5fe1-f09f-4012-8244-ce460c3104f2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"dffc5fe1-f09f-4012-8244-ce460c3104f2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.701Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","jobId":"03aef9ea-bae9-4f67-8844-bb7e286311b1","generationRunId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/dffc5fe1-f09f-4012-8244-ce460c3104f2/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/dffc5fe1-f09f-4012-8244-ce460c3104f2/enhanced_professional.pdf","session":"dffc5fe1-f09f-4012-8244-ce460c3104f2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"dffc5fe1-f09f-4012-8244-ce460c3104f2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.702Z","level":"info","message":"pdf_generation_attempt","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","jobId":"03aef9ea-bae9-4f67-8844-bb7e286311b1","generationRunId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/dffc5fe1-f09f-4012-8244-ce460c3104f2/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/dffc5fe1-f09f-4012-8244-ce460c3104f2/cover_letter_cover_modern.pdf","session":"dffc5fe1-f09f-4012-8244-ce460c3104f2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"dffc5fe1-f09f-4012-8244-ce460c3104f2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.702Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","jobId":"03aef9ea-bae9-4f67-8844-bb7e286311b1","generationRunId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/dffc5fe1-f09f-4012-8244-ce460c3104f2/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"dffc5fe1-f09f-4012-8244-ce460c3104f2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"dffc5fe1-f09f-4012-8244-ce460c3104f2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.702Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","jobId":"03aef9ea-bae9-4f67-8844-bb7e286311b1","generationRunId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/dffc5fe1-f09f-4012-8244-ce460c3104f2/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/dffc5fe1-f09f-4012-8244-ce460c3104f2/cover_letter_cover_modern.pdf","session":"dffc5fe1-f09f-4012-8244-ce460c3104f2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"dffc5fe1-f09f-4012-8244-ce460c3104f2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.703Z","level":"info","message":"pdf_generation_attempt","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","jobId":"03aef9ea-bae9-4f67-8844-bb7e286311b1","generationRunId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/dffc5fe1-f09f-4012-8244-ce460c3104f2/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/dffc5fe1-f09f-4012-8244-ce460c3104f2/cover_letter_cover_professional.pdf","session":"dffc5fe1-f09f-4012-8244-ce460c3104f2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"dffc5fe1-f09f-4012-8244-ce460c3104f2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.703Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","jobId":"03aef9ea-bae9-4f67-8844-bb7e286311b1","generationRunId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/dffc5fe1-f09f-4012-8244-ce460c3104f2/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"dffc5fe1-f09f-4012-8244-ce460c3104f2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"dffc5fe1-f09f-4012-8244-ce460c3104f2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.703Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","jobId":"03aef9ea-bae9-4f67-8844-bb7e286311b1","generationRunId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/dffc5fe1-f09f-4012-8244-ce460c3104f2/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/dffc5fe1-f09f-4012-8244-ce460c3104f2/cover_letter_cover_professional.pdf","session":"dffc5fe1-f09f-4012-8244-ce460c3104f2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"dffc5fe1-f09f-4012-8244-ce460c3104f2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.705Z","level":"info","message":"llm_call_metrics","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"dffc5fe1-f09f-4012-8244-ce460c3104f2","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"dffc5fe1-f09f-4012-8244-ce460c3104f2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.706Z","level":"info","message":"generation_completed","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","jobId":"03aef9ea-bae9-4f67-8844-bb7e286311b1","generationRunId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","enhancedScore":80,"outputs":5,"template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.707Z","level":"info","message":"placeholder_record_deleted","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","jobId":"03aef9ea-bae9-4f67-8844-bb7e286311b1","placeholderIdentifier":"dffc5fe1-f09f-4012-8244-ce460c3104f2","template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"03aef9ea-bae9-4f67-8844-bb7e286311b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.708Z","level":"info","message":"http_request_completed","requestId":"dffc5fe1-f09f-4012-8244-ce460c3104f2","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":51,"contentLength":"53771","template":"unknown","session":"dffc5fe1-f09f-4012-8244-ce460c3104f2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dffc5fe1-f09f-4012-8244-ce460c3104f2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.712Z","level":"info","message":"http_request_received","requestId":"5e4c4142-25df-4bec-94ec-53a2a32a35dd","method":"POST","path":"/api/process-cv","template":"unknown","session":"5e4c4142-25df-4bec-94ec-53a2a32a35dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e4c4142-25df-4bec-94ec-53a2a32a35dd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.713Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.714Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.715Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.717Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.719Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/5e4c4142-25df-4bec-94ec-53a2a32a35dd/incoming/original.pdf","chunks":1,"timestamp":1764854500721}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/5e4c4142-25df-4bec-94ec-53a2a32a35dd/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/5e4c4142-25df-4bec-94ec-53a2a32a35dd/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.warn
    {"timestamp":"2025-12-04T13:21:40.722Z","level":"warn","message":"job_description_prohibited_html_detected","requestId":"5e4c4142-25df-4bec-94ec-53a2a32a35dd","jobId":"fabb360e-3f47-4cf0-a460-478a9a53c3cd","template":"unknown","session":"fabb360e-3f47-4cf0-a460-478a9a53c3cd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fabb360e-3f47-4cf0-a460-478a9a53c3cd","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:24991:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T13:21:40.727Z","level":"warn","message":"api_error_response","requestId":"5e4c4142-25df-4bec-94ec-53a2a32a35dd","jobId":"fabb360e-3f47-4cf0-a460-478a9a53c3cd","status":400,"error":{"code":"JOB_DESCRIPTION_PROHIBITED_TAGS","message":"Remove HTML tags like <script> before continuing.","details":{"field":"manualJobDescription"},"requestId":"5e4c4142-25df-4bec-94ec-53a2a32a35dd","jobId":"fabb360e-3f47-4cf0-a460-478a9a53c3cd"},"template":"unknown","session":"fabb360e-3f47-4cf0-a460-478a9a53c3cd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fabb360e-3f47-4cf0-a460-478a9a53c3cd","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at sendError (server.js:3966:3)
      at server.js:24992:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:21:40.733Z","level":"info","message":"http_request_completed","requestId":"5e4c4142-25df-4bec-94ec-53a2a32a35dd","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":21,"contentLength":"271","template":"unknown","session":"5e4c4142-25df-4bec-94ec-53a2a32a35dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e4c4142-25df-4bec-94ec-53a2a32a35dd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.735Z","level":"info","message":"http_request_received","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","method":"POST","path":"/api/process-cv","template":"unknown","session":"eeba129d-059d-4eb7-83db-41e12c62097c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eeba129d-059d-4eb7-83db-41e12c62097c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.736Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.737Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.738Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.740Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.742Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/eeba129d-059d-4eb7-83db-41e12c62097c/incoming/original.pdf","chunks":1,"timestamp":1764854500744}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/eeba129d-059d-4eb7-83db-41e12c62097c/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/eeba129d-059d-4eb7-83db-41e12c62097c/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:21:40.745Z","level":"info","message":"process_cv_started","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","jobId":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","manualJobDescriptionProvided":true,"template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.745Z","level":"info","message":"template_selection","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","jobId":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:40.746Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","jobId":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:21:40.752Z","level":"info","message":"initial_upload_completed","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","jobId":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","bucket":"test-bucket","key":"cv/candidate/eeba129d-059d-4eb7-83db-41e12c62097c/incoming/original.pdf","template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.753Z","level":"info","message":"resume_text_extracted","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","jobId":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","characters":57,"template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.753Z","level":"info","message":"resume_classified","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","jobId":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.753Z","level":"info","message":"raw_upload_relocated","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","jobId":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","bucket":"test-bucket","fromKey":"cv/candidate/eeba129d-059d-4eb7-83db-41e12c62097c/incoming/original.pdf","toKey":"cv/professional_summary/eeba129d-059d-4eb7-83db-41e12c62097c/original.pdf","template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.753Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","jobId":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","bucket":"test-bucket","key":"cv/professional_summary/eeba129d-059d-4eb7-83db-41e12c62097c/original.pdf","template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.754Z","level":"info","message":"dynamo_initial_record_written","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","jobId":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","bucket":"test-bucket","key":"cv/professional_summary/eeba129d-059d-4eb7-83db-41e12c62097c/original.pdf","template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.754Z","level":"info","message":"upload_metadata_written","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","jobId":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","bucket":"test-bucket","key":"cv/professional_summary/eeba129d-059d-4eb7-83db-41e12c62097c/logs/log.json","template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.754Z","level":"info","message":"job_description_supplied_manually","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","jobId":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","characters":31,"template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.755Z","level":"info","message":"job_description_analyzed","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","jobId":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","jobTitle":"","jobSkills":5,"template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.755Z","level":"info","message":"resume_skills_analyzed","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","jobId":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.755Z","level":"info","message":"llm_call_metrics","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"eeba129d-059d-4eb7-83db-41e12c62097c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"eeba129d-059d-4eb7-83db-41e12c62097c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.756Z","level":"info","message":"process_cv_scoring_completed","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","jobId":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.758Z","level":"info","message":"llm_call_metrics","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"3b6fa31427cfe80be95734691ddba88dda63de26496df29477f91bd398cefbfa","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"eeba129d-059d-4eb7-83db-41e12c62097c","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"eeba129d-059d-4eb7-83db-41e12c62097c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.759Z","level":"info","message":"generation_section_rewrite_completed","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","jobId":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","generationRunId":"eeba129d-059d-4eb7-83db-41e12c62097c","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.759Z","level":"info","message":"llm_call_metrics","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"eedd7612e0b87e24dbfb4e165754c9448ec3573f7db56a3242654c71c3ca223b","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"eeba129d-059d-4eb7-83db-41e12c62097c","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"eeba129d-059d-4eb7-83db-41e12c62097c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.761Z","level":"info","message":"generation_resume_verified","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","jobId":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","generationRunId":"eeba129d-059d-4eb7-83db-41e12c62097c","template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:40.763Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","jobId":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","generationRunId":"eeba129d-059d-4eb7-83db-41e12c62097c","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:40.769Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","jobId":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","generationRunId":"eeba129d-059d-4eb7-83db-41e12c62097c","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:40.774Z","level":"info","message":"generation_cover_letters_completed","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","jobId":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","generationRunId":"eeba129d-059d-4eb7-83db-41e12c62097c","variants":2,"fallbackApplied":true,"template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.775Z","level":"info","message":"pdf_generation_attempt","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","jobId":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","generationRunId":"eeba129d-059d-4eb7-83db-41e12c62097c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/eeba129d-059d-4eb7-83db-41e12c62097c/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/eeba129d-059d-4eb7-83db-41e12c62097c/enhanced_modern.pdf","session":"eeba129d-059d-4eb7-83db-41e12c62097c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"eeba129d-059d-4eb7-83db-41e12c62097c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.775Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","jobId":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","generationRunId":"eeba129d-059d-4eb7-83db-41e12c62097c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/eeba129d-059d-4eb7-83db-41e12c62097c/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"eeba129d-059d-4eb7-83db-41e12c62097c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"eeba129d-059d-4eb7-83db-41e12c62097c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.775Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","jobId":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","generationRunId":"eeba129d-059d-4eb7-83db-41e12c62097c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/eeba129d-059d-4eb7-83db-41e12c62097c/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/eeba129d-059d-4eb7-83db-41e12c62097c/enhanced_modern.pdf","session":"eeba129d-059d-4eb7-83db-41e12c62097c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"eeba129d-059d-4eb7-83db-41e12c62097c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.776Z","level":"info","message":"pdf_generation_attempt","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","jobId":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","generationRunId":"eeba129d-059d-4eb7-83db-41e12c62097c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/eeba129d-059d-4eb7-83db-41e12c62097c/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/eeba129d-059d-4eb7-83db-41e12c62097c/enhanced_professional.pdf","session":"eeba129d-059d-4eb7-83db-41e12c62097c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"eeba129d-059d-4eb7-83db-41e12c62097c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.776Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","jobId":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","generationRunId":"eeba129d-059d-4eb7-83db-41e12c62097c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/eeba129d-059d-4eb7-83db-41e12c62097c/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"eeba129d-059d-4eb7-83db-41e12c62097c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"eeba129d-059d-4eb7-83db-41e12c62097c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.776Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","jobId":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","generationRunId":"eeba129d-059d-4eb7-83db-41e12c62097c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/eeba129d-059d-4eb7-83db-41e12c62097c/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/eeba129d-059d-4eb7-83db-41e12c62097c/enhanced_professional.pdf","session":"eeba129d-059d-4eb7-83db-41e12c62097c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"eeba129d-059d-4eb7-83db-41e12c62097c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.777Z","level":"info","message":"pdf_generation_attempt","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","jobId":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","generationRunId":"eeba129d-059d-4eb7-83db-41e12c62097c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/eeba129d-059d-4eb7-83db-41e12c62097c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/eeba129d-059d-4eb7-83db-41e12c62097c/cover_letter_cover_modern.pdf","session":"eeba129d-059d-4eb7-83db-41e12c62097c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"eeba129d-059d-4eb7-83db-41e12c62097c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.777Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","jobId":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","generationRunId":"eeba129d-059d-4eb7-83db-41e12c62097c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/eeba129d-059d-4eb7-83db-41e12c62097c/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"eeba129d-059d-4eb7-83db-41e12c62097c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"eeba129d-059d-4eb7-83db-41e12c62097c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.777Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","jobId":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","generationRunId":"eeba129d-059d-4eb7-83db-41e12c62097c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/eeba129d-059d-4eb7-83db-41e12c62097c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/eeba129d-059d-4eb7-83db-41e12c62097c/cover_letter_cover_modern.pdf","session":"eeba129d-059d-4eb7-83db-41e12c62097c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"eeba129d-059d-4eb7-83db-41e12c62097c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.778Z","level":"info","message":"pdf_generation_attempt","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","jobId":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","generationRunId":"eeba129d-059d-4eb7-83db-41e12c62097c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/eeba129d-059d-4eb7-83db-41e12c62097c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/eeba129d-059d-4eb7-83db-41e12c62097c/cover_letter_cover_professional.pdf","session":"eeba129d-059d-4eb7-83db-41e12c62097c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"eeba129d-059d-4eb7-83db-41e12c62097c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.778Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","jobId":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","generationRunId":"eeba129d-059d-4eb7-83db-41e12c62097c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/eeba129d-059d-4eb7-83db-41e12c62097c/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"eeba129d-059d-4eb7-83db-41e12c62097c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"eeba129d-059d-4eb7-83db-41e12c62097c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.779Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","jobId":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","generationRunId":"eeba129d-059d-4eb7-83db-41e12c62097c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/eeba129d-059d-4eb7-83db-41e12c62097c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/eeba129d-059d-4eb7-83db-41e12c62097c/cover_letter_cover_professional.pdf","session":"eeba129d-059d-4eb7-83db-41e12c62097c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"eeba129d-059d-4eb7-83db-41e12c62097c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.780Z","level":"info","message":"llm_call_metrics","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"eeba129d-059d-4eb7-83db-41e12c62097c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"eeba129d-059d-4eb7-83db-41e12c62097c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.783Z","level":"info","message":"generation_completed","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","jobId":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","generationRunId":"eeba129d-059d-4eb7-83db-41e12c62097c","enhancedScore":80,"outputs":5,"template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.785Z","level":"info","message":"placeholder_record_deleted","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","jobId":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","placeholderIdentifier":"eeba129d-059d-4eb7-83db-41e12c62097c","template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4dbdcc1a-4557-4e3c-9371-41842d1e5ca2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.785Z","level":"info","message":"http_request_completed","requestId":"eeba129d-059d-4eb7-83db-41e12c62097c","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":50,"contentLength":"53718","template":"unknown","session":"eeba129d-059d-4eb7-83db-41e12c62097c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eeba129d-059d-4eb7-83db-41e12c62097c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.789Z","level":"info","message":"http_request_received","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","method":"POST","path":"/api/process-cv","template":"unknown","session":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.790Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.791Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.792Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.794Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.795Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb/incoming/original.pdf","chunks":1,"timestamp":1764854500798}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:21:40.799Z","level":"info","message":"process_cv_started","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","jobId":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","manualJobDescriptionProvided":true,"template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.799Z","level":"info","message":"template_selection","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","jobId":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:40.800Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","jobId":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:21:40.805Z","level":"info","message":"initial_upload_completed","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","jobId":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","bucket":"test-bucket","key":"cv/candidate/8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb/incoming/original.pdf","template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.806Z","level":"info","message":"resume_text_extracted","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","jobId":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","characters":57,"template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.806Z","level":"info","message":"resume_classified","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","jobId":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.806Z","level":"info","message":"raw_upload_relocated","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","jobId":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","bucket":"test-bucket","fromKey":"cv/candidate/8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb/incoming/original.pdf","toKey":"cv/professional_summary/8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb/original.pdf","template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.807Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","jobId":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","bucket":"test-bucket","key":"cv/professional_summary/8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb/original.pdf","template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.807Z","level":"info","message":"dynamo_initial_record_written","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","jobId":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","bucket":"test-bucket","key":"cv/professional_summary/8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb/original.pdf","template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.807Z","level":"info","message":"upload_metadata_written","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","jobId":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","bucket":"test-bucket","key":"cv/professional_summary/8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb/logs/log.json","template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.807Z","level":"info","message":"job_description_supplied_manually","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","jobId":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","characters":174,"template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.808Z","level":"info","message":"job_description_analyzed","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","jobId":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","jobTitle":"","jobSkills":5,"template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.808Z","level":"info","message":"resume_skills_analyzed","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","jobId":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.808Z","level":"info","message":"llm_call_metrics","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.809Z","level":"info","message":"process_cv_scoring_completed","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","jobId":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.811Z","level":"info","message":"llm_call_metrics","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.811Z","level":"info","message":"generation_section_rewrite_completed","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","jobId":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","generationRunId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.811Z","level":"info","message":"llm_call_metrics","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.813Z","level":"info","message":"generation_resume_verified","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","jobId":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","generationRunId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:40.816Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","jobId":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","generationRunId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:40.822Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","jobId":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","generationRunId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:40.828Z","level":"info","message":"generation_cover_letters_completed","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","jobId":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","generationRunId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","variants":2,"fallbackApplied":true,"template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.828Z","level":"info","message":"pdf_generation_attempt","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","jobId":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","generationRunId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb/enhanced_modern.pdf","session":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.829Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","jobId":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","generationRunId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.829Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","jobId":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","generationRunId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb/enhanced_modern.pdf","session":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.830Z","level":"info","message":"pdf_generation_attempt","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","jobId":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","generationRunId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb/enhanced_professional.pdf","session":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.830Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","jobId":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","generationRunId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.831Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","jobId":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","generationRunId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb/enhanced_professional.pdf","session":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.831Z","level":"info","message":"pdf_generation_attempt","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","jobId":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","generationRunId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb/cover_letter_cover_modern.pdf","session":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.831Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","jobId":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","generationRunId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.832Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","jobId":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","generationRunId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb/cover_letter_cover_modern.pdf","session":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.832Z","level":"info","message":"pdf_generation_attempt","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","jobId":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","generationRunId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb/cover_letter_cover_professional.pdf","session":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.833Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","jobId":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","generationRunId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.833Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","jobId":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","generationRunId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb/cover_letter_cover_professional.pdf","session":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.835Z","level":"info","message":"llm_call_metrics","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.836Z","level":"info","message":"generation_completed","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","jobId":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","generationRunId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","enhancedScore":80,"outputs":5,"template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.837Z","level":"info","message":"placeholder_record_deleted","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","jobId":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","placeholderIdentifier":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0e3ec774-de1d-4b8a-84a3-7094ad6b156b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.838Z","level":"info","message":"http_request_completed","requestId":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":49,"contentLength":"58133","template":"unknown","session":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a839bdd-9fb6-4668-a2e0-6b2bbe8948fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.840Z","level":"info","message":"http_request_received","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","method":"POST","path":"/api/process-cv","template":"unknown","session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.841Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.842Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.844Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.845Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.847Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/002d9596-f191-4a8a-8bdb-91d9087d5470/incoming/original.pdf","chunks":1,"timestamp":1764854500849}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/002d9596-f191-4a8a-8bdb-91d9087d5470/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/002d9596-f191-4a8a-8bdb-91d9087d5470/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:21:40.850Z","level":"info","message":"process_cv_started","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","jobId":"4edda4e2-caf5-4321-b85e-695268e08d59","manualJobDescriptionProvided":true,"template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.850Z","level":"info","message":"template_selection","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","jobId":"4edda4e2-caf5-4321-b85e-695268e08d59","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:40.851Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","jobId":"4edda4e2-caf5-4321-b85e-695268e08d59","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:21:40.856Z","level":"info","message":"initial_upload_completed","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","jobId":"4edda4e2-caf5-4321-b85e-695268e08d59","bucket":"test-bucket","key":"cv/candidate/002d9596-f191-4a8a-8bdb-91d9087d5470/incoming/original.pdf","template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.857Z","level":"info","message":"resume_text_extracted","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","jobId":"4edda4e2-caf5-4321-b85e-695268e08d59","characters":57,"template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.857Z","level":"info","message":"resume_classified","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","jobId":"4edda4e2-caf5-4321-b85e-695268e08d59","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.858Z","level":"info","message":"raw_upload_relocated","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","jobId":"4edda4e2-caf5-4321-b85e-695268e08d59","bucket":"test-bucket","fromKey":"cv/candidate/002d9596-f191-4a8a-8bdb-91d9087d5470/incoming/original.pdf","toKey":"cv/professional_summary/002d9596-f191-4a8a-8bdb-91d9087d5470/original.pdf","template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.858Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","jobId":"4edda4e2-caf5-4321-b85e-695268e08d59","bucket":"test-bucket","key":"cv/professional_summary/002d9596-f191-4a8a-8bdb-91d9087d5470/original.pdf","template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.859Z","level":"info","message":"dynamo_initial_record_written","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","jobId":"4edda4e2-caf5-4321-b85e-695268e08d59","bucket":"test-bucket","key":"cv/professional_summary/002d9596-f191-4a8a-8bdb-91d9087d5470/original.pdf","template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.859Z","level":"info","message":"upload_metadata_written","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","jobId":"4edda4e2-caf5-4321-b85e-695268e08d59","bucket":"test-bucket","key":"cv/professional_summary/002d9596-f191-4a8a-8bdb-91d9087d5470/logs/log.json","template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.859Z","level":"info","message":"job_description_supplied_manually","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","jobId":"4edda4e2-caf5-4321-b85e-695268e08d59","characters":174,"template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.860Z","level":"info","message":"job_description_analyzed","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","jobId":"4edda4e2-caf5-4321-b85e-695268e08d59","jobTitle":"","jobSkills":5,"template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.860Z","level":"info","message":"resume_skills_analyzed","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","jobId":"4edda4e2-caf5-4321-b85e-695268e08d59","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.860Z","level":"info","message":"llm_call_metrics","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.861Z","level":"info","message":"process_cv_scoring_completed","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","jobId":"4edda4e2-caf5-4321-b85e-695268e08d59","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:21:40.865Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","sample":"not json","template":"unknown","session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at Object.error (server.js:3478:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8534:20)
      at generateEnhancedDocumentsResponse (server.js:20175:26)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:40.875Z","level":"info","message":"llm_call_metrics","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.875Z","level":"info","message":"llm_call_metrics","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.876Z","level":"info","message":"generation_section_rewrite_completed","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","jobId":"4edda4e2-caf5-4321-b85e-695268e08d59","generationRunId":"002d9596-f191-4a8a-8bdb-91d9087d5470","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.876Z","level":"info","message":"llm_call_metrics","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"89e63aad97eee35da336c4707bebe46001a38648f790cb26108fe67f8c6eef15","skillCount":5,"template":"project_summary","session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:40.880Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","jobId":"4edda4e2-caf5-4321-b85e-695268e08d59","generationRunId":"002d9596-f191-4a8a-8bdb-91d9087d5470","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:40.885Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","jobId":"4edda4e2-caf5-4321-b85e-695268e08d59","generationRunId":"002d9596-f191-4a8a-8bdb-91d9087d5470","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:40.894Z","level":"info","message":"generation_cover_letters_completed","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","jobId":"4edda4e2-caf5-4321-b85e-695268e08d59","generationRunId":"002d9596-f191-4a8a-8bdb-91d9087d5470","variants":2,"fallbackApplied":true,"template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.895Z","level":"info","message":"pdf_generation_attempt","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","jobId":"4edda4e2-caf5-4321-b85e-695268e08d59","generationRunId":"002d9596-f191-4a8a-8bdb-91d9087d5470","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/002d9596-f191-4a8a-8bdb-91d9087d5470/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/002d9596-f191-4a8a-8bdb-91d9087d5470/enhanced_modern.pdf","session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.895Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","jobId":"4edda4e2-caf5-4321-b85e-695268e08d59","generationRunId":"002d9596-f191-4a8a-8bdb-91d9087d5470","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/002d9596-f191-4a8a-8bdb-91d9087d5470/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.896Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","jobId":"4edda4e2-caf5-4321-b85e-695268e08d59","generationRunId":"002d9596-f191-4a8a-8bdb-91d9087d5470","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/002d9596-f191-4a8a-8bdb-91d9087d5470/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/002d9596-f191-4a8a-8bdb-91d9087d5470/enhanced_modern.pdf","session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.896Z","level":"info","message":"pdf_generation_attempt","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","jobId":"4edda4e2-caf5-4321-b85e-695268e08d59","generationRunId":"002d9596-f191-4a8a-8bdb-91d9087d5470","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/002d9596-f191-4a8a-8bdb-91d9087d5470/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/002d9596-f191-4a8a-8bdb-91d9087d5470/enhanced_professional.pdf","session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.897Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","jobId":"4edda4e2-caf5-4321-b85e-695268e08d59","generationRunId":"002d9596-f191-4a8a-8bdb-91d9087d5470","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/002d9596-f191-4a8a-8bdb-91d9087d5470/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.897Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","jobId":"4edda4e2-caf5-4321-b85e-695268e08d59","generationRunId":"002d9596-f191-4a8a-8bdb-91d9087d5470","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/002d9596-f191-4a8a-8bdb-91d9087d5470/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/002d9596-f191-4a8a-8bdb-91d9087d5470/enhanced_professional.pdf","session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.897Z","level":"info","message":"pdf_generation_attempt","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","jobId":"4edda4e2-caf5-4321-b85e-695268e08d59","generationRunId":"002d9596-f191-4a8a-8bdb-91d9087d5470","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/002d9596-f191-4a8a-8bdb-91d9087d5470/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/002d9596-f191-4a8a-8bdb-91d9087d5470/cover_letter_cover_modern.pdf","session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.898Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","jobId":"4edda4e2-caf5-4321-b85e-695268e08d59","generationRunId":"002d9596-f191-4a8a-8bdb-91d9087d5470","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/002d9596-f191-4a8a-8bdb-91d9087d5470/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.898Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","jobId":"4edda4e2-caf5-4321-b85e-695268e08d59","generationRunId":"002d9596-f191-4a8a-8bdb-91d9087d5470","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/002d9596-f191-4a8a-8bdb-91d9087d5470/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/002d9596-f191-4a8a-8bdb-91d9087d5470/cover_letter_cover_modern.pdf","session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.899Z","level":"info","message":"pdf_generation_attempt","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","jobId":"4edda4e2-caf5-4321-b85e-695268e08d59","generationRunId":"002d9596-f191-4a8a-8bdb-91d9087d5470","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/002d9596-f191-4a8a-8bdb-91d9087d5470/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/002d9596-f191-4a8a-8bdb-91d9087d5470/cover_letter_cover_professional.pdf","session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.899Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","jobId":"4edda4e2-caf5-4321-b85e-695268e08d59","generationRunId":"002d9596-f191-4a8a-8bdb-91d9087d5470","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/002d9596-f191-4a8a-8bdb-91d9087d5470/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.900Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","jobId":"4edda4e2-caf5-4321-b85e-695268e08d59","generationRunId":"002d9596-f191-4a8a-8bdb-91d9087d5470","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/002d9596-f191-4a8a-8bdb-91d9087d5470/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/002d9596-f191-4a8a-8bdb-91d9087d5470/cover_letter_cover_professional.pdf","session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.901Z","level":"info","message":"llm_call_metrics","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.902Z","level":"info","message":"generation_completed","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","jobId":"4edda4e2-caf5-4321-b85e-695268e08d59","generationRunId":"002d9596-f191-4a8a-8bdb-91d9087d5470","enhancedScore":80,"outputs":5,"template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.904Z","level":"info","message":"placeholder_record_deleted","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","jobId":"4edda4e2-caf5-4321-b85e-695268e08d59","placeholderIdentifier":"002d9596-f191-4a8a-8bdb-91d9087d5470","template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4edda4e2-caf5-4321-b85e-695268e08d59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.905Z","level":"info","message":"http_request_completed","requestId":"002d9596-f191-4a8a-8bdb-91d9087d5470","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":65,"contentLength":"58091","template":"unknown","session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"002d9596-f191-4a8a-8bdb-91d9087d5470","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.908Z","level":"info","message":"http_request_received","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","method":"POST","path":"/api/process-cv","template":"unknown","session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.909Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.910Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.911Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.912Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.914Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc/incoming/original.pdf","chunks":1,"timestamp":1764854500917}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:21:40.919Z","level":"info","message":"process_cv_started","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","jobId":"e01a651b-7bab-4c46-986a-ccebad963b1b","manualJobDescriptionProvided":true,"template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.919Z","level":"info","message":"template_selection","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","jobId":"e01a651b-7bab-4c46-986a-ccebad963b1b","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:40.920Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","jobId":"e01a651b-7bab-4c46-986a-ccebad963b1b","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:21:40.925Z","level":"info","message":"initial_upload_completed","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","jobId":"e01a651b-7bab-4c46-986a-ccebad963b1b","bucket":"test-bucket","key":"cv/candidate/a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc/incoming/original.pdf","template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.926Z","level":"info","message":"resume_text_extracted","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","jobId":"e01a651b-7bab-4c46-986a-ccebad963b1b","characters":57,"template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.926Z","level":"info","message":"resume_classified","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","jobId":"e01a651b-7bab-4c46-986a-ccebad963b1b","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.926Z","level":"info","message":"raw_upload_relocated","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","jobId":"e01a651b-7bab-4c46-986a-ccebad963b1b","bucket":"test-bucket","fromKey":"cv/candidate/a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc/incoming/original.pdf","toKey":"cv/professional_summary/a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc/original.pdf","template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.927Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","jobId":"e01a651b-7bab-4c46-986a-ccebad963b1b","bucket":"test-bucket","key":"cv/professional_summary/a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc/original.pdf","template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.927Z","level":"info","message":"dynamo_initial_record_written","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","jobId":"e01a651b-7bab-4c46-986a-ccebad963b1b","bucket":"test-bucket","key":"cv/professional_summary/a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc/original.pdf","template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.927Z","level":"info","message":"upload_metadata_written","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","jobId":"e01a651b-7bab-4c46-986a-ccebad963b1b","bucket":"test-bucket","key":"cv/professional_summary/a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc/logs/log.json","template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.927Z","level":"info","message":"job_description_supplied_manually","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","jobId":"e01a651b-7bab-4c46-986a-ccebad963b1b","characters":174,"template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.928Z","level":"info","message":"job_description_analyzed","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","jobId":"e01a651b-7bab-4c46-986a-ccebad963b1b","jobTitle":"","jobSkills":5,"template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.928Z","level":"info","message":"resume_skills_analyzed","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","jobId":"e01a651b-7bab-4c46-986a-ccebad963b1b","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.929Z","level":"info","message":"llm_call_metrics","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.929Z","level":"info","message":"process_cv_scoring_completed","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","jobId":"e01a651b-7bab-4c46-986a-ccebad963b1b","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.931Z","level":"info","message":"llm_call_metrics","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.931Z","level":"info","message":"generation_section_rewrite_completed","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","jobId":"e01a651b-7bab-4c46-986a-ccebad963b1b","generationRunId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.932Z","level":"info","message":"llm_call_metrics","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.932Z","level":"info","message":"llm_call_metrics","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.934Z","level":"info","message":"generation_resume_verified","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","jobId":"e01a651b-7bab-4c46-986a-ccebad963b1b","generationRunId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:21:40.936Z","level":"error","message":"ai_response_missing_json","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","jobId":"e01a651b-7bab-4c46-986a-ccebad963b1b","generationRunId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at Object.error (server.js:3478:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20457:26)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:40.941Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","jobId":"e01a651b-7bab-4c46-986a-ccebad963b1b","generationRunId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","attempt":1,"template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20462:11)
      at server.js:26733:28

  console.error
    {"timestamp":"2025-12-04T13:21:40.947Z","level":"error","message":"ai_response_missing_json","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","jobId":"e01a651b-7bab-4c46-986a-ccebad963b1b","generationRunId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at Object.error (server.js:3478:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20457:26)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:40.952Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","jobId":"e01a651b-7bab-4c46-986a-ccebad963b1b","generationRunId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","attempt":2,"template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20462:11)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:40.958Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","jobId":"e01a651b-7bab-4c46-986a-ccebad963b1b","generationRunId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:40.964Z","level":"info","message":"generation_cover_letters_completed","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","jobId":"e01a651b-7bab-4c46-986a-ccebad963b1b","generationRunId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","variants":2,"fallbackApplied":true,"template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.965Z","level":"info","message":"pdf_generation_attempt","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","jobId":"e01a651b-7bab-4c46-986a-ccebad963b1b","generationRunId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc/enhanced_modern.pdf","session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.965Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","jobId":"e01a651b-7bab-4c46-986a-ccebad963b1b","generationRunId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.966Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","jobId":"e01a651b-7bab-4c46-986a-ccebad963b1b","generationRunId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc/enhanced_modern.pdf","session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.966Z","level":"info","message":"pdf_generation_attempt","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","jobId":"e01a651b-7bab-4c46-986a-ccebad963b1b","generationRunId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc/enhanced_professional.pdf","session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.967Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","jobId":"e01a651b-7bab-4c46-986a-ccebad963b1b","generationRunId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.967Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","jobId":"e01a651b-7bab-4c46-986a-ccebad963b1b","generationRunId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc/enhanced_professional.pdf","session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.968Z","level":"info","message":"pdf_generation_attempt","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","jobId":"e01a651b-7bab-4c46-986a-ccebad963b1b","generationRunId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc/cover_letter_cover_modern.pdf","session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.968Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","jobId":"e01a651b-7bab-4c46-986a-ccebad963b1b","generationRunId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.968Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","jobId":"e01a651b-7bab-4c46-986a-ccebad963b1b","generationRunId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc/cover_letter_cover_modern.pdf","session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.969Z","level":"info","message":"pdf_generation_attempt","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","jobId":"e01a651b-7bab-4c46-986a-ccebad963b1b","generationRunId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc/cover_letter_cover_professional.pdf","session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.969Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","jobId":"e01a651b-7bab-4c46-986a-ccebad963b1b","generationRunId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.970Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","jobId":"e01a651b-7bab-4c46-986a-ccebad963b1b","generationRunId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc/cover_letter_cover_professional.pdf","session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.972Z","level":"info","message":"llm_call_metrics","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.973Z","level":"info","message":"generation_completed","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","jobId":"e01a651b-7bab-4c46-986a-ccebad963b1b","generationRunId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","enhancedScore":80,"outputs":5,"template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.974Z","level":"info","message":"placeholder_record_deleted","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","jobId":"e01a651b-7bab-4c46-986a-ccebad963b1b","placeholderIdentifier":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e01a651b-7bab-4c46-986a-ccebad963b1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.975Z","level":"info","message":"http_request_completed","requestId":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":67,"contentLength":"59498","template":"unknown","session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9853e5f-b1f6-4cad-a3f9-2808af9fa9cc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.977Z","level":"info","message":"http_request_received","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","method":"POST","path":"/api/process-cv","template":"unknown","session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.978Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.979Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.980Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.982Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.983Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/ab8b873f-e58c-4414-a165-5ded2497335d/incoming/original.pdf","chunks":1,"timestamp":1764854500986}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/ab8b873f-e58c-4414-a165-5ded2497335d/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/ab8b873f-e58c-4414-a165-5ded2497335d/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:21:40.987Z","level":"info","message":"process_cv_started","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","jobId":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","manualJobDescriptionProvided":true,"template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.987Z","level":"info","message":"template_selection","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","jobId":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:40.988Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","jobId":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:21:40.993Z","level":"info","message":"initial_upload_completed","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","jobId":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","bucket":"test-bucket","key":"cv/candidate/ab8b873f-e58c-4414-a165-5ded2497335d/incoming/original.pdf","template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.994Z","level":"info","message":"resume_text_extracted","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","jobId":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","characters":57,"template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.994Z","level":"info","message":"resume_classified","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","jobId":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.994Z","level":"info","message":"raw_upload_relocated","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","jobId":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","bucket":"test-bucket","fromKey":"cv/candidate/ab8b873f-e58c-4414-a165-5ded2497335d/incoming/original.pdf","toKey":"cv/professional_summary/ab8b873f-e58c-4414-a165-5ded2497335d/original.pdf","template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.995Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","jobId":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","bucket":"test-bucket","key":"cv/professional_summary/ab8b873f-e58c-4414-a165-5ded2497335d/original.pdf","template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.995Z","level":"info","message":"dynamo_initial_record_written","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","jobId":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","bucket":"test-bucket","key":"cv/professional_summary/ab8b873f-e58c-4414-a165-5ded2497335d/original.pdf","template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.995Z","level":"info","message":"upload_metadata_written","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","jobId":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","bucket":"test-bucket","key":"cv/professional_summary/ab8b873f-e58c-4414-a165-5ded2497335d/logs/log.json","template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.995Z","level":"info","message":"job_description_supplied_manually","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","jobId":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","characters":174,"template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.996Z","level":"info","message":"job_description_analyzed","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","jobId":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","jobTitle":"","jobSkills":5,"template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.996Z","level":"info","message":"resume_skills_analyzed","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","jobId":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.997Z","level":"info","message":"llm_call_metrics","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.997Z","level":"info","message":"process_cv_scoring_completed","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","jobId":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:40.999Z","level":"info","message":"llm_call_metrics","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.000Z","level":"info","message":"generation_section_rewrite_completed","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","jobId":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","generationRunId":"ab8b873f-e58c-4414-a165-5ded2497335d","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.000Z","level":"info","message":"llm_call_metrics","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.000Z","level":"info","message":"llm_call_metrics","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.003Z","level":"info","message":"generation_resume_verified","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","jobId":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","generationRunId":"ab8b873f-e58c-4414-a165-5ded2497335d","template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:21:41.005Z","level":"error","message":"ai_response_missing_json","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","jobId":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","generationRunId":"ab8b873f-e58c-4414-a165-5ded2497335d","template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at Object.error (server.js:3478:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20457:26)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:41.010Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","jobId":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","generationRunId":"ab8b873f-e58c-4414-a165-5ded2497335d","attempt":1,"template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20462:11)
      at server.js:26733:28

  console.error
    {"timestamp":"2025-12-04T13:21:41.015Z","level":"error","message":"ai_response_missing_json","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","jobId":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","generationRunId":"ab8b873f-e58c-4414-a165-5ded2497335d","template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at Object.error (server.js:3478:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20457:26)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:41.021Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","jobId":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","generationRunId":"ab8b873f-e58c-4414-a165-5ded2497335d","attempt":2,"template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20462:11)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:41.026Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","jobId":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","generationRunId":"ab8b873f-e58c-4414-a165-5ded2497335d","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:41.033Z","level":"info","message":"generation_cover_letters_completed","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","jobId":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","generationRunId":"ab8b873f-e58c-4414-a165-5ded2497335d","variants":2,"fallbackApplied":true,"template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.034Z","level":"info","message":"pdf_generation_attempt","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","jobId":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","generationRunId":"ab8b873f-e58c-4414-a165-5ded2497335d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/ab8b873f-e58c-4414-a165-5ded2497335d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/ab8b873f-e58c-4414-a165-5ded2497335d/enhanced_modern.pdf","session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.034Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","jobId":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","generationRunId":"ab8b873f-e58c-4414-a165-5ded2497335d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/ab8b873f-e58c-4414-a165-5ded2497335d/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.035Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","jobId":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","generationRunId":"ab8b873f-e58c-4414-a165-5ded2497335d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/ab8b873f-e58c-4414-a165-5ded2497335d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/ab8b873f-e58c-4414-a165-5ded2497335d/enhanced_modern.pdf","session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.035Z","level":"info","message":"pdf_generation_attempt","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","jobId":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","generationRunId":"ab8b873f-e58c-4414-a165-5ded2497335d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/ab8b873f-e58c-4414-a165-5ded2497335d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/ab8b873f-e58c-4414-a165-5ded2497335d/enhanced_professional.pdf","session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.036Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","jobId":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","generationRunId":"ab8b873f-e58c-4414-a165-5ded2497335d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/ab8b873f-e58c-4414-a165-5ded2497335d/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.036Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","jobId":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","generationRunId":"ab8b873f-e58c-4414-a165-5ded2497335d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/ab8b873f-e58c-4414-a165-5ded2497335d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/ab8b873f-e58c-4414-a165-5ded2497335d/enhanced_professional.pdf","session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.036Z","level":"info","message":"pdf_generation_attempt","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","jobId":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","generationRunId":"ab8b873f-e58c-4414-a165-5ded2497335d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/ab8b873f-e58c-4414-a165-5ded2497335d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/ab8b873f-e58c-4414-a165-5ded2497335d/cover_letter_cover_modern.pdf","session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.037Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","jobId":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","generationRunId":"ab8b873f-e58c-4414-a165-5ded2497335d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/ab8b873f-e58c-4414-a165-5ded2497335d/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.037Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","jobId":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","generationRunId":"ab8b873f-e58c-4414-a165-5ded2497335d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/ab8b873f-e58c-4414-a165-5ded2497335d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/ab8b873f-e58c-4414-a165-5ded2497335d/cover_letter_cover_modern.pdf","session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.038Z","level":"info","message":"pdf_generation_attempt","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","jobId":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","generationRunId":"ab8b873f-e58c-4414-a165-5ded2497335d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/ab8b873f-e58c-4414-a165-5ded2497335d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/ab8b873f-e58c-4414-a165-5ded2497335d/cover_letter_cover_professional.pdf","session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.038Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","jobId":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","generationRunId":"ab8b873f-e58c-4414-a165-5ded2497335d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/ab8b873f-e58c-4414-a165-5ded2497335d/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.039Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","jobId":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","generationRunId":"ab8b873f-e58c-4414-a165-5ded2497335d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/ab8b873f-e58c-4414-a165-5ded2497335d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/ab8b873f-e58c-4414-a165-5ded2497335d/cover_letter_cover_professional.pdf","session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.041Z","level":"info","message":"llm_call_metrics","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.042Z","level":"info","message":"generation_completed","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","jobId":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","generationRunId":"ab8b873f-e58c-4414-a165-5ded2497335d","enhancedScore":80,"outputs":5,"template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.043Z","level":"info","message":"placeholder_record_deleted","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","jobId":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","placeholderIdentifier":"ab8b873f-e58c-4414-a165-5ded2497335d","template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"67a844cb-c8c1-4ab6-ad75-b5e1d4afeb9e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.044Z","level":"info","message":"http_request_completed","requestId":"ab8b873f-e58c-4414-a165-5ded2497335d","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":67,"contentLength":"59498","template":"unknown","session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ab8b873f-e58c-4414-a165-5ded2497335d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.047Z","level":"info","message":"http_request_received","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","method":"POST","path":"/api/process-cv","template":"unknown","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.048Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.049Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.051Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.052Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.054Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/9c826ace-a5b3-4240-9c7f-cc713398b02e/incoming/original.pdf","chunks":1,"timestamp":1764854501056}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/9c826ace-a5b3-4240-9c7f-cc713398b02e/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/9c826ace-a5b3-4240-9c7f-cc713398b02e/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:21:41.057Z","level":"info","message":"process_cv_started","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","jobId":"dbbc38b3-7551-4158-8959-3936e84fe28e","manualJobDescriptionProvided":true,"template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.057Z","level":"info","message":"template_selection","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","jobId":"dbbc38b3-7551-4158-8959-3936e84fe28e","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:41.058Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","jobId":"dbbc38b3-7551-4158-8959-3936e84fe28e","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:21:41.063Z","level":"info","message":"initial_upload_completed","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","jobId":"dbbc38b3-7551-4158-8959-3936e84fe28e","bucket":"test-bucket","key":"cv/candidate/9c826ace-a5b3-4240-9c7f-cc713398b02e/incoming/original.pdf","template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.064Z","level":"info","message":"resume_text_extracted","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","jobId":"dbbc38b3-7551-4158-8959-3936e84fe28e","characters":57,"template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.064Z","level":"info","message":"resume_classified","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","jobId":"dbbc38b3-7551-4158-8959-3936e84fe28e","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.064Z","level":"info","message":"raw_upload_relocated","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","jobId":"dbbc38b3-7551-4158-8959-3936e84fe28e","bucket":"test-bucket","fromKey":"cv/candidate/9c826ace-a5b3-4240-9c7f-cc713398b02e/incoming/original.pdf","toKey":"cv/professional_summary/9c826ace-a5b3-4240-9c7f-cc713398b02e/original.pdf","template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.064Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","jobId":"dbbc38b3-7551-4158-8959-3936e84fe28e","bucket":"test-bucket","key":"cv/professional_summary/9c826ace-a5b3-4240-9c7f-cc713398b02e/original.pdf","template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.065Z","level":"info","message":"dynamo_initial_record_written","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","jobId":"dbbc38b3-7551-4158-8959-3936e84fe28e","bucket":"test-bucket","key":"cv/professional_summary/9c826ace-a5b3-4240-9c7f-cc713398b02e/original.pdf","template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.065Z","level":"info","message":"upload_metadata_written","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","jobId":"dbbc38b3-7551-4158-8959-3936e84fe28e","bucket":"test-bucket","key":"cv/professional_summary/9c826ace-a5b3-4240-9c7f-cc713398b02e/logs/log.json","template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.065Z","level":"info","message":"job_description_supplied_manually","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","jobId":"dbbc38b3-7551-4158-8959-3936e84fe28e","characters":174,"template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.065Z","level":"info","message":"job_description_analyzed","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","jobId":"dbbc38b3-7551-4158-8959-3936e84fe28e","jobTitle":"","jobSkills":5,"template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.066Z","level":"info","message":"resume_skills_analyzed","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","jobId":"dbbc38b3-7551-4158-8959-3936e84fe28e","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.066Z","level":"info","message":"llm_call_metrics","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.067Z","level":"info","message":"process_cv_scoring_completed","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","jobId":"dbbc38b3-7551-4158-8959-3936e84fe28e","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:21:41.068Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","template":"unknown","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at Object.error (server.js:3478:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8534:20)
      at generateEnhancedDocumentsResponse (server.js:20175:26)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:41.073Z","level":"info","message":"llm_call_metrics","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.074Z","level":"info","message":"llm_call_metrics","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.074Z","level":"info","message":"generation_section_rewrite_completed","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","jobId":"dbbc38b3-7551-4158-8959-3936e84fe28e","generationRunId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.074Z","level":"info","message":"llm_call_metrics","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.075Z","level":"info","message":"llm_call_metrics","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:21:41.078Z","level":"error","message":"ai_response_missing_json","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","jobId":"dbbc38b3-7551-4158-8959-3936e84fe28e","generationRunId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at Object.error (server.js:3478:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20457:26)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:41.083Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","jobId":"dbbc38b3-7551-4158-8959-3936e84fe28e","generationRunId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","attempt":1,"template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20462:11)
      at server.js:26733:28

  console.error
    {"timestamp":"2025-12-04T13:21:41.089Z","level":"error","message":"ai_response_missing_json","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","jobId":"dbbc38b3-7551-4158-8959-3936e84fe28e","generationRunId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at Object.error (server.js:3478:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20457:26)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:41.094Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","jobId":"dbbc38b3-7551-4158-8959-3936e84fe28e","generationRunId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","attempt":2,"template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20462:11)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:41.100Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","jobId":"dbbc38b3-7551-4158-8959-3936e84fe28e","generationRunId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:41.105Z","level":"info","message":"generation_cover_letters_completed","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","jobId":"dbbc38b3-7551-4158-8959-3936e84fe28e","generationRunId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","variants":2,"fallbackApplied":true,"template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.105Z","level":"info","message":"pdf_generation_attempt","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","jobId":"dbbc38b3-7551-4158-8959-3936e84fe28e","generationRunId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9c826ace-a5b3-4240-9c7f-cc713398b02e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/9c826ace-a5b3-4240-9c7f-cc713398b02e/enhanced_modern.pdf","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.106Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","jobId":"dbbc38b3-7551-4158-8959-3936e84fe28e","generationRunId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9c826ace-a5b3-4240-9c7f-cc713398b02e/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.106Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","jobId":"dbbc38b3-7551-4158-8959-3936e84fe28e","generationRunId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9c826ace-a5b3-4240-9c7f-cc713398b02e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/9c826ace-a5b3-4240-9c7f-cc713398b02e/enhanced_modern.pdf","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.107Z","level":"info","message":"pdf_generation_attempt","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","jobId":"dbbc38b3-7551-4158-8959-3936e84fe28e","generationRunId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9c826ace-a5b3-4240-9c7f-cc713398b02e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/9c826ace-a5b3-4240-9c7f-cc713398b02e/enhanced_professional.pdf","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.107Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","jobId":"dbbc38b3-7551-4158-8959-3936e84fe28e","generationRunId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9c826ace-a5b3-4240-9c7f-cc713398b02e/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.108Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","jobId":"dbbc38b3-7551-4158-8959-3936e84fe28e","generationRunId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9c826ace-a5b3-4240-9c7f-cc713398b02e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/9c826ace-a5b3-4240-9c7f-cc713398b02e/enhanced_professional.pdf","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.108Z","level":"info","message":"pdf_generation_attempt","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","jobId":"dbbc38b3-7551-4158-8959-3936e84fe28e","generationRunId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9c826ace-a5b3-4240-9c7f-cc713398b02e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/9c826ace-a5b3-4240-9c7f-cc713398b02e/cover_letter_cover_modern.pdf","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.108Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","jobId":"dbbc38b3-7551-4158-8959-3936e84fe28e","generationRunId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9c826ace-a5b3-4240-9c7f-cc713398b02e/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.109Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","jobId":"dbbc38b3-7551-4158-8959-3936e84fe28e","generationRunId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9c826ace-a5b3-4240-9c7f-cc713398b02e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/9c826ace-a5b3-4240-9c7f-cc713398b02e/cover_letter_cover_modern.pdf","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.109Z","level":"info","message":"pdf_generation_attempt","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","jobId":"dbbc38b3-7551-4158-8959-3936e84fe28e","generationRunId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9c826ace-a5b3-4240-9c7f-cc713398b02e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/9c826ace-a5b3-4240-9c7f-cc713398b02e/cover_letter_cover_professional.pdf","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.110Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","jobId":"dbbc38b3-7551-4158-8959-3936e84fe28e","generationRunId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9c826ace-a5b3-4240-9c7f-cc713398b02e/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.110Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","jobId":"dbbc38b3-7551-4158-8959-3936e84fe28e","generationRunId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9c826ace-a5b3-4240-9c7f-cc713398b02e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/9c826ace-a5b3-4240-9c7f-cc713398b02e/cover_letter_cover_professional.pdf","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.112Z","level":"info","message":"llm_call_metrics","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.113Z","level":"info","message":"generation_completed","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","jobId":"dbbc38b3-7551-4158-8959-3936e84fe28e","generationRunId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","enhancedScore":80,"outputs":5,"template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.114Z","level":"info","message":"placeholder_record_deleted","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","jobId":"dbbc38b3-7551-4158-8959-3936e84fe28e","placeholderIdentifier":"9c826ace-a5b3-4240-9c7f-cc713398b02e","template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dbbc38b3-7551-4158-8959-3936e84fe28e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.115Z","level":"info","message":"http_request_completed","requestId":"9c826ace-a5b3-4240-9c7f-cc713398b02e","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":68,"contentLength":"58301","template":"unknown","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c826ace-a5b3-4240-9c7f-cc713398b02e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.122Z","level":"info","message":"http_request_received","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","method":"POST","path":"/api/process-cv","template":"unknown","session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.123Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.124Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.125Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.127Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.128Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/96f00465-e93b-40cc-92d4-d026d043f6c7/incoming/original.pdf","chunks":1,"timestamp":1764854501130}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/96f00465-e93b-40cc-92d4-d026d043f6c7/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/96f00465-e93b-40cc-92d4-d026d043f6c7/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:21:41.132Z","level":"info","message":"process_cv_started","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","manualJobDescriptionProvided":true,"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.132Z","level":"info","message":"template_selection","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:41.133Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:21:41.138Z","level":"info","message":"initial_upload_completed","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","bucket":"test-bucket","key":"cv/candidate/96f00465-e93b-40cc-92d4-d026d043f6c7/incoming/original.pdf","template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.138Z","level":"info","message":"resume_text_extracted","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","characters":57,"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.139Z","level":"info","message":"resume_classified","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.139Z","level":"info","message":"raw_upload_relocated","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","bucket":"test-bucket","fromKey":"cv/candidate/96f00465-e93b-40cc-92d4-d026d043f6c7/incoming/original.pdf","toKey":"cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/original.pdf","template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.139Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","bucket":"test-bucket","key":"cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/original.pdf","template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.139Z","level":"info","message":"dynamo_initial_record_written","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","bucket":"test-bucket","key":"cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/original.pdf","template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.140Z","level":"info","message":"upload_metadata_written","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","bucket":"test-bucket","key":"cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/logs/log.json","template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.140Z","level":"info","message":"job_description_supplied_manually","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","characters":174,"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.140Z","level":"info","message":"job_description_analyzed","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","jobTitle":"","jobSkills":5,"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.141Z","level":"info","message":"resume_skills_analyzed","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.141Z","level":"info","message":"llm_call_metrics","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.141Z","level":"info","message":"process_cv_scoring_completed","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:21:41.143Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","template":"unknown","session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at Object.error (server.js:3478:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8534:20)
      at generateEnhancedDocumentsResponse (server.js:20175:26)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:41.148Z","level":"info","message":"llm_call_metrics","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.149Z","level":"info","message":"llm_call_metrics","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.149Z","level":"info","message":"generation_section_rewrite_completed","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","generationRunId":"96f00465-e93b-40cc-92d4-d026d043f6c7","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.149Z","level":"info","message":"llm_call_metrics","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.150Z","level":"info","message":"llm_call_metrics","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:21:41.154Z","level":"error","message":"ai_response_missing_json","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","generationRunId":"96f00465-e93b-40cc-92d4-d026d043f6c7","template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at Object.error (server.js:3478:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20457:26)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:41.159Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","generationRunId":"96f00465-e93b-40cc-92d4-d026d043f6c7","attempt":1,"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20462:11)
      at server.js:26733:28

  console.error
    {"timestamp":"2025-12-04T13:21:41.164Z","level":"error","message":"ai_response_missing_json","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","generationRunId":"96f00465-e93b-40cc-92d4-d026d043f6c7","template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at Object.error (server.js:3478:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20457:26)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:41.170Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","generationRunId":"96f00465-e93b-40cc-92d4-d026d043f6c7","attempt":2,"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20462:11)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:41.176Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","generationRunId":"96f00465-e93b-40cc-92d4-d026d043f6c7","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:41.181Z","level":"info","message":"generation_cover_letters_completed","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","generationRunId":"96f00465-e93b-40cc-92d4-d026d043f6c7","variants":2,"fallbackApplied":true,"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.182Z","level":"info","message":"pdf_generation_attempt","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","generationRunId":"96f00465-e93b-40cc-92d4-d026d043f6c7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/enhanced_modern.pdf","session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.182Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","generationRunId":"96f00465-e93b-40cc-92d4-d026d043f6c7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.183Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","generationRunId":"96f00465-e93b-40cc-92d4-d026d043f6c7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/enhanced_modern.pdf","session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.183Z","level":"info","message":"pdf_generation_attempt","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","generationRunId":"96f00465-e93b-40cc-92d4-d026d043f6c7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/enhanced_professional.pdf","session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.183Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","generationRunId":"96f00465-e93b-40cc-92d4-d026d043f6c7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.184Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","generationRunId":"96f00465-e93b-40cc-92d4-d026d043f6c7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/enhanced_professional.pdf","session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.184Z","level":"info","message":"pdf_generation_attempt","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","generationRunId":"96f00465-e93b-40cc-92d4-d026d043f6c7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/cover_letter_cover_modern.pdf","session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.185Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","generationRunId":"96f00465-e93b-40cc-92d4-d026d043f6c7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.185Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","generationRunId":"96f00465-e93b-40cc-92d4-d026d043f6c7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/cover_letter_cover_modern.pdf","session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.185Z","level":"info","message":"pdf_generation_attempt","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","generationRunId":"96f00465-e93b-40cc-92d4-d026d043f6c7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/cover_letter_cover_professional.pdf","session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.186Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","generationRunId":"96f00465-e93b-40cc-92d4-d026d043f6c7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.186Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","generationRunId":"96f00465-e93b-40cc-92d4-d026d043f6c7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/cover_letter_cover_professional.pdf","session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:41.187Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","generationRunId":"96f00465-e93b-40cc-92d4-d026d043f6c7","artifactType":"original_upload","storageKey":"cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/original.pdf","template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","metadata":{"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"original_upload"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:21863:9)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:41.193Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","generationRunId":"96f00465-e93b-40cc-92d4-d026d043f6c7","artifactType":"version1","storageKey":"cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/modern/version1.pdf","template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","metadata":{"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"version1"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:21863:9)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:41.200Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","generationRunId":"96f00465-e93b-40cc-92d4-d026d043f6c7","artifactType":"version2","storageKey":"cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/professional/version2.pdf","template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","metadata":{"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"version2"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:21863:9)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:41.205Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","generationRunId":"96f00465-e93b-40cc-92d4-d026d043f6c7","artifactType":"cover_letter1","storageKey":"cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/cover_modern/cover_letter1.pdf","template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","metadata":{"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"cover_letter1"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:21863:9)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:41.210Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","generationRunId":"96f00465-e93b-40cc-92d4-d026d043f6c7","artifactType":"cover_letter2","storageKey":"cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/cover_professional/cover_letter2.pdf","template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","metadata":{"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"cover_letter2"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:21863:9)
      at server.js:26733:28

  console.error
    {"timestamp":"2025-12-04T13:21:41.216Z","level":"error","message":"generation_urls_missing","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","generationRunId":"96f00465-e93b-40cc-92d4-d026d043f6c7","requestedUrlCount":0,"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:21964:7)
      at server.js:26733:28

  console.error
    {"timestamp":"2025-12-04T13:21:41.221Z","level":"error","message":"api_error_response","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","status":500,"error":{"code":"AI_RESPONSE_INVALID","message":"Unable to prepare download links for the generated documents.","details":{"logs":{"s3":{"bucket":"test-bucket","key":"logs/errors/2025-12-04/2025-12-04t13-21-41-221z-96f00465-e93b-40cc-92d4-d026d043f6c7.json","status":"pending"}}},"requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b"},"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at sendError (server.js:3966:3)
      at generateEnhancedDocumentsResponse (server.js:21968:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:41.226Z","level":"warn","message":"generation_artifacts_cleaned_up","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","jobId":"d29ddca5-f91f-4155-a1db-6f907e30406b","generationRunId":"96f00465-e93b-40cc-92d4-d026d043f6c7","reason":"no_valid_urls","deletedKeys":["cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/modern/version1.pdf","cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/professional/version2.pdf","cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/cover_modern/cover_letter1.pdf","cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/cover_professional/cover_letter2.pdf","cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/artifacts/original.json","cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/artifacts/version1.json","cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/artifacts/version2.json","cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/artifacts/cover-letter1.json","cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/artifacts/cover-letter2.json","cv/professional_summary/96f00465-e93b-40cc-92d4-d026d043f6c7/artifacts/changelog.json"],"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d29ddca5-f91f-4155-a1db-6f907e30406b","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:19891:9
      at generateEnhancedDocumentsResponse (server.js:22496:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:41.232Z","level":"info","message":"http_request_completed","requestId":"96f00465-e93b-40cc-92d4-d026d043f6c7","method":"POST","path":"/api/process-cv","statusCode":500,"durationMs":110,"contentLength":"396","template":"unknown","session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"96f00465-e93b-40cc-92d4-d026d043f6c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.234Z","level":"info","message":"http_request_received","requestId":"44eadbdd-bce3-48f4-8a72-4d176a434a5d","method":"POST","path":"/api/refresh-download-link","template":"unknown","session":"44eadbdd-bce3-48f4-8a72-4d176a434a5d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44eadbdd-bce3-48f4-8a72-4d176a434a5d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.235Z","level":"info","message":"path_restoration_debug","reqPath":"/api/refresh-download-link","reqUrl":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.236Z","level":"info","message":"request_received","path":"/api/refresh-download-link","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.237Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.247Z","level":"info","message":"client_app_routes_entered","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.248Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.249Z","level":"info","message":"http_request_completed","requestId":"44eadbdd-bce3-48f4-8a72-4d176a434a5d","method":"POST","path":"/api/refresh-download-link","statusCode":200,"durationMs":15,"contentLength":"232","template":"unknown","session":"44eadbdd-bce3-48f4-8a72-4d176a434a5d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44eadbdd-bce3-48f4-8a72-4d176a434a5d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.255Z","level":"info","message":"http_request_received","requestId":"2d7ca990-8158-4abd-83ab-e29ef70a2ca0","method":"POST","path":"/api/refresh-download-link","template":"unknown","session":"2d7ca990-8158-4abd-83ab-e29ef70a2ca0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d7ca990-8158-4abd-83ab-e29ef70a2ca0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.257Z","level":"info","message":"path_restoration_debug","reqPath":"/api/refresh-download-link","reqUrl":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.260Z","level":"info","message":"request_received","path":"/api/refresh-download-link","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.262Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.265Z","level":"info","message":"client_app_routes_entered","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.267Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:41.269Z","level":"warn","message":"api_error_response","requestId":"2d7ca990-8158-4abd-83ab-e29ef70a2ca0","jobId":"job-123","status":404,"error":{"code":"DOWNLOAD_NOT_FOUND","message":"The requested download link is no longer available.","details":{},"requestId":"2d7ca990-8158-4abd-83ab-e29ef70a2ca0","jobId":"job-123"},"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at sendError (server.js:3966:3)
      at server.js:24601:12

  console.log
    {"timestamp":"2025-12-04T13:21:41.276Z","level":"info","message":"http_request_completed","requestId":"2d7ca990-8158-4abd-83ab-e29ef70a2ca0","method":"POST","path":"/api/refresh-download-link","statusCode":404,"durationMs":21,"contentLength":"201","template":"unknown","session":"2d7ca990-8158-4abd-83ab-e29ef70a2ca0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d7ca990-8158-4abd-83ab-e29ef70a2ca0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.284Z","level":"info","message":"http_request_received","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","method":"POST","path":"/api/process-cv","template":"unknown","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.285Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.286Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.287Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.289Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.290Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/422f9bbc-de83-4041-b34c-982b48c46726/incoming/original.pdf","chunks":1,"timestamp":1764854501292}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/422f9bbc-de83-4041-b34c-982b48c46726/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/422f9bbc-de83-4041-b34c-982b48c46726/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:21:41.299Z","level":"info","message":"process_cv_started","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","jobId":"476787fa-6f06-4564-8f39-37547415b98e","manualJobDescriptionProvided":true,"template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.300Z","level":"info","message":"template_selection","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","jobId":"476787fa-6f06-4564-8f39-37547415b98e","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:41.300Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","jobId":"476787fa-6f06-4564-8f39-37547415b98e","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:21:41.306Z","level":"info","message":"initial_upload_completed","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","jobId":"476787fa-6f06-4564-8f39-37547415b98e","bucket":"test-bucket","key":"cv/candidate/422f9bbc-de83-4041-b34c-982b48c46726/incoming/original.pdf","template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.306Z","level":"info","message":"resume_text_extracted","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","jobId":"476787fa-6f06-4564-8f39-37547415b98e","characters":57,"template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.307Z","level":"info","message":"resume_classified","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","jobId":"476787fa-6f06-4564-8f39-37547415b98e","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.307Z","level":"info","message":"raw_upload_relocated","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","jobId":"476787fa-6f06-4564-8f39-37547415b98e","bucket":"test-bucket","fromKey":"cv/candidate/422f9bbc-de83-4041-b34c-982b48c46726/incoming/original.pdf","toKey":"cv/professional_summary/422f9bbc-de83-4041-b34c-982b48c46726/original.pdf","template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.307Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","jobId":"476787fa-6f06-4564-8f39-37547415b98e","bucket":"test-bucket","key":"cv/professional_summary/422f9bbc-de83-4041-b34c-982b48c46726/original.pdf","template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.307Z","level":"info","message":"dynamo_initial_record_written","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","jobId":"476787fa-6f06-4564-8f39-37547415b98e","bucket":"test-bucket","key":"cv/professional_summary/422f9bbc-de83-4041-b34c-982b48c46726/original.pdf","template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.308Z","level":"info","message":"upload_metadata_written","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","jobId":"476787fa-6f06-4564-8f39-37547415b98e","bucket":"test-bucket","key":"cv/professional_summary/422f9bbc-de83-4041-b34c-982b48c46726/logs/log.json","template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.308Z","level":"info","message":"job_description_supplied_manually","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","jobId":"476787fa-6f06-4564-8f39-37547415b98e","characters":174,"template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.309Z","level":"info","message":"job_description_analyzed","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","jobId":"476787fa-6f06-4564-8f39-37547415b98e","jobTitle":"","jobSkills":5,"template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.310Z","level":"info","message":"resume_skills_analyzed","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","jobId":"476787fa-6f06-4564-8f39-37547415b98e","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.311Z","level":"info","message":"llm_call_metrics","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.311Z","level":"info","message":"process_cv_scoring_completed","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","jobId":"476787fa-6f06-4564-8f39-37547415b98e","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:21:41.314Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"422f9bbc-de83-4041-b34c-982b48c46726","template":"unknown","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at Object.error (server.js:3478:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8534:20)
      at generateEnhancedDocumentsResponse (server.js:20175:26)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:41.320Z","level":"info","message":"llm_call_metrics","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.320Z","level":"info","message":"llm_call_metrics","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.320Z","level":"info","message":"generation_section_rewrite_completed","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","jobId":"476787fa-6f06-4564-8f39-37547415b98e","generationRunId":"422f9bbc-de83-4041-b34c-982b48c46726","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.321Z","level":"info","message":"llm_call_metrics","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.321Z","level":"info","message":"llm_call_metrics","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:21:41.325Z","level":"error","message":"ai_response_missing_json","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","jobId":"476787fa-6f06-4564-8f39-37547415b98e","generationRunId":"422f9bbc-de83-4041-b34c-982b48c46726","template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at Object.error (server.js:3478:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20457:26)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:41.330Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","jobId":"476787fa-6f06-4564-8f39-37547415b98e","generationRunId":"422f9bbc-de83-4041-b34c-982b48c46726","attempt":1,"template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20462:11)
      at server.js:26733:28

  console.error
    {"timestamp":"2025-12-04T13:21:41.338Z","level":"error","message":"ai_response_missing_json","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","jobId":"476787fa-6f06-4564-8f39-37547415b98e","generationRunId":"422f9bbc-de83-4041-b34c-982b48c46726","template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at Object.error (server.js:3478:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20457:26)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:41.343Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","jobId":"476787fa-6f06-4564-8f39-37547415b98e","generationRunId":"422f9bbc-de83-4041-b34c-982b48c46726","attempt":2,"template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20462:11)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:41.351Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","jobId":"476787fa-6f06-4564-8f39-37547415b98e","generationRunId":"422f9bbc-de83-4041-b34c-982b48c46726","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:41.356Z","level":"info","message":"generation_cover_letters_completed","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","jobId":"476787fa-6f06-4564-8f39-37547415b98e","generationRunId":"422f9bbc-de83-4041-b34c-982b48c46726","variants":2,"fallbackApplied":true,"template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.357Z","level":"info","message":"pdf_generation_attempt","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","jobId":"476787fa-6f06-4564-8f39-37547415b98e","generationRunId":"422f9bbc-de83-4041-b34c-982b48c46726","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/422f9bbc-de83-4041-b34c-982b48c46726/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/422f9bbc-de83-4041-b34c-982b48c46726/enhanced_modern.pdf","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.357Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","jobId":"476787fa-6f06-4564-8f39-37547415b98e","generationRunId":"422f9bbc-de83-4041-b34c-982b48c46726","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/422f9bbc-de83-4041-b34c-982b48c46726/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.358Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","jobId":"476787fa-6f06-4564-8f39-37547415b98e","generationRunId":"422f9bbc-de83-4041-b34c-982b48c46726","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/422f9bbc-de83-4041-b34c-982b48c46726/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/422f9bbc-de83-4041-b34c-982b48c46726/enhanced_modern.pdf","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.358Z","level":"info","message":"pdf_generation_attempt","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","jobId":"476787fa-6f06-4564-8f39-37547415b98e","generationRunId":"422f9bbc-de83-4041-b34c-982b48c46726","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/422f9bbc-de83-4041-b34c-982b48c46726/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/422f9bbc-de83-4041-b34c-982b48c46726/enhanced_professional.pdf","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.359Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","jobId":"476787fa-6f06-4564-8f39-37547415b98e","generationRunId":"422f9bbc-de83-4041-b34c-982b48c46726","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/422f9bbc-de83-4041-b34c-982b48c46726/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.359Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","jobId":"476787fa-6f06-4564-8f39-37547415b98e","generationRunId":"422f9bbc-de83-4041-b34c-982b48c46726","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/422f9bbc-de83-4041-b34c-982b48c46726/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/422f9bbc-de83-4041-b34c-982b48c46726/enhanced_professional.pdf","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.359Z","level":"info","message":"pdf_generation_attempt","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","jobId":"476787fa-6f06-4564-8f39-37547415b98e","generationRunId":"422f9bbc-de83-4041-b34c-982b48c46726","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/422f9bbc-de83-4041-b34c-982b48c46726/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/422f9bbc-de83-4041-b34c-982b48c46726/cover_letter_cover_modern.pdf","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.360Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","jobId":"476787fa-6f06-4564-8f39-37547415b98e","generationRunId":"422f9bbc-de83-4041-b34c-982b48c46726","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/422f9bbc-de83-4041-b34c-982b48c46726/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.360Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","jobId":"476787fa-6f06-4564-8f39-37547415b98e","generationRunId":"422f9bbc-de83-4041-b34c-982b48c46726","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/422f9bbc-de83-4041-b34c-982b48c46726/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/422f9bbc-de83-4041-b34c-982b48c46726/cover_letter_cover_modern.pdf","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.361Z","level":"info","message":"pdf_generation_attempt","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","jobId":"476787fa-6f06-4564-8f39-37547415b98e","generationRunId":"422f9bbc-de83-4041-b34c-982b48c46726","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/422f9bbc-de83-4041-b34c-982b48c46726/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/422f9bbc-de83-4041-b34c-982b48c46726/cover_letter_cover_professional.pdf","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.361Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","jobId":"476787fa-6f06-4564-8f39-37547415b98e","generationRunId":"422f9bbc-de83-4041-b34c-982b48c46726","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/422f9bbc-de83-4041-b34c-982b48c46726/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.362Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","jobId":"476787fa-6f06-4564-8f39-37547415b98e","generationRunId":"422f9bbc-de83-4041-b34c-982b48c46726","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/422f9bbc-de83-4041-b34c-982b48c46726/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/422f9bbc-de83-4041-b34c-982b48c46726/cover_letter_cover_professional.pdf","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.364Z","level":"info","message":"llm_call_metrics","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.365Z","level":"info","message":"generation_completed","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","jobId":"476787fa-6f06-4564-8f39-37547415b98e","generationRunId":"422f9bbc-de83-4041-b34c-982b48c46726","enhancedScore":80,"outputs":5,"template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.366Z","level":"info","message":"placeholder_record_deleted","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","jobId":"476787fa-6f06-4564-8f39-37547415b98e","placeholderIdentifier":"422f9bbc-de83-4041-b34c-982b48c46726","template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"476787fa-6f06-4564-8f39-37547415b98e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.367Z","level":"info","message":"http_request_completed","requestId":"422f9bbc-de83-4041-b34c-982b48c46726","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":83,"contentLength":"58301","template":"unknown","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"422f9bbc-de83-4041-b34c-982b48c46726","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.370Z","level":"info","message":"http_request_received","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","method":"POST","path":"/api/process-cv","template":"unknown","session":"ba3ec2ef-c611-44fd-9e58-cf3817509317","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ba3ec2ef-c611-44fd-9e58-cf3817509317","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.371Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.372Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.373Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.375Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.377Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/ba3ec2ef-c611-44fd-9e58-cf3817509317/incoming/original.pdf","chunks":1,"timestamp":1764854501379}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/ba3ec2ef-c611-44fd-9e58-cf3817509317/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/ba3ec2ef-c611-44fd-9e58-cf3817509317/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:21:41.387Z","level":"info","message":"process_cv_started","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","jobId":"3194f3bd-431c-4e94-978a-c561d814f54a","manualJobDescriptionProvided":true,"template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.388Z","level":"info","message":"template_selection","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","jobId":"3194f3bd-431c-4e94-978a-c561d814f54a","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:41.389Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","jobId":"3194f3bd-431c-4e94-978a-c561d814f54a","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:21:41.395Z","level":"info","message":"initial_upload_completed","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","jobId":"3194f3bd-431c-4e94-978a-c561d814f54a","bucket":"test-bucket","key":"cv/candidate/ba3ec2ef-c611-44fd-9e58-cf3817509317/incoming/original.pdf","template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.396Z","level":"info","message":"resume_text_extracted","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","jobId":"3194f3bd-431c-4e94-978a-c561d814f54a","characters":57,"template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.396Z","level":"info","message":"resume_classified","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","jobId":"3194f3bd-431c-4e94-978a-c561d814f54a","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.396Z","level":"info","message":"raw_upload_relocated","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","jobId":"3194f3bd-431c-4e94-978a-c561d814f54a","bucket":"test-bucket","fromKey":"cv/candidate/ba3ec2ef-c611-44fd-9e58-cf3817509317/incoming/original.pdf","toKey":"cv/professional_summary/ba3ec2ef-c611-44fd-9e58-cf3817509317/original.pdf","template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.397Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","jobId":"3194f3bd-431c-4e94-978a-c561d814f54a","bucket":"test-bucket","key":"cv/professional_summary/ba3ec2ef-c611-44fd-9e58-cf3817509317/original.pdf","template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.397Z","level":"info","message":"dynamo_initial_record_written","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","jobId":"3194f3bd-431c-4e94-978a-c561d814f54a","bucket":"test-bucket","key":"cv/professional_summary/ba3ec2ef-c611-44fd-9e58-cf3817509317/original.pdf","template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.397Z","level":"info","message":"upload_metadata_written","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","jobId":"3194f3bd-431c-4e94-978a-c561d814f54a","bucket":"test-bucket","key":"cv/professional_summary/ba3ec2ef-c611-44fd-9e58-cf3817509317/logs/log.json","template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.397Z","level":"info","message":"job_description_supplied_manually","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","jobId":"3194f3bd-431c-4e94-978a-c561d814f54a","characters":174,"template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.398Z","level":"info","message":"job_description_analyzed","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","jobId":"3194f3bd-431c-4e94-978a-c561d814f54a","jobTitle":"","jobSkills":5,"template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.398Z","level":"info","message":"resume_skills_analyzed","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","jobId":"3194f3bd-431c-4e94-978a-c561d814f54a","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.399Z","level":"info","message":"llm_call_metrics","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"ba3ec2ef-c611-44fd-9e58-cf3817509317","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"ba3ec2ef-c611-44fd-9e58-cf3817509317","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.399Z","level":"info","message":"process_cv_scoring_completed","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","jobId":"3194f3bd-431c-4e94-978a-c561d814f54a","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.401Z","level":"info","message":"llm_call_metrics","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"ba3ec2ef-c611-44fd-9e58-cf3817509317","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"ba3ec2ef-c611-44fd-9e58-cf3817509317","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.401Z","level":"info","message":"generation_section_rewrite_completed","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","jobId":"3194f3bd-431c-4e94-978a-c561d814f54a","generationRunId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.402Z","level":"info","message":"llm_call_metrics","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"ba3ec2ef-c611-44fd-9e58-cf3817509317","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"ba3ec2ef-c611-44fd-9e58-cf3817509317","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.404Z","level":"info","message":"generation_resume_verified","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","jobId":"3194f3bd-431c-4e94-978a-c561d814f54a","generationRunId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:41.407Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","jobId":"3194f3bd-431c-4e94-978a-c561d814f54a","generationRunId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:41.413Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","jobId":"3194f3bd-431c-4e94-978a-c561d814f54a","generationRunId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:41.418Z","level":"info","message":"generation_cover_letters_completed","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","jobId":"3194f3bd-431c-4e94-978a-c561d814f54a","generationRunId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","variants":2,"fallbackApplied":true,"template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.419Z","level":"info","message":"pdf_generation_attempt","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","jobId":"3194f3bd-431c-4e94-978a-c561d814f54a","generationRunId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/ba3ec2ef-c611-44fd-9e58-cf3817509317/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/ba3ec2ef-c611-44fd-9e58-cf3817509317/enhanced_modern.pdf","session":"ba3ec2ef-c611-44fd-9e58-cf3817509317","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ba3ec2ef-c611-44fd-9e58-cf3817509317","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.419Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","jobId":"3194f3bd-431c-4e94-978a-c561d814f54a","generationRunId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/ba3ec2ef-c611-44fd-9e58-cf3817509317/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"ba3ec2ef-c611-44fd-9e58-cf3817509317","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ba3ec2ef-c611-44fd-9e58-cf3817509317","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.420Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","jobId":"3194f3bd-431c-4e94-978a-c561d814f54a","generationRunId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/ba3ec2ef-c611-44fd-9e58-cf3817509317/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/ba3ec2ef-c611-44fd-9e58-cf3817509317/enhanced_modern.pdf","session":"ba3ec2ef-c611-44fd-9e58-cf3817509317","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ba3ec2ef-c611-44fd-9e58-cf3817509317","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.420Z","level":"info","message":"pdf_generation_attempt","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","jobId":"3194f3bd-431c-4e94-978a-c561d814f54a","generationRunId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/ba3ec2ef-c611-44fd-9e58-cf3817509317/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/ba3ec2ef-c611-44fd-9e58-cf3817509317/enhanced_professional.pdf","session":"ba3ec2ef-c611-44fd-9e58-cf3817509317","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ba3ec2ef-c611-44fd-9e58-cf3817509317","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.421Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","jobId":"3194f3bd-431c-4e94-978a-c561d814f54a","generationRunId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/ba3ec2ef-c611-44fd-9e58-cf3817509317/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"ba3ec2ef-c611-44fd-9e58-cf3817509317","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ba3ec2ef-c611-44fd-9e58-cf3817509317","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.421Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","jobId":"3194f3bd-431c-4e94-978a-c561d814f54a","generationRunId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/ba3ec2ef-c611-44fd-9e58-cf3817509317/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/ba3ec2ef-c611-44fd-9e58-cf3817509317/enhanced_professional.pdf","session":"ba3ec2ef-c611-44fd-9e58-cf3817509317","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ba3ec2ef-c611-44fd-9e58-cf3817509317","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.422Z","level":"info","message":"pdf_generation_attempt","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","jobId":"3194f3bd-431c-4e94-978a-c561d814f54a","generationRunId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/ba3ec2ef-c611-44fd-9e58-cf3817509317/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/ba3ec2ef-c611-44fd-9e58-cf3817509317/cover_letter_cover_modern.pdf","session":"ba3ec2ef-c611-44fd-9e58-cf3817509317","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ba3ec2ef-c611-44fd-9e58-cf3817509317","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.422Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","jobId":"3194f3bd-431c-4e94-978a-c561d814f54a","generationRunId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/ba3ec2ef-c611-44fd-9e58-cf3817509317/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"ba3ec2ef-c611-44fd-9e58-cf3817509317","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ba3ec2ef-c611-44fd-9e58-cf3817509317","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.422Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","jobId":"3194f3bd-431c-4e94-978a-c561d814f54a","generationRunId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/ba3ec2ef-c611-44fd-9e58-cf3817509317/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/ba3ec2ef-c611-44fd-9e58-cf3817509317/cover_letter_cover_modern.pdf","session":"ba3ec2ef-c611-44fd-9e58-cf3817509317","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ba3ec2ef-c611-44fd-9e58-cf3817509317","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.423Z","level":"info","message":"pdf_generation_attempt","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","jobId":"3194f3bd-431c-4e94-978a-c561d814f54a","generationRunId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/ba3ec2ef-c611-44fd-9e58-cf3817509317/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/ba3ec2ef-c611-44fd-9e58-cf3817509317/cover_letter_cover_professional.pdf","session":"ba3ec2ef-c611-44fd-9e58-cf3817509317","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ba3ec2ef-c611-44fd-9e58-cf3817509317","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.423Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","jobId":"3194f3bd-431c-4e94-978a-c561d814f54a","generationRunId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/ba3ec2ef-c611-44fd-9e58-cf3817509317/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"ba3ec2ef-c611-44fd-9e58-cf3817509317","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ba3ec2ef-c611-44fd-9e58-cf3817509317","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.424Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","jobId":"3194f3bd-431c-4e94-978a-c561d814f54a","generationRunId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/ba3ec2ef-c611-44fd-9e58-cf3817509317/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/ba3ec2ef-c611-44fd-9e58-cf3817509317/cover_letter_cover_professional.pdf","session":"ba3ec2ef-c611-44fd-9e58-cf3817509317","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ba3ec2ef-c611-44fd-9e58-cf3817509317","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.427Z","level":"info","message":"llm_call_metrics","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"ba3ec2ef-c611-44fd-9e58-cf3817509317","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"ba3ec2ef-c611-44fd-9e58-cf3817509317","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.427Z","level":"info","message":"generation_completed","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","jobId":"3194f3bd-431c-4e94-978a-c561d814f54a","generationRunId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","enhancedScore":80,"outputs":5,"template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.428Z","level":"info","message":"placeholder_record_deleted","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","jobId":"3194f3bd-431c-4e94-978a-c561d814f54a","placeholderIdentifier":"ba3ec2ef-c611-44fd-9e58-cf3817509317","template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3194f3bd-431c-4e94-978a-c561d814f54a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.429Z","level":"info","message":"http_request_completed","requestId":"ba3ec2ef-c611-44fd-9e58-cf3817509317","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":59,"contentLength":"58133","template":"unknown","session":"ba3ec2ef-c611-44fd-9e58-cf3817509317","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ba3ec2ef-c611-44fd-9e58-cf3817509317","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.433Z","level":"info","message":"http_request_received","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","method":"POST","path":"/api/process-cv","template":"unknown","session":"80f03d53-6eff-46fc-bc30-5e852fd6d630","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"80f03d53-6eff-46fc-bc30-5e852fd6d630","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.434Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.435Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.436Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.438Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.439Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/80f03d53-6eff-46fc-bc30-5e852fd6d630/incoming/original.pdf","chunks":1,"timestamp":1764854501441}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/80f03d53-6eff-46fc-bc30-5e852fd6d630/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/80f03d53-6eff-46fc-bc30-5e852fd6d630/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:21:41.443Z","level":"info","message":"process_cv_started","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","jobId":"570555f5-13d4-4eed-9df9-ea1803a8aed6","manualJobDescriptionProvided":true,"template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.444Z","level":"info","message":"template_selection","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","jobId":"570555f5-13d4-4eed-9df9-ea1803a8aed6","template1":"classic","template2":"ats","coverTemplate1":"cover_classic","coverTemplate2":"cover_ats","availableCvTemplates":["classic","ats","modern","professional","2025"],"availableCoverTemplates":["cover_classic","cover_ats","cover_modern","cover_professional","cover_2025"],"template":"classic","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:41.444Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","jobId":"570555f5-13d4-4eed-9df9-ea1803a8aed6","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:21:41.450Z","level":"info","message":"initial_upload_completed","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","jobId":"570555f5-13d4-4eed-9df9-ea1803a8aed6","bucket":"test-bucket","key":"cv/candidate/80f03d53-6eff-46fc-bc30-5e852fd6d630/incoming/original.pdf","template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.450Z","level":"info","message":"resume_text_extracted","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","jobId":"570555f5-13d4-4eed-9df9-ea1803a8aed6","characters":57,"template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.451Z","level":"info","message":"resume_classified","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","jobId":"570555f5-13d4-4eed-9df9-ea1803a8aed6","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.451Z","level":"info","message":"raw_upload_relocated","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","jobId":"570555f5-13d4-4eed-9df9-ea1803a8aed6","bucket":"test-bucket","fromKey":"cv/candidate/80f03d53-6eff-46fc-bc30-5e852fd6d630/incoming/original.pdf","toKey":"cv/professional_summary/80f03d53-6eff-46fc-bc30-5e852fd6d630/original.pdf","template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.451Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","jobId":"570555f5-13d4-4eed-9df9-ea1803a8aed6","bucket":"test-bucket","key":"cv/professional_summary/80f03d53-6eff-46fc-bc30-5e852fd6d630/original.pdf","template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.453Z","level":"info","message":"dynamo_initial_record_written","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","jobId":"570555f5-13d4-4eed-9df9-ea1803a8aed6","bucket":"test-bucket","key":"cv/professional_summary/80f03d53-6eff-46fc-bc30-5e852fd6d630/original.pdf","template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.454Z","level":"info","message":"upload_metadata_written","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","jobId":"570555f5-13d4-4eed-9df9-ea1803a8aed6","bucket":"test-bucket","key":"cv/professional_summary/80f03d53-6eff-46fc-bc30-5e852fd6d630/logs/log.json","template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.454Z","level":"info","message":"job_description_supplied_manually","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","jobId":"570555f5-13d4-4eed-9df9-ea1803a8aed6","characters":174,"template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.455Z","level":"info","message":"job_description_analyzed","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","jobId":"570555f5-13d4-4eed-9df9-ea1803a8aed6","jobTitle":"","jobSkills":5,"template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.455Z","level":"info","message":"resume_skills_analyzed","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","jobId":"570555f5-13d4-4eed-9df9-ea1803a8aed6","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.456Z","level":"info","message":"llm_call_metrics","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"80f03d53-6eff-46fc-bc30-5e852fd6d630","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"80f03d53-6eff-46fc-bc30-5e852fd6d630","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.456Z","level":"info","message":"process_cv_scoring_completed","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","jobId":"570555f5-13d4-4eed-9df9-ea1803a8aed6","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.458Z","level":"info","message":"llm_call_metrics","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"80f03d53-6eff-46fc-bc30-5e852fd6d630","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"80f03d53-6eff-46fc-bc30-5e852fd6d630","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.459Z","level":"info","message":"generation_section_rewrite_completed","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","jobId":"570555f5-13d4-4eed-9df9-ea1803a8aed6","generationRunId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.459Z","level":"info","message":"llm_call_metrics","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"80f03d53-6eff-46fc-bc30-5e852fd6d630","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"80f03d53-6eff-46fc-bc30-5e852fd6d630","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.461Z","level":"info","message":"generation_resume_verified","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","jobId":"570555f5-13d4-4eed-9df9-ea1803a8aed6","generationRunId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:41.464Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","jobId":"570555f5-13d4-4eed-9df9-ea1803a8aed6","generationRunId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:41.469Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","jobId":"570555f5-13d4-4eed-9df9-ea1803a8aed6","generationRunId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:41.476Z","level":"info","message":"generation_cover_letters_completed","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","jobId":"570555f5-13d4-4eed-9df9-ea1803a8aed6","generationRunId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","variants":2,"fallbackApplied":true,"template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.476Z","level":"info","message":"pdf_generation_attempt","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","jobId":"570555f5-13d4-4eed-9df9-ea1803a8aed6","generationRunId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/80f03d53-6eff-46fc-bc30-5e852fd6d630/","sessionId":"[REDACTED]","template":"classic","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/80f03d53-6eff-46fc-bc30-5e852fd6d630/enhanced_classic.pdf","session":"80f03d53-6eff-46fc-bc30-5e852fd6d630","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"80f03d53-6eff-46fc-bc30-5e852fd6d630","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.477Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","jobId":"570555f5-13d4-4eed-9df9-ea1803a8aed6","generationRunId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/80f03d53-6eff-46fc-bc30-5e852fd6d630/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"80f03d53-6eff-46fc-bc30-5e852fd6d630","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"80f03d53-6eff-46fc-bc30-5e852fd6d630","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.477Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","jobId":"570555f5-13d4-4eed-9df9-ea1803a8aed6","generationRunId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/80f03d53-6eff-46fc-bc30-5e852fd6d630/","sessionId":"[REDACTED]","template":"classic","attempt":1,"bytes":3,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/80f03d53-6eff-46fc-bc30-5e852fd6d630/enhanced_classic.pdf","session":"80f03d53-6eff-46fc-bc30-5e852fd6d630","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"80f03d53-6eff-46fc-bc30-5e852fd6d630","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.478Z","level":"info","message":"pdf_generation_attempt","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","jobId":"570555f5-13d4-4eed-9df9-ea1803a8aed6","generationRunId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/80f03d53-6eff-46fc-bc30-5e852fd6d630/","sessionId":"[REDACTED]","template":"ats","attempt":1,"totalAttempts":1,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/80f03d53-6eff-46fc-bc30-5e852fd6d630/enhanced_ats.pdf","session":"80f03d53-6eff-46fc-bc30-5e852fd6d630","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"80f03d53-6eff-46fc-bc30-5e852fd6d630","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.478Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","jobId":"570555f5-13d4-4eed-9df9-ea1803a8aed6","generationRunId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/80f03d53-6eff-46fc-bc30-5e852fd6d630/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":["mode","atsMode"],"session":"80f03d53-6eff-46fc-bc30-5e852fd6d630","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"80f03d53-6eff-46fc-bc30-5e852fd6d630","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.479Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","jobId":"570555f5-13d4-4eed-9df9-ea1803a8aed6","generationRunId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/80f03d53-6eff-46fc-bc30-5e852fd6d630/","sessionId":"[REDACTED]","template":"ats","attempt":1,"bytes":3,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/80f03d53-6eff-46fc-bc30-5e852fd6d630/enhanced_ats.pdf","session":"80f03d53-6eff-46fc-bc30-5e852fd6d630","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"80f03d53-6eff-46fc-bc30-5e852fd6d630","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.479Z","level":"info","message":"pdf_generation_attempt","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","jobId":"570555f5-13d4-4eed-9df9-ea1803a8aed6","generationRunId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/80f03d53-6eff-46fc-bc30-5e852fd6d630/","sessionId":"[REDACTED]","template":"cover_classic","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/80f03d53-6eff-46fc-bc30-5e852fd6d630/cover_letter_cover_classic.pdf","session":"80f03d53-6eff-46fc-bc30-5e852fd6d630","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"80f03d53-6eff-46fc-bc30-5e852fd6d630","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.480Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","jobId":"570555f5-13d4-4eed-9df9-ea1803a8aed6","generationRunId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/80f03d53-6eff-46fc-bc30-5e852fd6d630/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"80f03d53-6eff-46fc-bc30-5e852fd6d630","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"80f03d53-6eff-46fc-bc30-5e852fd6d630","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.480Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","jobId":"570555f5-13d4-4eed-9df9-ea1803a8aed6","generationRunId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/80f03d53-6eff-46fc-bc30-5e852fd6d630/","sessionId":"[REDACTED]","template":"cover_classic","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/80f03d53-6eff-46fc-bc30-5e852fd6d630/cover_letter_cover_classic.pdf","session":"80f03d53-6eff-46fc-bc30-5e852fd6d630","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"80f03d53-6eff-46fc-bc30-5e852fd6d630","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.480Z","level":"info","message":"pdf_generation_attempt","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","jobId":"570555f5-13d4-4eed-9df9-ea1803a8aed6","generationRunId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/80f03d53-6eff-46fc-bc30-5e852fd6d630/","sessionId":"[REDACTED]","template":"cover_ats","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/80f03d53-6eff-46fc-bc30-5e852fd6d630/cover_letter_cover_ats.pdf","session":"80f03d53-6eff-46fc-bc30-5e852fd6d630","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"80f03d53-6eff-46fc-bc30-5e852fd6d630","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.481Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","jobId":"570555f5-13d4-4eed-9df9-ea1803a8aed6","generationRunId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/80f03d53-6eff-46fc-bc30-5e852fd6d630/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"80f03d53-6eff-46fc-bc30-5e852fd6d630","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"80f03d53-6eff-46fc-bc30-5e852fd6d630","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.481Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","jobId":"570555f5-13d4-4eed-9df9-ea1803a8aed6","generationRunId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/80f03d53-6eff-46fc-bc30-5e852fd6d630/","sessionId":"[REDACTED]","template":"cover_ats","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/80f03d53-6eff-46fc-bc30-5e852fd6d630/cover_letter_cover_ats.pdf","session":"80f03d53-6eff-46fc-bc30-5e852fd6d630","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"80f03d53-6eff-46fc-bc30-5e852fd6d630","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.483Z","level":"info","message":"llm_call_metrics","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"80f03d53-6eff-46fc-bc30-5e852fd6d630","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"80f03d53-6eff-46fc-bc30-5e852fd6d630","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.484Z","level":"info","message":"generation_completed","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","jobId":"570555f5-13d4-4eed-9df9-ea1803a8aed6","generationRunId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","enhancedScore":80,"outputs":5,"template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.485Z","level":"info","message":"placeholder_record_deleted","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","jobId":"570555f5-13d4-4eed-9df9-ea1803a8aed6","placeholderIdentifier":"80f03d53-6eff-46fc-bc30-5e852fd6d630","template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"570555f5-13d4-4eed-9df9-ea1803a8aed6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.486Z","level":"info","message":"http_request_completed","requestId":"80f03d53-6eff-46fc-bc30-5e852fd6d630","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":53,"contentLength":"57992","template":"unknown","session":"80f03d53-6eff-46fc-bc30-5e852fd6d630","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"80f03d53-6eff-46fc-bc30-5e852fd6d630","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.489Z","level":"info","message":"http_request_received","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","method":"POST","path":"/api/process-cv","template":"unknown","session":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.489Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.491Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.492Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.493Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.495Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/71373a9d-4c94-4a4e-bd7d-abe6058125a2/incoming/original.pdf","chunks":1,"timestamp":1764854501497}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/71373a9d-4c94-4a4e-bd7d-abe6058125a2/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/71373a9d-4c94-4a4e-bd7d-abe6058125a2/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:21:41.498Z","level":"info","message":"process_cv_started","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","jobId":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","manualJobDescriptionProvided":true,"template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.499Z","level":"info","message":"template_selection","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","jobId":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:41.499Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","jobId":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:21:41.505Z","level":"info","message":"initial_upload_completed","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","jobId":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","bucket":"test-bucket","key":"cv/candidate/71373a9d-4c94-4a4e-bd7d-abe6058125a2/incoming/original.pdf","template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.505Z","level":"info","message":"resume_text_extracted","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","jobId":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","characters":57,"template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.506Z","level":"info","message":"resume_classified","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","jobId":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.506Z","level":"info","message":"raw_upload_relocated","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","jobId":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","bucket":"test-bucket","fromKey":"cv/candidate/71373a9d-4c94-4a4e-bd7d-abe6058125a2/incoming/original.pdf","toKey":"cv/professional_summary/71373a9d-4c94-4a4e-bd7d-abe6058125a2/original.pdf","template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.506Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","jobId":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","bucket":"test-bucket","key":"cv/professional_summary/71373a9d-4c94-4a4e-bd7d-abe6058125a2/original.pdf","template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.507Z","level":"info","message":"dynamo_initial_record_written","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","jobId":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","bucket":"test-bucket","key":"cv/professional_summary/71373a9d-4c94-4a4e-bd7d-abe6058125a2/original.pdf","template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.507Z","level":"info","message":"upload_metadata_written","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","jobId":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","bucket":"test-bucket","key":"cv/professional_summary/71373a9d-4c94-4a4e-bd7d-abe6058125a2/logs/log.json","template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.507Z","level":"info","message":"job_description_supplied_manually","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","jobId":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","characters":174,"template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.508Z","level":"info","message":"job_description_analyzed","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","jobId":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","jobTitle":"","jobSkills":5,"template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.508Z","level":"info","message":"resume_skills_analyzed","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","jobId":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.509Z","level":"info","message":"llm_call_metrics","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.509Z","level":"info","message":"process_cv_scoring_completed","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","jobId":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.513Z","level":"info","message":"llm_call_metrics","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"02d97c4de2dc6045a8d84c10e35b0b09be1fff3da32b47fa5d4c293317deef58","addedSkillCount":0,"template":"resume_rewrite","session":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.513Z","level":"info","message":"generation_section_rewrite_completed","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","jobId":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","generationRunId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","modifiedTitle":"Lead Engineer","addedSkills":0,"template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.514Z","level":"info","message":"llm_call_metrics","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"3cb5bda2be537250e5bef0d91034f772d9c2c805c99b7e04ba145ecb904d5893","skillCount":5,"template":"project_summary","session":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.517Z","level":"info","message":"generation_resume_verified","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","jobId":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","generationRunId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:41.521Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","jobId":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","generationRunId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:41.527Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","jobId":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","generationRunId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:41.532Z","level":"info","message":"generation_cover_letters_completed","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","jobId":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","generationRunId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","variants":2,"fallbackApplied":true,"template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.533Z","level":"info","message":"pdf_generation_attempt","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","jobId":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","generationRunId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/71373a9d-4c94-4a4e-bd7d-abe6058125a2/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/71373a9d-4c94-4a4e-bd7d-abe6058125a2/enhanced_modern.pdf","session":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.533Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","jobId":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","generationRunId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/71373a9d-4c94-4a4e-bd7d-abe6058125a2/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.534Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","jobId":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","generationRunId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/71373a9d-4c94-4a4e-bd7d-abe6058125a2/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/71373a9d-4c94-4a4e-bd7d-abe6058125a2/enhanced_modern.pdf","session":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.534Z","level":"info","message":"pdf_generation_attempt","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","jobId":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","generationRunId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/71373a9d-4c94-4a4e-bd7d-abe6058125a2/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/71373a9d-4c94-4a4e-bd7d-abe6058125a2/enhanced_professional.pdf","session":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.534Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","jobId":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","generationRunId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/71373a9d-4c94-4a4e-bd7d-abe6058125a2/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.535Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","jobId":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","generationRunId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/71373a9d-4c94-4a4e-bd7d-abe6058125a2/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/71373a9d-4c94-4a4e-bd7d-abe6058125a2/enhanced_professional.pdf","session":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.535Z","level":"info","message":"pdf_generation_attempt","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","jobId":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","generationRunId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/71373a9d-4c94-4a4e-bd7d-abe6058125a2/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/71373a9d-4c94-4a4e-bd7d-abe6058125a2/cover_letter_cover_modern.pdf","session":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.536Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","jobId":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","generationRunId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/71373a9d-4c94-4a4e-bd7d-abe6058125a2/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.536Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","jobId":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","generationRunId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/71373a9d-4c94-4a4e-bd7d-abe6058125a2/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/71373a9d-4c94-4a4e-bd7d-abe6058125a2/cover_letter_cover_modern.pdf","session":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.537Z","level":"info","message":"pdf_generation_attempt","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","jobId":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","generationRunId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/71373a9d-4c94-4a4e-bd7d-abe6058125a2/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/71373a9d-4c94-4a4e-bd7d-abe6058125a2/cover_letter_cover_professional.pdf","session":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.537Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","jobId":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","generationRunId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/71373a9d-4c94-4a4e-bd7d-abe6058125a2/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.538Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","jobId":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","generationRunId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/71373a9d-4c94-4a4e-bd7d-abe6058125a2/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/71373a9d-4c94-4a4e-bd7d-abe6058125a2/cover_letter_cover_professional.pdf","session":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.540Z","level":"info","message":"llm_call_metrics","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"aebf306d7fe64238aa9b05fc3798c6e6698d8708e05d8dd31d0cadc8f2f74f38","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.540Z","level":"info","message":"generation_completed","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","jobId":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","generationRunId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","enhancedScore":80,"outputs":5,"template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.541Z","level":"info","message":"placeholder_record_deleted","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","jobId":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","placeholderIdentifier":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3e34d91-1853-49a9-9f9a-9a953ebbae88","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.542Z","level":"info","message":"http_request_completed","requestId":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":53,"contentLength":"59354","template":"unknown","session":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"71373a9d-4c94-4a4e-bd7d-abe6058125a2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.545Z","level":"info","message":"http_request_received","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","method":"POST","path":"/api/process-cv","template":"unknown","session":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.546Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.547Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.549Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.550Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.552Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/7aec6d78-3f72-49ad-9d46-05a91c357a0e/incoming/original.pdf","chunks":1,"timestamp":1764854501554}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/7aec6d78-3f72-49ad-9d46-05a91c357a0e/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/7aec6d78-3f72-49ad-9d46-05a91c357a0e/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:21:41.555Z","level":"info","message":"process_cv_started","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","jobId":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","manualJobDescriptionProvided":true,"template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.556Z","level":"info","message":"template_selection","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","jobId":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:41.557Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","jobId":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:21:41.563Z","level":"info","message":"initial_upload_completed","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","jobId":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","bucket":"test-bucket","key":"cv/candidate/7aec6d78-3f72-49ad-9d46-05a91c357a0e/incoming/original.pdf","template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.564Z","level":"info","message":"resume_text_extracted","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","jobId":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","characters":57,"template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.564Z","level":"info","message":"resume_classified","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","jobId":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.564Z","level":"info","message":"raw_upload_relocated","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","jobId":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","bucket":"test-bucket","fromKey":"cv/candidate/7aec6d78-3f72-49ad-9d46-05a91c357a0e/incoming/original.pdf","toKey":"cv/professional_summary/7aec6d78-3f72-49ad-9d46-05a91c357a0e/original.pdf","template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.565Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","jobId":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","bucket":"test-bucket","key":"cv/professional_summary/7aec6d78-3f72-49ad-9d46-05a91c357a0e/original.pdf","template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.565Z","level":"info","message":"dynamo_initial_record_written","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","jobId":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","bucket":"test-bucket","key":"cv/professional_summary/7aec6d78-3f72-49ad-9d46-05a91c357a0e/original.pdf","template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.565Z","level":"info","message":"upload_metadata_written","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","jobId":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","bucket":"test-bucket","key":"cv/professional_summary/7aec6d78-3f72-49ad-9d46-05a91c357a0e/logs/log.json","template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.566Z","level":"info","message":"job_description_supplied_manually","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","jobId":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","characters":174,"template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.566Z","level":"info","message":"job_description_analyzed","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","jobId":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","jobTitle":"","jobSkills":5,"template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.567Z","level":"info","message":"resume_skills_analyzed","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","jobId":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.567Z","level":"info","message":"llm_call_metrics","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.568Z","level":"info","message":"process_cv_scoring_completed","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","jobId":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.570Z","level":"info","message":"llm_call_metrics","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.570Z","level":"info","message":"generation_section_rewrite_completed","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","jobId":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","generationRunId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.571Z","level":"info","message":"llm_call_metrics","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"9f21e6c3bcbaef44e0e62da79c13bb8790b57affdb114dc9f59fc273f882540c","skillCount":5,"template":"project_summary","session":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.573Z","level":"info","message":"generation_resume_verified","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","jobId":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","generationRunId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:41.577Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","jobId":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","generationRunId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:41.583Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","jobId":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","generationRunId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:41.588Z","level":"info","message":"generation_cover_letters_completed","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","jobId":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","generationRunId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","variants":2,"fallbackApplied":true,"template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.589Z","level":"info","message":"pdf_generation_attempt","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","jobId":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","generationRunId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7aec6d78-3f72-49ad-9d46-05a91c357a0e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/7aec6d78-3f72-49ad-9d46-05a91c357a0e/enhanced_modern.pdf","session":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.589Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","jobId":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","generationRunId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7aec6d78-3f72-49ad-9d46-05a91c357a0e/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.589Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","jobId":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","generationRunId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7aec6d78-3f72-49ad-9d46-05a91c357a0e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/7aec6d78-3f72-49ad-9d46-05a91c357a0e/enhanced_modern.pdf","session":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.590Z","level":"info","message":"pdf_generation_attempt","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","jobId":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","generationRunId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7aec6d78-3f72-49ad-9d46-05a91c357a0e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/7aec6d78-3f72-49ad-9d46-05a91c357a0e/enhanced_professional.pdf","session":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.590Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","jobId":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","generationRunId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7aec6d78-3f72-49ad-9d46-05a91c357a0e/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.591Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","jobId":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","generationRunId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7aec6d78-3f72-49ad-9d46-05a91c357a0e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/7aec6d78-3f72-49ad-9d46-05a91c357a0e/enhanced_professional.pdf","session":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.591Z","level":"info","message":"pdf_generation_attempt","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","jobId":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","generationRunId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7aec6d78-3f72-49ad-9d46-05a91c357a0e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/7aec6d78-3f72-49ad-9d46-05a91c357a0e/cover_letter_cover_modern.pdf","session":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.591Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","jobId":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","generationRunId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7aec6d78-3f72-49ad-9d46-05a91c357a0e/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.592Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","jobId":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","generationRunId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7aec6d78-3f72-49ad-9d46-05a91c357a0e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/7aec6d78-3f72-49ad-9d46-05a91c357a0e/cover_letter_cover_modern.pdf","session":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.592Z","level":"info","message":"pdf_generation_attempt","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","jobId":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","generationRunId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7aec6d78-3f72-49ad-9d46-05a91c357a0e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/7aec6d78-3f72-49ad-9d46-05a91c357a0e/cover_letter_cover_professional.pdf","session":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.593Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","jobId":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","generationRunId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7aec6d78-3f72-49ad-9d46-05a91c357a0e/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.593Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","jobId":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","generationRunId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7aec6d78-3f72-49ad-9d46-05a91c357a0e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/7aec6d78-3f72-49ad-9d46-05a91c357a0e/cover_letter_cover_professional.pdf","session":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.595Z","level":"info","message":"llm_call_metrics","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.596Z","level":"info","message":"generation_completed","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","jobId":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","generationRunId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","enhancedScore":80,"outputs":5,"template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.597Z","level":"info","message":"placeholder_record_deleted","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","jobId":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","placeholderIdentifier":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8238fcd-4958-433b-9be1-bd3ca2764b9a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.598Z","level":"info","message":"http_request_completed","requestId":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":53,"contentLength":"57968","template":"unknown","session":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7aec6d78-3f72-49ad-9d46-05a91c357a0e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.601Z","level":"info","message":"http_request_received","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","method":"POST","path":"/api/process-cv","template":"unknown","session":"f1b91a63-57da-4095-bf09-ccea56e38f95","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1b91a63-57da-4095-bf09-ccea56e38f95","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.602Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.603Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.604Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.606Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.607Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/f1b91a63-57da-4095-bf09-ccea56e38f95/incoming/original.pdf","chunks":1,"timestamp":1764854501609}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/f1b91a63-57da-4095-bf09-ccea56e38f95/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/f1b91a63-57da-4095-bf09-ccea56e38f95/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:21:41.610Z","level":"info","message":"process_cv_started","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","jobId":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","manualJobDescriptionProvided":true,"template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.611Z","level":"info","message":"template_selection","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","jobId":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:41.611Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","jobId":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:21:41.617Z","level":"info","message":"initial_upload_completed","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","jobId":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","bucket":"test-bucket","key":"cv/candidate/f1b91a63-57da-4095-bf09-ccea56e38f95/incoming/original.pdf","template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.617Z","level":"info","message":"resume_text_extracted","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","jobId":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","characters":57,"template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.618Z","level":"info","message":"resume_classified","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","jobId":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.618Z","level":"info","message":"raw_upload_relocated","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","jobId":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","bucket":"test-bucket","fromKey":"cv/candidate/f1b91a63-57da-4095-bf09-ccea56e38f95/incoming/original.pdf","toKey":"cv/professional_summary/f1b91a63-57da-4095-bf09-ccea56e38f95/original.pdf","template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.618Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","jobId":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","bucket":"test-bucket","key":"cv/professional_summary/f1b91a63-57da-4095-bf09-ccea56e38f95/original.pdf","template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.619Z","level":"info","message":"dynamo_initial_record_written","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","jobId":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","bucket":"test-bucket","key":"cv/professional_summary/f1b91a63-57da-4095-bf09-ccea56e38f95/original.pdf","template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.619Z","level":"info","message":"upload_metadata_written","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","jobId":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","bucket":"test-bucket","key":"cv/professional_summary/f1b91a63-57da-4095-bf09-ccea56e38f95/logs/log.json","template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.619Z","level":"info","message":"job_description_supplied_manually","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","jobId":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","characters":174,"template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.620Z","level":"info","message":"job_description_analyzed","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","jobId":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","jobTitle":"","jobSkills":5,"template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.620Z","level":"info","message":"resume_skills_analyzed","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","jobId":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.621Z","level":"info","message":"llm_call_metrics","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"f1b91a63-57da-4095-bf09-ccea56e38f95","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f1b91a63-57da-4095-bf09-ccea56e38f95","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.621Z","level":"info","message":"process_cv_scoring_completed","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","jobId":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.623Z","level":"info","message":"llm_call_metrics","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"c32b748981f4e178814e257598e9097dabf82d48f753e111da0149a2ea5fd9aa","addedSkillCount":0,"template":"resume_rewrite","session":"f1b91a63-57da-4095-bf09-ccea56e38f95","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"f1b91a63-57da-4095-bf09-ccea56e38f95","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.624Z","level":"info","message":"generation_section_rewrite_completed","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","jobId":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","generationRunId":"f1b91a63-57da-4095-bf09-ccea56e38f95","modifiedTitle":"Name","addedSkills":0,"template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.624Z","level":"info","message":"llm_call_metrics","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"78ddb280a2cb83c23c85b1035eed8b3d5fbcd26529ae4529d14b4e3768cf61d3","skillCount":5,"template":"project_summary","session":"f1b91a63-57da-4095-bf09-ccea56e38f95","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"f1b91a63-57da-4095-bf09-ccea56e38f95","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.626Z","level":"info","message":"generation_resume_verified","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","jobId":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","generationRunId":"f1b91a63-57da-4095-bf09-ccea56e38f95","template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:41.629Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","jobId":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","generationRunId":"f1b91a63-57da-4095-bf09-ccea56e38f95","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:41.635Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","jobId":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","generationRunId":"f1b91a63-57da-4095-bf09-ccea56e38f95","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:41.642Z","level":"info","message":"generation_cover_letters_completed","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","jobId":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","generationRunId":"f1b91a63-57da-4095-bf09-ccea56e38f95","variants":2,"fallbackApplied":true,"template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.642Z","level":"info","message":"pdf_generation_attempt","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","jobId":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","generationRunId":"f1b91a63-57da-4095-bf09-ccea56e38f95","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f1b91a63-57da-4095-bf09-ccea56e38f95/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f1b91a63-57da-4095-bf09-ccea56e38f95/enhanced_modern.pdf","session":"f1b91a63-57da-4095-bf09-ccea56e38f95","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f1b91a63-57da-4095-bf09-ccea56e38f95","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.643Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","jobId":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","generationRunId":"f1b91a63-57da-4095-bf09-ccea56e38f95","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f1b91a63-57da-4095-bf09-ccea56e38f95/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f1b91a63-57da-4095-bf09-ccea56e38f95","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f1b91a63-57da-4095-bf09-ccea56e38f95","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.643Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","jobId":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","generationRunId":"f1b91a63-57da-4095-bf09-ccea56e38f95","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f1b91a63-57da-4095-bf09-ccea56e38f95/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f1b91a63-57da-4095-bf09-ccea56e38f95/enhanced_modern.pdf","session":"f1b91a63-57da-4095-bf09-ccea56e38f95","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f1b91a63-57da-4095-bf09-ccea56e38f95","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.644Z","level":"info","message":"pdf_generation_attempt","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","jobId":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","generationRunId":"f1b91a63-57da-4095-bf09-ccea56e38f95","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f1b91a63-57da-4095-bf09-ccea56e38f95/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f1b91a63-57da-4095-bf09-ccea56e38f95/enhanced_professional.pdf","session":"f1b91a63-57da-4095-bf09-ccea56e38f95","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f1b91a63-57da-4095-bf09-ccea56e38f95","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.644Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","jobId":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","generationRunId":"f1b91a63-57da-4095-bf09-ccea56e38f95","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f1b91a63-57da-4095-bf09-ccea56e38f95/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f1b91a63-57da-4095-bf09-ccea56e38f95","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f1b91a63-57da-4095-bf09-ccea56e38f95","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.644Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","jobId":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","generationRunId":"f1b91a63-57da-4095-bf09-ccea56e38f95","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f1b91a63-57da-4095-bf09-ccea56e38f95/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f1b91a63-57da-4095-bf09-ccea56e38f95/enhanced_professional.pdf","session":"f1b91a63-57da-4095-bf09-ccea56e38f95","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f1b91a63-57da-4095-bf09-ccea56e38f95","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.645Z","level":"info","message":"pdf_generation_attempt","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","jobId":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","generationRunId":"f1b91a63-57da-4095-bf09-ccea56e38f95","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f1b91a63-57da-4095-bf09-ccea56e38f95/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f1b91a63-57da-4095-bf09-ccea56e38f95/cover_letter_cover_modern.pdf","session":"f1b91a63-57da-4095-bf09-ccea56e38f95","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f1b91a63-57da-4095-bf09-ccea56e38f95","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.645Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","jobId":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","generationRunId":"f1b91a63-57da-4095-bf09-ccea56e38f95","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f1b91a63-57da-4095-bf09-ccea56e38f95/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f1b91a63-57da-4095-bf09-ccea56e38f95","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f1b91a63-57da-4095-bf09-ccea56e38f95","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.646Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","jobId":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","generationRunId":"f1b91a63-57da-4095-bf09-ccea56e38f95","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f1b91a63-57da-4095-bf09-ccea56e38f95/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f1b91a63-57da-4095-bf09-ccea56e38f95/cover_letter_cover_modern.pdf","session":"f1b91a63-57da-4095-bf09-ccea56e38f95","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f1b91a63-57da-4095-bf09-ccea56e38f95","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.646Z","level":"info","message":"pdf_generation_attempt","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","jobId":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","generationRunId":"f1b91a63-57da-4095-bf09-ccea56e38f95","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f1b91a63-57da-4095-bf09-ccea56e38f95/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f1b91a63-57da-4095-bf09-ccea56e38f95/cover_letter_cover_professional.pdf","session":"f1b91a63-57da-4095-bf09-ccea56e38f95","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f1b91a63-57da-4095-bf09-ccea56e38f95","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.647Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","jobId":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","generationRunId":"f1b91a63-57da-4095-bf09-ccea56e38f95","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f1b91a63-57da-4095-bf09-ccea56e38f95/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f1b91a63-57da-4095-bf09-ccea56e38f95","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f1b91a63-57da-4095-bf09-ccea56e38f95","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.647Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","jobId":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","generationRunId":"f1b91a63-57da-4095-bf09-ccea56e38f95","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f1b91a63-57da-4095-bf09-ccea56e38f95/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f1b91a63-57da-4095-bf09-ccea56e38f95/cover_letter_cover_professional.pdf","session":"f1b91a63-57da-4095-bf09-ccea56e38f95","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f1b91a63-57da-4095-bf09-ccea56e38f95","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.649Z","level":"info","message":"llm_call_metrics","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"f00232cc4d88fb824e148aeaa761067d77604cbc2577582275a91ed208cbe5af","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"f1b91a63-57da-4095-bf09-ccea56e38f95","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f1b91a63-57da-4095-bf09-ccea56e38f95","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.650Z","level":"info","message":"generation_completed","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","jobId":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","generationRunId":"f1b91a63-57da-4095-bf09-ccea56e38f95","enhancedScore":80,"outputs":5,"template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.652Z","level":"info","message":"placeholder_record_deleted","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","jobId":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","placeholderIdentifier":"f1b91a63-57da-4095-bf09-ccea56e38f95","template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3adf386-11e2-4b6e-bafd-b0b3bb503bc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.653Z","level":"info","message":"http_request_completed","requestId":"f1b91a63-57da-4095-bf09-ccea56e38f95","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":52,"contentLength":"59302","template":"unknown","session":"f1b91a63-57da-4095-bf09-ccea56e38f95","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1b91a63-57da-4095-bf09-ccea56e38f95","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.655Z","level":"info","message":"http_request_received","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","method":"POST","path":"/api/process-cv","template":"unknown","session":"5210300c-1bd7-448b-a09b-e936668e23b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5210300c-1bd7-448b-a09b-e936668e23b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.656Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.657Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.658Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.659Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.661Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/5210300c-1bd7-448b-a09b-e936668e23b1/incoming/original.pdf","chunks":1,"timestamp":1764854501663}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/5210300c-1bd7-448b-a09b-e936668e23b1/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/5210300c-1bd7-448b-a09b-e936668e23b1/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:21:41.665Z","level":"info","message":"process_cv_started","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","jobId":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","manualJobDescriptionProvided":true,"template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.665Z","level":"info","message":"template_selection","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","jobId":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:41.666Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","jobId":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:21:41.671Z","level":"info","message":"initial_upload_completed","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","jobId":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","bucket":"test-bucket","key":"cv/candidate/5210300c-1bd7-448b-a09b-e936668e23b1/incoming/original.pdf","template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.672Z","level":"info","message":"resume_text_extracted","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","jobId":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","characters":57,"template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.672Z","level":"info","message":"resume_classified","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","jobId":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.672Z","level":"info","message":"raw_upload_relocated","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","jobId":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","bucket":"test-bucket","fromKey":"cv/candidate/5210300c-1bd7-448b-a09b-e936668e23b1/incoming/original.pdf","toKey":"cv/professional_summary/5210300c-1bd7-448b-a09b-e936668e23b1/original.pdf","template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.673Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","jobId":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","bucket":"test-bucket","key":"cv/professional_summary/5210300c-1bd7-448b-a09b-e936668e23b1/original.pdf","template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.673Z","level":"info","message":"dynamo_initial_record_written","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","jobId":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","bucket":"test-bucket","key":"cv/professional_summary/5210300c-1bd7-448b-a09b-e936668e23b1/original.pdf","template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.673Z","level":"info","message":"upload_metadata_written","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","jobId":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","bucket":"test-bucket","key":"cv/professional_summary/5210300c-1bd7-448b-a09b-e936668e23b1/logs/log.json","template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.673Z","level":"info","message":"job_description_supplied_manually","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","jobId":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","characters":174,"template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.674Z","level":"info","message":"job_description_analyzed","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","jobId":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","jobTitle":"","jobSkills":5,"template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.674Z","level":"info","message":"resume_skills_analyzed","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","jobId":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.675Z","level":"info","message":"llm_call_metrics","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"5210300c-1bd7-448b-a09b-e936668e23b1","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"5210300c-1bd7-448b-a09b-e936668e23b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.675Z","level":"info","message":"process_cv_scoring_completed","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","jobId":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.678Z","level":"info","message":"llm_call_metrics","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"c32b748981f4e178814e257598e9097dabf82d48f753e111da0149a2ea5fd9aa","addedSkillCount":0,"template":"resume_rewrite","session":"5210300c-1bd7-448b-a09b-e936668e23b1","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"5210300c-1bd7-448b-a09b-e936668e23b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.678Z","level":"info","message":"generation_section_rewrite_completed","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","jobId":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","generationRunId":"5210300c-1bd7-448b-a09b-e936668e23b1","modifiedTitle":"Name","addedSkills":0,"template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.678Z","level":"info","message":"llm_call_metrics","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"968eb1ed4b9ef5f26cd87ba7e60f108acaf8c335efc2ef153d4aaa0b022ea8c8","skillCount":5,"template":"project_summary","session":"5210300c-1bd7-448b-a09b-e936668e23b1","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"5210300c-1bd7-448b-a09b-e936668e23b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.682Z","level":"info","message":"generation_resume_verified","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","jobId":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","generationRunId":"5210300c-1bd7-448b-a09b-e936668e23b1","template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:41.684Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","jobId":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","generationRunId":"5210300c-1bd7-448b-a09b-e936668e23b1","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:41.690Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","jobId":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","generationRunId":"5210300c-1bd7-448b-a09b-e936668e23b1","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:41.695Z","level":"info","message":"generation_cover_letters_completed","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","jobId":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","generationRunId":"5210300c-1bd7-448b-a09b-e936668e23b1","variants":2,"fallbackApplied":true,"template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.696Z","level":"info","message":"pdf_generation_attempt","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","jobId":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","generationRunId":"5210300c-1bd7-448b-a09b-e936668e23b1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5210300c-1bd7-448b-a09b-e936668e23b1/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/5210300c-1bd7-448b-a09b-e936668e23b1/enhanced_modern.pdf","session":"5210300c-1bd7-448b-a09b-e936668e23b1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5210300c-1bd7-448b-a09b-e936668e23b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.696Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","jobId":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","generationRunId":"5210300c-1bd7-448b-a09b-e936668e23b1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5210300c-1bd7-448b-a09b-e936668e23b1/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5210300c-1bd7-448b-a09b-e936668e23b1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5210300c-1bd7-448b-a09b-e936668e23b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.697Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","jobId":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","generationRunId":"5210300c-1bd7-448b-a09b-e936668e23b1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5210300c-1bd7-448b-a09b-e936668e23b1/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/5210300c-1bd7-448b-a09b-e936668e23b1/enhanced_modern.pdf","session":"5210300c-1bd7-448b-a09b-e936668e23b1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5210300c-1bd7-448b-a09b-e936668e23b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.697Z","level":"info","message":"pdf_generation_attempt","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","jobId":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","generationRunId":"5210300c-1bd7-448b-a09b-e936668e23b1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5210300c-1bd7-448b-a09b-e936668e23b1/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/5210300c-1bd7-448b-a09b-e936668e23b1/enhanced_professional.pdf","session":"5210300c-1bd7-448b-a09b-e936668e23b1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5210300c-1bd7-448b-a09b-e936668e23b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.698Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","jobId":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","generationRunId":"5210300c-1bd7-448b-a09b-e936668e23b1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5210300c-1bd7-448b-a09b-e936668e23b1/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5210300c-1bd7-448b-a09b-e936668e23b1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5210300c-1bd7-448b-a09b-e936668e23b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.698Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","jobId":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","generationRunId":"5210300c-1bd7-448b-a09b-e936668e23b1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5210300c-1bd7-448b-a09b-e936668e23b1/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/5210300c-1bd7-448b-a09b-e936668e23b1/enhanced_professional.pdf","session":"5210300c-1bd7-448b-a09b-e936668e23b1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5210300c-1bd7-448b-a09b-e936668e23b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.699Z","level":"info","message":"pdf_generation_attempt","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","jobId":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","generationRunId":"5210300c-1bd7-448b-a09b-e936668e23b1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5210300c-1bd7-448b-a09b-e936668e23b1/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/5210300c-1bd7-448b-a09b-e936668e23b1/cover_letter_cover_modern.pdf","session":"5210300c-1bd7-448b-a09b-e936668e23b1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5210300c-1bd7-448b-a09b-e936668e23b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.699Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","jobId":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","generationRunId":"5210300c-1bd7-448b-a09b-e936668e23b1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5210300c-1bd7-448b-a09b-e936668e23b1/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"5210300c-1bd7-448b-a09b-e936668e23b1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5210300c-1bd7-448b-a09b-e936668e23b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.700Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","jobId":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","generationRunId":"5210300c-1bd7-448b-a09b-e936668e23b1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5210300c-1bd7-448b-a09b-e936668e23b1/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/5210300c-1bd7-448b-a09b-e936668e23b1/cover_letter_cover_modern.pdf","session":"5210300c-1bd7-448b-a09b-e936668e23b1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5210300c-1bd7-448b-a09b-e936668e23b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.700Z","level":"info","message":"pdf_generation_attempt","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","jobId":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","generationRunId":"5210300c-1bd7-448b-a09b-e936668e23b1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5210300c-1bd7-448b-a09b-e936668e23b1/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/5210300c-1bd7-448b-a09b-e936668e23b1/cover_letter_cover_professional.pdf","session":"5210300c-1bd7-448b-a09b-e936668e23b1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5210300c-1bd7-448b-a09b-e936668e23b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.701Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","jobId":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","generationRunId":"5210300c-1bd7-448b-a09b-e936668e23b1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5210300c-1bd7-448b-a09b-e936668e23b1/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"5210300c-1bd7-448b-a09b-e936668e23b1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5210300c-1bd7-448b-a09b-e936668e23b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.701Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","jobId":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","generationRunId":"5210300c-1bd7-448b-a09b-e936668e23b1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5210300c-1bd7-448b-a09b-e936668e23b1/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/5210300c-1bd7-448b-a09b-e936668e23b1/cover_letter_cover_professional.pdf","session":"5210300c-1bd7-448b-a09b-e936668e23b1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5210300c-1bd7-448b-a09b-e936668e23b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.703Z","level":"info","message":"llm_call_metrics","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"f00232cc4d88fb824e148aeaa761067d77604cbc2577582275a91ed208cbe5af","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"5210300c-1bd7-448b-a09b-e936668e23b1","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"5210300c-1bd7-448b-a09b-e936668e23b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.704Z","level":"info","message":"generation_completed","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","jobId":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","generationRunId":"5210300c-1bd7-448b-a09b-e936668e23b1","enhancedScore":80,"outputs":5,"template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.705Z","level":"info","message":"placeholder_record_deleted","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","jobId":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","placeholderIdentifier":"5210300c-1bd7-448b-a09b-e936668e23b1","template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ebe0ac1e-f640-41bf-918f-9cac33fbd54f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.706Z","level":"info","message":"http_request_completed","requestId":"5210300c-1bd7-448b-a09b-e936668e23b1","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":51,"contentLength":"59835","template":"unknown","session":"5210300c-1bd7-448b-a09b-e936668e23b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5210300c-1bd7-448b-a09b-e936668e23b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.708Z","level":"info","message":"http_request_received","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","method":"POST","path":"/api/process-cv","template":"unknown","session":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.709Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.710Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.712Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.713Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.715Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/fc4568ce-37b6-41ab-b2fd-da5c191b5dcc/incoming/original.pdf","chunks":1,"timestamp":1764854501717}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/fc4568ce-37b6-41ab-b2fd-da5c191b5dcc/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/fc4568ce-37b6-41ab-b2fd-da5c191b5dcc/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:21:41.718Z","level":"info","message":"process_cv_started","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","jobId":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","manualJobDescriptionProvided":true,"template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.719Z","level":"info","message":"template_selection","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","jobId":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:41.720Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","jobId":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:21:41.729Z","level":"info","message":"initial_upload_completed","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","jobId":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","bucket":"test-bucket","key":"cv/candidate/fc4568ce-37b6-41ab-b2fd-da5c191b5dcc/incoming/original.pdf","template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.730Z","level":"info","message":"resume_text_extracted","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","jobId":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","characters":57,"template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.731Z","level":"info","message":"resume_classified","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","jobId":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.731Z","level":"info","message":"raw_upload_relocated","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","jobId":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","bucket":"test-bucket","fromKey":"cv/candidate/fc4568ce-37b6-41ab-b2fd-da5c191b5dcc/incoming/original.pdf","toKey":"cv/professional_summary/fc4568ce-37b6-41ab-b2fd-da5c191b5dcc/original.pdf","template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.732Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","jobId":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","bucket":"test-bucket","key":"cv/professional_summary/fc4568ce-37b6-41ab-b2fd-da5c191b5dcc/original.pdf","template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.733Z","level":"info","message":"dynamo_initial_record_written","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","jobId":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","bucket":"test-bucket","key":"cv/professional_summary/fc4568ce-37b6-41ab-b2fd-da5c191b5dcc/original.pdf","template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.733Z","level":"info","message":"upload_metadata_written","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","jobId":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","bucket":"test-bucket","key":"cv/professional_summary/fc4568ce-37b6-41ab-b2fd-da5c191b5dcc/logs/log.json","template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.734Z","level":"info","message":"job_description_supplied_manually","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","jobId":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","characters":174,"template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.734Z","level":"info","message":"job_description_analyzed","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","jobId":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","jobTitle":"","jobSkills":5,"template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.735Z","level":"info","message":"resume_skills_analyzed","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","jobId":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.736Z","level":"info","message":"llm_call_metrics","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.736Z","level":"info","message":"process_cv_scoring_completed","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","jobId":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.740Z","level":"info","message":"llm_call_metrics","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.740Z","level":"info","message":"generation_section_rewrite_completed","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","jobId":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","generationRunId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.740Z","level":"info","message":"llm_call_metrics","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.743Z","level":"info","message":"generation_resume_verified","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","jobId":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","generationRunId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:41.747Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","jobId":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","generationRunId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:41.753Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","jobId":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","generationRunId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:41.758Z","level":"info","message":"generation_cover_letters_completed","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","jobId":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","generationRunId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","variants":2,"fallbackApplied":true,"template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.759Z","level":"info","message":"pdf_generation_attempt","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","jobId":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","generationRunId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/fc4568ce-37b6-41ab-b2fd-da5c191b5dcc/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/fc4568ce-37b6-41ab-b2fd-da5c191b5dcc/enhanced_modern.pdf","session":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.759Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","jobId":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","generationRunId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/fc4568ce-37b6-41ab-b2fd-da5c191b5dcc/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.760Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","jobId":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","generationRunId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/fc4568ce-37b6-41ab-b2fd-da5c191b5dcc/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/fc4568ce-37b6-41ab-b2fd-da5c191b5dcc/enhanced_modern.pdf","session":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.761Z","level":"info","message":"pdf_generation_attempt","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","jobId":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","generationRunId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/fc4568ce-37b6-41ab-b2fd-da5c191b5dcc/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/fc4568ce-37b6-41ab-b2fd-da5c191b5dcc/enhanced_professional.pdf","session":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.761Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","jobId":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","generationRunId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/fc4568ce-37b6-41ab-b2fd-da5c191b5dcc/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.762Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","jobId":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","generationRunId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/fc4568ce-37b6-41ab-b2fd-da5c191b5dcc/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/fc4568ce-37b6-41ab-b2fd-da5c191b5dcc/enhanced_professional.pdf","session":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.763Z","level":"info","message":"pdf_generation_attempt","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","jobId":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","generationRunId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/fc4568ce-37b6-41ab-b2fd-da5c191b5dcc/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/fc4568ce-37b6-41ab-b2fd-da5c191b5dcc/cover_letter_cover_modern.pdf","session":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.763Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","jobId":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","generationRunId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/fc4568ce-37b6-41ab-b2fd-da5c191b5dcc/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.764Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","jobId":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","generationRunId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/fc4568ce-37b6-41ab-b2fd-da5c191b5dcc/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/fc4568ce-37b6-41ab-b2fd-da5c191b5dcc/cover_letter_cover_modern.pdf","session":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.765Z","level":"info","message":"pdf_generation_attempt","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","jobId":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","generationRunId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/fc4568ce-37b6-41ab-b2fd-da5c191b5dcc/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/fc4568ce-37b6-41ab-b2fd-da5c191b5dcc/cover_letter_cover_professional.pdf","session":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.765Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","jobId":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","generationRunId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/fc4568ce-37b6-41ab-b2fd-da5c191b5dcc/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.766Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","jobId":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","generationRunId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/fc4568ce-37b6-41ab-b2fd-da5c191b5dcc/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/fc4568ce-37b6-41ab-b2fd-da5c191b5dcc/cover_letter_cover_professional.pdf","session":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.768Z","level":"info","message":"llm_call_metrics","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.768Z","level":"info","message":"generation_completed","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","jobId":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","generationRunId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","enhancedScore":80,"outputs":5,"template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.769Z","level":"info","message":"placeholder_record_deleted","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","jobId":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","placeholderIdentifier":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b70a2e1-823c-449f-be35-3e780d8fc2f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.770Z","level":"info","message":"http_request_completed","requestId":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":62,"contentLength":"58133","template":"unknown","session":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fc4568ce-37b6-41ab-b2fd-da5c191b5dcc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.774Z","level":"info","message":"http_request_received","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","method":"POST","path":"/api/process-cv","template":"unknown","session":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.775Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.776Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.778Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.780Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.782Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/494fb7c1-00c3-44fe-b04b-de3564cc6cef/incoming/original.pdf","chunks":1,"timestamp":1764854501785}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/494fb7c1-00c3-44fe-b04b-de3564cc6cef/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/494fb7c1-00c3-44fe-b04b-de3564cc6cef/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:21:41.786Z","level":"info","message":"process_cv_started","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","jobId":"3bb04d8b-db71-47b2-8afc-3c14e7282479","manualJobDescriptionProvided":true,"template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.787Z","level":"info","message":"template_selection","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","jobId":"3bb04d8b-db71-47b2-8afc-3c14e7282479","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:41.787Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","jobId":"3bb04d8b-db71-47b2-8afc-3c14e7282479","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:21:41.793Z","level":"info","message":"initial_upload_completed","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","jobId":"3bb04d8b-db71-47b2-8afc-3c14e7282479","bucket":"test-bucket","key":"cv/candidate/494fb7c1-00c3-44fe-b04b-de3564cc6cef/incoming/original.pdf","template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.793Z","level":"info","message":"resume_text_extracted","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","jobId":"3bb04d8b-db71-47b2-8afc-3c14e7282479","characters":57,"template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.794Z","level":"info","message":"resume_classified","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","jobId":"3bb04d8b-db71-47b2-8afc-3c14e7282479","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.794Z","level":"info","message":"raw_upload_relocated","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","jobId":"3bb04d8b-db71-47b2-8afc-3c14e7282479","bucket":"test-bucket","fromKey":"cv/candidate/494fb7c1-00c3-44fe-b04b-de3564cc6cef/incoming/original.pdf","toKey":"cv/professional_summary/494fb7c1-00c3-44fe-b04b-de3564cc6cef/original.pdf","template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.794Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","jobId":"3bb04d8b-db71-47b2-8afc-3c14e7282479","bucket":"test-bucket","key":"cv/professional_summary/494fb7c1-00c3-44fe-b04b-de3564cc6cef/original.pdf","template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.795Z","level":"info","message":"dynamo_initial_record_written","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","jobId":"3bb04d8b-db71-47b2-8afc-3c14e7282479","bucket":"test-bucket","key":"cv/professional_summary/494fb7c1-00c3-44fe-b04b-de3564cc6cef/original.pdf","template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.795Z","level":"info","message":"upload_metadata_written","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","jobId":"3bb04d8b-db71-47b2-8afc-3c14e7282479","bucket":"test-bucket","key":"cv/professional_summary/494fb7c1-00c3-44fe-b04b-de3564cc6cef/logs/log.json","template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.795Z","level":"info","message":"job_description_supplied_manually","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","jobId":"3bb04d8b-db71-47b2-8afc-3c14e7282479","characters":174,"template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.796Z","level":"info","message":"job_description_analyzed","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","jobId":"3bb04d8b-db71-47b2-8afc-3c14e7282479","jobTitle":"","jobSkills":5,"template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.796Z","level":"info","message":"resume_skills_analyzed","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","jobId":"3bb04d8b-db71-47b2-8afc-3c14e7282479","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.797Z","level":"info","message":"llm_call_metrics","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.797Z","level":"info","message":"process_cv_scoring_completed","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","jobId":"3bb04d8b-db71-47b2-8afc-3c14e7282479","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.800Z","level":"info","message":"llm_call_metrics","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"9a6d2d1a9ce924151b6a4db0f761d85550b399b0c2990ac5bc2d2ac9b952bd0d","addedSkillCount":0,"template":"resume_rewrite","session":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.800Z","level":"info","message":"generation_section_rewrite_completed","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","jobId":"3bb04d8b-db71-47b2-8afc-3c14e7282479","generationRunId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","modifiedTitle":"Lead Engineer","addedSkills":0,"template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.802Z","level":"info","message":"generation_resume_verified","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","jobId":"3bb04d8b-db71-47b2-8afc-3c14e7282479","generationRunId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.805Z","level":"info","message":"generation_cover_letters_normalized","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","jobId":"3bb04d8b-db71-47b2-8afc-3c14e7282479","generationRunId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","variants":["cover_letter1","cover_letter2"],"template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:41.805Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","jobId":"3bb04d8b-db71-47b2-8afc-3c14e7282479","generationRunId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing"]}],"template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:41.811Z","level":"info","message":"generation_cover_letters_confident_closing_applied","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","jobId":"3bb04d8b-db71-47b2-8afc-3c14e7282479","generationRunId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","variants":["cover_letter1"],"template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.811Z","level":"info","message":"generation_cover_letters_completed","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","jobId":"3bb04d8b-db71-47b2-8afc-3c14e7282479","generationRunId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","variants":2,"fallbackApplied":true,"template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.812Z","level":"info","message":"pdf_generation_attempt","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","jobId":"3bb04d8b-db71-47b2-8afc-3c14e7282479","generationRunId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/494fb7c1-00c3-44fe-b04b-de3564cc6cef/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/494fb7c1-00c3-44fe-b04b-de3564cc6cef/enhanced_modern.pdf","session":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.812Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","jobId":"3bb04d8b-db71-47b2-8afc-3c14e7282479","generationRunId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/494fb7c1-00c3-44fe-b04b-de3564cc6cef/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.813Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","jobId":"3bb04d8b-db71-47b2-8afc-3c14e7282479","generationRunId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/494fb7c1-00c3-44fe-b04b-de3564cc6cef/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/494fb7c1-00c3-44fe-b04b-de3564cc6cef/enhanced_modern.pdf","session":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.813Z","level":"info","message":"pdf_generation_attempt","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","jobId":"3bb04d8b-db71-47b2-8afc-3c14e7282479","generationRunId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/494fb7c1-00c3-44fe-b04b-de3564cc6cef/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/494fb7c1-00c3-44fe-b04b-de3564cc6cef/enhanced_professional.pdf","session":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.814Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","jobId":"3bb04d8b-db71-47b2-8afc-3c14e7282479","generationRunId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/494fb7c1-00c3-44fe-b04b-de3564cc6cef/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.814Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","jobId":"3bb04d8b-db71-47b2-8afc-3c14e7282479","generationRunId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/494fb7c1-00c3-44fe-b04b-de3564cc6cef/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/494fb7c1-00c3-44fe-b04b-de3564cc6cef/enhanced_professional.pdf","session":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.814Z","level":"info","message":"pdf_generation_attempt","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","jobId":"3bb04d8b-db71-47b2-8afc-3c14e7282479","generationRunId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/494fb7c1-00c3-44fe-b04b-de3564cc6cef/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/494fb7c1-00c3-44fe-b04b-de3564cc6cef/cover_letter_cover_modern.pdf","session":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.815Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","jobId":"3bb04d8b-db71-47b2-8afc-3c14e7282479","generationRunId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/494fb7c1-00c3-44fe-b04b-de3564cc6cef/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.815Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","jobId":"3bb04d8b-db71-47b2-8afc-3c14e7282479","generationRunId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/494fb7c1-00c3-44fe-b04b-de3564cc6cef/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/494fb7c1-00c3-44fe-b04b-de3564cc6cef/cover_letter_cover_modern.pdf","session":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.817Z","level":"info","message":"pdf_generation_attempt","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","jobId":"3bb04d8b-db71-47b2-8afc-3c14e7282479","generationRunId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/494fb7c1-00c3-44fe-b04b-de3564cc6cef/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/494fb7c1-00c3-44fe-b04b-de3564cc6cef/cover_letter_cover_professional.pdf","session":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.817Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","jobId":"3bb04d8b-db71-47b2-8afc-3c14e7282479","generationRunId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/494fb7c1-00c3-44fe-b04b-de3564cc6cef/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.818Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","jobId":"3bb04d8b-db71-47b2-8afc-3c14e7282479","generationRunId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/494fb7c1-00c3-44fe-b04b-de3564cc6cef/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/494fb7c1-00c3-44fe-b04b-de3564cc6cef/cover_letter_cover_professional.pdf","session":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.819Z","level":"info","message":"llm_call_metrics","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"aebf306d7fe64238aa9b05fc3798c6e6698d8708e05d8dd31d0cadc8f2f74f38","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.820Z","level":"info","message":"generation_completed","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","jobId":"3bb04d8b-db71-47b2-8afc-3c14e7282479","generationRunId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","enhancedScore":80,"outputs":5,"template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.821Z","level":"info","message":"placeholder_record_deleted","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","jobId":"3bb04d8b-db71-47b2-8afc-3c14e7282479","placeholderIdentifier":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb04d8b-db71-47b2-8afc-3c14e7282479","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.822Z","level":"info","message":"http_request_completed","requestId":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":48,"contentLength":"46262","template":"unknown","session":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"494fb7c1-00c3-44fe-b04b-de3564cc6cef","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.825Z","level":"info","message":"http_request_received","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","method":"POST","path":"/api/process-cv","template":"unknown","session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.826Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.827Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.828Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.830Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.831Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/4dde7198-0596-43b0-937c-394fc52ae7e5/incoming/original.pdf","chunks":1,"timestamp":1764854501833}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/4dde7198-0596-43b0-937c-394fc52ae7e5/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/4dde7198-0596-43b0-937c-394fc52ae7e5/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:21:41.835Z","level":"info","message":"process_cv_started","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","jobId":"1d444a38-5598-4673-bec4-c83a1b816553","manualJobDescriptionProvided":true,"template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.835Z","level":"info","message":"template_selection","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","jobId":"1d444a38-5598-4673-bec4-c83a1b816553","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:41.836Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","jobId":"1d444a38-5598-4673-bec4-c83a1b816553","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:21:41.841Z","level":"info","message":"initial_upload_completed","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","jobId":"1d444a38-5598-4673-bec4-c83a1b816553","bucket":"test-bucket","key":"cv/candidate/4dde7198-0596-43b0-937c-394fc52ae7e5/incoming/original.pdf","template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.842Z","level":"info","message":"resume_text_extracted","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","jobId":"1d444a38-5598-4673-bec4-c83a1b816553","characters":57,"template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.842Z","level":"info","message":"resume_classified","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","jobId":"1d444a38-5598-4673-bec4-c83a1b816553","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.842Z","level":"info","message":"raw_upload_relocated","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","jobId":"1d444a38-5598-4673-bec4-c83a1b816553","bucket":"test-bucket","fromKey":"cv/candidate/4dde7198-0596-43b0-937c-394fc52ae7e5/incoming/original.pdf","toKey":"cv/professional_summary/4dde7198-0596-43b0-937c-394fc52ae7e5/original.pdf","template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.843Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","jobId":"1d444a38-5598-4673-bec4-c83a1b816553","bucket":"test-bucket","key":"cv/professional_summary/4dde7198-0596-43b0-937c-394fc52ae7e5/original.pdf","template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.843Z","level":"info","message":"dynamo_initial_record_written","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","jobId":"1d444a38-5598-4673-bec4-c83a1b816553","bucket":"test-bucket","key":"cv/professional_summary/4dde7198-0596-43b0-937c-394fc52ae7e5/original.pdf","template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.843Z","level":"info","message":"upload_metadata_written","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","jobId":"1d444a38-5598-4673-bec4-c83a1b816553","bucket":"test-bucket","key":"cv/professional_summary/4dde7198-0596-43b0-937c-394fc52ae7e5/logs/log.json","template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.844Z","level":"info","message":"job_description_supplied_manually","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","jobId":"1d444a38-5598-4673-bec4-c83a1b816553","characters":174,"template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.844Z","level":"info","message":"job_description_analyzed","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","jobId":"1d444a38-5598-4673-bec4-c83a1b816553","jobTitle":"","jobSkills":5,"template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.845Z","level":"info","message":"resume_skills_analyzed","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","jobId":"1d444a38-5598-4673-bec4-c83a1b816553","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.845Z","level":"info","message":"llm_call_metrics","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.846Z","level":"info","message":"process_cv_scoring_completed","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","jobId":"1d444a38-5598-4673-bec4-c83a1b816553","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:21:41.847Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","sample":"Here is your revised resume text without JSON formatting.","template":"unknown","session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at Object.error (server.js:3478:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8534:20)
      at generateEnhancedDocumentsResponse (server.js:20175:26)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:41.853Z","level":"info","message":"llm_call_metrics","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.853Z","level":"info","message":"llm_call_metrics","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.853Z","level":"info","message":"generation_section_rewrite_completed","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","jobId":"1d444a38-5598-4673-bec4-c83a1b816553","generationRunId":"4dde7198-0596-43b0-937c-394fc52ae7e5","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.854Z","level":"info","message":"llm_call_metrics","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"d230fd9d3c6f4e6f7bb7c385f22b3a147a5c937619c1919bfb6f5e09096df674","skillCount":5,"template":"project_summary","session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:41.858Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","jobId":"1d444a38-5598-4673-bec4-c83a1b816553","generationRunId":"4dde7198-0596-43b0-937c-394fc52ae7e5","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:41.864Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","jobId":"1d444a38-5598-4673-bec4-c83a1b816553","generationRunId":"4dde7198-0596-43b0-937c-394fc52ae7e5","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:41.870Z","level":"info","message":"generation_cover_letters_completed","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","jobId":"1d444a38-5598-4673-bec4-c83a1b816553","generationRunId":"4dde7198-0596-43b0-937c-394fc52ae7e5","variants":2,"fallbackApplied":true,"template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.871Z","level":"info","message":"pdf_generation_attempt","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","jobId":"1d444a38-5598-4673-bec4-c83a1b816553","generationRunId":"4dde7198-0596-43b0-937c-394fc52ae7e5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4dde7198-0596-43b0-937c-394fc52ae7e5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/4dde7198-0596-43b0-937c-394fc52ae7e5/enhanced_modern.pdf","session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.872Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","jobId":"1d444a38-5598-4673-bec4-c83a1b816553","generationRunId":"4dde7198-0596-43b0-937c-394fc52ae7e5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4dde7198-0596-43b0-937c-394fc52ae7e5/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.873Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","jobId":"1d444a38-5598-4673-bec4-c83a1b816553","generationRunId":"4dde7198-0596-43b0-937c-394fc52ae7e5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4dde7198-0596-43b0-937c-394fc52ae7e5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/4dde7198-0596-43b0-937c-394fc52ae7e5/enhanced_modern.pdf","session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.873Z","level":"info","message":"pdf_generation_attempt","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","jobId":"1d444a38-5598-4673-bec4-c83a1b816553","generationRunId":"4dde7198-0596-43b0-937c-394fc52ae7e5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4dde7198-0596-43b0-937c-394fc52ae7e5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/4dde7198-0596-43b0-937c-394fc52ae7e5/enhanced_professional.pdf","session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.874Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","jobId":"1d444a38-5598-4673-bec4-c83a1b816553","generationRunId":"4dde7198-0596-43b0-937c-394fc52ae7e5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4dde7198-0596-43b0-937c-394fc52ae7e5/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.874Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","jobId":"1d444a38-5598-4673-bec4-c83a1b816553","generationRunId":"4dde7198-0596-43b0-937c-394fc52ae7e5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4dde7198-0596-43b0-937c-394fc52ae7e5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/4dde7198-0596-43b0-937c-394fc52ae7e5/enhanced_professional.pdf","session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.874Z","level":"info","message":"pdf_generation_attempt","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","jobId":"1d444a38-5598-4673-bec4-c83a1b816553","generationRunId":"4dde7198-0596-43b0-937c-394fc52ae7e5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4dde7198-0596-43b0-937c-394fc52ae7e5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/4dde7198-0596-43b0-937c-394fc52ae7e5/cover_letter_cover_modern.pdf","session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.875Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","jobId":"1d444a38-5598-4673-bec4-c83a1b816553","generationRunId":"4dde7198-0596-43b0-937c-394fc52ae7e5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4dde7198-0596-43b0-937c-394fc52ae7e5/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.875Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","jobId":"1d444a38-5598-4673-bec4-c83a1b816553","generationRunId":"4dde7198-0596-43b0-937c-394fc52ae7e5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4dde7198-0596-43b0-937c-394fc52ae7e5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/4dde7198-0596-43b0-937c-394fc52ae7e5/cover_letter_cover_modern.pdf","session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.876Z","level":"info","message":"pdf_generation_attempt","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","jobId":"1d444a38-5598-4673-bec4-c83a1b816553","generationRunId":"4dde7198-0596-43b0-937c-394fc52ae7e5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4dde7198-0596-43b0-937c-394fc52ae7e5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/4dde7198-0596-43b0-937c-394fc52ae7e5/cover_letter_cover_professional.pdf","session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.877Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","jobId":"1d444a38-5598-4673-bec4-c83a1b816553","generationRunId":"4dde7198-0596-43b0-937c-394fc52ae7e5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4dde7198-0596-43b0-937c-394fc52ae7e5/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.877Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","jobId":"1d444a38-5598-4673-bec4-c83a1b816553","generationRunId":"4dde7198-0596-43b0-937c-394fc52ae7e5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4dde7198-0596-43b0-937c-394fc52ae7e5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/4dde7198-0596-43b0-937c-394fc52ae7e5/cover_letter_cover_professional.pdf","session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.879Z","level":"info","message":"llm_call_metrics","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.880Z","level":"info","message":"generation_completed","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","jobId":"1d444a38-5598-4673-bec4-c83a1b816553","generationRunId":"4dde7198-0596-43b0-937c-394fc52ae7e5","enhancedScore":80,"outputs":5,"template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.881Z","level":"info","message":"placeholder_record_deleted","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","jobId":"1d444a38-5598-4673-bec4-c83a1b816553","placeholderIdentifier":"4dde7198-0596-43b0-937c-394fc52ae7e5","template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1d444a38-5598-4673-bec4-c83a1b816553","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.882Z","level":"info","message":"http_request_completed","requestId":"4dde7198-0596-43b0-937c-394fc52ae7e5","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":57,"contentLength":"57871","template":"unknown","session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4dde7198-0596-43b0-937c-394fc52ae7e5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.885Z","level":"info","message":"http_request_received","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","method":"POST","path":"/api/process-cv","template":"unknown","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.886Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.888Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.889Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.890Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.892Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/f86549ca-6cb8-4413-b01e-9fd65955e3f4/incoming/original.pdf","chunks":1,"timestamp":1764854501894}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/f86549ca-6cb8-4413-b01e-9fd65955e3f4/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/f86549ca-6cb8-4413-b01e-9fd65955e3f4/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:21:41.895Z","level":"info","message":"process_cv_started","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","manualJobDescriptionProvided":true,"template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.895Z","level":"info","message":"template_selection","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:41.896Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:21:41.903Z","level":"info","message":"initial_upload_completed","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","bucket":"test-bucket","key":"cv/candidate/f86549ca-6cb8-4413-b01e-9fd65955e3f4/incoming/original.pdf","template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.904Z","level":"info","message":"resume_text_extracted","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","characters":57,"template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.904Z","level":"info","message":"resume_classified","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.904Z","level":"info","message":"raw_upload_relocated","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","bucket":"test-bucket","fromKey":"cv/candidate/f86549ca-6cb8-4413-b01e-9fd65955e3f4/incoming/original.pdf","toKey":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/original.pdf","template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.905Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","bucket":"test-bucket","key":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/original.pdf","template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.905Z","level":"info","message":"dynamo_initial_record_written","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","bucket":"test-bucket","key":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/original.pdf","template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.905Z","level":"info","message":"upload_metadata_written","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","bucket":"test-bucket","key":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/logs/log.json","template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.906Z","level":"info","message":"job_description_supplied_manually","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","characters":174,"template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.906Z","level":"info","message":"job_description_analyzed","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","jobTitle":"","jobSkills":5,"template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.907Z","level":"info","message":"resume_skills_analyzed","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.907Z","level":"info","message":"llm_call_metrics","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.908Z","level":"info","message":"process_cv_scoring_completed","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.910Z","level":"info","message":"llm_call_metrics","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.910Z","level":"info","message":"generation_section_rewrite_completed","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.911Z","level":"info","message":"llm_call_metrics","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.913Z","level":"info","message":"generation_resume_verified","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:41.916Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:41.922Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:41.927Z","level":"info","message":"generation_cover_letters_completed","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","variants":2,"fallbackApplied":true,"template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.928Z","level":"info","message":"pdf_generation_attempt","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/enhanced_modern.pdf","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.928Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:21:41.930Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"modern","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:41.935Z","level":"info","message":"pdf_generation_attempt","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"professional","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/enhanced_professional.pdf","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.936Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:21:41.936Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"professional","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/enhanced_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:41.941Z","level":"info","message":"pdf_generation_attempt","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"classic","attempt":3,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/enhanced_classic.pdf","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.942Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:21:41.942Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"classic","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/enhanced_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:41.949Z","level":"info","message":"pdf_generation_attempt","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"ats","attempt":4,"totalAttempts":5,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/enhanced_ats.pdf","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.950Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:21:41.950Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"ats","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/enhanced_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:41.955Z","level":"info","message":"pdf_generation_attempt","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"2025","attempt":5,"totalAttempts":5,"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/enhanced_2025.pdf","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.956Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:21:41.956Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"2025","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:41.962Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/enhanced_2025.pdf","forcedFallback":true,"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11154:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:41.969Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/enhanced_2025.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"2025","requestedTemplateId":"2025","engine":"pdf-lib","bytes":9,"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.969Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/enhanced_2025.pdf","bytes":9,"forcedFallback":true,"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.970Z","level":"info","message":"pdf_generation_attempt","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/enhanced_professional.pdf","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.970Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:21:41.971Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"professional","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/enhanced_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:41.976Z","level":"info","message":"pdf_generation_attempt","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"modern","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/enhanced_modern.pdf","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.976Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:21:41.977Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"modern","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:41.982Z","level":"info","message":"pdf_generation_attempt","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"2025","attempt":3,"totalAttempts":5,"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/enhanced_2025.pdf","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.982Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:21:41.983Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"2025","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:41.988Z","level":"info","message":"pdf_generation_attempt","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"classic","attempt":4,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/enhanced_classic.pdf","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:41.997Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:21:41.997Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"classic","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/enhanced_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:42.005Z","level":"info","message":"pdf_generation_attempt","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"ats","attempt":5,"totalAttempts":5,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/enhanced_ats.pdf","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.006Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:21:42.010Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"ats","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/enhanced_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:42.016Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/enhanced_ats.pdf","forcedFallback":true,"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11154:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:42.021Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/enhanced_ats.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"ats","requestedTemplateId":"ats","engine":"pdf-lib","bytes":9,"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.022Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/enhanced_ats.pdf","bytes":9,"forcedFallback":true,"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.023Z","level":"info","message":"pdf_generation_attempt","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/cover_letter_cover_modern.pdf","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.023Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:21:42.023Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:42.029Z","level":"info","message":"pdf_generation_attempt","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"cover_professional","attempt":2,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/cover_letter_cover_professional.pdf","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.029Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:21:42.030Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"cover_professional","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/cover_letter_cover_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:42.035Z","level":"info","message":"pdf_generation_attempt","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"cover_classic","attempt":3,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/cover_letter_cover_classic.pdf","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.036Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:21:42.036Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"cover_classic","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/cover_letter_cover_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:42.042Z","level":"info","message":"pdf_generation_attempt","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"cover_ats","attempt":4,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/cover_letter_cover_ats.pdf","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.042Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:21:42.043Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"cover_ats","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/cover_letter_cover_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:42.051Z","level":"info","message":"pdf_generation_attempt","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"cover_2025","attempt":5,"totalAttempts":5,"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/cover_letter_cover_2025.pdf","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.051Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"cover_2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:21:42.052Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"cover_2025","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/cover_letter_cover_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:42.058Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/cover_letter_cover_2025.pdf","forcedFallback":true,"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11154:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:42.063Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/cover_letter_cover_2025.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"cover_2025","requestedTemplateId":"cover_2025","engine":"pdf-lib","bytes":9,"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.064Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/cover_letter_cover_2025.pdf","bytes":9,"forcedFallback":true,"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.065Z","level":"info","message":"pdf_generation_attempt","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/cover_letter_cover_professional.pdf","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.065Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:21:42.066Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/cover_letter_cover_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:42.071Z","level":"info","message":"pdf_generation_attempt","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"cover_modern","attempt":2,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/cover_letter_cover_modern.pdf","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.071Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:21:42.072Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"cover_modern","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:42.077Z","level":"info","message":"pdf_generation_attempt","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"cover_2025","attempt":3,"totalAttempts":5,"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/cover_letter_cover_2025.pdf","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.078Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"cover_2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:21:42.078Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"cover_2025","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/cover_letter_cover_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:42.084Z","level":"info","message":"pdf_generation_attempt","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"cover_classic","attempt":4,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/cover_letter_cover_classic.pdf","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.084Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:21:42.084Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"cover_classic","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/cover_letter_cover_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:42.090Z","level":"info","message":"pdf_generation_attempt","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"cover_ats","attempt":5,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/cover_letter_cover_ats.pdf","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.090Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:21:42.091Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"cover_ats","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/cover_letter_cover_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:42.099Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/cover_letter_cover_ats.pdf","forcedFallback":true,"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11154:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:42.104Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/cover_letter_cover_ats.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"cover_ats","requestedTemplateId":"cover_ats","engine":"pdf-lib","bytes":9,"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.105Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/f86549ca-6cb8-4413-b01e-9fd65955e3f4/cover_letter_cover_ats.pdf","bytes":9,"forcedFallback":true,"session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.107Z","level":"info","message":"llm_call_metrics","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.107Z","level":"info","message":"generation_completed","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","generationRunId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","enhancedScore":80,"outputs":5,"template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.108Z","level":"info","message":"placeholder_record_deleted","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","jobId":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","placeholderIdentifier":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aa1c96bf-06a7-4fc7-b657-bba2bf6799dd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.109Z","level":"info","message":"http_request_completed","requestId":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":224,"contentLength":"60620","template":"unknown","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f86549ca-6cb8-4413-b01e-9fd65955e3f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.114Z","level":"info","message":"http_request_received","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","method":"POST","path":"/api/process-cv","template":"unknown","session":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.115Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.116Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.117Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.118Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.120Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/fb3a62b1-4dbf-47d8-98e9-9d620e2a73da/incoming/original.pdf","chunks":1,"timestamp":1764854502122}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/fb3a62b1-4dbf-47d8-98e9-9d620e2a73da/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/fb3a62b1-4dbf-47d8-98e9-9d620e2a73da/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.124Z","level":"info","message":"process_cv_started","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","jobId":"e215682b-d012-4999-b70a-65ee528a4e74","manualJobDescriptionProvided":true,"template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.124Z","level":"info","message":"template_selection","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","jobId":"e215682b-d012-4999-b70a-65ee528a4e74","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.125Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","jobId":"e215682b-d012-4999-b70a-65ee528a4e74","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:21:42.130Z","level":"info","message":"initial_upload_completed","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","jobId":"e215682b-d012-4999-b70a-65ee528a4e74","bucket":"test-bucket","key":"cv/candidate/fb3a62b1-4dbf-47d8-98e9-9d620e2a73da/incoming/original.pdf","template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.131Z","level":"info","message":"resume_text_extracted","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","jobId":"e215682b-d012-4999-b70a-65ee528a4e74","characters":57,"template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.131Z","level":"info","message":"resume_classified","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","jobId":"e215682b-d012-4999-b70a-65ee528a4e74","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.131Z","level":"info","message":"raw_upload_relocated","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","jobId":"e215682b-d012-4999-b70a-65ee528a4e74","bucket":"test-bucket","fromKey":"cv/candidate/fb3a62b1-4dbf-47d8-98e9-9d620e2a73da/incoming/original.pdf","toKey":"cv/professional_summary/fb3a62b1-4dbf-47d8-98e9-9d620e2a73da/original.pdf","template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.133Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","jobId":"e215682b-d012-4999-b70a-65ee528a4e74","bucket":"test-bucket","key":"cv/professional_summary/fb3a62b1-4dbf-47d8-98e9-9d620e2a73da/original.pdf","template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.133Z","level":"info","message":"dynamo_initial_record_written","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","jobId":"e215682b-d012-4999-b70a-65ee528a4e74","bucket":"test-bucket","key":"cv/professional_summary/fb3a62b1-4dbf-47d8-98e9-9d620e2a73da/original.pdf","template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.133Z","level":"info","message":"upload_metadata_written","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","jobId":"e215682b-d012-4999-b70a-65ee528a4e74","bucket":"test-bucket","key":"cv/professional_summary/fb3a62b1-4dbf-47d8-98e9-9d620e2a73da/logs/log.json","template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.134Z","level":"info","message":"job_description_supplied_manually","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","jobId":"e215682b-d012-4999-b70a-65ee528a4e74","characters":174,"template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.134Z","level":"info","message":"job_description_analyzed","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","jobId":"e215682b-d012-4999-b70a-65ee528a4e74","jobTitle":"","jobSkills":5,"template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.135Z","level":"info","message":"resume_skills_analyzed","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","jobId":"e215682b-d012-4999-b70a-65ee528a4e74","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.135Z","level":"info","message":"llm_call_metrics","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.136Z","level":"info","message":"process_cv_scoring_completed","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","jobId":"e215682b-d012-4999-b70a-65ee528a4e74","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.138Z","level":"info","message":"llm_call_metrics","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"083bf06ffdad2254495e6ab02d51602dd213ec7860f8066358ba6750acc9f49a","addedSkillCount":1,"template":"resume_rewrite","session":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.140Z","level":"info","message":"generation_section_rewrite_completed","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","jobId":"e215682b-d012-4999-b70a-65ee528a4e74","generationRunId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","modifiedTitle":"Revised Title","addedSkills":1,"template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.142Z","level":"info","message":"generation_resume_verified","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","jobId":"e215682b-d012-4999-b70a-65ee528a4e74","generationRunId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.145Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","jobId":"e215682b-d012-4999-b70a-65ee528a4e74","generationRunId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
          at runMicrotasks (<anonymous>)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:42.151Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","jobId":"e215682b-d012-4999-b70a-65ee528a4e74","generationRunId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
          at runMicrotasks (<anonymous>)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:42.156Z","level":"info","message":"generation_cover_letters_completed","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","jobId":"e215682b-d012-4999-b70a-65ee528a4e74","generationRunId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","variants":2,"fallbackApplied":true,"template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.157Z","level":"info","message":"pdf_generation_attempt","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","jobId":"e215682b-d012-4999-b70a-65ee528a4e74","generationRunId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/fb3a62b1-4dbf-47d8-98e9-9d620e2a73da/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/fb3a62b1-4dbf-47d8-98e9-9d620e2a73da/enhanced_modern.pdf","session":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.157Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","jobId":"e215682b-d012-4999-b70a-65ee528a4e74","generationRunId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/fb3a62b1-4dbf-47d8-98e9-9d620e2a73da/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.158Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","jobId":"e215682b-d012-4999-b70a-65ee528a4e74","generationRunId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/fb3a62b1-4dbf-47d8-98e9-9d620e2a73da/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/fb3a62b1-4dbf-47d8-98e9-9d620e2a73da/enhanced_modern.pdf","session":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.158Z","level":"info","message":"pdf_generation_attempt","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","jobId":"e215682b-d012-4999-b70a-65ee528a4e74","generationRunId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/fb3a62b1-4dbf-47d8-98e9-9d620e2a73da/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/fb3a62b1-4dbf-47d8-98e9-9d620e2a73da/enhanced_professional.pdf","session":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.159Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","jobId":"e215682b-d012-4999-b70a-65ee528a4e74","generationRunId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/fb3a62b1-4dbf-47d8-98e9-9d620e2a73da/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.159Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","jobId":"e215682b-d012-4999-b70a-65ee528a4e74","generationRunId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/fb3a62b1-4dbf-47d8-98e9-9d620e2a73da/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/fb3a62b1-4dbf-47d8-98e9-9d620e2a73da/enhanced_professional.pdf","session":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.159Z","level":"info","message":"pdf_generation_attempt","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","jobId":"e215682b-d012-4999-b70a-65ee528a4e74","generationRunId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/fb3a62b1-4dbf-47d8-98e9-9d620e2a73da/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/fb3a62b1-4dbf-47d8-98e9-9d620e2a73da/cover_letter_cover_modern.pdf","session":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.160Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","jobId":"e215682b-d012-4999-b70a-65ee528a4e74","generationRunId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/fb3a62b1-4dbf-47d8-98e9-9d620e2a73da/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.160Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","jobId":"e215682b-d012-4999-b70a-65ee528a4e74","generationRunId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/fb3a62b1-4dbf-47d8-98e9-9d620e2a73da/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/fb3a62b1-4dbf-47d8-98e9-9d620e2a73da/cover_letter_cover_modern.pdf","session":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.161Z","level":"info","message":"pdf_generation_attempt","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","jobId":"e215682b-d012-4999-b70a-65ee528a4e74","generationRunId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/fb3a62b1-4dbf-47d8-98e9-9d620e2a73da/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/fb3a62b1-4dbf-47d8-98e9-9d620e2a73da/cover_letter_cover_professional.pdf","session":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.161Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","jobId":"e215682b-d012-4999-b70a-65ee528a4e74","generationRunId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/fb3a62b1-4dbf-47d8-98e9-9d620e2a73da/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.162Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","jobId":"e215682b-d012-4999-b70a-65ee528a4e74","generationRunId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/fb3a62b1-4dbf-47d8-98e9-9d620e2a73da/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/fb3a62b1-4dbf-47d8-98e9-9d620e2a73da/cover_letter_cover_professional.pdf","session":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.164Z","level":"info","message":"llm_call_metrics","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"1075df15bec8b8fc718989e1c7ca31af0c39036b671cabbdfc22628f8e2e250f","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.164Z","level":"info","message":"generation_completed","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","jobId":"e215682b-d012-4999-b70a-65ee528a4e74","generationRunId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","enhancedScore":80,"outputs":5,"template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.165Z","level":"info","message":"placeholder_record_deleted","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","jobId":"e215682b-d012-4999-b70a-65ee528a4e74","placeholderIdentifier":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e215682b-d012-4999-b70a-65ee528a4e74","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.166Z","level":"info","message":"http_request_completed","requestId":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":52,"contentLength":"59251","template":"unknown","session":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb3a62b1-4dbf-47d8-98e9-9d620e2a73da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.169Z","level":"info","message":"http_request_received","requestId":"ffa389d3-47c2-4396-b754-5d6e8d30660f","method":"POST","path":"/api/process-cv","template":"unknown","session":"ffa389d3-47c2-4396-b754-5d6e8d30660f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ffa389d3-47c2-4396-b754-5d6e8d30660f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.170Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.171Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.173Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.174Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.176Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.180Z","level":"info","message":"process_cv_started","requestId":"ffa389d3-47c2-4396-b754-5d6e8d30660f","jobId":"062e4123-ed9b-42a0-be83-0a6bf7acb540","manualJobDescriptionProvided":true,"template":"unknown","session":"062e4123-ed9b-42a0-be83-0a6bf7acb540","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"062e4123-ed9b-42a0-be83-0a6bf7acb540","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.180Z","level":"info","message":"template_selection","requestId":"ffa389d3-47c2-4396-b754-5d6e8d30660f","jobId":"062e4123-ed9b-42a0-be83-0a6bf7acb540","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"062e4123-ed9b-42a0-be83-0a6bf7acb540","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"062e4123-ed9b-42a0-be83-0a6bf7acb540","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.181Z","level":"warn","message":"resume_missing","requestId":"ffa389d3-47c2-4396-b754-5d6e8d30660f","jobId":"062e4123-ed9b-42a0-be83-0a6bf7acb540","template":"unknown","session":"062e4123-ed9b-42a0-be83-0a6bf7acb540","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"062e4123-ed9b-42a0-be83-0a6bf7acb540","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25088:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.186Z","level":"warn","message":"api_error_response","requestId":"ffa389d3-47c2-4396-b754-5d6e8d30660f","jobId":"062e4123-ed9b-42a0-be83-0a6bf7acb540","status":400,"error":{"code":"RESUME_FILE_REQUIRED","message":"resume file required","details":{"field":"resume"},"requestId":"ffa389d3-47c2-4396-b754-5d6e8d30660f","jobId":"062e4123-ed9b-42a0-be83-0a6bf7acb540"},"template":"unknown","session":"062e4123-ed9b-42a0-be83-0a6bf7acb540","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"062e4123-ed9b-42a0-be83-0a6bf7acb540","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at sendError (server.js:3966:3)
      at server.js:25089:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:21:42.192Z","level":"info","message":"http_request_completed","requestId":"ffa389d3-47c2-4396-b754-5d6e8d30660f","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":23,"contentLength":"217","template":"unknown","session":"ffa389d3-47c2-4396-b754-5d6e8d30660f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ffa389d3-47c2-4396-b754-5d6e8d30660f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.194Z","level":"info","message":"http_request_received","requestId":"13499670-b023-42d8-93ef-be279f80a445","method":"POST","path":"/api/process-cv","template":"unknown","session":"13499670-b023-42d8-93ef-be279f80a445","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"13499670-b023-42d8-93ef-be279f80a445","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.195Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.196Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.198Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.199Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.201Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.203Z","level":"warn","message":"resume_upload_failed","requestId":"13499670-b023-42d8-93ef-be279f80a445","jobId":"0a41f576-51db-449a-9b1c-2c9800ab1c95","storageError":false,"error":{"name":"Error","message":"Unsupported resume format. Please upload a PDF, DOC, or DOCX file.","stack":"Error: Unsupported resume format. Please upload a PDF, DOC, or DOCX file.\n    at fileFilter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4988:9)\n    at wrappedFileFilter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/index.js:44:7)\n    at Multipart.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:109:7)\n    at Multipart.emit (node:events:513:28)\n    at HeaderParser.cb (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:358:14)\n    at HeaderParser.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:394:37)\n    at feed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:219:14)\n    at SBMH.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:391:12)\n    at _write (node:internal/streams/writable:332:10)\n    at Multipart.Writable.write (node:internal/streams/writable:336:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:754:22)\n    at IncomingMessage.emit (node:events:513:28)\n    at IncomingMessage.Readable.read (node:internal/streams/readable:527:10)\n    at flow (node:internal/streams/readable:1011:34)\n    at resume_ (node:internal/streams/readable:992:3)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)"},"template":"unknown","session":"0a41f576-51db-449a-9b1c-2c9800ab1c95","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0a41f576-51db-449a-9b1c-2c9800ab1c95","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:24782:7
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:5:28)
      at node_modules/multer/lib/make-middleware.js:63:9
      at Counter.onceZero (node_modules/multer/lib/counter.js:23:29)
      at abortWithError (node_modules/multer/lib/make-middleware.js:58:21)
      at node_modules/multer/lib/make-middleware.js:112:18
      at fileFilter (server.js:4987:14)
      at wrappedFileFilter (node_modules/multer/index.js:44:7)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:109:7)
      at HeaderParser.cb (node_modules/busboy/lib/types/multipart.js:358:14)
      at HeaderParser.push (node_modules/busboy/lib/types/multipart.js:162:20)
      at SBMH.ssCb [as _cb] (node_modules/busboy/lib/types/multipart.js:394:37)
      at feed (node_modules/streamsearch/lib/sbmh.js:219:14)
      at SBMH.push (node_modules/streamsearch/lib/sbmh.js:104:16)
      at Multipart._write (node_modules/busboy/lib/types/multipart.js:567:19)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.210Z","level":"warn","message":"api_error_response","requestId":"13499670-b023-42d8-93ef-be279f80a445","jobId":"0a41f576-51db-449a-9b1c-2c9800ab1c95","status":400,"error":{"code":"UPLOAD_VALIDATION_FAILED","message":"Unsupported resume format. Please upload a PDF, DOC, or DOCX file.","details":{"field":"resume"},"requestId":"13499670-b023-42d8-93ef-be279f80a445","jobId":"0a41f576-51db-449a-9b1c-2c9800ab1c95"},"template":"unknown","session":"0a41f576-51db-449a-9b1c-2c9800ab1c95","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0a41f576-51db-449a-9b1c-2c9800ab1c95","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at sendError (server.js:3966:3)
      at respond (server.js:24790:9)
      at server.js:24794:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:5:28)
      at node_modules/multer/lib/make-middleware.js:63:9
      at Counter.onceZero (node_modules/multer/lib/counter.js:23:29)
      at abortWithError (node_modules/multer/lib/make-middleware.js:58:21)
      at node_modules/multer/lib/make-middleware.js:112:18
      at fileFilter (server.js:4987:14)
      at wrappedFileFilter (node_modules/multer/index.js:44:7)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:109:7)
      at HeaderParser.cb (node_modules/busboy/lib/types/multipart.js:358:14)
      at HeaderParser.push (node_modules/busboy/lib/types/multipart.js:162:20)
      at SBMH.ssCb [as _cb] (node_modules/busboy/lib/types/multipart.js:394:37)
      at feed (node_modules/streamsearch/lib/sbmh.js:219:14)
      at SBMH.push (node_modules/streamsearch/lib/sbmh.js:104:16)
      at Multipart._write (node_modules/busboy/lib/types/multipart.js:567:19)

  console.log
    {"timestamp":"2025-12-04T13:21:42.219Z","level":"info","message":"http_request_completed","requestId":"13499670-b023-42d8-93ef-be279f80a445","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":25,"contentLength":"267","template":"unknown","session":"13499670-b023-42d8-93ef-be279f80a445","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"13499670-b023-42d8-93ef-be279f80a445","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.221Z","level":"info","message":"http_request_received","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","method":"POST","path":"/api/process-cv","template":"unknown","session":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.222Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.223Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.224Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.226Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.227Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/d4e415c4-1cdc-451d-b3bb-f0faf86e0946/incoming/original.pdf","chunks":1,"timestamp":1764854502229}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":32768}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":32768,"newSize":32768,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/d4e415c4-1cdc-451d-b3bb-f0faf86e0946/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/d4e415c4-1cdc-451d-b3bb-f0faf86e0946/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.230Z","level":"info","message":"process_cv_started","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","jobId":"a869d645-8905-4205-96f8-fe760e69f1f3","manualJobDescriptionProvided":true,"template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.231Z","level":"info","message":"template_selection","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","jobId":"a869d645-8905-4205-96f8-fe760e69f1f3","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.231Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","jobId":"a869d645-8905-4205-96f8-fe760e69f1f3","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:21:42.237Z","level":"info","message":"initial_upload_completed","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","jobId":"a869d645-8905-4205-96f8-fe760e69f1f3","bucket":"test-bucket","key":"cv/candidate/d4e415c4-1cdc-451d-b3bb-f0faf86e0946/incoming/original.pdf","template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.237Z","level":"info","message":"resume_text_extracted","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","jobId":"a869d645-8905-4205-96f8-fe760e69f1f3","characters":57,"template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.237Z","level":"info","message":"resume_classified","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","jobId":"a869d645-8905-4205-96f8-fe760e69f1f3","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.238Z","level":"info","message":"raw_upload_relocated","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","jobId":"a869d645-8905-4205-96f8-fe760e69f1f3","bucket":"test-bucket","fromKey":"cv/candidate/d4e415c4-1cdc-451d-b3bb-f0faf86e0946/incoming/original.pdf","toKey":"cv/professional_summary/d4e415c4-1cdc-451d-b3bb-f0faf86e0946/original.pdf","template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.238Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","jobId":"a869d645-8905-4205-96f8-fe760e69f1f3","bucket":"test-bucket","key":"cv/professional_summary/d4e415c4-1cdc-451d-b3bb-f0faf86e0946/original.pdf","template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.238Z","level":"info","message":"dynamo_initial_record_written","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","jobId":"a869d645-8905-4205-96f8-fe760e69f1f3","bucket":"test-bucket","key":"cv/professional_summary/d4e415c4-1cdc-451d-b3bb-f0faf86e0946/original.pdf","template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.239Z","level":"info","message":"upload_metadata_written","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","jobId":"a869d645-8905-4205-96f8-fe760e69f1f3","bucket":"test-bucket","key":"cv/professional_summary/d4e415c4-1cdc-451d-b3bb-f0faf86e0946/logs/log.json","template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.239Z","level":"info","message":"job_description_supplied_manually","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","jobId":"a869d645-8905-4205-96f8-fe760e69f1f3","characters":174,"template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.239Z","level":"info","message":"job_description_analyzed","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","jobId":"a869d645-8905-4205-96f8-fe760e69f1f3","jobTitle":"","jobSkills":5,"template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.240Z","level":"info","message":"resume_skills_analyzed","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","jobId":"a869d645-8905-4205-96f8-fe760e69f1f3","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.240Z","level":"info","message":"llm_call_metrics","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.241Z","level":"info","message":"process_cv_scoring_completed","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","jobId":"a869d645-8905-4205-96f8-fe760e69f1f3","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.243Z","level":"info","message":"llm_call_metrics","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.244Z","level":"info","message":"generation_section_rewrite_completed","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","jobId":"a869d645-8905-4205-96f8-fe760e69f1f3","generationRunId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.245Z","level":"info","message":"llm_call_metrics","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.246Z","level":"info","message":"generation_resume_verified","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","jobId":"a869d645-8905-4205-96f8-fe760e69f1f3","generationRunId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.251Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","jobId":"a869d645-8905-4205-96f8-fe760e69f1f3","generationRunId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
          at runMicrotasks (<anonymous>)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:42.256Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","jobId":"a869d645-8905-4205-96f8-fe760e69f1f3","generationRunId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
          at runMicrotasks (<anonymous>)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:42.261Z","level":"info","message":"generation_cover_letters_completed","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","jobId":"a869d645-8905-4205-96f8-fe760e69f1f3","generationRunId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","variants":2,"fallbackApplied":true,"template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.262Z","level":"info","message":"pdf_generation_attempt","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","jobId":"a869d645-8905-4205-96f8-fe760e69f1f3","generationRunId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d4e415c4-1cdc-451d-b3bb-f0faf86e0946/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/d4e415c4-1cdc-451d-b3bb-f0faf86e0946/enhanced_modern.pdf","session":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.262Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","jobId":"a869d645-8905-4205-96f8-fe760e69f1f3","generationRunId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d4e415c4-1cdc-451d-b3bb-f0faf86e0946/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.263Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","jobId":"a869d645-8905-4205-96f8-fe760e69f1f3","generationRunId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d4e415c4-1cdc-451d-b3bb-f0faf86e0946/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/d4e415c4-1cdc-451d-b3bb-f0faf86e0946/enhanced_modern.pdf","session":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.263Z","level":"info","message":"pdf_generation_attempt","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","jobId":"a869d645-8905-4205-96f8-fe760e69f1f3","generationRunId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d4e415c4-1cdc-451d-b3bb-f0faf86e0946/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/d4e415c4-1cdc-451d-b3bb-f0faf86e0946/enhanced_professional.pdf","session":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.264Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","jobId":"a869d645-8905-4205-96f8-fe760e69f1f3","generationRunId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d4e415c4-1cdc-451d-b3bb-f0faf86e0946/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.264Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","jobId":"a869d645-8905-4205-96f8-fe760e69f1f3","generationRunId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d4e415c4-1cdc-451d-b3bb-f0faf86e0946/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/d4e415c4-1cdc-451d-b3bb-f0faf86e0946/enhanced_professional.pdf","session":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.264Z","level":"info","message":"pdf_generation_attempt","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","jobId":"a869d645-8905-4205-96f8-fe760e69f1f3","generationRunId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d4e415c4-1cdc-451d-b3bb-f0faf86e0946/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/d4e415c4-1cdc-451d-b3bb-f0faf86e0946/cover_letter_cover_modern.pdf","session":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.265Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","jobId":"a869d645-8905-4205-96f8-fe760e69f1f3","generationRunId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d4e415c4-1cdc-451d-b3bb-f0faf86e0946/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.265Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","jobId":"a869d645-8905-4205-96f8-fe760e69f1f3","generationRunId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d4e415c4-1cdc-451d-b3bb-f0faf86e0946/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/d4e415c4-1cdc-451d-b3bb-f0faf86e0946/cover_letter_cover_modern.pdf","session":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.266Z","level":"info","message":"pdf_generation_attempt","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","jobId":"a869d645-8905-4205-96f8-fe760e69f1f3","generationRunId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d4e415c4-1cdc-451d-b3bb-f0faf86e0946/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/d4e415c4-1cdc-451d-b3bb-f0faf86e0946/cover_letter_cover_professional.pdf","session":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.266Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","jobId":"a869d645-8905-4205-96f8-fe760e69f1f3","generationRunId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d4e415c4-1cdc-451d-b3bb-f0faf86e0946/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.267Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","jobId":"a869d645-8905-4205-96f8-fe760e69f1f3","generationRunId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d4e415c4-1cdc-451d-b3bb-f0faf86e0946/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/d4e415c4-1cdc-451d-b3bb-f0faf86e0946/cover_letter_cover_professional.pdf","session":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.268Z","level":"info","message":"llm_call_metrics","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.269Z","level":"info","message":"generation_completed","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","jobId":"a869d645-8905-4205-96f8-fe760e69f1f3","generationRunId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","enhancedScore":80,"outputs":5,"template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.270Z","level":"info","message":"placeholder_record_deleted","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","jobId":"a869d645-8905-4205-96f8-fe760e69f1f3","placeholderIdentifier":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a869d645-8905-4205-96f8-fe760e69f1f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.271Z","level":"info","message":"http_request_completed","requestId":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":50,"contentLength":"58133","template":"unknown","session":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d4e415c4-1cdc-451d-b3bb-f0faf86e0946","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.274Z","level":"info","message":"http_request_received","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","method":"POST","path":"/api/process-cv","template":"unknown","session":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.274Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.276Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.277Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.278Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.280Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/5b3595b7-0698-4608-aa5c-fc29a72d4e7e/incoming/original.pdf","chunks":5,"timestamp":1764854502285}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":262144}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":262144,"newSize":262144,"durationMs":6}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/5b3595b7-0698-4608-aa5c-fc29a72d4e7e/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/5b3595b7-0698-4608-aa5c-fc29a72d4e7e/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":7}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.292Z","level":"info","message":"process_cv_started","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","jobId":"e73432be-bba4-4d84-8dcf-20605e61f078","manualJobDescriptionProvided":true,"template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.293Z","level":"info","message":"template_selection","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","jobId":"e73432be-bba4-4d84-8dcf-20605e61f078","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.293Z","level":"info","message":"initial_upload_completed","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","jobId":"e73432be-bba4-4d84-8dcf-20605e61f078","bucket":"test-bucket","key":"cv/candidate/5b3595b7-0698-4608-aa5c-fc29a72d4e7e/incoming/original.pdf","template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.294Z","level":"info","message":"resume_text_extracted","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","jobId":"e73432be-bba4-4d84-8dcf-20605e61f078","characters":9,"template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.294Z","level":"info","message":"document_classification_ai_metrics","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","jobId":"e73432be-bba4-4d84-8dcf-20605e61f078","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"3fb95a90cc3314ffe158e6938082b6242f708ef53653928d4aec2ec0ec66e1aa","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.309Z","level":"info","message":"resume_classified","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","jobId":"e73432be-bba4-4d84-8dcf-20605e61f078","isResume":false,"description":"a document starting with \"Docx text\"","confidence":0.3,"accepted":true,"overridden":true,"template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.309Z","level":"info","message":"raw_upload_relocated","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","jobId":"e73432be-bba4-4d84-8dcf-20605e61f078","bucket":"test-bucket","fromKey":"cv/candidate/5b3595b7-0698-4608-aa5c-fc29a72d4e7e/incoming/original.pdf","toKey":"cv/docx_text/5b3595b7-0698-4608-aa5c-fc29a72d4e7e/original.docx","template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.310Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","jobId":"e73432be-bba4-4d84-8dcf-20605e61f078","bucket":"test-bucket","key":"cv/docx_text/5b3595b7-0698-4608-aa5c-fc29a72d4e7e/original.docx","template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.310Z","level":"info","message":"dynamo_initial_record_written","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","jobId":"e73432be-bba4-4d84-8dcf-20605e61f078","bucket":"test-bucket","key":"cv/docx_text/5b3595b7-0698-4608-aa5c-fc29a72d4e7e/original.docx","template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.310Z","level":"info","message":"upload_metadata_written","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","jobId":"e73432be-bba4-4d84-8dcf-20605e61f078","bucket":"test-bucket","key":"cv/docx_text/5b3595b7-0698-4608-aa5c-fc29a72d4e7e/logs/log.json","template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.311Z","level":"info","message":"job_description_supplied_manually","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","jobId":"e73432be-bba4-4d84-8dcf-20605e61f078","characters":174,"template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.311Z","level":"info","message":"job_description_analyzed","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","jobId":"e73432be-bba4-4d84-8dcf-20605e61f078","jobTitle":"","jobSkills":5,"template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.311Z","level":"info","message":"resume_skills_analyzed","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","jobId":"e73432be-bba4-4d84-8dcf-20605e61f078","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.312Z","level":"info","message":"llm_call_metrics","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.312Z","level":"info","message":"process_cv_scoring_completed","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","jobId":"e73432be-bba4-4d84-8dcf-20605e61f078","applicantName":"Docx text","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.314Z","level":"info","message":"llm_call_metrics","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"31abd14e21e30560dd0979a805a53ba1e348c7a15b5557d1589a085105e61022","outputDigest":"20c6bad519a1c8c51482632fc36f521f4cdc6c74524ae2a7da48d87e23be89bd","addedSkillCount":0,"template":"resume_rewrite","session":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.315Z","level":"info","message":"generation_section_rewrite_completed","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","jobId":"e73432be-bba4-4d84-8dcf-20605e61f078","generationRunId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.315Z","level":"info","message":"llm_call_metrics","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.317Z","level":"info","message":"generation_resume_verified","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","jobId":"e73432be-bba4-4d84-8dcf-20605e61f078","generationRunId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.319Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","jobId":"e73432be-bba4-4d84-8dcf-20605e61f078","generationRunId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
          at runMicrotasks (<anonymous>)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:42.326Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","jobId":"e73432be-bba4-4d84-8dcf-20605e61f078","generationRunId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
          at runMicrotasks (<anonymous>)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:42.331Z","level":"info","message":"generation_cover_letters_completed","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","jobId":"e73432be-bba4-4d84-8dcf-20605e61f078","generationRunId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","variants":2,"fallbackApplied":true,"template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.331Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","jobId":"e73432be-bba4-4d84-8dcf-20605e61f078","generationRunId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","documentType":"resume","outputName":"original_upload","outputKeyPrefix":"cv/docx_text/5b3595b7-0698-4608-aa5c-fc29a72d4e7e/","originalUploadKey":"cv/docx_text/5b3595b7-0698-4608-aa5c-fc29a72d4e7e/original.docx","originalUploadExtension":".docx","templateId":"modern","requestedTemplateId":"modern","engine":"pdf-lib","bytes":9,"template":"modern","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.332Z","level":"info","message":"original_upload_pdf_generated","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","jobId":"e73432be-bba4-4d84-8dcf-20605e61f078","generationRunId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","storageKey":"cv/docx_text/5b3595b7-0698-4608-aa5c-fc29a72d4e7e/original/original_upload.pdf","originalUploadKey":"cv/docx_text/5b3595b7-0698-4608-aa5c-fc29a72d4e7e/original.docx","originalUploadExtension":".docx","template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.332Z","level":"info","message":"pdf_generation_attempt","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","jobId":"e73432be-bba4-4d84-8dcf-20605e61f078","generationRunId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/5b3595b7-0698-4608-aa5c-fc29a72d4e7e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/5b3595b7-0698-4608-aa5c-fc29a72d4e7e/enhanced_modern.pdf","session":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.333Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","jobId":"e73432be-bba4-4d84-8dcf-20605e61f078","generationRunId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/5b3595b7-0698-4608-aa5c-fc29a72d4e7e/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.333Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","jobId":"e73432be-bba4-4d84-8dcf-20605e61f078","generationRunId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/5b3595b7-0698-4608-aa5c-fc29a72d4e7e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/5b3595b7-0698-4608-aa5c-fc29a72d4e7e/enhanced_modern.pdf","session":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.334Z","level":"info","message":"pdf_generation_attempt","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","jobId":"e73432be-bba4-4d84-8dcf-20605e61f078","generationRunId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/5b3595b7-0698-4608-aa5c-fc29a72d4e7e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/5b3595b7-0698-4608-aa5c-fc29a72d4e7e/enhanced_professional.pdf","session":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.334Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","jobId":"e73432be-bba4-4d84-8dcf-20605e61f078","generationRunId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/5b3595b7-0698-4608-aa5c-fc29a72d4e7e/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.335Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","jobId":"e73432be-bba4-4d84-8dcf-20605e61f078","generationRunId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/5b3595b7-0698-4608-aa5c-fc29a72d4e7e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/5b3595b7-0698-4608-aa5c-fc29a72d4e7e/enhanced_professional.pdf","session":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.335Z","level":"info","message":"pdf_generation_attempt","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","jobId":"e73432be-bba4-4d84-8dcf-20605e61f078","generationRunId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/5b3595b7-0698-4608-aa5c-fc29a72d4e7e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/5b3595b7-0698-4608-aa5c-fc29a72d4e7e/cover_letter_cover_modern.pdf","session":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.335Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","jobId":"e73432be-bba4-4d84-8dcf-20605e61f078","generationRunId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/5b3595b7-0698-4608-aa5c-fc29a72d4e7e/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.336Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","jobId":"e73432be-bba4-4d84-8dcf-20605e61f078","generationRunId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/5b3595b7-0698-4608-aa5c-fc29a72d4e7e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/5b3595b7-0698-4608-aa5c-fc29a72d4e7e/cover_letter_cover_modern.pdf","session":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.336Z","level":"info","message":"pdf_generation_attempt","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","jobId":"e73432be-bba4-4d84-8dcf-20605e61f078","generationRunId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/5b3595b7-0698-4608-aa5c-fc29a72d4e7e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/5b3595b7-0698-4608-aa5c-fc29a72d4e7e/cover_letter_cover_professional.pdf","session":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.337Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","jobId":"e73432be-bba4-4d84-8dcf-20605e61f078","generationRunId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/5b3595b7-0698-4608-aa5c-fc29a72d4e7e/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.337Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","jobId":"e73432be-bba4-4d84-8dcf-20605e61f078","generationRunId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/5b3595b7-0698-4608-aa5c-fc29a72d4e7e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/5b3595b7-0698-4608-aa5c-fc29a72d4e7e/cover_letter_cover_professional.pdf","session":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.340Z","level":"info","message":"llm_call_metrics","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.341Z","level":"info","message":"generation_completed","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","jobId":"e73432be-bba4-4d84-8dcf-20605e61f078","generationRunId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","enhancedScore":80,"outputs":6,"template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.342Z","level":"info","message":"placeholder_record_deleted","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","jobId":"e73432be-bba4-4d84-8dcf-20605e61f078","placeholderIdentifier":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e73432be-bba4-4d84-8dcf-20605e61f078","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.343Z","level":"info","message":"http_request_completed","requestId":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":69,"contentLength":"58696","template":"unknown","session":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5b3595b7-0698-4608-aa5c-fc29a72d4e7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.347Z","level":"info","message":"http_request_received","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","method":"POST","path":"/api/process-cv","template":"unknown","session":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.348Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.349Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.350Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.352Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.353Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/7ff28e5d-3619-4ce8-baca-9f2519c9ff9b/incoming/original.pdf","chunks":33,"timestamp":1764854502358}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":2097152}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":2097152,"newSize":2097152,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/7ff28e5d-3619-4ce8-baca-9f2519c9ff9b/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/7ff28e5d-3619-4ce8-baca-9f2519c9ff9b/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.360Z","level":"info","message":"process_cv_started","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","jobId":"2d3b370f-41e2-4142-a28b-44883afcf9da","manualJobDescriptionProvided":true,"template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.360Z","level":"info","message":"template_selection","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","jobId":"2d3b370f-41e2-4142-a28b-44883afcf9da","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.361Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","jobId":"2d3b370f-41e2-4142-a28b-44883afcf9da","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:21:42.366Z","level":"info","message":"initial_upload_completed","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","jobId":"2d3b370f-41e2-4142-a28b-44883afcf9da","bucket":"test-bucket","key":"cv/candidate/7ff28e5d-3619-4ce8-baca-9f2519c9ff9b/incoming/original.pdf","template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.367Z","level":"info","message":"resume_text_extracted","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","jobId":"2d3b370f-41e2-4142-a28b-44883afcf9da","characters":57,"template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.367Z","level":"info","message":"resume_classified","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","jobId":"2d3b370f-41e2-4142-a28b-44883afcf9da","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.367Z","level":"info","message":"raw_upload_relocated","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","jobId":"2d3b370f-41e2-4142-a28b-44883afcf9da","bucket":"test-bucket","fromKey":"cv/candidate/7ff28e5d-3619-4ce8-baca-9f2519c9ff9b/incoming/original.pdf","toKey":"cv/professional_summary/7ff28e5d-3619-4ce8-baca-9f2519c9ff9b/original.pdf","template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.368Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","jobId":"2d3b370f-41e2-4142-a28b-44883afcf9da","bucket":"test-bucket","key":"cv/professional_summary/7ff28e5d-3619-4ce8-baca-9f2519c9ff9b/original.pdf","template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.368Z","level":"info","message":"dynamo_initial_record_written","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","jobId":"2d3b370f-41e2-4142-a28b-44883afcf9da","bucket":"test-bucket","key":"cv/professional_summary/7ff28e5d-3619-4ce8-baca-9f2519c9ff9b/original.pdf","template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.368Z","level":"info","message":"upload_metadata_written","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","jobId":"2d3b370f-41e2-4142-a28b-44883afcf9da","bucket":"test-bucket","key":"cv/professional_summary/7ff28e5d-3619-4ce8-baca-9f2519c9ff9b/logs/log.json","template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.369Z","level":"info","message":"job_description_supplied_manually","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","jobId":"2d3b370f-41e2-4142-a28b-44883afcf9da","characters":174,"template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.369Z","level":"info","message":"job_description_analyzed","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","jobId":"2d3b370f-41e2-4142-a28b-44883afcf9da","jobTitle":"","jobSkills":5,"template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.369Z","level":"info","message":"resume_skills_analyzed","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","jobId":"2d3b370f-41e2-4142-a28b-44883afcf9da","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.370Z","level":"info","message":"llm_call_metrics","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.370Z","level":"info","message":"process_cv_scoring_completed","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","jobId":"2d3b370f-41e2-4142-a28b-44883afcf9da","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.372Z","level":"info","message":"llm_call_metrics","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.373Z","level":"info","message":"generation_section_rewrite_completed","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","jobId":"2d3b370f-41e2-4142-a28b-44883afcf9da","generationRunId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.373Z","level":"info","message":"llm_call_metrics","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.375Z","level":"info","message":"generation_resume_verified","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","jobId":"2d3b370f-41e2-4142-a28b-44883afcf9da","generationRunId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.378Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","jobId":"2d3b370f-41e2-4142-a28b-44883afcf9da","generationRunId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
          at runMicrotasks (<anonymous>)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:42.384Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","jobId":"2d3b370f-41e2-4142-a28b-44883afcf9da","generationRunId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
          at runMicrotasks (<anonymous>)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:42.389Z","level":"info","message":"generation_cover_letters_completed","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","jobId":"2d3b370f-41e2-4142-a28b-44883afcf9da","generationRunId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","variants":2,"fallbackApplied":true,"template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.390Z","level":"info","message":"pdf_generation_attempt","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","jobId":"2d3b370f-41e2-4142-a28b-44883afcf9da","generationRunId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7ff28e5d-3619-4ce8-baca-9f2519c9ff9b/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/7ff28e5d-3619-4ce8-baca-9f2519c9ff9b/enhanced_modern.pdf","session":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.390Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","jobId":"2d3b370f-41e2-4142-a28b-44883afcf9da","generationRunId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7ff28e5d-3619-4ce8-baca-9f2519c9ff9b/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.391Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","jobId":"2d3b370f-41e2-4142-a28b-44883afcf9da","generationRunId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7ff28e5d-3619-4ce8-baca-9f2519c9ff9b/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/7ff28e5d-3619-4ce8-baca-9f2519c9ff9b/enhanced_modern.pdf","session":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.391Z","level":"info","message":"pdf_generation_attempt","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","jobId":"2d3b370f-41e2-4142-a28b-44883afcf9da","generationRunId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7ff28e5d-3619-4ce8-baca-9f2519c9ff9b/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/7ff28e5d-3619-4ce8-baca-9f2519c9ff9b/enhanced_professional.pdf","session":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.391Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","jobId":"2d3b370f-41e2-4142-a28b-44883afcf9da","generationRunId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7ff28e5d-3619-4ce8-baca-9f2519c9ff9b/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.392Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","jobId":"2d3b370f-41e2-4142-a28b-44883afcf9da","generationRunId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7ff28e5d-3619-4ce8-baca-9f2519c9ff9b/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/7ff28e5d-3619-4ce8-baca-9f2519c9ff9b/enhanced_professional.pdf","session":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.392Z","level":"info","message":"pdf_generation_attempt","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","jobId":"2d3b370f-41e2-4142-a28b-44883afcf9da","generationRunId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7ff28e5d-3619-4ce8-baca-9f2519c9ff9b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/7ff28e5d-3619-4ce8-baca-9f2519c9ff9b/cover_letter_cover_modern.pdf","session":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.393Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","jobId":"2d3b370f-41e2-4142-a28b-44883afcf9da","generationRunId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7ff28e5d-3619-4ce8-baca-9f2519c9ff9b/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.393Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","jobId":"2d3b370f-41e2-4142-a28b-44883afcf9da","generationRunId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7ff28e5d-3619-4ce8-baca-9f2519c9ff9b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/7ff28e5d-3619-4ce8-baca-9f2519c9ff9b/cover_letter_cover_modern.pdf","session":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.393Z","level":"info","message":"pdf_generation_attempt","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","jobId":"2d3b370f-41e2-4142-a28b-44883afcf9da","generationRunId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7ff28e5d-3619-4ce8-baca-9f2519c9ff9b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/7ff28e5d-3619-4ce8-baca-9f2519c9ff9b/cover_letter_cover_professional.pdf","session":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.394Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","jobId":"2d3b370f-41e2-4142-a28b-44883afcf9da","generationRunId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7ff28e5d-3619-4ce8-baca-9f2519c9ff9b/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.394Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","jobId":"2d3b370f-41e2-4142-a28b-44883afcf9da","generationRunId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7ff28e5d-3619-4ce8-baca-9f2519c9ff9b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/7ff28e5d-3619-4ce8-baca-9f2519c9ff9b/cover_letter_cover_professional.pdf","session":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.396Z","level":"info","message":"llm_call_metrics","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.397Z","level":"info","message":"generation_completed","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","jobId":"2d3b370f-41e2-4142-a28b-44883afcf9da","generationRunId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","enhancedScore":80,"outputs":5,"template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.398Z","level":"info","message":"placeholder_record_deleted","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","jobId":"2d3b370f-41e2-4142-a28b-44883afcf9da","placeholderIdentifier":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3b370f-41e2-4142-a28b-44883afcf9da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.399Z","level":"info","message":"http_request_completed","requestId":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":52,"contentLength":"58133","template":"unknown","session":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7ff28e5d-3619-4ce8-baca-9f2519c9ff9b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.401Z","level":"info","message":"http_request_received","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","method":"POST","path":"/api/process-cv","template":"unknown","session":"e4c9d13e-d936-473b-ad5b-774c38a5d275","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e4c9d13e-d936-473b-ad5b-774c38a5d275","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.402Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.403Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.404Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.406Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.407Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/e4c9d13e-d936-473b-ad5b-774c38a5d275/incoming/original.pdf","chunks":82,"timestamp":1764854502419}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5241856}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5241856,"newSize":5241856,"durationMs":52}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/e4c9d13e-d936-473b-ad5b-774c38a5d275/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/e4c9d13e-d936-473b-ad5b-774c38a5d275/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":60}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.485Z","level":"info","message":"process_cv_started","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","jobId":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","manualJobDescriptionProvided":true,"template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.486Z","level":"info","message":"template_selection","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","jobId":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.486Z","level":"info","message":"initial_upload_completed","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","jobId":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","bucket":"test-bucket","key":"cv/candidate/e4c9d13e-d936-473b-ad5b-774c38a5d275/incoming/original.pdf","template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.487Z","level":"info","message":"resume_text_extracted","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","jobId":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","characters":9,"template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.487Z","level":"info","message":"document_classification_ai_metrics","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","jobId":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"3fb95a90cc3314ffe158e6938082b6242f708ef53653928d4aec2ec0ec66e1aa","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.488Z","level":"info","message":"resume_classified","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","jobId":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","isResume":false,"description":"a document starting with \"Docx text\"","confidence":0.3,"accepted":true,"overridden":true,"template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.488Z","level":"info","message":"raw_upload_relocated","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","jobId":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","bucket":"test-bucket","fromKey":"cv/candidate/e4c9d13e-d936-473b-ad5b-774c38a5d275/incoming/original.pdf","toKey":"cv/docx_text/e4c9d13e-d936-473b-ad5b-774c38a5d275/original.docx","template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.489Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","jobId":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","bucket":"test-bucket","key":"cv/docx_text/e4c9d13e-d936-473b-ad5b-774c38a5d275/original.docx","template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.489Z","level":"info","message":"dynamo_initial_record_written","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","jobId":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","bucket":"test-bucket","key":"cv/docx_text/e4c9d13e-d936-473b-ad5b-774c38a5d275/original.docx","template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.489Z","level":"info","message":"upload_metadata_written","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","jobId":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","bucket":"test-bucket","key":"cv/docx_text/e4c9d13e-d936-473b-ad5b-774c38a5d275/logs/log.json","template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.490Z","level":"info","message":"job_description_supplied_manually","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","jobId":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","characters":174,"template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.490Z","level":"info","message":"job_description_analyzed","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","jobId":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","jobTitle":"","jobSkills":5,"template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.492Z","level":"info","message":"resume_skills_analyzed","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","jobId":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.492Z","level":"info","message":"llm_call_metrics","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"e4c9d13e-d936-473b-ad5b-774c38a5d275","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e4c9d13e-d936-473b-ad5b-774c38a5d275","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.493Z","level":"info","message":"process_cv_scoring_completed","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","jobId":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","applicantName":"Docx text","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.496Z","level":"info","message":"llm_call_metrics","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"31abd14e21e30560dd0979a805a53ba1e348c7a15b5557d1589a085105e61022","outputDigest":"20c6bad519a1c8c51482632fc36f521f4cdc6c74524ae2a7da48d87e23be89bd","addedSkillCount":0,"template":"resume_rewrite","session":"e4c9d13e-d936-473b-ad5b-774c38a5d275","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"e4c9d13e-d936-473b-ad5b-774c38a5d275","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.496Z","level":"info","message":"generation_section_rewrite_completed","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","jobId":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","generationRunId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.497Z","level":"info","message":"llm_call_metrics","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"e4c9d13e-d936-473b-ad5b-774c38a5d275","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"e4c9d13e-d936-473b-ad5b-774c38a5d275","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.501Z","level":"info","message":"generation_resume_verified","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","jobId":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","generationRunId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.505Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","jobId":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","generationRunId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
          at runMicrotasks (<anonymous>)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:21:42.511Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","jobId":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","generationRunId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
          at runMicrotasks (<anonymous>)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:42.516Z","level":"info","message":"generation_cover_letters_completed","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","jobId":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","generationRunId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","variants":2,"fallbackApplied":true,"template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.517Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","jobId":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","generationRunId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","documentType":"resume","outputName":"original_upload","outputKeyPrefix":"cv/docx_text/e4c9d13e-d936-473b-ad5b-774c38a5d275/","originalUploadKey":"cv/docx_text/e4c9d13e-d936-473b-ad5b-774c38a5d275/original.docx","originalUploadExtension":".docx","templateId":"modern","requestedTemplateId":"modern","engine":"pdf-lib","bytes":9,"template":"modern","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.517Z","level":"info","message":"original_upload_pdf_generated","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","jobId":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","generationRunId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","storageKey":"cv/docx_text/e4c9d13e-d936-473b-ad5b-774c38a5d275/original/original_upload.pdf","originalUploadKey":"cv/docx_text/e4c9d13e-d936-473b-ad5b-774c38a5d275/original.docx","originalUploadExtension":".docx","template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.518Z","level":"info","message":"pdf_generation_attempt","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","jobId":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","generationRunId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/e4c9d13e-d936-473b-ad5b-774c38a5d275/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/e4c9d13e-d936-473b-ad5b-774c38a5d275/enhanced_modern.pdf","session":"e4c9d13e-d936-473b-ad5b-774c38a5d275","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e4c9d13e-d936-473b-ad5b-774c38a5d275","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.518Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","jobId":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","generationRunId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/e4c9d13e-d936-473b-ad5b-774c38a5d275/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e4c9d13e-d936-473b-ad5b-774c38a5d275","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e4c9d13e-d936-473b-ad5b-774c38a5d275","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.519Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","jobId":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","generationRunId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/e4c9d13e-d936-473b-ad5b-774c38a5d275/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/e4c9d13e-d936-473b-ad5b-774c38a5d275/enhanced_modern.pdf","session":"e4c9d13e-d936-473b-ad5b-774c38a5d275","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e4c9d13e-d936-473b-ad5b-774c38a5d275","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.519Z","level":"info","message":"pdf_generation_attempt","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","jobId":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","generationRunId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/e4c9d13e-d936-473b-ad5b-774c38a5d275/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/e4c9d13e-d936-473b-ad5b-774c38a5d275/enhanced_professional.pdf","session":"e4c9d13e-d936-473b-ad5b-774c38a5d275","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e4c9d13e-d936-473b-ad5b-774c38a5d275","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.520Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","jobId":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","generationRunId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/e4c9d13e-d936-473b-ad5b-774c38a5d275/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e4c9d13e-d936-473b-ad5b-774c38a5d275","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e4c9d13e-d936-473b-ad5b-774c38a5d275","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.520Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","jobId":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","generationRunId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/e4c9d13e-d936-473b-ad5b-774c38a5d275/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/e4c9d13e-d936-473b-ad5b-774c38a5d275/enhanced_professional.pdf","session":"e4c9d13e-d936-473b-ad5b-774c38a5d275","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e4c9d13e-d936-473b-ad5b-774c38a5d275","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.520Z","level":"info","message":"pdf_generation_attempt","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","jobId":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","generationRunId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/e4c9d13e-d936-473b-ad5b-774c38a5d275/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/e4c9d13e-d936-473b-ad5b-774c38a5d275/cover_letter_cover_modern.pdf","session":"e4c9d13e-d936-473b-ad5b-774c38a5d275","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e4c9d13e-d936-473b-ad5b-774c38a5d275","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.521Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","jobId":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","generationRunId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/e4c9d13e-d936-473b-ad5b-774c38a5d275/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e4c9d13e-d936-473b-ad5b-774c38a5d275","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e4c9d13e-d936-473b-ad5b-774c38a5d275","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.521Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","jobId":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","generationRunId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/e4c9d13e-d936-473b-ad5b-774c38a5d275/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/e4c9d13e-d936-473b-ad5b-774c38a5d275/cover_letter_cover_modern.pdf","session":"e4c9d13e-d936-473b-ad5b-774c38a5d275","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e4c9d13e-d936-473b-ad5b-774c38a5d275","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.522Z","level":"info","message":"pdf_generation_attempt","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","jobId":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","generationRunId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/e4c9d13e-d936-473b-ad5b-774c38a5d275/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/e4c9d13e-d936-473b-ad5b-774c38a5d275/cover_letter_cover_professional.pdf","session":"e4c9d13e-d936-473b-ad5b-774c38a5d275","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e4c9d13e-d936-473b-ad5b-774c38a5d275","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.522Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","jobId":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","generationRunId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/e4c9d13e-d936-473b-ad5b-774c38a5d275/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e4c9d13e-d936-473b-ad5b-774c38a5d275","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e4c9d13e-d936-473b-ad5b-774c38a5d275","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.523Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","jobId":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","generationRunId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/e4c9d13e-d936-473b-ad5b-774c38a5d275/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/e4c9d13e-d936-473b-ad5b-774c38a5d275/cover_letter_cover_professional.pdf","session":"e4c9d13e-d936-473b-ad5b-774c38a5d275","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e4c9d13e-d936-473b-ad5b-774c38a5d275","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.526Z","level":"info","message":"llm_call_metrics","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"e4c9d13e-d936-473b-ad5b-774c38a5d275","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e4c9d13e-d936-473b-ad5b-774c38a5d275","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.527Z","level":"info","message":"generation_completed","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","jobId":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","generationRunId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","enhancedScore":80,"outputs":6,"template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.528Z","level":"info","message":"placeholder_record_deleted","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","jobId":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","placeholderIdentifier":"e4c9d13e-d936-473b-ad5b-774c38a5d275","template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f05c690e-0e04-4c90-a56c-d2a92e04ad68","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.529Z","level":"info","message":"http_request_completed","requestId":"e4c9d13e-d936-473b-ad5b-774c38a5d275","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":128,"contentLength":"58696","template":"unknown","session":"e4c9d13e-d936-473b-ad5b-774c38a5d275","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e4c9d13e-d936-473b-ad5b-774c38a5d275","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.536Z","level":"info","message":"http_request_received","requestId":"3abd3fa4-e3fd-415a-a039-2c30d799c6c7","method":"POST","path":"/api/process-cv","template":"unknown","session":"3abd3fa4-e3fd-415a-a039-2c30d799c6c7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3abd3fa4-e3fd-415a-a039-2c30d799c6c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.537Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.538Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.540Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.541Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.543Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/3abd3fa4-e3fd-415a-a039-2c30d799c6c7/incoming/original.pdf","chunks":81,"timestamp":1764854502549}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5242880}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5242880,"newSize":5242880,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/3abd3fa4-e3fd-415a-a039-2c30d799c6c7/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/3abd3fa4-e3fd-415a-a039-2c30d799c6c7/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.552Z","level":"warn","message":"resume_upload_failed","requestId":"3abd3fa4-e3fd-415a-a039-2c30d799c6c7","jobId":"c96e5dc2-70ba-4247-911f-e05eed745d6a","storageError":false,"error":{"name":"MulterError","message":"File too large","code":"LIMIT_FILE_SIZE","stack":"MulterError: File too large\n    at abortWithCode (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:73:22)\n    at FileStream.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:136:11)\n    at FileStream.emit (node:events:513:28)\n    at SBMH.ssCb [as _cb] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:479:32)\n    at feed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:248:10)\n    at SBMH.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:391:12)\n    at _write (node:internal/streams/writable:332:10)\n    at Multipart.Writable.write (node:internal/streams/writable:336:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:754:22)\n    at IncomingMessage.emit (node:events:513:28)\n    at addChunk (node:internal/streams/readable:315:12)\n    at readableAddChunk (node:internal/streams/readable:289:9)\n    at IncomingMessage.Readable.push (node:internal/streams/readable:228:10)\n    at HTTPParser.parserOnBody (node:_http_common:140:24)"},"template":"unknown","session":"c96e5dc2-70ba-4247-911f-e05eed745d6a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c96e5dc2-70ba-4247-911f-e05eed745d6a","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:24782:7
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at node_modules/multer/lib/remove-uploaded-files.js:20:9
      at Object.cb [as _removeFile] (lib/uploads/s3StreamingStorage.js:166:9)
      at remove (node_modules/multer/lib/make-middleware.js:60:19)
      at handleFile (node_modules/multer/lib/remove-uploaded-files.js:10:5)
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:25:3)
      at Counter.<anonymous> (node_modules/multer/lib/make-middleware.js:63:9)
      at Counter.decrement (node_modules/multer/lib/counter.js:15:32)
      at node_modules/multer/lib/make-middleware.js:143:34
      at cb (lib/uploads/s3StreamingStorage.js:82:9)
      at FileStream.finish (lib/uploads/s3StreamingStorage.js:149:11)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.558Z","level":"warn","message":"api_error_response","requestId":"3abd3fa4-e3fd-415a-a039-2c30d799c6c7","jobId":"c96e5dc2-70ba-4247-911f-e05eed745d6a","status":400,"error":{"code":"UPLOAD_VALIDATION_FAILED","message":"File too large","details":{"field":"resume"},"requestId":"3abd3fa4-e3fd-415a-a039-2c30d799c6c7","jobId":"c96e5dc2-70ba-4247-911f-e05eed745d6a"},"template":"unknown","session":"c96e5dc2-70ba-4247-911f-e05eed745d6a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c96e5dc2-70ba-4247-911f-e05eed745d6a","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at sendError (server.js:3966:3)
      at respond (server.js:24790:9)
      at server.js:24794:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at node_modules/multer/lib/remove-uploaded-files.js:20:9
      at Object.cb [as _removeFile] (lib/uploads/s3StreamingStorage.js:166:9)
      at remove (node_modules/multer/lib/make-middleware.js:60:19)
      at handleFile (node_modules/multer/lib/remove-uploaded-files.js:10:5)
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:25:3)
      at Counter.<anonymous> (node_modules/multer/lib/make-middleware.js:63:9)
      at Counter.decrement (node_modules/multer/lib/counter.js:15:32)
      at node_modules/multer/lib/make-middleware.js:143:34
      at cb (lib/uploads/s3StreamingStorage.js:82:9)
      at FileStream.finish (lib/uploads/s3StreamingStorage.js:149:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.564Z","level":"info","message":"http_request_completed","requestId":"3abd3fa4-e3fd-415a-a039-2c30d799c6c7","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":28,"contentLength":"215","template":"unknown","session":"3abd3fa4-e3fd-415a-a039-2c30d799c6c7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3abd3fa4-e3fd-415a-a039-2c30d799c6c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.566Z","level":"info","message":"http_request_received","requestId":"334e6411-b07d-4504-b6bb-a48386e88067","method":"POST","path":"/api/process-cv","template":"unknown","session":"334e6411-b07d-4504-b6bb-a48386e88067","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"334e6411-b07d-4504-b6bb-a48386e88067","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.567Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.568Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.569Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.571Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.572Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/334e6411-b07d-4504-b6bb-a48386e88067/incoming/original.pdf","chunks":1,"timestamp":1764854502574}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/334e6411-b07d-4504-b6bb-a48386e88067/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/334e6411-b07d-4504-b6bb-a48386e88067/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.582Z","level":"info","message":"process_cv_started","requestId":"334e6411-b07d-4504-b6bb-a48386e88067","jobId":"12198449-0c94-4bbf-9a19-1ad0df9848c3","manualJobDescriptionProvided":true,"template":"unknown","session":"12198449-0c94-4bbf-9a19-1ad0df9848c3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"12198449-0c94-4bbf-9a19-1ad0df9848c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.582Z","level":"info","message":"template_selection","requestId":"334e6411-b07d-4504-b6bb-a48386e88067","jobId":"12198449-0c94-4bbf-9a19-1ad0df9848c3","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"12198449-0c94-4bbf-9a19-1ad0df9848c3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"12198449-0c94-4bbf-9a19-1ad0df9848c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.583Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"334e6411-b07d-4504-b6bb-a48386e88067","jobId":"12198449-0c94-4bbf-9a19-1ad0df9848c3","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"12198449-0c94-4bbf-9a19-1ad0df9848c3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"12198449-0c94-4bbf-9a19-1ad0df9848c3","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:21:42.589Z","level":"info","message":"initial_upload_completed","requestId":"334e6411-b07d-4504-b6bb-a48386e88067","jobId":"12198449-0c94-4bbf-9a19-1ad0df9848c3","bucket":"test-bucket","key":"cv/candidate/334e6411-b07d-4504-b6bb-a48386e88067/incoming/original.pdf","template":"unknown","session":"12198449-0c94-4bbf-9a19-1ad0df9848c3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"12198449-0c94-4bbf-9a19-1ad0df9848c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.589Z","level":"info","message":"resume_text_extracted","requestId":"334e6411-b07d-4504-b6bb-a48386e88067","jobId":"12198449-0c94-4bbf-9a19-1ad0df9848c3","characters":70,"template":"unknown","session":"12198449-0c94-4bbf-9a19-1ad0df9848c3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"12198449-0c94-4bbf-9a19-1ad0df9848c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.590Z","level":"info","message":"document_classification_ai_metrics","requestId":"334e6411-b07d-4504-b6bb-a48386e88067","jobId":"12198449-0c94-4bbf-9a19-1ad0df9848c3","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"6e7cfda39efd36ecdd0998d74c5dc8668e761fe838cd589d1b8e87517f67efbf","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"12198449-0c94-4bbf-9a19-1ad0df9848c3","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"12198449-0c94-4bbf-9a19-1ad0df9848c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.590Z","level":"info","message":"resume_classified","requestId":"334e6411-b07d-4504-b6bb-a48386e88067","jobId":"12198449-0c94-4bbf-9a19-1ad0df9848c3","isResume":false,"description":"an invoice document","confidence":0.4,"accepted":false,"overridden":false,"template":"unknown","session":"12198449-0c94-4bbf-9a19-1ad0df9848c3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"12198449-0c94-4bbf-9a19-1ad0df9848c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.591Z","level":"warn","message":"resume_validation_failed","requestId":"334e6411-b07d-4504-b6bb-a48386e88067","jobId":"12198449-0c94-4bbf-9a19-1ad0df9848c3","reason":"not_identified_as_resume","description":"an invoice document","confidence":0.4,"wordCount":12,"invalidKey":"invalid/candidate/2025-12-04/334e6411-b07d-4504-b6bb-a48386e88067/an-invoice-302c2eb3-7126-4ca0-b434-e93e2350e83c.pdf","classification":"an invoice","template":"unknown","session":"12198449-0c94-4bbf-9a19-1ad0df9848c3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"12198449-0c94-4bbf-9a19-1ad0df9848c3","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25669:9
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.596Z","level":"warn","message":"api_error_response","requestId":"334e6411-b07d-4504-b6bb-a48386e88067","jobId":"12198449-0c94-4bbf-9a19-1ad0df9848c3","status":400,"error":{"code":"INVALID_RESUME_CONTENT","message":"You have uploaded an invoice document (classified as \"invoice\"). Detected invoice document keywords such as \"invoice\", \"bill to\", and \"payment terms\". Please upload a correct CV or resume to continue.","details":{"description":"an invoice document","confidence":0.4,"reason":"Detected invoice document keywords such as \"invoice\", \"bill to\", and \"payment terms\".","classification":"an invoice","className":"invoice","storageKey":"invalid/candidate/2025-12-04/334e6411-b07d-4504-b6bb-a48386e88067/an-invoice-302c2eb3-7126-4ca0-b434-e93e2350e83c.pdf","invalidStorageKey":"invalid/candidate/2025-12-04/334e6411-b07d-4504-b6bb-a48386e88067/an-invoice-302c2eb3-7126-4ca0-b434-e93e2350e83c.pdf"},"requestId":"334e6411-b07d-4504-b6bb-a48386e88067","jobId":"12198449-0c94-4bbf-9a19-1ad0df9848c3"},"template":"unknown","session":"12198449-0c94-4bbf-9a19-1ad0df9848c3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"12198449-0c94-4bbf-9a19-1ad0df9848c3","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at sendError (server.js:3966:3)
      at server.js:25744:14
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.601Z","level":"info","message":"http_request_completed","requestId":"334e6411-b07d-4504-b6bb-a48386e88067","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":35,"contentLength":"871","template":"unknown","session":"334e6411-b07d-4504-b6bb-a48386e88067","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"334e6411-b07d-4504-b6bb-a48386e88067","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.603Z","level":"info","message":"http_request_received","requestId":"eff75b33-41c5-460b-8151-96fc46f51ba4","method":"POST","path":"/api/process-cv","template":"unknown","session":"eff75b33-41c5-460b-8151-96fc46f51ba4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eff75b33-41c5-460b-8151-96fc46f51ba4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.604Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.606Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.607Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.608Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.610Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/eff75b33-41c5-460b-8151-96fc46f51ba4/incoming/original.pdf","chunks":1,"timestamp":1764854502612}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":203,"durationMs":3}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/eff75b33-41c5-460b-8151-96fc46f51ba4/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/eff75b33-41c5-460b-8151-96fc46f51ba4/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":3}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.615Z","level":"info","message":"process_cv_started","requestId":"eff75b33-41c5-460b-8151-96fc46f51ba4","jobId":"febc8959-5d23-425a-8905-d2906f95109c","manualJobDescriptionProvided":true,"template":"unknown","session":"febc8959-5d23-425a-8905-d2906f95109c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"febc8959-5d23-425a-8905-d2906f95109c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.616Z","level":"info","message":"template_selection","requestId":"eff75b33-41c5-460b-8151-96fc46f51ba4","jobId":"febc8959-5d23-425a-8905-d2906f95109c","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"febc8959-5d23-425a-8905-d2906f95109c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"febc8959-5d23-425a-8905-d2906f95109c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.616Z","level":"info","message":"initial_upload_completed","requestId":"eff75b33-41c5-460b-8151-96fc46f51ba4","jobId":"febc8959-5d23-425a-8905-d2906f95109c","bucket":"test-bucket","key":"cv/candidate/eff75b33-41c5-460b-8151-96fc46f51ba4/incoming/original.pdf","template":"unknown","session":"febc8959-5d23-425a-8905-d2906f95109c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"febc8959-5d23-425a-8905-d2906f95109c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.617Z","level":"info","message":"resume_text_extracted","requestId":"eff75b33-41c5-460b-8151-96fc46f51ba4","jobId":"febc8959-5d23-425a-8905-d2906f95109c","characters":52,"template":"unknown","session":"febc8959-5d23-425a-8905-d2906f95109c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"febc8959-5d23-425a-8905-d2906f95109c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.618Z","level":"info","message":"document_classification_ai_metrics","requestId":"eff75b33-41c5-460b-8151-96fc46f51ba4","jobId":"febc8959-5d23-425a-8905-d2906f95109c","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"b660b3e8ecbc83aad9e6543dcb4a0d862627f82012d98cdb58b183fb5f0cc539","outputDigest":"ce4b8bd954f55aa4d760051876705884299536b3f182fa6f09cbd2aaee0a6b16","latencyMs":0,"isResume":false,"confidence":0.2,"template":"document_classification","session":"febc8959-5d23-425a-8905-d2906f95109c","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"febc8959-5d23-425a-8905-d2906f95109c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.618Z","level":"info","message":"resume_classified","requestId":"eff75b33-41c5-460b-8151-96fc46f51ba4","jobId":"febc8959-5d23-425a-8905-d2906f95109c","isResume":false,"description":"a short memo","confidence":0.2,"accepted":false,"overridden":false,"template":"unknown","session":"febc8959-5d23-425a-8905-d2906f95109c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"febc8959-5d23-425a-8905-d2906f95109c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.618Z","level":"warn","message":"resume_validation_failed","requestId":"eff75b33-41c5-460b-8151-96fc46f51ba4","jobId":"febc8959-5d23-425a-8905-d2906f95109c","reason":"not_identified_as_resume","description":"a short memo","confidence":0.2,"wordCount":9,"invalidKey":"invalid/candidate/2025-12-04/eff75b33-41c5-460b-8151-96fc46f51ba4/a-short-memo-019f37f6-64e6-41a6-8d9a-159d90b9501b.docx","classification":"a short memo","template":"unknown","session":"febc8959-5d23-425a-8905-d2906f95109c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"febc8959-5d23-425a-8905-d2906f95109c","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25669:9
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.623Z","level":"warn","message":"api_error_response","requestId":"eff75b33-41c5-460b-8151-96fc46f51ba4","jobId":"febc8959-5d23-425a-8905-d2906f95109c","status":400,"error":{"code":"INVALID_RESUME_CONTENT","message":"You have uploaded a short memo document (classified as \"short_memo\"). Missing resume structure. Please upload a correct CV or resume to continue.","details":{"description":"a short memo","confidence":0.2,"reason":"Missing resume structure.","classification":"a short memo","className":"short_memo","storageKey":"invalid/candidate/2025-12-04/eff75b33-41c5-460b-8151-96fc46f51ba4/a-short-memo-019f37f6-64e6-41a6-8d9a-159d90b9501b.docx","invalidStorageKey":"invalid/candidate/2025-12-04/eff75b33-41c5-460b-8151-96fc46f51ba4/a-short-memo-019f37f6-64e6-41a6-8d9a-159d90b9501b.docx"},"requestId":"eff75b33-41c5-460b-8151-96fc46f51ba4","jobId":"febc8959-5d23-425a-8905-d2906f95109c"},"template":"unknown","session":"febc8959-5d23-425a-8905-d2906f95109c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"febc8959-5d23-425a-8905-d2906f95109c","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at sendError (server.js:3966:3)
      at server.js:25744:14
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.629Z","level":"info","message":"http_request_completed","requestId":"eff75b33-41c5-460b-8151-96fc46f51ba4","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":26,"contentLength":"748","template":"unknown","session":"eff75b33-41c5-460b-8151-96fc46f51ba4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eff75b33-41c5-460b-8151-96fc46f51ba4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.631Z","level":"info","message":"http_request_received","requestId":"ba81e1c0-77a3-40a2-8b23-0f43bd7f814b","method":"POST","path":"/api/process-cv","template":"unknown","session":"ba81e1c0-77a3-40a2-8b23-0f43bd7f814b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ba81e1c0-77a3-40a2-8b23-0f43bd7f814b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.632Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.633Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.635Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.636Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.638Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/ba81e1c0-77a3-40a2-8b23-0f43bd7f814b/incoming/original.pdf","chunks":1,"timestamp":1764854502639}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/ba81e1c0-77a3-40a2-8b23-0f43bd7f814b/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/ba81e1c0-77a3-40a2-8b23-0f43bd7f814b/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.641Z","level":"info","message":"process_cv_started","requestId":"ba81e1c0-77a3-40a2-8b23-0f43bd7f814b","jobId":"300ed01b-efbb-4a4f-a36b-e64af9506c9a","manualJobDescriptionProvided":false,"template":"unknown","session":"300ed01b-efbb-4a4f-a36b-e64af9506c9a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"300ed01b-efbb-4a4f-a36b-e64af9506c9a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.641Z","level":"info","message":"template_selection","requestId":"ba81e1c0-77a3-40a2-8b23-0f43bd7f814b","jobId":"300ed01b-efbb-4a4f-a36b-e64af9506c9a","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"300ed01b-efbb-4a4f-a36b-e64af9506c9a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"300ed01b-efbb-4a4f-a36b-e64af9506c9a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.641Z","level":"warn","message":"job_description_missing","requestId":"ba81e1c0-77a3-40a2-8b23-0f43bd7f814b","jobId":"300ed01b-efbb-4a4f-a36b-e64af9506c9a","template":"unknown","session":"300ed01b-efbb-4a4f-a36b-e64af9506c9a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"300ed01b-efbb-4a4f-a36b-e64af9506c9a","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25098:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.647Z","level":"warn","message":"api_error_response","requestId":"ba81e1c0-77a3-40a2-8b23-0f43bd7f814b","jobId":"300ed01b-efbb-4a4f-a36b-e64af9506c9a","status":400,"error":{"code":"JOB_DESCRIPTION_REQUIRED","message":"manualJobDescription required","details":{"field":"manualJobDescription"},"requestId":"ba81e1c0-77a3-40a2-8b23-0f43bd7f814b","jobId":"300ed01b-efbb-4a4f-a36b-e64af9506c9a"},"template":"unknown","session":"300ed01b-efbb-4a4f-a36b-e64af9506c9a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"300ed01b-efbb-4a4f-a36b-e64af9506c9a","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at sendError (server.js:3966:3)
      at server.js:25099:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:21:42.652Z","level":"info","message":"http_request_completed","requestId":"ba81e1c0-77a3-40a2-8b23-0f43bd7f814b","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":21,"contentLength":"244","template":"unknown","session":"ba81e1c0-77a3-40a2-8b23-0f43bd7f814b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ba81e1c0-77a3-40a2-8b23-0f43bd7f814b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.654Z","level":"info","message":"http_request_received","requestId":"9894d1e0-ba3c-4ee4-8669-939c47485af6","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"9894d1e0-ba3c-4ee4-8669-939c47485af6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9894d1e0-ba3c-4ee4-8669-939c47485af6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.655Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.656Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.657Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.659Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.659Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.661Z","level":"warn","message":"api_error_response","requestId":"9894d1e0-ba3c-4ee4-8669-939c47485af6","jobId":"8fe37c8c-5e82-4ff4-876c-25f0179acc1d","status":400,"error":{"code":"JOB_ID_REQUIRED","message":"jobId is required to generate enhanced documents.","details":{},"requestId":"9894d1e0-ba3c-4ee4-8669-939c47485af6","jobId":"8fe37c8c-5e82-4ff4-876c-25f0179acc1d"},"template":"unknown","session":"8fe37c8c-5e82-4ff4-876c-25f0179acc1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fe37c8c-5e82-4ff4-876c-25f0179acc1d","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at sendError (server.js:3966:3)
      at server.js:22508:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at assignJobContext (server.js:16419:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at serveStatic (node_modules/serve-static/index.js:75:16)
      at server.js:4954:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at tryServeHashedIndexAssetFromS3 (server.js:1187:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at serveIndexAssetAlias (server.js:1523:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4936:5
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4930:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at urlencodedParser (node_modules/body-parser/lib/types/urlencoded.js:85:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/body-parser/lib/read.js:137:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

  console.log
    {"timestamp":"2025-12-04T13:21:42.670Z","level":"info","message":"http_request_completed","requestId":"9894d1e0-ba3c-4ee4-8669-939c47485af6","method":"POST","path":"/api/generate-enhanced-docs","statusCode":400,"durationMs":16,"contentLength":"225","template":"unknown","session":"9894d1e0-ba3c-4ee4-8669-939c47485af6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9894d1e0-ba3c-4ee4-8669-939c47485af6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.672Z","level":"info","message":"http_request_received","requestId":"b0e260b5-42ff-430f-a169-4a8524153f49","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.673Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.674Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.675Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.677Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.677Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.678Z","level":"warn","message":"generation_job_context_missing","requestId":"b0e260b5-42ff-430f-a169-4a8524153f49","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:22700:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.686Z","level":"info","message":"llm_call_metrics","requestId":"b0e260b5-42ff-430f-a169-4a8524153f49","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"7ff1a2fe49f8d71808c8d1fdb99db5320bf5a75739ee80e7efed665ea9588077","outputDigest":"5af248b63fed3c73350376c1d32988fbeb95f6a40181a19b7e450c5651a56ea6","addedSkillCount":0,"template":"resume_rewrite","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.686Z","level":"info","message":"generation_section_rewrite_completed","requestId":"b0e260b5-42ff-430f-a169-4a8524153f49","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b0e260b5-42ff-430f-a169-4a8524153f49","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.688Z","level":"info","message":"generation_resume_verified","requestId":"b0e260b5-42ff-430f-a169-4a8524153f49","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b0e260b5-42ff-430f-a169-4a8524153f49","template":"unknown","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.691Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"b0e260b5-42ff-430f-a169-4a8524153f49","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b0e260b5-42ff-430f-a169-4a8524153f49","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
          at runMicrotasks (<anonymous>)
      at server.js:23003:28

  console.log
    {"timestamp":"2025-12-04T13:21:42.696Z","level":"info","message":"generation_cover_letters_completed","requestId":"b0e260b5-42ff-430f-a169-4a8524153f49","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b0e260b5-42ff-430f-a169-4a8524153f49","variants":2,"fallbackApplied":true,"template":"unknown","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.696Z","level":"info","message":"pdf_generation_attempt","requestId":"b0e260b5-42ff-430f-a169-4a8524153f49","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b0e260b5-42ff-430f-a169-4a8524153f49","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/b0e260b5-42ff-430f-a169-4a8524153f49/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jane_doe/b0e260b5-42ff-430f-a169-4a8524153f49/enhanced_modern.pdf","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.697Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b0e260b5-42ff-430f-a169-4a8524153f49","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b0e260b5-42ff-430f-a169-4a8524153f49","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/b0e260b5-42ff-430f-a169-4a8524153f49/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.697Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b0e260b5-42ff-430f-a169-4a8524153f49","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b0e260b5-42ff-430f-a169-4a8524153f49","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/b0e260b5-42ff-430f-a169-4a8524153f49/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jane_doe/b0e260b5-42ff-430f-a169-4a8524153f49/enhanced_modern.pdf","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.698Z","level":"info","message":"pdf_generation_attempt","requestId":"b0e260b5-42ff-430f-a169-4a8524153f49","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b0e260b5-42ff-430f-a169-4a8524153f49","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/b0e260b5-42ff-430f-a169-4a8524153f49/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jane_doe/b0e260b5-42ff-430f-a169-4a8524153f49/enhanced_professional.pdf","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.698Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b0e260b5-42ff-430f-a169-4a8524153f49","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b0e260b5-42ff-430f-a169-4a8524153f49","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/b0e260b5-42ff-430f-a169-4a8524153f49/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.699Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b0e260b5-42ff-430f-a169-4a8524153f49","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b0e260b5-42ff-430f-a169-4a8524153f49","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/b0e260b5-42ff-430f-a169-4a8524153f49/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jane_doe/b0e260b5-42ff-430f-a169-4a8524153f49/enhanced_professional.pdf","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.699Z","level":"info","message":"pdf_generation_attempt","requestId":"b0e260b5-42ff-430f-a169-4a8524153f49","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b0e260b5-42ff-430f-a169-4a8524153f49","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/b0e260b5-42ff-430f-a169-4a8524153f49/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jane_doe/b0e260b5-42ff-430f-a169-4a8524153f49/cover_letter_cover_modern.pdf","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.699Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b0e260b5-42ff-430f-a169-4a8524153f49","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b0e260b5-42ff-430f-a169-4a8524153f49","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/b0e260b5-42ff-430f-a169-4a8524153f49/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.700Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b0e260b5-42ff-430f-a169-4a8524153f49","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b0e260b5-42ff-430f-a169-4a8524153f49","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/b0e260b5-42ff-430f-a169-4a8524153f49/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jane_doe/b0e260b5-42ff-430f-a169-4a8524153f49/cover_letter_cover_modern.pdf","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.700Z","level":"info","message":"pdf_generation_attempt","requestId":"b0e260b5-42ff-430f-a169-4a8524153f49","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b0e260b5-42ff-430f-a169-4a8524153f49","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/b0e260b5-42ff-430f-a169-4a8524153f49/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jane_doe/b0e260b5-42ff-430f-a169-4a8524153f49/cover_letter_cover_professional.pdf","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.701Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b0e260b5-42ff-430f-a169-4a8524153f49","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b0e260b5-42ff-430f-a169-4a8524153f49","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/b0e260b5-42ff-430f-a169-4a8524153f49/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.701Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b0e260b5-42ff-430f-a169-4a8524153f49","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b0e260b5-42ff-430f-a169-4a8524153f49","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/b0e260b5-42ff-430f-a169-4a8524153f49/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jane_doe/b0e260b5-42ff-430f-a169-4a8524153f49/cover_letter_cover_professional.pdf","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.703Z","level":"info","message":"llm_call_metrics","requestId":"b0e260b5-42ff-430f-a169-4a8524153f49","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.703Z","level":"info","message":"generation_completed","requestId":"b0e260b5-42ff-430f-a169-4a8524153f49","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b0e260b5-42ff-430f-a169-4a8524153f49","enhancedScore":0,"outputs":4,"template":"unknown","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.705Z","level":"info","message":"http_request_completed","requestId":"b0e260b5-42ff-430f-a169-4a8524153f49","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":33,"contentLength":"55422","template":"unknown","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b0e260b5-42ff-430f-a169-4a8524153f49","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.709Z","level":"info","message":"http_request_received","requestId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.710Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.711Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.712Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.714Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.714Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.715Z","level":"warn","message":"generation_job_context_missing","requestId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:22700:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.725Z","level":"info","message":"llm_call_metrics","requestId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.726Z","level":"info","message":"generation_section_rewrite_completed","requestId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.729Z","level":"info","message":"generation_resume_verified","requestId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","template":"unknown","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.737Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
          at runMicrotasks (<anonymous>)
      at server.js:23003:28

  console.log
    {"timestamp":"2025-12-04T13:21:42.743Z","level":"info","message":"generation_cover_letters_completed","requestId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","variants":2,"fallbackApplied":true,"template":"unknown","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.743Z","level":"info","message":"pdf_generation_attempt","requestId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/b002c346-5b97-4b9b-9643-cd8f79c3a314/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/b002c346-5b97-4b9b-9643-cd8f79c3a314/enhanced_modern.pdf","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.744Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/b002c346-5b97-4b9b-9643-cd8f79c3a314/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.744Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/b002c346-5b97-4b9b-9643-cd8f79c3a314/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/b002c346-5b97-4b9b-9643-cd8f79c3a314/enhanced_modern.pdf","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.744Z","level":"info","message":"pdf_generation_attempt","requestId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/b002c346-5b97-4b9b-9643-cd8f79c3a314/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/b002c346-5b97-4b9b-9643-cd8f79c3a314/enhanced_professional.pdf","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.745Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/b002c346-5b97-4b9b-9643-cd8f79c3a314/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.745Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/b002c346-5b97-4b9b-9643-cd8f79c3a314/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/b002c346-5b97-4b9b-9643-cd8f79c3a314/enhanced_professional.pdf","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.746Z","level":"info","message":"pdf_generation_attempt","requestId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/b002c346-5b97-4b9b-9643-cd8f79c3a314/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/b002c346-5b97-4b9b-9643-cd8f79c3a314/cover_letter_cover_modern.pdf","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.746Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/b002c346-5b97-4b9b-9643-cd8f79c3a314/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.746Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/b002c346-5b97-4b9b-9643-cd8f79c3a314/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/b002c346-5b97-4b9b-9643-cd8f79c3a314/cover_letter_cover_modern.pdf","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.747Z","level":"info","message":"pdf_generation_attempt","requestId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/b002c346-5b97-4b9b-9643-cd8f79c3a314/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/b002c346-5b97-4b9b-9643-cd8f79c3a314/cover_letter_cover_professional.pdf","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.747Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/b002c346-5b97-4b9b-9643-cd8f79c3a314/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.748Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/b002c346-5b97-4b9b-9643-cd8f79c3a314/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/b002c346-5b97-4b9b-9643-cd8f79c3a314/cover_letter_cover_professional.pdf","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.751Z","level":"info","message":"llm_call_metrics","requestId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.753Z","level":"info","message":"generation_completed","requestId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","enhancedScore":0,"outputs":4,"template":"unknown","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.755Z","level":"info","message":"http_request_completed","requestId":"b002c346-5b97-4b9b-9643-cd8f79c3a314","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":46,"contentLength":"60025","template":"unknown","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b002c346-5b97-4b9b-9643-cd8f79c3a314","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.758Z","level":"info","message":"http_request_received","requestId":"622facab-f169-4eda-a1e6-d475a8d2271f","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.759Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.760Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.761Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.762Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.763Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.764Z","level":"warn","message":"generation_job_context_missing","requestId":"622facab-f169-4eda-a1e6-d475a8d2271f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:22700:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.772Z","level":"info","message":"llm_call_metrics","requestId":"622facab-f169-4eda-a1e6-d475a8d2271f","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.772Z","level":"info","message":"generation_section_rewrite_completed","requestId":"622facab-f169-4eda-a1e6-d475a8d2271f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"622facab-f169-4eda-a1e6-d475a8d2271f","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.775Z","level":"info","message":"generation_resume_verified","requestId":"622facab-f169-4eda-a1e6-d475a8d2271f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"622facab-f169-4eda-a1e6-d475a8d2271f","template":"unknown","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.778Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"622facab-f169-4eda-a1e6-d475a8d2271f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"622facab-f169-4eda-a1e6-d475a8d2271f","invalidLetters":[{"key":"cover_letter1","issues":["placeholder_detected","weak_closing","section_heading_without_content"]}],"template":"unknown","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
          at runMicrotasks (<anonymous>)
      at server.js:23003:28

  console.warn
    {"timestamp":"2025-12-04T13:21:42.783Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"622facab-f169-4eda-a1e6-d475a8d2271f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"622facab-f169-4eda-a1e6-d475a8d2271f","missing":["cover_letter1"],"template":"unknown","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
          at runMicrotasks (<anonymous>)
      at server.js:23003:28

  console.log
    {"timestamp":"2025-12-04T13:21:42.788Z","level":"info","message":"generation_cover_letters_completed","requestId":"622facab-f169-4eda-a1e6-d475a8d2271f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"622facab-f169-4eda-a1e6-d475a8d2271f","variants":2,"fallbackApplied":true,"template":"unknown","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.789Z","level":"info","message":"pdf_generation_attempt","requestId":"622facab-f169-4eda-a1e6-d475a8d2271f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"622facab-f169-4eda-a1e6-d475a8d2271f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/622facab-f169-4eda-a1e6-d475a8d2271f/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/622facab-f169-4eda-a1e6-d475a8d2271f/enhanced_modern.pdf","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.789Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"622facab-f169-4eda-a1e6-d475a8d2271f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"622facab-f169-4eda-a1e6-d475a8d2271f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/622facab-f169-4eda-a1e6-d475a8d2271f/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.790Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"622facab-f169-4eda-a1e6-d475a8d2271f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"622facab-f169-4eda-a1e6-d475a8d2271f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/622facab-f169-4eda-a1e6-d475a8d2271f/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/622facab-f169-4eda-a1e6-d475a8d2271f/enhanced_modern.pdf","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.790Z","level":"info","message":"pdf_generation_attempt","requestId":"622facab-f169-4eda-a1e6-d475a8d2271f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"622facab-f169-4eda-a1e6-d475a8d2271f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/622facab-f169-4eda-a1e6-d475a8d2271f/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/622facab-f169-4eda-a1e6-d475a8d2271f/enhanced_professional.pdf","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.791Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"622facab-f169-4eda-a1e6-d475a8d2271f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"622facab-f169-4eda-a1e6-d475a8d2271f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/622facab-f169-4eda-a1e6-d475a8d2271f/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.791Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"622facab-f169-4eda-a1e6-d475a8d2271f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"622facab-f169-4eda-a1e6-d475a8d2271f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/622facab-f169-4eda-a1e6-d475a8d2271f/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/622facab-f169-4eda-a1e6-d475a8d2271f/enhanced_professional.pdf","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.792Z","level":"info","message":"pdf_generation_attempt","requestId":"622facab-f169-4eda-a1e6-d475a8d2271f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"622facab-f169-4eda-a1e6-d475a8d2271f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/622facab-f169-4eda-a1e6-d475a8d2271f/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/622facab-f169-4eda-a1e6-d475a8d2271f/cover_letter_cover_modern.pdf","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.792Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"622facab-f169-4eda-a1e6-d475a8d2271f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"622facab-f169-4eda-a1e6-d475a8d2271f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/622facab-f169-4eda-a1e6-d475a8d2271f/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.793Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"622facab-f169-4eda-a1e6-d475a8d2271f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"622facab-f169-4eda-a1e6-d475a8d2271f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/622facab-f169-4eda-a1e6-d475a8d2271f/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/622facab-f169-4eda-a1e6-d475a8d2271f/cover_letter_cover_modern.pdf","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.793Z","level":"info","message":"pdf_generation_attempt","requestId":"622facab-f169-4eda-a1e6-d475a8d2271f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"622facab-f169-4eda-a1e6-d475a8d2271f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/622facab-f169-4eda-a1e6-d475a8d2271f/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/622facab-f169-4eda-a1e6-d475a8d2271f/cover_letter_cover_professional.pdf","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.794Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"622facab-f169-4eda-a1e6-d475a8d2271f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"622facab-f169-4eda-a1e6-d475a8d2271f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/622facab-f169-4eda-a1e6-d475a8d2271f/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.794Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"622facab-f169-4eda-a1e6-d475a8d2271f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"622facab-f169-4eda-a1e6-d475a8d2271f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/622facab-f169-4eda-a1e6-d475a8d2271f/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/622facab-f169-4eda-a1e6-d475a8d2271f/cover_letter_cover_professional.pdf","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.797Z","level":"info","message":"llm_call_metrics","requestId":"622facab-f169-4eda-a1e6-d475a8d2271f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.797Z","level":"info","message":"generation_completed","requestId":"622facab-f169-4eda-a1e6-d475a8d2271f","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"622facab-f169-4eda-a1e6-d475a8d2271f","enhancedScore":0,"outputs":4,"template":"unknown","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.799Z","level":"info","message":"http_request_completed","requestId":"622facab-f169-4eda-a1e6-d475a8d2271f","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":41,"contentLength":"52626","template":"unknown","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"622facab-f169-4eda-a1e6-d475a8d2271f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.801Z","level":"info","message":"http_request_received","requestId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.802Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.803Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.804Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.806Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.806Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.807Z","level":"warn","message":"generation_job_context_missing","requestId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:22700:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.815Z","level":"info","message":"llm_call_metrics","requestId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.815Z","level":"info","message":"generation_section_rewrite_completed","requestId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.818Z","level":"info","message":"generation_resume_verified","requestId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","template":"unknown","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.821Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing"]}],"template":"unknown","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
          at runMicrotasks (<anonymous>)
      at server.js:23003:28

  console.log
    {"timestamp":"2025-12-04T13:21:42.826Z","level":"info","message":"generation_cover_letters_confident_closing_applied","requestId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","variants":["cover_letter1"],"template":"unknown","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.828Z","level":"info","message":"generation_cover_letters_completed","requestId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","variants":2,"fallbackApplied":true,"template":"unknown","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.828Z","level":"info","message":"pdf_generation_attempt","requestId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/5aa29a5c-fb3b-46fa-abe0-3960371e59b0/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/5aa29a5c-fb3b-46fa-abe0-3960371e59b0/enhanced_modern.pdf","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.829Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/5aa29a5c-fb3b-46fa-abe0-3960371e59b0/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.829Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/5aa29a5c-fb3b-46fa-abe0-3960371e59b0/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/5aa29a5c-fb3b-46fa-abe0-3960371e59b0/enhanced_modern.pdf","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.830Z","level":"info","message":"pdf_generation_attempt","requestId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/5aa29a5c-fb3b-46fa-abe0-3960371e59b0/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/5aa29a5c-fb3b-46fa-abe0-3960371e59b0/enhanced_professional.pdf","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.830Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/5aa29a5c-fb3b-46fa-abe0-3960371e59b0/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.831Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/5aa29a5c-fb3b-46fa-abe0-3960371e59b0/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/5aa29a5c-fb3b-46fa-abe0-3960371e59b0/enhanced_professional.pdf","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.831Z","level":"info","message":"pdf_generation_attempt","requestId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/5aa29a5c-fb3b-46fa-abe0-3960371e59b0/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/5aa29a5c-fb3b-46fa-abe0-3960371e59b0/cover_letter_cover_modern.pdf","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.831Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/5aa29a5c-fb3b-46fa-abe0-3960371e59b0/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.833Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/5aa29a5c-fb3b-46fa-abe0-3960371e59b0/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/5aa29a5c-fb3b-46fa-abe0-3960371e59b0/cover_letter_cover_modern.pdf","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.833Z","level":"info","message":"pdf_generation_attempt","requestId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/5aa29a5c-fb3b-46fa-abe0-3960371e59b0/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/5aa29a5c-fb3b-46fa-abe0-3960371e59b0/cover_letter_cover_professional.pdf","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.834Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/5aa29a5c-fb3b-46fa-abe0-3960371e59b0/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.834Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/5aa29a5c-fb3b-46fa-abe0-3960371e59b0/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/5aa29a5c-fb3b-46fa-abe0-3960371e59b0/cover_letter_cover_professional.pdf","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.836Z","level":"info","message":"llm_call_metrics","requestId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.837Z","level":"info","message":"generation_completed","requestId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","enhancedScore":0,"outputs":4,"template":"unknown","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.838Z","level":"info","message":"http_request_completed","requestId":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":37,"contentLength":"48347","template":"unknown","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5aa29a5c-fb3b-46fa-abe0-3960371e59b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.841Z","level":"info","message":"http_request_received","requestId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.842Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.843Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.844Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.845Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.846Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.847Z","level":"warn","message":"generation_job_context_missing","requestId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:22700:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.854Z","level":"info","message":"llm_call_metrics","requestId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.855Z","level":"info","message":"generation_section_rewrite_completed","requestId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.857Z","level":"info","message":"generation_resume_verified","requestId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","template":"unknown","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.872Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","invalidLetters":[{"key":"cover_letter1","issues":["exceeds_word_limit"]},{"key":"cover_letter2","issues":["exceeds_word_limit"]}],"template":"unknown","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
          at runMicrotasks (<anonymous>)
      at server.js:23003:28

  console.warn
    {"timestamp":"2025-12-04T13:21:42.878Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
          at runMicrotasks (<anonymous>)
      at server.js:23003:28

  console.log
    {"timestamp":"2025-12-04T13:21:42.883Z","level":"info","message":"generation_cover_letters_completed","requestId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","variants":2,"fallbackApplied":true,"template":"unknown","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.884Z","level":"info","message":"pdf_generation_attempt","requestId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/7eba967a-0c0e-4c17-b798-502cd2ca1bdf/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/7eba967a-0c0e-4c17-b798-502cd2ca1bdf/enhanced_modern.pdf","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.884Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/7eba967a-0c0e-4c17-b798-502cd2ca1bdf/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.885Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/7eba967a-0c0e-4c17-b798-502cd2ca1bdf/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/7eba967a-0c0e-4c17-b798-502cd2ca1bdf/enhanced_modern.pdf","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.885Z","level":"info","message":"pdf_generation_attempt","requestId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/7eba967a-0c0e-4c17-b798-502cd2ca1bdf/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/7eba967a-0c0e-4c17-b798-502cd2ca1bdf/enhanced_professional.pdf","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.886Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/7eba967a-0c0e-4c17-b798-502cd2ca1bdf/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.886Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/7eba967a-0c0e-4c17-b798-502cd2ca1bdf/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/7eba967a-0c0e-4c17-b798-502cd2ca1bdf/enhanced_professional.pdf","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.886Z","level":"info","message":"pdf_generation_attempt","requestId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/7eba967a-0c0e-4c17-b798-502cd2ca1bdf/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/7eba967a-0c0e-4c17-b798-502cd2ca1bdf/cover_letter_cover_modern.pdf","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.887Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/7eba967a-0c0e-4c17-b798-502cd2ca1bdf/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.887Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/7eba967a-0c0e-4c17-b798-502cd2ca1bdf/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/7eba967a-0c0e-4c17-b798-502cd2ca1bdf/cover_letter_cover_modern.pdf","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.888Z","level":"info","message":"pdf_generation_attempt","requestId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/7eba967a-0c0e-4c17-b798-502cd2ca1bdf/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/7eba967a-0c0e-4c17-b798-502cd2ca1bdf/cover_letter_cover_professional.pdf","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.888Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/7eba967a-0c0e-4c17-b798-502cd2ca1bdf/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.889Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/7eba967a-0c0e-4c17-b798-502cd2ca1bdf/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/7eba967a-0c0e-4c17-b798-502cd2ca1bdf/cover_letter_cover_professional.pdf","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.895Z","level":"info","message":"llm_call_metrics","requestId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.896Z","level":"info","message":"generation_completed","requestId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","enhancedScore":0,"outputs":4,"template":"unknown","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.897Z","level":"info","message":"http_request_completed","requestId":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":56,"contentLength":"60025","template":"unknown","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7eba967a-0c0e-4c17-b798-502cd2ca1bdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.900Z","level":"info","message":"http_request_received","requestId":"12a47595-20ad-49d7-8f8f-aba1be8e588f","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"12a47595-20ad-49d7-8f8f-aba1be8e588f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"12a47595-20ad-49d7-8f8f-aba1be8e588f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.901Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.902Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.903Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.905Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.906Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.907Z","level":"warn","message":"generation_job_context_missing","requestId":"12a47595-20ad-49d7-8f8f-aba1be8e588f","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"12a47595-20ad-49d7-8f8f-aba1be8e588f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"12a47595-20ad-49d7-8f8f-aba1be8e588f","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:22700:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.914Z","level":"info","message":"llm_call_metrics","requestId":"12a47595-20ad-49d7-8f8f-aba1be8e588f","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d49fc3c9f3e6b68c516d8ed2277f352be0cdf73d24dc9159a6ddd8d2156f86c9","outputDigest":"df45602e27dd18441258611754779b1df94aaddbe2a7ac6965c12432f6053bc4","addedSkillCount":0,"template":"resume_rewrite","session":"12a47595-20ad-49d7-8f8f-aba1be8e588f","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"12a47595-20ad-49d7-8f8f-aba1be8e588f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.914Z","level":"info","message":"generation_section_rewrite_completed","requestId":"12a47595-20ad-49d7-8f8f-aba1be8e588f","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"12a47595-20ad-49d7-8f8f-aba1be8e588f","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"12a47595-20ad-49d7-8f8f-aba1be8e588f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"12a47595-20ad-49d7-8f8f-aba1be8e588f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.916Z","level":"info","message":"generation_resume_verified","requestId":"12a47595-20ad-49d7-8f8f-aba1be8e588f","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"12a47595-20ad-49d7-8f8f-aba1be8e588f","template":"unknown","session":"12a47595-20ad-49d7-8f8f-aba1be8e588f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"12a47595-20ad-49d7-8f8f-aba1be8e588f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.919Z","level":"warn","message":"generation_cover_letters_unavailable","requestId":"12a47595-20ad-49d7-8f8f-aba1be8e588f","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"12a47595-20ad-49d7-8f8f-aba1be8e588f","unavailable":["cover_letter1","cover_letter2"],"template":"unknown","session":"12a47595-20ad-49d7-8f8f-aba1be8e588f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"12a47595-20ad-49d7-8f8f-aba1be8e588f","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
          at runMicrotasks (<anonymous>)
      at server.js:23003:28

  console.log
    {"timestamp":"2025-12-04T13:21:42.924Z","level":"info","message":"generation_cover_letters_completed","requestId":"12a47595-20ad-49d7-8f8f-aba1be8e588f","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"12a47595-20ad-49d7-8f8f-aba1be8e588f","variants":0,"fallbackApplied":false,"template":"unknown","session":"12a47595-20ad-49d7-8f8f-aba1be8e588f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"12a47595-20ad-49d7-8f8f-aba1be8e588f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.926Z","level":"info","message":"pdf_generation_attempt","requestId":"12a47595-20ad-49d7-8f8f-aba1be8e588f","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"12a47595-20ad-49d7-8f8f-aba1be8e588f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/12a47595-20ad-49d7-8f8f-aba1be8e588f/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jamie_doe/12a47595-20ad-49d7-8f8f-aba1be8e588f/enhanced_modern.pdf","session":"12a47595-20ad-49d7-8f8f-aba1be8e588f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"12a47595-20ad-49d7-8f8f-aba1be8e588f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.926Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"12a47595-20ad-49d7-8f8f-aba1be8e588f","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"12a47595-20ad-49d7-8f8f-aba1be8e588f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/12a47595-20ad-49d7-8f8f-aba1be8e588f/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"12a47595-20ad-49d7-8f8f-aba1be8e588f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"12a47595-20ad-49d7-8f8f-aba1be8e588f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.927Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"12a47595-20ad-49d7-8f8f-aba1be8e588f","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"12a47595-20ad-49d7-8f8f-aba1be8e588f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/12a47595-20ad-49d7-8f8f-aba1be8e588f/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jamie_doe/12a47595-20ad-49d7-8f8f-aba1be8e588f/enhanced_modern.pdf","session":"12a47595-20ad-49d7-8f8f-aba1be8e588f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"12a47595-20ad-49d7-8f8f-aba1be8e588f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.927Z","level":"info","message":"pdf_generation_attempt","requestId":"12a47595-20ad-49d7-8f8f-aba1be8e588f","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"12a47595-20ad-49d7-8f8f-aba1be8e588f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/12a47595-20ad-49d7-8f8f-aba1be8e588f/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jamie_doe/12a47595-20ad-49d7-8f8f-aba1be8e588f/enhanced_professional.pdf","session":"12a47595-20ad-49d7-8f8f-aba1be8e588f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"12a47595-20ad-49d7-8f8f-aba1be8e588f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.927Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"12a47595-20ad-49d7-8f8f-aba1be8e588f","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"12a47595-20ad-49d7-8f8f-aba1be8e588f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/12a47595-20ad-49d7-8f8f-aba1be8e588f/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"12a47595-20ad-49d7-8f8f-aba1be8e588f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"12a47595-20ad-49d7-8f8f-aba1be8e588f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.928Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"12a47595-20ad-49d7-8f8f-aba1be8e588f","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"12a47595-20ad-49d7-8f8f-aba1be8e588f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/12a47595-20ad-49d7-8f8f-aba1be8e588f/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jamie_doe/12a47595-20ad-49d7-8f8f-aba1be8e588f/enhanced_professional.pdf","session":"12a47595-20ad-49d7-8f8f-aba1be8e588f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"12a47595-20ad-49d7-8f8f-aba1be8e588f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.929Z","level":"info","message":"llm_call_metrics","requestId":"12a47595-20ad-49d7-8f8f-aba1be8e588f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"12a47595-20ad-49d7-8f8f-aba1be8e588f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"12a47595-20ad-49d7-8f8f-aba1be8e588f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.930Z","level":"info","message":"generation_completed","requestId":"12a47595-20ad-49d7-8f8f-aba1be8e588f","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"12a47595-20ad-49d7-8f8f-aba1be8e588f","enhancedScore":0,"outputs":2,"template":"unknown","session":"12a47595-20ad-49d7-8f8f-aba1be8e588f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"12a47595-20ad-49d7-8f8f-aba1be8e588f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.931Z","level":"info","message":"http_request_completed","requestId":"12a47595-20ad-49d7-8f8f-aba1be8e588f","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":31,"contentLength":"32129","template":"unknown","session":"12a47595-20ad-49d7-8f8f-aba1be8e588f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"12a47595-20ad-49d7-8f8f-aba1be8e588f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.934Z","level":"info","message":"http_request_received","requestId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.935Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.936Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.937Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.938Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.939Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.942Z","level":"warn","message":"generation_change_log_load_failed","requestId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","bucket":"test-bucket","key":"cv/candidate/session/logs/change-log.json","error":{"name":"ReferenceError","message":"sessionScoreSnapshot is not defined","stack":"ReferenceError: sessionScoreSnapshot is not defined\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:22766:34\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:22768:13
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.947Z","level":"info","message":"generation_session_artifacts_refreshed","requestId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","reason":"job_description_changed","template":"unknown","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.949Z","level":"info","message":"llm_call_metrics","requestId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"acf1b9378acb575b229122bd0509d239fb40292b5a2de638f8974b10630dddf9","outputDigest":"d38deb915a9824cbd24a0a21322f3421cffa08850deba8b630d4c012e36accc6","addedSkillCount":0,"template":"resume_rewrite","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.949Z","level":"info","message":"generation_section_rewrite_completed","requestId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.950Z","level":"info","message":"llm_call_metrics","requestId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"a89c45c951abfe25af2671eb78aaf142165e3f6bd78d4b83089b4f9a78e64f20","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":1,"template":"project_summary","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.952Z","level":"info","message":"generation_resume_verified","requestId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","template":"unknown","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.954Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
          at runMicrotasks (<anonymous>)
      at server.js:23003:28

  console.warn
    {"timestamp":"2025-12-04T13:21:42.960Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
          at runMicrotasks (<anonymous>)
      at server.js:23003:28

  console.log
    {"timestamp":"2025-12-04T13:21:42.965Z","level":"info","message":"generation_cover_letters_completed","requestId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","variants":2,"fallbackApplied":true,"template":"unknown","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.966Z","level":"info","message":"pdf_generation_attempt","requestId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.966Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.966Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.967Z","level":"info","message":"pdf_generation_attempt","requestId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.967Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.968Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.969Z","level":"info","message":"pdf_generation_attempt","requestId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.969Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.970Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.970Z","level":"info","message":"pdf_generation_attempt","requestId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.971Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.971Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.973Z","level":"info","message":"llm_call_metrics","requestId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"6daad81d53ca29e2440dbdfd5e7ac149ac9bc677f5bd5a926b958a85793be6c1","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.973Z","level":"info","message":"generation_completed","requestId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","enhancedScore":0,"outputs":5,"template":"unknown","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.975Z","level":"info","message":"http_request_completed","requestId":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":41,"contentLength":"52667","template":"unknown","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c66c1c08-eab3-4019-a5ea-ee25dc46c5c5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.978Z","level":"info","message":"http_request_received","requestId":"2d88bb46-dc81-4dd8-884a-798b37f08392","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.978Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.980Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.981Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.982Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:42.983Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.984Z","level":"warn","message":"generation_change_log_load_failed","requestId":"2d88bb46-dc81-4dd8-884a-798b37f08392","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","bucket":"test-bucket","key":"cv/candidate/session/logs/change-log.json","error":{"name":"ReferenceError","message":"sessionScoreSnapshot is not defined","stack":"ReferenceError: sessionScoreSnapshot is not defined\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:22766:34\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:22768:13
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.989Z","level":"info","message":"generation_session_artifacts_refreshed","requestId":"2d88bb46-dc81-4dd8-884a-798b37f08392","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","reason":"job_description_changed","template":"unknown","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.991Z","level":"info","message":"llm_call_metrics","requestId":"2d88bb46-dc81-4dd8-884a-798b37f08392","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"fc71d2d7420045c9674c39d1bc893139670e4554452723b0b8930f14ae74efd1","outputDigest":"994365ee088ebf4da994d91479825476737b8633f45dc9441cf82f317f739457","addedSkillCount":0,"template":"resume_rewrite","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.992Z","level":"info","message":"generation_section_rewrite_completed","requestId":"2d88bb46-dc81-4dd8-884a-798b37f08392","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2d88bb46-dc81-4dd8-884a-798b37f08392","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.992Z","level":"info","message":"llm_call_metrics","requestId":"2d88bb46-dc81-4dd8-884a-798b37f08392","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"2941229673895ce87f4eb2dd47c041b77270273e0250170302676d5a10351fbf","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":1,"template":"project_summary","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:42.994Z","level":"info","message":"generation_resume_verified","requestId":"2d88bb46-dc81-4dd8-884a-798b37f08392","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2d88bb46-dc81-4dd8-884a-798b37f08392","template":"unknown","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:21:42.997Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"2d88bb46-dc81-4dd8-884a-798b37f08392","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2d88bb46-dc81-4dd8-884a-798b37f08392","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
          at runMicrotasks (<anonymous>)
      at server.js:23003:28

  console.warn
    {"timestamp":"2025-12-04T13:21:43.002Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"2d88bb46-dc81-4dd8-884a-798b37f08392","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2d88bb46-dc81-4dd8-884a-798b37f08392","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
          at runMicrotasks (<anonymous>)
      at server.js:23003:28

  console.log
    {"timestamp":"2025-12-04T13:21:43.009Z","level":"info","message":"generation_cover_letters_completed","requestId":"2d88bb46-dc81-4dd8-884a-798b37f08392","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2d88bb46-dc81-4dd8-884a-798b37f08392","variants":2,"fallbackApplied":true,"template":"unknown","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.009Z","level":"info","message":"pdf_generation_attempt","requestId":"2d88bb46-dc81-4dd8-884a-798b37f08392","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2d88bb46-dc81-4dd8-884a-798b37f08392","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.010Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2d88bb46-dc81-4dd8-884a-798b37f08392","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2d88bb46-dc81-4dd8-884a-798b37f08392","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.010Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2d88bb46-dc81-4dd8-884a-798b37f08392","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2d88bb46-dc81-4dd8-884a-798b37f08392","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.011Z","level":"info","message":"pdf_generation_attempt","requestId":"2d88bb46-dc81-4dd8-884a-798b37f08392","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2d88bb46-dc81-4dd8-884a-798b37f08392","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.011Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2d88bb46-dc81-4dd8-884a-798b37f08392","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2d88bb46-dc81-4dd8-884a-798b37f08392","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.011Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2d88bb46-dc81-4dd8-884a-798b37f08392","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2d88bb46-dc81-4dd8-884a-798b37f08392","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.012Z","level":"info","message":"pdf_generation_attempt","requestId":"2d88bb46-dc81-4dd8-884a-798b37f08392","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2d88bb46-dc81-4dd8-884a-798b37f08392","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.012Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2d88bb46-dc81-4dd8-884a-798b37f08392","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2d88bb46-dc81-4dd8-884a-798b37f08392","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.013Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2d88bb46-dc81-4dd8-884a-798b37f08392","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2d88bb46-dc81-4dd8-884a-798b37f08392","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.013Z","level":"info","message":"pdf_generation_attempt","requestId":"2d88bb46-dc81-4dd8-884a-798b37f08392","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2d88bb46-dc81-4dd8-884a-798b37f08392","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.013Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2d88bb46-dc81-4dd8-884a-798b37f08392","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2d88bb46-dc81-4dd8-884a-798b37f08392","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.014Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2d88bb46-dc81-4dd8-884a-798b37f08392","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2d88bb46-dc81-4dd8-884a-798b37f08392","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.016Z","level":"info","message":"llm_call_metrics","requestId":"2d88bb46-dc81-4dd8-884a-798b37f08392","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"bb70bada40357e7ad85703e98908783ac38c79f83207e1ee038136c2f4863594","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.016Z","level":"info","message":"generation_completed","requestId":"2d88bb46-dc81-4dd8-884a-798b37f08392","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2d88bb46-dc81-4dd8-884a-798b37f08392","enhancedScore":0,"outputs":5,"template":"unknown","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.019Z","level":"info","message":"http_request_completed","requestId":"2d88bb46-dc81-4dd8-884a-798b37f08392","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":41,"contentLength":"50998","template":"unknown","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d88bb46-dc81-4dd8-884a-798b37f08392","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.022Z","level":"info","message":"http_request_received","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","method":"POST","path":"/api/process-cv","template":"unknown","session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.023Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.024Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.025Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.027Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.028Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/07fabcc8-c980-4162-a3c1-6e067bc1c6f8/incoming/original.pdf","chunks":1,"timestamp":1764854503030}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/07fabcc8-c980-4162-a3c1-6e067bc1c6f8/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/07fabcc8-c980-4162-a3c1-6e067bc1c6f8/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.031Z","level":"info","message":"process_cv_started","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","jobId":"54db134f-64aa-4fdf-b386-e4e59ed24571","manualJobDescriptionProvided":true,"template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.032Z","level":"info","message":"template_selection","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","jobId":"54db134f-64aa-4fdf-b386-e4e59ed24571","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:43.033Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","jobId":"54db134f-64aa-4fdf-b386-e4e59ed24571","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:21:43.038Z","level":"info","message":"initial_upload_completed","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","jobId":"54db134f-64aa-4fdf-b386-e4e59ed24571","bucket":"test-bucket","key":"cv/candidate/07fabcc8-c980-4162-a3c1-6e067bc1c6f8/incoming/original.pdf","template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.038Z","level":"info","message":"resume_text_extracted","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","jobId":"54db134f-64aa-4fdf-b386-e4e59ed24571","characters":57,"template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.039Z","level":"info","message":"resume_classified","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","jobId":"54db134f-64aa-4fdf-b386-e4e59ed24571","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.039Z","level":"info","message":"raw_upload_relocated","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","jobId":"54db134f-64aa-4fdf-b386-e4e59ed24571","bucket":"test-bucket","fromKey":"cv/candidate/07fabcc8-c980-4162-a3c1-6e067bc1c6f8/incoming/original.pdf","toKey":"cv/professional_summary/07fabcc8-c980-4162-a3c1-6e067bc1c6f8/original.pdf","template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.040Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","jobId":"54db134f-64aa-4fdf-b386-e4e59ed24571","bucket":"test-bucket","key":"cv/professional_summary/07fabcc8-c980-4162-a3c1-6e067bc1c6f8/original.pdf","template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.040Z","level":"info","message":"dynamo_initial_record_written","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","jobId":"54db134f-64aa-4fdf-b386-e4e59ed24571","bucket":"test-bucket","key":"cv/professional_summary/07fabcc8-c980-4162-a3c1-6e067bc1c6f8/original.pdf","template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.040Z","level":"info","message":"upload_metadata_written","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","jobId":"54db134f-64aa-4fdf-b386-e4e59ed24571","bucket":"test-bucket","key":"cv/professional_summary/07fabcc8-c980-4162-a3c1-6e067bc1c6f8/logs/log.json","template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.040Z","level":"info","message":"job_description_supplied_manually","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","jobId":"54db134f-64aa-4fdf-b386-e4e59ed24571","characters":174,"template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.041Z","level":"info","message":"job_description_analyzed","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","jobId":"54db134f-64aa-4fdf-b386-e4e59ed24571","jobTitle":"","jobSkills":5,"template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.041Z","level":"info","message":"resume_skills_analyzed","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","jobId":"54db134f-64aa-4fdf-b386-e4e59ed24571","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.042Z","level":"info","message":"llm_call_metrics","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.042Z","level":"info","message":"process_cv_scoring_completed","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","jobId":"54db134f-64aa-4fdf-b386-e4e59ed24571","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.045Z","level":"info","message":"llm_call_metrics","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"e0b0f289a004a53fc90e2f086b7a8368b36f3cb57e330732da1cad386d479cd5","addedSkillCount":0,"template":"resume_rewrite","session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.045Z","level":"info","message":"generation_section_rewrite_completed","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","jobId":"54db134f-64aa-4fdf-b386-e4e59ed24571","generationRunId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.048Z","level":"info","message":"generation_resume_verified","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","jobId":"54db134f-64aa-4fdf-b386-e4e59ed24571","generationRunId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:21:43.051Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","jobId":"54db134f-64aa-4fdf-b386-e4e59ed24571","generationRunId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
          at runMicrotasks (<anonymous>)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:43.056Z","level":"info","message":"generation_cover_letters_completed","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","jobId":"54db134f-64aa-4fdf-b386-e4e59ed24571","generationRunId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","variants":2,"fallbackApplied":true,"template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.057Z","level":"info","message":"pdf_generation_attempt","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","jobId":"54db134f-64aa-4fdf-b386-e4e59ed24571","generationRunId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/07fabcc8-c980-4162-a3c1-6e067bc1c6f8/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/07fabcc8-c980-4162-a3c1-6e067bc1c6f8/enhanced_modern.pdf","session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.057Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","jobId":"54db134f-64aa-4fdf-b386-e4e59ed24571","generationRunId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/07fabcc8-c980-4162-a3c1-6e067bc1c6f8/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T13:21:43.058Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","jobId":"54db134f-64aa-4fdf-b386-e4e59ed24571","generationRunId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/07fabcc8-c980-4162-a3c1-6e067bc1c6f8/","sessionId":"[REDACTED]","template":"modern","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3360:27)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/07fabcc8-c980-4162-a3c1-6e067bc1c6f8/enhanced_modern.pdf","environment":{"nodeEnv":"development","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
          at runMicrotasks (<anonymous>)
      at generateEnhancedDocumentsResponse (server.js:21304:11)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:21:43.064Z","level":"info","message":"pdf_generation_attempt","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","jobId":"54db134f-64aa-4fdf-b386-e4e59ed24571","generationRunId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/07fabcc8-c980-4162-a3c1-6e067bc1c6f8/","sessionId":"[REDACTED]","template":"professional","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/07fabcc8-c980-4162-a3c1-6e067bc1c6f8/enhanced_professional.pdf","session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.064Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","jobId":"54db134f-64aa-4fdf-b386-e4e59ed24571","generationRunId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/07fabcc8-c980-4162-a3c1-6e067bc1c6f8/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.064Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","jobId":"54db134f-64aa-4fdf-b386-e4e59ed24571","generationRunId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/07fabcc8-c980-4162-a3c1-6e067bc1c6f8/","sessionId":"[REDACTED]","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/07fabcc8-c980-4162-a3c1-6e067bc1c6f8/enhanced_professional.pdf","session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.065Z","level":"info","message":"pdf_generation_attempt","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","jobId":"54db134f-64aa-4fdf-b386-e4e59ed24571","generationRunId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/07fabcc8-c980-4162-a3c1-6e067bc1c6f8/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/07fabcc8-c980-4162-a3c1-6e067bc1c6f8/enhanced_professional.pdf","session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.065Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","jobId":"54db134f-64aa-4fdf-b386-e4e59ed24571","generationRunId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/07fabcc8-c980-4162-a3c1-6e067bc1c6f8/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.066Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","jobId":"54db134f-64aa-4fdf-b386-e4e59ed24571","generationRunId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/07fabcc8-c980-4162-a3c1-6e067bc1c6f8/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/07fabcc8-c980-4162-a3c1-6e067bc1c6f8/enhanced_professional.pdf","session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.066Z","level":"info","message":"pdf_generation_attempt","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","jobId":"54db134f-64aa-4fdf-b386-e4e59ed24571","generationRunId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/07fabcc8-c980-4162-a3c1-6e067bc1c6f8/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/07fabcc8-c980-4162-a3c1-6e067bc1c6f8/cover_letter_cover_modern.pdf","session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.066Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","jobId":"54db134f-64aa-4fdf-b386-e4e59ed24571","generationRunId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/07fabcc8-c980-4162-a3c1-6e067bc1c6f8/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.067Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","jobId":"54db134f-64aa-4fdf-b386-e4e59ed24571","generationRunId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/07fabcc8-c980-4162-a3c1-6e067bc1c6f8/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":16,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/07fabcc8-c980-4162-a3c1-6e067bc1c6f8/cover_letter_cover_modern.pdf","session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.067Z","level":"info","message":"pdf_generation_attempt","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","jobId":"54db134f-64aa-4fdf-b386-e4e59ed24571","generationRunId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/07fabcc8-c980-4162-a3c1-6e067bc1c6f8/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/07fabcc8-c980-4162-a3c1-6e067bc1c6f8/cover_letter_cover_professional.pdf","session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.068Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","jobId":"54db134f-64aa-4fdf-b386-e4e59ed24571","generationRunId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/07fabcc8-c980-4162-a3c1-6e067bc1c6f8/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.069Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","jobId":"54db134f-64aa-4fdf-b386-e4e59ed24571","generationRunId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/07fabcc8-c980-4162-a3c1-6e067bc1c6f8/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":22,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/07fabcc8-c980-4162-a3c1-6e067bc1c6f8/cover_letter_cover_professional.pdf","session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.071Z","level":"info","message":"llm_call_metrics","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"b81624598eca82514b81f4fd0ef858c4f8eda9605bf4a3b33ed31144fa2daed3","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.071Z","level":"info","message":"generation_completed","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","jobId":"54db134f-64aa-4fdf-b386-e4e59ed24571","generationRunId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","enhancedScore":80,"outputs":5,"template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.072Z","level":"info","message":"placeholder_record_deleted","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","jobId":"54db134f-64aa-4fdf-b386-e4e59ed24571","placeholderIdentifier":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"54db134f-64aa-4fdf-b386-e4e59ed24571","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.073Z","level":"info","message":"http_request_completed","requestId":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":51,"contentLength":"59519","template":"unknown","session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"07fabcc8-c980-4162-a3c1-6e067bc1c6f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.075Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"2025","attempt":1,"totalAttempts":2,"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.076Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"2025","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T13:21:43.077Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"2025","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","code":"TEMPLATE_RENDER_FAILED","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3465:25)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3479:20)

  console.log
    {"timestamp":"2025-12-04T13:21:43.082Z","level":"info","message":"pdf_generation_backstop_succeeded","documentType":"resume","template":"2025","templatesBackstopped":["2025"],"backstopResults":[{"templateId":"2025","bytes":1024}],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.083Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"modern","attempt":2,"totalAttempts":2,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.083Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.083Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"modern","attempt":2,"bytes":10,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.084Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"modern","attempt":1,"totalAttempts":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.085Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T13:21:43.086Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"modern","attempt":1,"error":{"name":"Error","message":"Modern renderer unavailable","stack":"Error: Modern renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3504:30)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3508:20)

  console.log
    {"timestamp":"2025-12-04T13:21:43.093Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"professional","attempt":2,"totalAttempts":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.093Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"professional","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.093Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.094Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"2025","attempt":1,"totalAttempts":3,"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.094Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"2025","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T13:21:43.095Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"2025","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","code":"TEMPLATE_RENDER_FAILED","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3526:25)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3539:20)

  console.log
    {"timestamp":"2025-12-04T13:21:43.100Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"professional","attempt":2,"totalAttempts":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.101Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"professional","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.101Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.102Z","level":"info","message":"pdf_generation_attempt","documentType":"cover_letter","template":"cover_modern","attempt":1,"totalAttempts":1,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cover_letter_cover_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.102Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"cover_letter","template":"cover_modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T13:21:43.103Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"cover_letter","template":"cover_modern","attempt":1,"error":{"name":"Error","message":"Primary renderer offline","stack":"Error: Primary renderer offline\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3557:48)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3594:5)

  console.warn
    {"timestamp":"2025-12-04T13:21:43.108Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","forcedFallback":false,"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11154:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3594:5)

  console.error
    {"timestamp":"2025-12-04T13:21:43.113Z","level":"error","message":"pdf_generation_plain_fallback_failed","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","error":{"name":"Error","message":"Plain fallback offline","stack":"Error: Plain fallback offline\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3559:13\n    at generatePlainPdfFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9790:12)\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11158:36)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3594:5)"},"forcedFallback":false,"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11203:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3594:5)

  console.error
    {"timestamp":"2025-12-04T13:21:43.119Z","level":"error","message":"pdf_generation_minimal_fallback_failed","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","forcedFallback":false,"error":{"name":"Error","message":"Minimal fallback unavailable","stack":"Error: Minimal fallback unavailable\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3562:13\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11224:29)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3594:5)"},"previousError":{"name":"Error","message":"Plain fallback offline","stack":"Error: Plain fallback offline\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3559:13\n    at generatePlainPdfFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9790:12)\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11158:36)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3594:5)"},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11247:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3594:5)

  console.error
    {"timestamp":"2025-12-04T13:21:43.124Z","level":"error","message":"pdf_generation_all_attempts_failed","documentType":"cover_letter","templates":["cover_modern"],"error":{"name":"Error","message":"Minimal fallback unavailable","stack":"Error: Minimal fallback unavailable\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3562:13\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11224:29)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3594:5)"},"targetFilePath":"cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"summary":"Unable to generate cover letter PDF. Tried templates: Modern Cover Letter. Last error: Minimal fallback unavailable","messages":["Unable to generate cover letter PDF. Tried templates: Modern Cover Letter. Last error: Minimal fallback unavailable"],"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11269:3)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3594:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.159Z","level":"info","message":"http_request_received","requestId":"c1640671-71d9-4f0a-9ddb-ac9edb3393f3","method":"POST","path":"/api/change-log","template":"unknown","session":"c1640671-71d9-4f0a-9ddb-ac9edb3393f3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1640671-71d9-4f0a-9ddb-ac9edb3393f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.160Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.162Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.163Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.164Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.165Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.168Z","level":"info","message":"change_log_updated","requestId":"c1640671-71d9-4f0a-9ddb-ac9edb3393f3","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.169Z","level":"info","message":"http_request_completed","requestId":"c1640671-71d9-4f0a-9ddb-ac9edb3393f3","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":10,"contentLength":"48197","template":"unknown","session":"c1640671-71d9-4f0a-9ddb-ac9edb3393f3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1640671-71d9-4f0a-9ddb-ac9edb3393f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.172Z","level":"info","message":"http_request_received","requestId":"49d9f486-0d17-4474-93a3-ed9335d83700","method":"POST","path":"/api/change-log","template":"unknown","session":"49d9f486-0d17-4474-93a3-ed9335d83700","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49d9f486-0d17-4474-93a3-ed9335d83700","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.173Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.175Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.176Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.178Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.178Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.180Z","level":"info","message":"change_log_updated","requestId":"49d9f486-0d17-4474-93a3-ed9335d83700","jobId":"job-321","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-321","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-321","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.181Z","level":"info","message":"http_request_completed","requestId":"49d9f486-0d17-4474-93a3-ed9335d83700","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":9,"contentLength":"1958","template":"unknown","session":"49d9f486-0d17-4474-93a3-ed9335d83700","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49d9f486-0d17-4474-93a3-ed9335d83700","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.185Z","level":"info","message":"http_request_received","requestId":"859e904e-4781-4bf7-905d-66d702eb682d","method":"POST","path":"/api/change-log","template":"unknown","session":"859e904e-4781-4bf7-905d-66d702eb682d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"859e904e-4781-4bf7-905d-66d702eb682d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.186Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.187Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.188Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.189Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.190Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.193Z","level":"info","message":"change_log_updated","requestId":"859e904e-4781-4bf7-905d-66d702eb682d","jobId":"job-789","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-789","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-789","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.194Z","level":"info","message":"http_request_completed","requestId":"859e904e-4781-4bf7-905d-66d702eb682d","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":9,"contentLength":"6061","template":"unknown","session":"859e904e-4781-4bf7-905d-66d702eb682d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"859e904e-4781-4bf7-905d-66d702eb682d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.196Z","level":"info","message":"http_request_received","requestId":"df76ba6e-f957-44c9-b588-47744702ef1e","method":"POST","path":"/api/change-log","template":"unknown","session":"df76ba6e-f957-44c9-b588-47744702ef1e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df76ba6e-f957-44c9-b588-47744702ef1e","build":"local-dev","artifactType":"none"},"userId":"user-789"}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.197Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.198Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.199Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.201Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.201Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.203Z","level":"info","message":"change_log_updated","requestId":"df76ba6e-f957-44c9-b588-47744702ef1e","jobId":"job-session","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-session","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-session","build":"local-dev","artifactType":"none"},"userId":"user-789"}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.203Z","level":"info","message":"http_request_completed","requestId":"df76ba6e-f957-44c9-b588-47744702ef1e","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":7,"contentLength":"1213","template":"unknown","session":"df76ba6e-f957-44c9-b588-47744702ef1e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df76ba6e-f957-44c9-b588-47744702ef1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.205Z","level":"info","message":"http_request_received","requestId":"7f6872c1-ad9b-4b7e-9605-f26140f688de","method":"POST","path":"/api/change-log","template":"unknown","session":"7f6872c1-ad9b-4b7e-9605-f26140f688de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7f6872c1-ad9b-4b7e-9605-f26140f688de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.206Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.207Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.208Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.210Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.210Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.212Z","level":"info","message":"change_log_updated","requestId":"7f6872c1-ad9b-4b7e-9605-f26140f688de","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.212Z","level":"info","message":"http_request_completed","requestId":"7f6872c1-ad9b-4b7e-9605-f26140f688de","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":7,"contentLength":"789","template":"unknown","session":"7f6872c1-ad9b-4b7e-9605-f26140f688de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7f6872c1-ad9b-4b7e-9605-f26140f688de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.215Z","level":"info","message":"http_request_received","requestId":"bd0e150a-2904-4494-87f3-cad819558754","method":"POST","path":"/api/change-log","template":"unknown","session":"bd0e150a-2904-4494-87f3-cad819558754","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bd0e150a-2904-4494-87f3-cad819558754","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.216Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.217Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.218Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.220Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.220Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.222Z","level":"info","message":"change_log_updated","requestId":"bd0e150a-2904-4494-87f3-cad819558754","jobId":"job-123","route":"change-log","entries":0,"action":"remove","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.222Z","level":"info","message":"http_request_completed","requestId":"bd0e150a-2904-4494-87f3-cad819558754","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":7,"contentLength":"350","template":"unknown","session":"bd0e150a-2904-4494-87f3-cad819558754","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bd0e150a-2904-4494-87f3-cad819558754","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.224Z","level":"info","message":"http_request_received","requestId":"d00f4c96-6926-4aac-a801-b5e08267526c","method":"POST","path":"/api/change-log","template":"unknown","session":"d00f4c96-6926-4aac-a801-b5e08267526c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d00f4c96-6926-4aac-a801-b5e08267526c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.225Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.226Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.227Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.229Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.229Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.231Z","level":"info","message":"change_log_updated","requestId":"d00f4c96-6926-4aac-a801-b5e08267526c","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.231Z","level":"info","message":"http_request_completed","requestId":"d00f4c96-6926-4aac-a801-b5e08267526c","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":7,"contentLength":"1151","template":"unknown","session":"d00f4c96-6926-4aac-a801-b5e08267526c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d00f4c96-6926-4aac-a801-b5e08267526c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.234Z","level":"info","message":"http_request_received","requestId":"36b66e9b-2def-44d4-9bfd-c788f9df4adb","method":"POST","path":"/api/change-log","template":"unknown","session":"36b66e9b-2def-44d4-9bfd-c788f9df4adb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"36b66e9b-2def-44d4-9bfd-c788f9df4adb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.235Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.236Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.237Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.239Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.239Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.241Z","level":"info","message":"change_log_updated","requestId":"36b66e9b-2def-44d4-9bfd-c788f9df4adb","jobId":"job-123","route":"change-log","entries":0,"action":"remove","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.241Z","level":"info","message":"http_request_completed","requestId":"36b66e9b-2def-44d4-9bfd-c788f9df4adb","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":7,"contentLength":"596","template":"unknown","session":"36b66e9b-2def-44d4-9bfd-c788f9df4adb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"36b66e9b-2def-44d4-9bfd-c788f9df4adb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.244Z","level":"info","message":"http_request_received","requestId":"6d033909-2974-43dd-a193-3bc0817cdb17","method":"POST","path":"/api/change-log","template":"unknown","session":"6d033909-2974-43dd-a193-3bc0817cdb17","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6d033909-2974-43dd-a193-3bc0817cdb17","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.245Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.246Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.247Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.249Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.249Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:21:43.252Z","level":"info","message":"change_log_updated","requestId":"6d033909-2974-43dd-a193-3bc0817cdb17","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:21:43.252Z","level":"info","message":"http_request_completed","requestId":"6d033909-2974-43dd-a193-3bc0817cdb17","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":8,"contentLength":"2337","template":"unknown","session":"6d033909-2974-43dd-a193-3bc0817cdb17","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6d033909-2974-43dd-a193-3bc0817cdb17","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

PASS tests/server.test.mjs (5.374 s)
  health check
     GET /healthz (60 ms)
  static asset fallbacks
     GET /favicon.ico returns 204 (17 ms)
     serves hashed index asset from S3 when local file is missing (33 ms)
     serves hashed index asset directly from the bundled client when available (38 ms)
     strips API Gateway stage prefixes before resolving static index aliases (25 ms)
     performs HEAD lookup against S3 for hashed index asset metadata (25 ms)
     serves the latest index asset alias via S3 when local files are unavailable (36 ms)
     serves the index asset alias via the S3 manifest when the local manifest is missing (25 ms)
     serves the index asset alias when the manifest contains prefixed S3 keys (25 ms)
     serves the index asset alias via manifest fallback when the primary bundle is missing from S3 (43 ms)
  static asset proxy endpoint
     serves the index alias via the local build (19 ms)
     normalizes stray punctuation in proxy asset queries (20 ms)
     strips inline alias annotations from hashed proxy asset queries (17 ms)
     falls back to S3 when the hashed bundle is unavailable locally (18 ms)
     degrades hashed proxy requests to the index alias when upstream assets are missing (36 ms)
     degrades direct hashed asset requests to the index alias when upstream bundles are missing (51 ms)
     rejects invalid asset paths (20 ms)
  static asset manifest endpoint
     returns manifest data when available (12 ms)
     allows forcing a manifest refresh via query parameter (22 ms)
     returns 503 when manifest is unavailable (22 ms)
  /api/process-cv
     handles DynamoDB table lifecycle (213 ms)
     removes stale session change logs when starting a new upload session (61 ms)
     removes session change log data when the session prefix is reused (56 ms)
     requires manual job description input (80 ms)
     sanitizes manual job description input before analysis (54 ms)
     rejects manual job description input containing prohibited HTML tags (24 ms)
     stores sanitized job description as session input metadata (54 ms)
     accepts uploads without a LinkedIn profile URL (51 ms)
     malformed AI response (67 ms)
     handles code-fenced JSON with extra text (69 ms)
     handles JSON surrounded by text (70 ms)
     returns presigned PDF URLs with labeled asset types (74 ms)
     returns a structured error when download URLs cannot be generated (112 ms)
     cover letter urls include structured metadata (87 ms)
     uses provided templates in preferred order (62 ms)
     uses templates array (55 ms)
     filters AI guidance lines (57 ms)
     resume prompt asks for a project matching job skills (56 ms)
     inserts project into resume text (54 ms)
     adds project section when job description provided (53 ms)
     cover letters omit placeholder sections (65 ms)
     normalizes structured cover letter responses into text (51 ms)
     uses sanitized resume fallback when AI returns plain text for versions (60 ms)
     falls back to plain PDFs when template rendering fails (227 ms)
     final CV includes updated title, project, and skills (57 ms)
     missing file (25 ms)
     unsupported file type (27 ms)
     rejects non-resume content with descriptive feedback (38 ms)
     requires re-upload when classification does not identify a CV (27 ms)
     missing job description text (22 ms)
    download link refresh
       resigns an existing artifact key for the active job (20 ms)
       returns not found when the storage key does not match the job context (29 ms)
    resume size handling
       accepts tiny PDF (32 KB) uploads up to 5 MB (52 ms)
       accepts small DOCX (256 KB) uploads up to 5 MB (72 ms)
       accepts mid-sized PDF (2 MB) uploads up to 5 MB (56 ms)
       accepts near-limit DOCX (just under 5 MB) uploads up to 5 MB (131 ms)
       rejects resumes larger than 5 MB (34 ms)
  /api/generate-enhanced-docs
     responds with structured details when jobId is missing (18 ms)
     queues message when fallback cover letters are used (37 ms)
     replaces whitespace cover letters with fallback copy (49 ms)
     audits cover letters for placeholders and applies fallback (43 ms)
     replaces weak closing cover letters with confident fallback copy (40 ms)
     replaces cover letters exceeding the word limit with confident fallback copy (59 ms)
     surfaces message when cover letters remain unavailable (33 ms)
     refreshes session artifacts when job description changes for a new enhancement (43 ms)
     refreshes session artifacts automatically when job description changes (44 ms)
     persists template vs population errors in stage metadata (53 ms)
  generatePdfWithFallback
     records retry message when 2025 renderer fails (9 ms)
     announces next template when fallback occurs for non-2025 resume (10 ms)
     announces actual next template when 2025 fallback prefers contrast option (7 ms)
     throws explicit PdfGenerationError with summary when all strategies fail (29 ms)
  classifyDocument
     identifies resumes by section structure (1 ms)
     detects cover letters (2 ms)
     rejects job descriptions that mimic resume sections
  extractText
     extracts text from pdf
     extracts text from docx (1 ms)
     guides user when pdf parsing fails (18 ms)
     guides user when docx parsing fails
     extracts text from doc (3 ms)
     rejects plain text files (1 ms)
  client download labels
     App displays correct labels for each file type (2 ms)
  change log persistence safeguards
     truncates oversized change log fields before persisting (13 ms)
     persists category changelog details for ATS, skills, and related sections (12 ms)
     captures rescore summary and updates session score snapshot (11 ms)
     stores session change logs under a user session prefix when no prior key exists (9 ms)
  change log session visibility
     persists reverted entries when updating the change log (10 ms)
     stores rejected entries in the session change log dismissed list (9 ms)
     persists cover letter change log payloads to S3 (10 ms)
     removing a cover letter entry records dismissal state in S3 (10 ms)
     persists activity logs from nested payloads into the session change log (12 ms)

Test Suites: 1 passed, 1 total
Tests:       90 passed, 90 total
Snapshots:   0 total
Time:        5.438 s, estimated 6 s
Ran all test suites matching /tests\/server.test.mjs/i.
Force exiting Jest: Have you considered using `--detectOpenHandles` to detect async operations that kept running after all tests finished?
