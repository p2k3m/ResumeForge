
> resumeforge@1.0.0 test
> node --experimental-vm-modules node_modules/jest/bin/jest.js tests/server.test.mjs

[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`
(node:11347) ExperimentalWarning: VM Modules is an experimental feature. This feature could change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
  console.log
    {"timestamp":"2025-12-04T13:55:33.029Z","level":"info","message":"http_request_received","requestId":"91264e27-6281-4849-b768-291123e6ab66","method":"GET","path":"/healthz","template":"unknown","session":"91264e27-6281-4849-b768-291123e6ab66","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"91264e27-6281-4849-b768-291123e6ab66","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:55:33.163Z","level":"info","message":"path_restoration_debug","reqPath":"/healthz","reqUrl":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:55:33.212Z","level":"info","message":"request_received","path":"/healthz","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:55:33.225Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:55:33.238Z","level":"info","message":"client_app_routes_entered","path":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:55:33.269Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:55:33.362Z","level":"info","message":"http_request_completed","requestId":"91264e27-6281-4849-b768-291123e6ab66","method":"GET","path":"/healthz","statusCode":200,"durationMs":333,"contentLength":"15","template":"unknown","session":"91264e27-6281-4849-b768-291123e6ab66","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"91264e27-6281-4849-b768-291123e6ab66","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:55:33.406Z","level":"info","message":"http_request_received","requestId":"1b61ea46-1cf5-42d0-8b4e-15c17149d9e4","method":"GET","path":"/favicon.ico","template":"unknown","session":"1b61ea46-1cf5-42d0-8b4e-15c17149d9e4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b61ea46-1cf5-42d0-8b4e-15c17149d9e4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:55:33.409Z","level":"info","message":"path_restoration_debug","reqPath":"/favicon.ico","reqUrl":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:55:33.426Z","level":"info","message":"request_received","path":"/favicon.ico","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:55:33.431Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:55:33.440Z","level":"info","message":"client_app_routes_entered","path":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:55:33.450Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:55:33.472Z","level":"info","message":"http_request_completed","requestId":"1b61ea46-1cf5-42d0-8b4e-15c17149d9e4","method":"GET","path":"/favicon.ico","statusCode":204,"durationMs":66,"template":"unknown","session":"1b61ea46-1cf5-42d0-8b4e-15c17149d9e4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b61ea46-1cf5-42d0-8b4e-15c17149d9e4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:55:33.603Z","level":"info","message":"http_request_received","requestId":"abd2ff33-9319-4988-a30e-5236702d0788","method":"GET","path":"/assets/index-missing.css","template":"unknown","session":"abd2ff33-9319-4988-a30e-5236702d0788","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"abd2ff33-9319-4988-a30e-5236702d0788","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:55:33.614Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-missing.css","reqUrl":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:55:33.630Z","level":"info","message":"request_received","path":"/assets/index-missing.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:55:33.642Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:55:33.666Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:55:33.677Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 calling S3 {
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest',
      assetPath: '/assets/index-missing.css'
    }

      at serveHashedIndexAssetFromS3 (server.js:1153:13)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 S3 returned

      at serveHashedIndexAssetFromS3 (server.js:1160:13)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60","ETag":"\"etag-css\""}

      at applyS3ResponseHeaders (server.js:618:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 streaming body

      at serveHashedIndexAssetFromS3 (server.js:1169:13)

  console.log
    DEBUG: streamS3BodyToResponse start

      at streamS3BodyToResponse (server.js:460:11)

  console.log
    DEBUG: streamS3BodyToResponse data chunk length=18

      at Readable.<anonymous> (server.js:506:17)

  console.log
    DEBUG: streamS3BodyToResponse end fullBody length=18

      at Readable.<anonymous> (server.js:514:19)

  console.log
    {"timestamp":"2025-12-04T13:55:33.861Z","level":"info","message":"http_request_completed","requestId":"abd2ff33-9319-4988-a30e-5236702d0788","method":"GET","path":"/assets/index-missing.css","statusCode":200,"durationMs":258,"contentLength":"18","template":"unknown","session":"abd2ff33-9319-4988-a30e-5236702d0788","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"abd2ff33-9319-4988-a30e-5236702d0788","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 streaming done

      at serveHashedIndexAssetFromS3 (server.js:1172:13)

  console.log
    {"timestamp":"2025-12-04T13:55:33.873Z","level":"info","message":"client_asset_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-missing.css","path":"/assets/index-missing.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:55:34.006Z","level":"info","message":"http_request_received","requestId":"95295085-c825-4843-bbf1-63aedb1e7b31","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"95295085-c825-4843-bbf1-63aedb1e7b31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"95295085-c825-4843-bbf1-63aedb1e7b31","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:55:34.021Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:55:34.024Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:55:34.071Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:55:34.078Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:56:03.918Z","level":"info","message":"http_request_received","requestId":"6a6b805a-bba3-4580-a443-210a4f0da772","method":"GET","path":"/prod/assets/index-latest.css","template":"unknown","session":"6a6b805a-bba3-4580-a443-210a4f0da772","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6a6b805a-bba3-4580-a443-210a4f0da772","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:56:03.923Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:56:03.926Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:56:03.930Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:56:03.932Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:56:33.932Z","level":"info","message":"http_request_received","requestId":"115746a9-5617-4b4b-9663-ba0ad3b3f542","method":"HEAD","path":"/assets/index-meta.js","template":"unknown","session":"115746a9-5617-4b4b-9663-ba0ad3b3f542","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"115746a9-5617-4b4b-9663-ba0ad3b3f542","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:56:33.937Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-meta.js","reqUrl":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:56:33.939Z","level":"info","message":"request_received","path":"/assets/index-meta.js","method":"HEAD","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:56:33.943Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:56:33.946Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:56:33.949Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-meta.js'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-meta.js'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-meta.js'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=1234 resolved=1234 metadata={"ContentType":"application/javascript","ContentLength":1234,"CacheControl":"public, max-age=31536000, immutable","ETag":"\"etag-js\"","LastModified":"2024-05-01T00:00:00.000Z"}

      at applyS3ResponseHeaders (server.js:618:11)

  console.log
    {"timestamp":"2025-12-04T13:56:33.964Z","level":"info","message":"client_asset_s3_head_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-meta.js","path":"/assets/index-meta.js","method":"HEAD","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:56:33.964Z","level":"info","message":"http_request_completed","requestId":"115746a9-5617-4b4b-9663-ba0ad3b3f542","method":"HEAD","path":"/assets/index-meta.js","statusCode":200,"durationMs":32,"contentLength":"1234","template":"unknown","session":"115746a9-5617-4b4b-9663-ba0ad3b3f542","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"115746a9-5617-4b4b-9663-ba0ad3b3f542","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:56:33.978Z","level":"info","message":"http_request_received","requestId":"5f87e36a-c7b4-490c-bcb7-79755f74989b","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"5f87e36a-c7b4-490c-bcb7-79755f74989b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5f87e36a-c7b4-490c-bcb7-79755f74989b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:56:33.981Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:56:33.985Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:56:33.988Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:56:33.992Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:57:03.990Z","level":"info","message":"http_request_received","requestId":"343f2873-0388-4996-b73a-ca13b08a70d3","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"343f2873-0388-4996-b73a-ca13b08a70d3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"343f2873-0388-4996-b73a-ca13b08a70d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:57:03.997Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:57:04.002Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:57:04.009Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:57:04.018Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:57:34.008Z","level":"info","message":"http_request_received","requestId":"15fa7446-c662-4a17-972a-7fda53071359","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"15fa7446-c662-4a17-972a-7fda53071359","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15fa7446-c662-4a17-972a-7fda53071359","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:57:34.018Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:57:34.019Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:57:34.022Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:57:34.026Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:58:04.019Z","level":"info","message":"http_request_received","requestId":"75224c0f-b7bc-49c0-886c-b79ebe1e5cb8","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"75224c0f-b7bc-49c0-886c-b79ebe1e5cb8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"75224c0f-b7bc-49c0-886c-b79ebe1e5cb8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:58:04.024Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:58:04.029Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:58:04.031Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:58:04.035Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:58:34.037Z","level":"info","message":"http_request_received","requestId":"82f609e2-bb2c-4e21-ae63-5704517ce79c","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"82f609e2-bb2c-4e21-ae63-5704517ce79c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82f609e2-bb2c-4e21-ae63-5704517ce79c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:58:34.040Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:58:34.042Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:58:34.044Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:58:34.046Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:58:34.048Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-latest.css' candidate='assets/index-latest.css'

      at normalizeStaticProxyAssetPath (server.js:1611:11)

  console.log
    {"timestamp":"2025-12-04T13:59:04.048Z","level":"info","message":"http_request_received","requestId":"5d4b07b0-e427-49f5-b452-33cc720f8730","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","template":"unknown","session":"5d4b07b0-e427-49f5-b452-33cc720f8730","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d4b07b0-e427-49f5-b452-33cc720f8730","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:59:04.050Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:59:04.053Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:59:04.055Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:59:04.057Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:59:04.059Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-latest.css,,' candidate='assets/index-latest.css,,'

      at normalizeStaticProxyAssetPath (server.js:1611:11)

  console.log
    {"timestamp":"2025-12-04T13:59:34.065Z","level":"info","message":"http_request_received","requestId":"965ce46b-02c2-4f72-a264-1f9f40e09f5f","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","template":"unknown","session":"965ce46b-02c2-4f72-a264-1f9f40e09f5f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"965ce46b-02c2-4f72-a264-1f9f40e09f5f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:59:34.074Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:59:34.079Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:59:34.081Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:59:34.082Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:59:34.085Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='/assets/index-latest.css' candidate='/assets/index-latest.css'

      at normalizeStaticProxyAssetPath (server.js:1611:11)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-0da4b4af.css,, {"alias":"/assets/index-latest.css"}' candidate='assets/index-0da4b4af.css,, {"alias":"/assets/index-latest.css"}'

      at normalizeStaticProxyAssetPath (server.js:1611:11)

  console.log
    DEBUG: proxy handler { normalizedAssetPath: '/assets/index-0da4b4af.css' }

      at server.js:19146:11

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    {"timestamp":"2025-12-04T13:59:34.123Z","level":"info","message":"http_request_completed","requestId":"965ce46b-02c2-4f72-a264-1f9f40e09f5f","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","statusCode":200,"durationMs":58,"contentLength":"106285","template":"unknown","session":"965ce46b-02c2-4f72-a264-1f9f40e09f5f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"965ce46b-02c2-4f72-a264-1f9f40e09f5f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:59:34.126Z","level":"info","message":"client_asset_alias_local_served","path":"/assets/index-0da4b4af.css","method":"GET","proxy":true,"aliasPath":"/assets/index-latest.css","annotatedAlias":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:59:34.131Z","level":"info","message":"http_request_received","requestId":"76340074-9cdd-4c91-ac7f-5478b04d341d","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"76340074-9cdd-4c91-ac7f-5478b04d341d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"76340074-9cdd-4c91-ac7f-5478b04d341d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:59:34.133Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:59:34.135Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:59:34.137Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:59:34.139Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T13:59:34.143Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-latest.css' candidate='assets/index-latest.css'

      at normalizeStaticProxyAssetPath (server.js:1611:11)

  console.log
    {"timestamp":"2025-12-04T14:00:04.160Z","level":"info","message":"http_request_received","requestId":"90e0254a-8648-433e-8a9a-0730ff857518","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css","template":"unknown","session":"90e0254a-8648-433e-8a9a-0730ff857518","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"90e0254a-8648-433e-8a9a-0730ff857518","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.163Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.167Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.171Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.174Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.177Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-0da4b4af.css' candidate='assets/index-0da4b4af.css'

      at normalizeStaticProxyAssetPath (server.js:1611:11)

  console.log
    DEBUG: proxy handler { normalizedAssetPath: '/assets/index-0da4b4af.css' }

      at server.js:19146:11

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 calling S3 {
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest',
      assetPath: '/assets/index-0da4b4af.css'
    }

      at serveHashedIndexAssetFromS3 (server.js:1153:13)

  console.warn
    {"timestamp":"2025-12-04T14:00:04.185Z","level":"warn","message":"client_asset_proxy_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-0da4b4af.css","path":"/assets/index-0da4b4af.css","method":"GET","proxy":true,"error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:762:21)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1154:41)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:19159:30\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at serveHashedIndexAssetFromS3 (server.js:1177:5)
      at server.js:19159:30

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1289:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    {"timestamp":"2025-12-04T14:00:04.218Z","level":"info","message":"http_request_completed","requestId":"90e0254a-8648-433e-8a9a-0730ff857518","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css","statusCode":200,"durationMs":58,"contentLength":"106285","template":"unknown","session":"90e0254a-8648-433e-8a9a-0730ff857518","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"90e0254a-8648-433e-8a9a-0730ff857518","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.220Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","path":"/assets/index-0da4b4af.css","proxy":true,"degradedFrom":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:04.223Z","level":"warn","message":"client_asset_proxy_degraded_to_alias","path":"/assets/index-0da4b4af.css","method":"GET","proxy":true,"aliasPath":"/assets/index-latest.css","degradedFrom":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:19211:9

  console.log
    {"timestamp":"2025-12-04T14:00:04.254Z","level":"info","message":"http_request_received","requestId":"9646db40-002e-44e9-bed0-33627d2b9c91","method":"GET","path":"/assets/index-0da4b4af.css","template":"unknown","session":"9646db40-002e-44e9-bed0-33627d2b9c91","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9646db40-002e-44e9-bed0-33627d2b9c91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.255Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-0da4b4af.css","reqUrl":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.257Z","level":"info","message":"request_received","path":"/assets/index-0da4b4af.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.260Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.264Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.266Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 calling S3 {
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest',
      assetPath: '/assets/index-0da4b4af.css'
    }

      at serveHashedIndexAssetFromS3 (server.js:1153:13)

  console.warn
    {"timestamp":"2025-12-04T14:00:04.283Z","level":"warn","message":"client_asset_s3_fallback_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-0da4b4af.css","path":"/assets/index-0da4b4af.css","method":"GET","error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:808:21)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1154:41)\n    at tryServeHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1218:24)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at serveHashedIndexAssetFromS3 (server.js:1177:5)
      at tryServeHashedIndexAssetFromS3 (server.js:1218:24)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1289:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    {"timestamp":"2025-12-04T14:00:04.291Z","level":"info","message":"http_request_completed","requestId":"9646db40-002e-44e9-bed0-33627d2b9c91","method":"GET","path":"/assets/index-0da4b4af.css","statusCode":200,"durationMs":36,"contentLength":"106285","template":"unknown","session":"9646db40-002e-44e9-bed0-33627d2b9c91","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9646db40-002e-44e9-bed0-33627d2b9c91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.292Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","hashedPath":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:04.292Z","level":"warn","message":"hashed_index_asset_degraded_to_alias","hashedPath":"/assets/index-0da4b4af.css","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at tryServeHashedIndexAssetFromS3 (server.js:1270:7)

  console.log
    {"timestamp":"2025-12-04T14:00:04.299Z","level":"info","message":"http_request_received","requestId":"58233c4e-f527-4393-bacc-95fadcfbf11f","method":"GET","path":"/api/static-proxy?asset=..%2Fsecrets.txt","template":"unknown","session":"58233c4e-f527-4393-bacc-95fadcfbf11f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58233c4e-f527-4393-bacc-95fadcfbf11f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.301Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=..%2Fsecrets.txt","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.302Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.304Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.305Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.307Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='../secrets.txt' candidate='../secrets.txt'

      at normalizeStaticProxyAssetPath (server.js:1611:11)

  console.warn
    {"timestamp":"2025-12-04T14:00:04.311Z","level":"warn","message":"api_error_response","requestId":"58233c4e-f527-4393-bacc-95fadcfbf11f","status":400,"error":{"code":"INVALID_STATIC_ASSET_PATH","message":"Provide a valid static asset path to proxy.","details":{},"requestId":"58233c4e-f527-4393-bacc-95fadcfbf11f"},"template":"unknown","session":"58233c4e-f527-4393-bacc-95fadcfbf11f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58233c4e-f527-4393-bacc-95fadcfbf11f","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at sendError (server.js:3972:3)
      at server.js:19088:12
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at SendStream.error (node_modules/serve-static/index.js:121:7)
      at SendStream.error (node_modules/send/index.js:270:17)
      at SendStream.onStatError (node_modules/send/index.js:417:12)
      at next (node_modules/send/index.js:730:16)
      at onstat (node_modules/send/index.js:719:14)

  console.log
    {"timestamp":"2025-12-04T14:00:04.319Z","level":"info","message":"http_request_completed","requestId":"58233c4e-f527-4393-bacc-95fadcfbf11f","method":"GET","path":"/api/static-proxy?asset=..%2Fsecrets.txt","statusCode":400,"durationMs":20,"contentLength":"182","template":"unknown","session":"58233c4e-f527-4393-bacc-95fadcfbf11f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58233c4e-f527-4393-bacc-95fadcfbf11f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.323Z","level":"info","message":"http_request_received","requestId":"6928ee81-19a0-4c48-a1bb-a3ac060aea57","method":"GET","path":"/api/static-manifest","template":"unknown","session":"6928ee81-19a0-4c48-a1bb-a3ac060aea57","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6928ee81-19a0-4c48-a1bb-a3ac060aea57","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.324Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.326Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.327Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.328Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.330Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.334Z","level":"info","message":"http_request_completed","requestId":"6928ee81-19a0-4c48-a1bb-a3ac060aea57","method":"GET","path":"/api/static-manifest","statusCode":200,"durationMs":11,"contentLength":"301","template":"unknown","session":"6928ee81-19a0-4c48-a1bb-a3ac060aea57","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6928ee81-19a0-4c48-a1bb-a3ac060aea57","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.337Z","level":"info","message":"http_request_received","requestId":"fef8469a-87d7-4a34-8f4c-063608b3f3b1","method":"GET","path":"/api/static-manifest","template":"unknown","session":"fef8469a-87d7-4a34-8f4c-063608b3f3b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fef8469a-87d7-4a34-8f4c-063608b3f3b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.338Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.339Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.340Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.341Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.344Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.346Z","level":"info","message":"http_request_completed","requestId":"fef8469a-87d7-4a34-8f4c-063608b3f3b1","method":"GET","path":"/api/static-manifest","statusCode":200,"durationMs":9,"contentLength":"195","template":"unknown","session":"fef8469a-87d7-4a34-8f4c-063608b3f3b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fef8469a-87d7-4a34-8f4c-063608b3f3b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.348Z","level":"info","message":"http_request_received","requestId":"9ef8d03d-0aad-4b67-b1c0-609c6727e5c3","method":"GET","path":"/api/static-manifest?refresh=1","template":"unknown","session":"9ef8d03d-0aad-4b67-b1c0-609c6727e5c3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ef8d03d-0aad-4b67-b1c0-609c6727e5c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.349Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest?refresh=1","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.350Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.351Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.353Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.355Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.357Z","level":"info","message":"http_request_completed","requestId":"9ef8d03d-0aad-4b67-b1c0-609c6727e5c3","method":"GET","path":"/api/static-manifest?refresh=1","statusCode":200,"durationMs":9,"contentLength":"195","template":"unknown","session":"9ef8d03d-0aad-4b67-b1c0-609c6727e5c3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ef8d03d-0aad-4b67-b1c0-609c6727e5c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.359Z","level":"info","message":"http_request_received","requestId":"3b74f305-b622-4a41-880a-27e49f8b6a28","method":"GET","path":"/api/static-manifest","template":"unknown","session":"3b74f305-b622-4a41-880a-27e49f8b6a28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b74f305-b622-4a41-880a-27e49f8b6a28","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.360Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.361Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.363Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.364Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.366Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:04.376Z","level":"warn","message":"client_asset_manifest_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/manifest.json","error":{"name":"Error","message":"manifest not found","stack":"Error: manifest not found\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:906:22)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7816:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7819:16)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:869:30\n    at loadStaticAssetManifestFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:952:5)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:19231:28\n    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/serve-static/index.js:121:7)\n    at SendStream.emit (node:events:513:28)\n    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:270:17)\n    at SendStream.onStatError (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:417:12)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:730:16)\n    at onstat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:719:14)\n    at FSReqCallback.oncomplete (node:fs:206:21)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:944:7
      at loadStaticAssetManifestFromS3 (server.js:959:12)
      at server.js:19231:22

  console.error
    {"timestamp":"2025-12-04T14:00:04.381Z","level":"error","message":"api_error_response","requestId":"3b74f305-b622-4a41-880a-27e49f8b6a28","status":503,"error":{"code":"STATIC_MANIFEST_UNAVAILABLE","message":"Static asset manifest is not currently available. Please try again shortly.","details":{},"requestId":"3b74f305-b622-4a41-880a-27e49f8b6a28"},"template":"unknown","session":"3b74f305-b622-4a41-880a-27e49f8b6a28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b74f305-b622-4a41-880a-27e49f8b6a28","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at sendError (server.js:3972:3)
      at server.js:19236:14

  console.log
    {"timestamp":"2025-12-04T14:00:04.388Z","level":"info","message":"http_request_completed","requestId":"3b74f305-b622-4a41-880a-27e49f8b6a28","method":"GET","path":"/api/static-manifest","statusCode":503,"durationMs":29,"contentLength":"216","template":"unknown","session":"3b74f305-b622-4a41-880a-27e49f8b6a28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b74f305-b622-4a41-880a-27e49f8b6a28","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.394Z","level":"info","message":"http_request_received","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","method":"POST","path":"/api/process-cv","template":"unknown","session":"65bbb761-418f-412a-95e2-7cf7b0335f7e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"65bbb761-418f-412a-95e2-7cf7b0335f7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.395Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.396Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.398Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.399Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.401Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/65bbb761-418f-412a-95e2-7cf7b0335f7e/incoming/original.pdf","chunks":1,"timestamp":1764856804414}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/65bbb761-418f-412a-95e2-7cf7b0335f7e/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/65bbb761-418f-412a-95e2-7cf7b0335f7e/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":15}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:00:04.440Z","level":"info","message":"process_cv_started","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","jobId":"fe1169e5-8994-45e3-9632-289fa3c6f674","manualJobDescriptionProvided":true,"template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.443Z","level":"info","message":"template_selection","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","jobId":"fe1169e5-8994-45e3-9632-289fa3c6f674","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:04.446Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","jobId":"fe1169e5-8994-45e3-9632-289fa3c6f674","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:00:04.464Z","level":"info","message":"initial_upload_completed","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","jobId":"fe1169e5-8994-45e3-9632-289fa3c6f674","bucket":"test-bucket","key":"cv/candidate/65bbb761-418f-412a-95e2-7cf7b0335f7e/incoming/original.pdf","template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.479Z","level":"info","message":"resume_text_extracted","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","jobId":"fe1169e5-8994-45e3-9632-289fa3c6f674","characters":57,"template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.480Z","level":"info","message":"resume_classified","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","jobId":"fe1169e5-8994-45e3-9632-289fa3c6f674","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.482Z","level":"info","message":"raw_upload_relocated","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","jobId":"fe1169e5-8994-45e3-9632-289fa3c6f674","bucket":"test-bucket","fromKey":"cv/candidate/65bbb761-418f-412a-95e2-7cf7b0335f7e/incoming/original.pdf","toKey":"cv/professional_summary/65bbb761-418f-412a-95e2-7cf7b0335f7e/original.pdf","template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.482Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","jobId":"fe1169e5-8994-45e3-9632-289fa3c6f674","bucket":"test-bucket","key":"cv/professional_summary/65bbb761-418f-412a-95e2-7cf7b0335f7e/original.pdf","template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.483Z","level":"info","message":"dynamo_initial_record_written","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","jobId":"fe1169e5-8994-45e3-9632-289fa3c6f674","bucket":"test-bucket","key":"cv/professional_summary/65bbb761-418f-412a-95e2-7cf7b0335f7e/original.pdf","template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.484Z","level":"info","message":"upload_metadata_written","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","jobId":"fe1169e5-8994-45e3-9632-289fa3c6f674","bucket":"test-bucket","key":"cv/professional_summary/65bbb761-418f-412a-95e2-7cf7b0335f7e/logs/log.json","template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.484Z","level":"info","message":"job_description_supplied_manually","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","jobId":"fe1169e5-8994-45e3-9632-289fa3c6f674","characters":174,"template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.485Z","level":"info","message":"job_description_analyzed","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","jobId":"fe1169e5-8994-45e3-9632-289fa3c6f674","jobTitle":"","jobSkills":5,"template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.490Z","level":"info","message":"resume_skills_analyzed","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","jobId":"fe1169e5-8994-45e3-9632-289fa3c6f674","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.493Z","level":"info","message":"llm_call_metrics","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"65bbb761-418f-412a-95e2-7cf7b0335f7e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"65bbb761-418f-412a-95e2-7cf7b0335f7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.495Z","level":"info","message":"process_cv_scoring_completed","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","jobId":"fe1169e5-8994-45e3-9632-289fa3c6f674","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.514Z","level":"info","message":"llm_call_metrics","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"65bbb761-418f-412a-95e2-7cf7b0335f7e","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"65bbb761-418f-412a-95e2-7cf7b0335f7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.515Z","level":"info","message":"generation_section_rewrite_completed","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","jobId":"fe1169e5-8994-45e3-9632-289fa3c6f674","generationRunId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.515Z","level":"info","message":"llm_call_metrics","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"65bbb761-418f-412a-95e2-7cf7b0335f7e","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"65bbb761-418f-412a-95e2-7cf7b0335f7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.528Z","level":"info","message":"generation_resume_verified","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","jobId":"fe1169e5-8994-45e3-9632-289fa3c6f674","generationRunId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:04.551Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","jobId":"fe1169e5-8994-45e3-9632-289fa3c6f674","generationRunId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:04.564Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","jobId":"fe1169e5-8994-45e3-9632-289fa3c6f674","generationRunId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:04.571Z","level":"info","message":"generation_cover_letters_completed","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","jobId":"fe1169e5-8994-45e3-9632-289fa3c6f674","generationRunId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","variants":2,"fallbackApplied":true,"template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.577Z","level":"info","message":"pdf_generation_attempt","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","jobId":"fe1169e5-8994-45e3-9632-289fa3c6f674","generationRunId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/65bbb761-418f-412a-95e2-7cf7b0335f7e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/65bbb761-418f-412a-95e2-7cf7b0335f7e/enhanced_modern.pdf","session":"65bbb761-418f-412a-95e2-7cf7b0335f7e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"65bbb761-418f-412a-95e2-7cf7b0335f7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.578Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","jobId":"fe1169e5-8994-45e3-9632-289fa3c6f674","generationRunId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/65bbb761-418f-412a-95e2-7cf7b0335f7e/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"65bbb761-418f-412a-95e2-7cf7b0335f7e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"65bbb761-418f-412a-95e2-7cf7b0335f7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.579Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","jobId":"fe1169e5-8994-45e3-9632-289fa3c6f674","generationRunId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/65bbb761-418f-412a-95e2-7cf7b0335f7e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/65bbb761-418f-412a-95e2-7cf7b0335f7e/enhanced_modern.pdf","session":"65bbb761-418f-412a-95e2-7cf7b0335f7e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"65bbb761-418f-412a-95e2-7cf7b0335f7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.581Z","level":"info","message":"pdf_generation_attempt","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","jobId":"fe1169e5-8994-45e3-9632-289fa3c6f674","generationRunId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/65bbb761-418f-412a-95e2-7cf7b0335f7e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/65bbb761-418f-412a-95e2-7cf7b0335f7e/enhanced_professional.pdf","session":"65bbb761-418f-412a-95e2-7cf7b0335f7e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"65bbb761-418f-412a-95e2-7cf7b0335f7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.581Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","jobId":"fe1169e5-8994-45e3-9632-289fa3c6f674","generationRunId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/65bbb761-418f-412a-95e2-7cf7b0335f7e/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"65bbb761-418f-412a-95e2-7cf7b0335f7e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"65bbb761-418f-412a-95e2-7cf7b0335f7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.582Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","jobId":"fe1169e5-8994-45e3-9632-289fa3c6f674","generationRunId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/65bbb761-418f-412a-95e2-7cf7b0335f7e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/65bbb761-418f-412a-95e2-7cf7b0335f7e/enhanced_professional.pdf","session":"65bbb761-418f-412a-95e2-7cf7b0335f7e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"65bbb761-418f-412a-95e2-7cf7b0335f7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.582Z","level":"info","message":"pdf_generation_attempt","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","jobId":"fe1169e5-8994-45e3-9632-289fa3c6f674","generationRunId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/65bbb761-418f-412a-95e2-7cf7b0335f7e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/65bbb761-418f-412a-95e2-7cf7b0335f7e/cover_letter_cover_modern.pdf","session":"65bbb761-418f-412a-95e2-7cf7b0335f7e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"65bbb761-418f-412a-95e2-7cf7b0335f7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.583Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","jobId":"fe1169e5-8994-45e3-9632-289fa3c6f674","generationRunId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/65bbb761-418f-412a-95e2-7cf7b0335f7e/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"65bbb761-418f-412a-95e2-7cf7b0335f7e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"65bbb761-418f-412a-95e2-7cf7b0335f7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.583Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","jobId":"fe1169e5-8994-45e3-9632-289fa3c6f674","generationRunId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/65bbb761-418f-412a-95e2-7cf7b0335f7e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/65bbb761-418f-412a-95e2-7cf7b0335f7e/cover_letter_cover_modern.pdf","session":"65bbb761-418f-412a-95e2-7cf7b0335f7e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"65bbb761-418f-412a-95e2-7cf7b0335f7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.584Z","level":"info","message":"pdf_generation_attempt","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","jobId":"fe1169e5-8994-45e3-9632-289fa3c6f674","generationRunId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/65bbb761-418f-412a-95e2-7cf7b0335f7e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/65bbb761-418f-412a-95e2-7cf7b0335f7e/cover_letter_cover_professional.pdf","session":"65bbb761-418f-412a-95e2-7cf7b0335f7e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"65bbb761-418f-412a-95e2-7cf7b0335f7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.585Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","jobId":"fe1169e5-8994-45e3-9632-289fa3c6f674","generationRunId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/65bbb761-418f-412a-95e2-7cf7b0335f7e/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"65bbb761-418f-412a-95e2-7cf7b0335f7e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"65bbb761-418f-412a-95e2-7cf7b0335f7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.585Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","jobId":"fe1169e5-8994-45e3-9632-289fa3c6f674","generationRunId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/65bbb761-418f-412a-95e2-7cf7b0335f7e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/65bbb761-418f-412a-95e2-7cf7b0335f7e/cover_letter_cover_professional.pdf","session":"65bbb761-418f-412a-95e2-7cf7b0335f7e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"65bbb761-418f-412a-95e2-7cf7b0335f7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.592Z","level":"info","message":"llm_call_metrics","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"65bbb761-418f-412a-95e2-7cf7b0335f7e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"65bbb761-418f-412a-95e2-7cf7b0335f7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.593Z","level":"info","message":"generation_completed","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","jobId":"fe1169e5-8994-45e3-9632-289fa3c6f674","generationRunId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","enhancedScore":80,"outputs":5,"template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.596Z","level":"info","message":"placeholder_record_deleted","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","jobId":"fe1169e5-8994-45e3-9632-289fa3c6f674","placeholderIdentifier":"65bbb761-418f-412a-95e2-7cf7b0335f7e","template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe1169e5-8994-45e3-9632-289fa3c6f674","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.597Z","level":"info","message":"http_request_completed","requestId":"65bbb761-418f-412a-95e2-7cf7b0335f7e","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":203,"contentLength":"58133","template":"unknown","session":"65bbb761-418f-412a-95e2-7cf7b0335f7e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"65bbb761-418f-412a-95e2-7cf7b0335f7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.602Z","level":"info","message":"http_request_received","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","method":"POST","path":"/api/process-cv","template":"unknown","session":"5485cf9d-4270-4a14-8c1f-87418a8edd45","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5485cf9d-4270-4a14-8c1f-87418a8edd45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.605Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.607Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.610Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.613Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.616Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/5485cf9d-4270-4a14-8c1f-87418a8edd45/incoming/original.pdf","chunks":1,"timestamp":1764856804620}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/5485cf9d-4270-4a14-8c1f-87418a8edd45/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/5485cf9d-4270-4a14-8c1f-87418a8edd45/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:00:04.630Z","level":"info","message":"process_cv_started","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","jobId":"b1898567-4d31-4db0-858f-d2c08cb8abcf","manualJobDescriptionProvided":true,"template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.631Z","level":"info","message":"template_selection","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","jobId":"b1898567-4d31-4db0-858f-d2c08cb8abcf","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:04.632Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","jobId":"b1898567-4d31-4db0-858f-d2c08cb8abcf","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:00:04.643Z","level":"info","message":"initial_upload_completed","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","jobId":"b1898567-4d31-4db0-858f-d2c08cb8abcf","bucket":"test-bucket","key":"cv/candidate/5485cf9d-4270-4a14-8c1f-87418a8edd45/incoming/original.pdf","template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.649Z","level":"info","message":"resume_text_extracted","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","jobId":"b1898567-4d31-4db0-858f-d2c08cb8abcf","characters":57,"template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.650Z","level":"info","message":"resume_classified","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","jobId":"b1898567-4d31-4db0-858f-d2c08cb8abcf","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.650Z","level":"info","message":"raw_upload_relocated","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","jobId":"b1898567-4d31-4db0-858f-d2c08cb8abcf","bucket":"test-bucket","fromKey":"cv/candidate/5485cf9d-4270-4a14-8c1f-87418a8edd45/incoming/original.pdf","toKey":"cv/professional_summary/5485cf9d-4270-4a14-8c1f-87418a8edd45/original.pdf","template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.651Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","jobId":"b1898567-4d31-4db0-858f-d2c08cb8abcf","bucket":"test-bucket","key":"cv/professional_summary/5485cf9d-4270-4a14-8c1f-87418a8edd45/original.pdf","template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.651Z","level":"info","message":"dynamo_initial_record_written","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","jobId":"b1898567-4d31-4db0-858f-d2c08cb8abcf","bucket":"test-bucket","key":"cv/professional_summary/5485cf9d-4270-4a14-8c1f-87418a8edd45/original.pdf","template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.652Z","level":"info","message":"upload_metadata_written","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","jobId":"b1898567-4d31-4db0-858f-d2c08cb8abcf","bucket":"test-bucket","key":"cv/professional_summary/5485cf9d-4270-4a14-8c1f-87418a8edd45/logs/log.json","template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.652Z","level":"info","message":"job_description_supplied_manually","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","jobId":"b1898567-4d31-4db0-858f-d2c08cb8abcf","characters":174,"template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.653Z","level":"info","message":"job_description_analyzed","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","jobId":"b1898567-4d31-4db0-858f-d2c08cb8abcf","jobTitle":"","jobSkills":5,"template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.654Z","level":"info","message":"resume_skills_analyzed","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","jobId":"b1898567-4d31-4db0-858f-d2c08cb8abcf","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.655Z","level":"info","message":"llm_call_metrics","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"5485cf9d-4270-4a14-8c1f-87418a8edd45","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"5485cf9d-4270-4a14-8c1f-87418a8edd45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.656Z","level":"info","message":"process_cv_scoring_completed","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","jobId":"b1898567-4d31-4db0-858f-d2c08cb8abcf","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.659Z","level":"info","message":"llm_call_metrics","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"5485cf9d-4270-4a14-8c1f-87418a8edd45","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"5485cf9d-4270-4a14-8c1f-87418a8edd45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.659Z","level":"info","message":"generation_section_rewrite_completed","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","jobId":"b1898567-4d31-4db0-858f-d2c08cb8abcf","generationRunId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.660Z","level":"info","message":"llm_call_metrics","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"5485cf9d-4270-4a14-8c1f-87418a8edd45","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"5485cf9d-4270-4a14-8c1f-87418a8edd45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.665Z","level":"info","message":"generation_resume_verified","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","jobId":"b1898567-4d31-4db0-858f-d2c08cb8abcf","generationRunId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:04.678Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","jobId":"b1898567-4d31-4db0-858f-d2c08cb8abcf","generationRunId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:04.686Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","jobId":"b1898567-4d31-4db0-858f-d2c08cb8abcf","generationRunId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:04.691Z","level":"info","message":"generation_cover_letters_completed","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","jobId":"b1898567-4d31-4db0-858f-d2c08cb8abcf","generationRunId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","variants":2,"fallbackApplied":true,"template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.692Z","level":"info","message":"pdf_generation_attempt","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","jobId":"b1898567-4d31-4db0-858f-d2c08cb8abcf","generationRunId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5485cf9d-4270-4a14-8c1f-87418a8edd45/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/5485cf9d-4270-4a14-8c1f-87418a8edd45/enhanced_modern.pdf","session":"5485cf9d-4270-4a14-8c1f-87418a8edd45","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5485cf9d-4270-4a14-8c1f-87418a8edd45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.693Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","jobId":"b1898567-4d31-4db0-858f-d2c08cb8abcf","generationRunId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5485cf9d-4270-4a14-8c1f-87418a8edd45/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5485cf9d-4270-4a14-8c1f-87418a8edd45","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5485cf9d-4270-4a14-8c1f-87418a8edd45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.693Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","jobId":"b1898567-4d31-4db0-858f-d2c08cb8abcf","generationRunId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5485cf9d-4270-4a14-8c1f-87418a8edd45/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/5485cf9d-4270-4a14-8c1f-87418a8edd45/enhanced_modern.pdf","session":"5485cf9d-4270-4a14-8c1f-87418a8edd45","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5485cf9d-4270-4a14-8c1f-87418a8edd45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.694Z","level":"info","message":"pdf_generation_attempt","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","jobId":"b1898567-4d31-4db0-858f-d2c08cb8abcf","generationRunId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5485cf9d-4270-4a14-8c1f-87418a8edd45/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/5485cf9d-4270-4a14-8c1f-87418a8edd45/enhanced_professional.pdf","session":"5485cf9d-4270-4a14-8c1f-87418a8edd45","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5485cf9d-4270-4a14-8c1f-87418a8edd45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.694Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","jobId":"b1898567-4d31-4db0-858f-d2c08cb8abcf","generationRunId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5485cf9d-4270-4a14-8c1f-87418a8edd45/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5485cf9d-4270-4a14-8c1f-87418a8edd45","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5485cf9d-4270-4a14-8c1f-87418a8edd45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.695Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","jobId":"b1898567-4d31-4db0-858f-d2c08cb8abcf","generationRunId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5485cf9d-4270-4a14-8c1f-87418a8edd45/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/5485cf9d-4270-4a14-8c1f-87418a8edd45/enhanced_professional.pdf","session":"5485cf9d-4270-4a14-8c1f-87418a8edd45","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5485cf9d-4270-4a14-8c1f-87418a8edd45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.695Z","level":"info","message":"pdf_generation_attempt","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","jobId":"b1898567-4d31-4db0-858f-d2c08cb8abcf","generationRunId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5485cf9d-4270-4a14-8c1f-87418a8edd45/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/5485cf9d-4270-4a14-8c1f-87418a8edd45/cover_letter_cover_modern.pdf","session":"5485cf9d-4270-4a14-8c1f-87418a8edd45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5485cf9d-4270-4a14-8c1f-87418a8edd45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.696Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","jobId":"b1898567-4d31-4db0-858f-d2c08cb8abcf","generationRunId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5485cf9d-4270-4a14-8c1f-87418a8edd45/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"5485cf9d-4270-4a14-8c1f-87418a8edd45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5485cf9d-4270-4a14-8c1f-87418a8edd45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.696Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","jobId":"b1898567-4d31-4db0-858f-d2c08cb8abcf","generationRunId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5485cf9d-4270-4a14-8c1f-87418a8edd45/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/5485cf9d-4270-4a14-8c1f-87418a8edd45/cover_letter_cover_modern.pdf","session":"5485cf9d-4270-4a14-8c1f-87418a8edd45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5485cf9d-4270-4a14-8c1f-87418a8edd45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.697Z","level":"info","message":"pdf_generation_attempt","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","jobId":"b1898567-4d31-4db0-858f-d2c08cb8abcf","generationRunId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5485cf9d-4270-4a14-8c1f-87418a8edd45/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/5485cf9d-4270-4a14-8c1f-87418a8edd45/cover_letter_cover_professional.pdf","session":"5485cf9d-4270-4a14-8c1f-87418a8edd45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5485cf9d-4270-4a14-8c1f-87418a8edd45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.697Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","jobId":"b1898567-4d31-4db0-858f-d2c08cb8abcf","generationRunId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5485cf9d-4270-4a14-8c1f-87418a8edd45/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"5485cf9d-4270-4a14-8c1f-87418a8edd45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5485cf9d-4270-4a14-8c1f-87418a8edd45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.698Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","jobId":"b1898567-4d31-4db0-858f-d2c08cb8abcf","generationRunId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5485cf9d-4270-4a14-8c1f-87418a8edd45/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/5485cf9d-4270-4a14-8c1f-87418a8edd45/cover_letter_cover_professional.pdf","session":"5485cf9d-4270-4a14-8c1f-87418a8edd45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5485cf9d-4270-4a14-8c1f-87418a8edd45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.702Z","level":"info","message":"llm_call_metrics","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"5485cf9d-4270-4a14-8c1f-87418a8edd45","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"5485cf9d-4270-4a14-8c1f-87418a8edd45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.703Z","level":"info","message":"generation_completed","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","jobId":"b1898567-4d31-4db0-858f-d2c08cb8abcf","generationRunId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","enhancedScore":80,"outputs":5,"template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.704Z","level":"info","message":"placeholder_record_deleted","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","jobId":"b1898567-4d31-4db0-858f-d2c08cb8abcf","placeholderIdentifier":"5485cf9d-4270-4a14-8c1f-87418a8edd45","template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b1898567-4d31-4db0-858f-d2c08cb8abcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.706Z","level":"info","message":"http_request_completed","requestId":"5485cf9d-4270-4a14-8c1f-87418a8edd45","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":104,"contentLength":"58133","template":"unknown","session":"5485cf9d-4270-4a14-8c1f-87418a8edd45","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5485cf9d-4270-4a14-8c1f-87418a8edd45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.744Z","level":"info","message":"http_request_received","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","method":"POST","path":"/api/process-cv","template":"unknown","session":"02004f12-4053-4cb7-8493-7dce1e58b6f3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02004f12-4053-4cb7-8493-7dce1e58b6f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.745Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.747Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.748Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.749Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.751Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/02004f12-4053-4cb7-8493-7dce1e58b6f3/incoming/original.pdf","chunks":1,"timestamp":1764856804755}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/02004f12-4053-4cb7-8493-7dce1e58b6f3/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/02004f12-4053-4cb7-8493-7dce1e58b6f3/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:00:04.757Z","level":"info","message":"process_cv_started","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","jobId":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","manualJobDescriptionProvided":true,"template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.758Z","level":"info","message":"template_selection","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","jobId":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:04.759Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","jobId":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:00:04.771Z","level":"info","message":"initial_upload_completed","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","jobId":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","bucket":"test-bucket","key":"cv/candidate/02004f12-4053-4cb7-8493-7dce1e58b6f3/incoming/original.pdf","template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.773Z","level":"info","message":"resume_text_extracted","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","jobId":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","characters":57,"template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.773Z","level":"info","message":"resume_classified","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","jobId":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.774Z","level":"info","message":"raw_upload_relocated","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","jobId":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","bucket":"test-bucket","fromKey":"cv/candidate/02004f12-4053-4cb7-8493-7dce1e58b6f3/incoming/original.pdf","toKey":"cv/professional_summary/02004f12-4053-4cb7-8493-7dce1e58b6f3/original.pdf","template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.775Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","jobId":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","bucket":"test-bucket","key":"cv/professional_summary/02004f12-4053-4cb7-8493-7dce1e58b6f3/original.pdf","template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.776Z","level":"info","message":"dynamo_initial_record_written","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","jobId":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","bucket":"test-bucket","key":"cv/professional_summary/02004f12-4053-4cb7-8493-7dce1e58b6f3/original.pdf","template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.778Z","level":"info","message":"upload_metadata_written","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","jobId":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","bucket":"test-bucket","key":"cv/professional_summary/02004f12-4053-4cb7-8493-7dce1e58b6f3/logs/log.json","template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.779Z","level":"info","message":"session_transition_change_log_removed","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","jobId":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","bucket":"test-bucket","removedKeys":["cv/candidate/session-old/logs/change-log.json","cv/candidate/session-old/artifacts/changelog.json"],"template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.780Z","level":"info","message":"job_description_supplied_manually","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","jobId":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","characters":174,"template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.781Z","level":"info","message":"job_description_analyzed","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","jobId":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","jobTitle":"","jobSkills":5,"template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.782Z","level":"info","message":"resume_skills_analyzed","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","jobId":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.783Z","level":"info","message":"llm_call_metrics","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"02004f12-4053-4cb7-8493-7dce1e58b6f3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"02004f12-4053-4cb7-8493-7dce1e58b6f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.784Z","level":"info","message":"process_cv_scoring_completed","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","jobId":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.787Z","level":"info","message":"llm_call_metrics","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"02004f12-4053-4cb7-8493-7dce1e58b6f3","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"02004f12-4053-4cb7-8493-7dce1e58b6f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.787Z","level":"info","message":"generation_section_rewrite_completed","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","jobId":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","generationRunId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.788Z","level":"info","message":"llm_call_metrics","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"02004f12-4053-4cb7-8493-7dce1e58b6f3","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"02004f12-4053-4cb7-8493-7dce1e58b6f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.791Z","level":"info","message":"generation_resume_verified","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","jobId":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","generationRunId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:04.794Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","jobId":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","generationRunId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:04.806Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","jobId":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","generationRunId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:04.812Z","level":"info","message":"generation_cover_letters_completed","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","jobId":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","generationRunId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","variants":2,"fallbackApplied":true,"template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.813Z","level":"info","message":"pdf_generation_attempt","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","jobId":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","generationRunId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/02004f12-4053-4cb7-8493-7dce1e58b6f3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/02004f12-4053-4cb7-8493-7dce1e58b6f3/enhanced_modern.pdf","session":"02004f12-4053-4cb7-8493-7dce1e58b6f3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"02004f12-4053-4cb7-8493-7dce1e58b6f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.813Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","jobId":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","generationRunId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/02004f12-4053-4cb7-8493-7dce1e58b6f3/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"02004f12-4053-4cb7-8493-7dce1e58b6f3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"02004f12-4053-4cb7-8493-7dce1e58b6f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.814Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","jobId":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","generationRunId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/02004f12-4053-4cb7-8493-7dce1e58b6f3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/02004f12-4053-4cb7-8493-7dce1e58b6f3/enhanced_modern.pdf","session":"02004f12-4053-4cb7-8493-7dce1e58b6f3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"02004f12-4053-4cb7-8493-7dce1e58b6f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.814Z","level":"info","message":"pdf_generation_attempt","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","jobId":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","generationRunId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/02004f12-4053-4cb7-8493-7dce1e58b6f3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/02004f12-4053-4cb7-8493-7dce1e58b6f3/enhanced_professional.pdf","session":"02004f12-4053-4cb7-8493-7dce1e58b6f3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"02004f12-4053-4cb7-8493-7dce1e58b6f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.814Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","jobId":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","generationRunId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/02004f12-4053-4cb7-8493-7dce1e58b6f3/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"02004f12-4053-4cb7-8493-7dce1e58b6f3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"02004f12-4053-4cb7-8493-7dce1e58b6f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.815Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","jobId":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","generationRunId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/02004f12-4053-4cb7-8493-7dce1e58b6f3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/02004f12-4053-4cb7-8493-7dce1e58b6f3/enhanced_professional.pdf","session":"02004f12-4053-4cb7-8493-7dce1e58b6f3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"02004f12-4053-4cb7-8493-7dce1e58b6f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.815Z","level":"info","message":"pdf_generation_attempt","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","jobId":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","generationRunId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/02004f12-4053-4cb7-8493-7dce1e58b6f3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/02004f12-4053-4cb7-8493-7dce1e58b6f3/cover_letter_cover_modern.pdf","session":"02004f12-4053-4cb7-8493-7dce1e58b6f3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"02004f12-4053-4cb7-8493-7dce1e58b6f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.816Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","jobId":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","generationRunId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/02004f12-4053-4cb7-8493-7dce1e58b6f3/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"02004f12-4053-4cb7-8493-7dce1e58b6f3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"02004f12-4053-4cb7-8493-7dce1e58b6f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.816Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","jobId":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","generationRunId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/02004f12-4053-4cb7-8493-7dce1e58b6f3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/02004f12-4053-4cb7-8493-7dce1e58b6f3/cover_letter_cover_modern.pdf","session":"02004f12-4053-4cb7-8493-7dce1e58b6f3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"02004f12-4053-4cb7-8493-7dce1e58b6f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.817Z","level":"info","message":"pdf_generation_attempt","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","jobId":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","generationRunId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/02004f12-4053-4cb7-8493-7dce1e58b6f3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/02004f12-4053-4cb7-8493-7dce1e58b6f3/cover_letter_cover_professional.pdf","session":"02004f12-4053-4cb7-8493-7dce1e58b6f3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"02004f12-4053-4cb7-8493-7dce1e58b6f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.818Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","jobId":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","generationRunId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/02004f12-4053-4cb7-8493-7dce1e58b6f3/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"02004f12-4053-4cb7-8493-7dce1e58b6f3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"02004f12-4053-4cb7-8493-7dce1e58b6f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.818Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","jobId":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","generationRunId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/02004f12-4053-4cb7-8493-7dce1e58b6f3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/02004f12-4053-4cb7-8493-7dce1e58b6f3/cover_letter_cover_professional.pdf","session":"02004f12-4053-4cb7-8493-7dce1e58b6f3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"02004f12-4053-4cb7-8493-7dce1e58b6f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.821Z","level":"info","message":"llm_call_metrics","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"02004f12-4053-4cb7-8493-7dce1e58b6f3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"02004f12-4053-4cb7-8493-7dce1e58b6f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.822Z","level":"info","message":"generation_completed","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","jobId":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","generationRunId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","enhancedScore":80,"outputs":5,"template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.823Z","level":"info","message":"placeholder_record_deleted","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","jobId":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","placeholderIdentifier":"02004f12-4053-4cb7-8493-7dce1e58b6f3","template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a265ca8b-1f04-46ef-9f1d-46ec927c0921","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.825Z","level":"info","message":"http_request_completed","requestId":"02004f12-4053-4cb7-8493-7dce1e58b6f3","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":81,"contentLength":"58133","template":"unknown","session":"02004f12-4053-4cb7-8493-7dce1e58b6f3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02004f12-4053-4cb7-8493-7dce1e58b6f3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.829Z","level":"info","message":"http_request_received","requestId":"repeat","method":"POST","path":"/api/process-cv","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.831Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.832Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.833Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.835Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.837Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","chunks":1,"timestamp":1764856804841}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:00:04.844Z","level":"info","message":"process_cv_started","requestId":"repeat","jobId":"repeat","manualJobDescriptionProvided":true,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.845Z","level":"info","message":"template_selection","requestId":"repeat","jobId":"repeat","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:04.846Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"repeat","jobId":"repeat","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:00:04.858Z","level":"info","message":"initial_upload_completed","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.859Z","level":"info","message":"resume_text_extracted","requestId":"repeat","jobId":"repeat","characters":57,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.860Z","level":"info","message":"resume_classified","requestId":"repeat","jobId":"repeat","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.860Z","level":"info","message":"raw_upload_relocated","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","fromKey":"cv/candidate/repeat/incoming/original.pdf","toKey":"cv/professional_summary/repeat/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.861Z","level":"info","message":"dynamo_initial_record_written","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/professional_summary/repeat/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.861Z","level":"info","message":"upload_metadata_written","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/professional_summary/repeat/logs/log.json","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.862Z","level":"info","message":"session_transition_change_log_removed","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","removedKeys":["cv/candidate/repeat/logs/change-log.json","cv/candidate/repeat/artifacts/changelog.json"],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.862Z","level":"info","message":"job_description_supplied_manually","requestId":"repeat","jobId":"repeat","characters":174,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.863Z","level":"info","message":"job_description_analyzed","requestId":"repeat","jobId":"repeat","jobTitle":"","jobSkills":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.863Z","level":"info","message":"resume_skills_analyzed","requestId":"repeat","jobId":"repeat","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.864Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.864Z","level":"info","message":"process_cv_scoring_completed","requestId":"repeat","jobId":"repeat","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.866Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.867Z","level":"info","message":"generation_section_rewrite_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.867Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.869Z","level":"info","message":"generation_resume_verified","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:04.871Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:04.878Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:04.883Z","level":"info","message":"generation_cover_letters_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","variants":2,"fallbackApplied":true,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.884Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.884Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.884Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.885Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.885Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.885Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.886Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.886Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.887Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.887Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.888Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.888Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.891Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.892Z","level":"info","message":"generation_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","enhancedScore":80,"outputs":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.896Z","level":"info","message":"http_request_completed","requestId":"repeat","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":67,"contentLength":"57353","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.900Z","level":"info","message":"http_request_received","requestId":"9e409ed8-ba74-4152-80c5-8949dda9d456","method":"POST","path":"/api/process-cv","template":"unknown","session":"9e409ed8-ba74-4152-80c5-8949dda9d456","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9e409ed8-ba74-4152-80c5-8949dda9d456","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.901Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.902Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.904Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.907Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.909Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/9e409ed8-ba74-4152-80c5-8949dda9d456/incoming/original.pdf","chunks":1,"timestamp":1764856804912}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/9e409ed8-ba74-4152-80c5-8949dda9d456/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/9e409ed8-ba74-4152-80c5-8949dda9d456/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:00:04.917Z","level":"info","message":"process_cv_started","requestId":"9e409ed8-ba74-4152-80c5-8949dda9d456","jobId":"f18e520a-b825-4835-97d8-1b471f278078","manualJobDescriptionProvided":false,"template":"unknown","session":"f18e520a-b825-4835-97d8-1b471f278078","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f18e520a-b825-4835-97d8-1b471f278078","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.918Z","level":"info","message":"template_selection","requestId":"9e409ed8-ba74-4152-80c5-8949dda9d456","jobId":"f18e520a-b825-4835-97d8-1b471f278078","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"f18e520a-b825-4835-97d8-1b471f278078","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f18e520a-b825-4835-97d8-1b471f278078","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:04.918Z","level":"warn","message":"job_description_missing","requestId":"9e409ed8-ba74-4152-80c5-8949dda9d456","jobId":"f18e520a-b825-4835-97d8-1b471f278078","template":"unknown","session":"f18e520a-b825-4835-97d8-1b471f278078","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f18e520a-b825-4835-97d8-1b471f278078","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:25105:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T14:00:04.925Z","level":"warn","message":"api_error_response","requestId":"9e409ed8-ba74-4152-80c5-8949dda9d456","jobId":"f18e520a-b825-4835-97d8-1b471f278078","status":400,"error":{"code":"JOB_DESCRIPTION_REQUIRED","message":"manualJobDescription required","details":{"field":"manualJobDescription"},"requestId":"9e409ed8-ba74-4152-80c5-8949dda9d456","jobId":"f18e520a-b825-4835-97d8-1b471f278078"},"template":"unknown","session":"f18e520a-b825-4835-97d8-1b471f278078","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f18e520a-b825-4835-97d8-1b471f278078","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at sendError (server.js:3972:3)
      at server.js:25106:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:00:04.931Z","level":"info","message":"http_request_completed","requestId":"9e409ed8-ba74-4152-80c5-8949dda9d456","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":31,"contentLength":"244","template":"unknown","session":"9e409ed8-ba74-4152-80c5-8949dda9d456","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9e409ed8-ba74-4152-80c5-8949dda9d456","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.934Z","level":"info","message":"http_request_received","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","method":"POST","path":"/api/process-cv","template":"unknown","session":"53b30372-ef0c-42ba-bc46-b17504ed9427","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"53b30372-ef0c-42ba-bc46-b17504ed9427","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.935Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.936Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.938Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.940Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.948Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/53b30372-ef0c-42ba-bc46-b17504ed9427/incoming/original.pdf","chunks":1,"timestamp":1764856804950}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/53b30372-ef0c-42ba-bc46-b17504ed9427/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/53b30372-ef0c-42ba-bc46-b17504ed9427/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":3}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:00:04.954Z","level":"info","message":"process_cv_started","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","jobId":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","manualJobDescriptionProvided":true,"template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.955Z","level":"info","message":"template_selection","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","jobId":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:04.956Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","jobId":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:00:04.962Z","level":"info","message":"initial_upload_completed","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","jobId":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","bucket":"test-bucket","key":"cv/candidate/53b30372-ef0c-42ba-bc46-b17504ed9427/incoming/original.pdf","template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.964Z","level":"info","message":"resume_text_extracted","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","jobId":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","characters":57,"template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.965Z","level":"info","message":"resume_classified","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","jobId":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.965Z","level":"info","message":"raw_upload_relocated","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","jobId":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","bucket":"test-bucket","fromKey":"cv/candidate/53b30372-ef0c-42ba-bc46-b17504ed9427/incoming/original.pdf","toKey":"cv/professional_summary/53b30372-ef0c-42ba-bc46-b17504ed9427/original.pdf","template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.965Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","jobId":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","bucket":"test-bucket","key":"cv/professional_summary/53b30372-ef0c-42ba-bc46-b17504ed9427/original.pdf","template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.966Z","level":"info","message":"dynamo_initial_record_written","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","jobId":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","bucket":"test-bucket","key":"cv/professional_summary/53b30372-ef0c-42ba-bc46-b17504ed9427/original.pdf","template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.966Z","level":"info","message":"upload_metadata_written","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","jobId":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","bucket":"test-bucket","key":"cv/professional_summary/53b30372-ef0c-42ba-bc46-b17504ed9427/logs/log.json","template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.967Z","level":"info","message":"job_description_supplied_manually","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","jobId":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","characters":59,"template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.973Z","level":"info","message":"job_description_analyzed","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","jobId":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","jobTitle":"","jobSkills":5,"template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.975Z","level":"info","message":"resume_skills_analyzed","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","jobId":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.976Z","level":"info","message":"llm_call_metrics","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"53b30372-ef0c-42ba-bc46-b17504ed9427","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"53b30372-ef0c-42ba-bc46-b17504ed9427","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.977Z","level":"info","message":"process_cv_scoring_completed","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","jobId":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.980Z","level":"info","message":"llm_call_metrics","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"ea2430c235b24028819e3e632af324e68724bbc1d27bee61065e3e4452249d1c","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"53b30372-ef0c-42ba-bc46-b17504ed9427","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"53b30372-ef0c-42ba-bc46-b17504ed9427","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.981Z","level":"info","message":"generation_section_rewrite_completed","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","jobId":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","generationRunId":"53b30372-ef0c-42ba-bc46-b17504ed9427","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.981Z","level":"info","message":"llm_call_metrics","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"5ccfe9db3e82fa26357ec9c5a8fa36d7c5cf260bf775e906492a22db0355a609","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"53b30372-ef0c-42ba-bc46-b17504ed9427","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"53b30372-ef0c-42ba-bc46-b17504ed9427","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:04.985Z","level":"info","message":"generation_resume_verified","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","jobId":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","generationRunId":"53b30372-ef0c-42ba-bc46-b17504ed9427","template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:04.989Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","jobId":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","generationRunId":"53b30372-ef0c-42ba-bc46-b17504ed9427","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:04.997Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","jobId":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","generationRunId":"53b30372-ef0c-42ba-bc46-b17504ed9427","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:05.004Z","level":"info","message":"generation_cover_letters_completed","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","jobId":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","generationRunId":"53b30372-ef0c-42ba-bc46-b17504ed9427","variants":2,"fallbackApplied":true,"template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.005Z","level":"info","message":"pdf_generation_attempt","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","jobId":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","generationRunId":"53b30372-ef0c-42ba-bc46-b17504ed9427","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/53b30372-ef0c-42ba-bc46-b17504ed9427/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/53b30372-ef0c-42ba-bc46-b17504ed9427/enhanced_modern.pdf","session":"53b30372-ef0c-42ba-bc46-b17504ed9427","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"53b30372-ef0c-42ba-bc46-b17504ed9427","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.006Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","jobId":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","generationRunId":"53b30372-ef0c-42ba-bc46-b17504ed9427","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/53b30372-ef0c-42ba-bc46-b17504ed9427/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"53b30372-ef0c-42ba-bc46-b17504ed9427","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"53b30372-ef0c-42ba-bc46-b17504ed9427","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.006Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","jobId":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","generationRunId":"53b30372-ef0c-42ba-bc46-b17504ed9427","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/53b30372-ef0c-42ba-bc46-b17504ed9427/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/53b30372-ef0c-42ba-bc46-b17504ed9427/enhanced_modern.pdf","session":"53b30372-ef0c-42ba-bc46-b17504ed9427","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"53b30372-ef0c-42ba-bc46-b17504ed9427","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.007Z","level":"info","message":"pdf_generation_attempt","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","jobId":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","generationRunId":"53b30372-ef0c-42ba-bc46-b17504ed9427","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/53b30372-ef0c-42ba-bc46-b17504ed9427/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/53b30372-ef0c-42ba-bc46-b17504ed9427/enhanced_professional.pdf","session":"53b30372-ef0c-42ba-bc46-b17504ed9427","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"53b30372-ef0c-42ba-bc46-b17504ed9427","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.008Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","jobId":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","generationRunId":"53b30372-ef0c-42ba-bc46-b17504ed9427","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/53b30372-ef0c-42ba-bc46-b17504ed9427/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"53b30372-ef0c-42ba-bc46-b17504ed9427","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"53b30372-ef0c-42ba-bc46-b17504ed9427","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.009Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","jobId":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","generationRunId":"53b30372-ef0c-42ba-bc46-b17504ed9427","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/53b30372-ef0c-42ba-bc46-b17504ed9427/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/53b30372-ef0c-42ba-bc46-b17504ed9427/enhanced_professional.pdf","session":"53b30372-ef0c-42ba-bc46-b17504ed9427","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"53b30372-ef0c-42ba-bc46-b17504ed9427","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.009Z","level":"info","message":"pdf_generation_attempt","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","jobId":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","generationRunId":"53b30372-ef0c-42ba-bc46-b17504ed9427","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/53b30372-ef0c-42ba-bc46-b17504ed9427/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/53b30372-ef0c-42ba-bc46-b17504ed9427/cover_letter_cover_modern.pdf","session":"53b30372-ef0c-42ba-bc46-b17504ed9427","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"53b30372-ef0c-42ba-bc46-b17504ed9427","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.010Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","jobId":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","generationRunId":"53b30372-ef0c-42ba-bc46-b17504ed9427","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/53b30372-ef0c-42ba-bc46-b17504ed9427/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"53b30372-ef0c-42ba-bc46-b17504ed9427","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"53b30372-ef0c-42ba-bc46-b17504ed9427","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.010Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","jobId":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","generationRunId":"53b30372-ef0c-42ba-bc46-b17504ed9427","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/53b30372-ef0c-42ba-bc46-b17504ed9427/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/53b30372-ef0c-42ba-bc46-b17504ed9427/cover_letter_cover_modern.pdf","session":"53b30372-ef0c-42ba-bc46-b17504ed9427","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"53b30372-ef0c-42ba-bc46-b17504ed9427","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.011Z","level":"info","message":"pdf_generation_attempt","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","jobId":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","generationRunId":"53b30372-ef0c-42ba-bc46-b17504ed9427","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/53b30372-ef0c-42ba-bc46-b17504ed9427/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/53b30372-ef0c-42ba-bc46-b17504ed9427/cover_letter_cover_professional.pdf","session":"53b30372-ef0c-42ba-bc46-b17504ed9427","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"53b30372-ef0c-42ba-bc46-b17504ed9427","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.012Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","jobId":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","generationRunId":"53b30372-ef0c-42ba-bc46-b17504ed9427","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/53b30372-ef0c-42ba-bc46-b17504ed9427/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"53b30372-ef0c-42ba-bc46-b17504ed9427","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"53b30372-ef0c-42ba-bc46-b17504ed9427","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.013Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","jobId":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","generationRunId":"53b30372-ef0c-42ba-bc46-b17504ed9427","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/53b30372-ef0c-42ba-bc46-b17504ed9427/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/53b30372-ef0c-42ba-bc46-b17504ed9427/cover_letter_cover_professional.pdf","session":"53b30372-ef0c-42ba-bc46-b17504ed9427","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"53b30372-ef0c-42ba-bc46-b17504ed9427","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.018Z","level":"info","message":"llm_call_metrics","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"53b30372-ef0c-42ba-bc46-b17504ed9427","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"53b30372-ef0c-42ba-bc46-b17504ed9427","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.022Z","level":"info","message":"generation_completed","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","jobId":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","generationRunId":"53b30372-ef0c-42ba-bc46-b17504ed9427","enhancedScore":80,"outputs":5,"template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.025Z","level":"info","message":"placeholder_record_deleted","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","jobId":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","placeholderIdentifier":"53b30372-ef0c-42ba-bc46-b17504ed9427","template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0da52f81-5d86-4407-8fc9-925ca6afaf0f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.027Z","level":"info","message":"http_request_completed","requestId":"53b30372-ef0c-42ba-bc46-b17504ed9427","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":93,"contentLength":"55048","template":"unknown","session":"53b30372-ef0c-42ba-bc46-b17504ed9427","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"53b30372-ef0c-42ba-bc46-b17504ed9427","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.035Z","level":"info","message":"http_request_received","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","method":"POST","path":"/api/process-cv","template":"unknown","session":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.037Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.039Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.041Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.044Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.047Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/8794e62c-0e4f-4dfd-b98a-56b783383f2d/incoming/original.pdf","chunks":1,"timestamp":1764856805052}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/8794e62c-0e4f-4dfd-b98a-56b783383f2d/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/8794e62c-0e4f-4dfd-b98a-56b783383f2d/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":3}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:00:05.056Z","level":"info","message":"process_cv_started","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","jobId":"7636ba40-309a-4559-aadc-9ca1c9c2e082","manualJobDescriptionProvided":true,"template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.057Z","level":"info","message":"template_selection","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","jobId":"7636ba40-309a-4559-aadc-9ca1c9c2e082","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:05.058Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","jobId":"7636ba40-309a-4559-aadc-9ca1c9c2e082","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:00:05.076Z","level":"info","message":"initial_upload_completed","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","jobId":"7636ba40-309a-4559-aadc-9ca1c9c2e082","bucket":"test-bucket","key":"cv/candidate/8794e62c-0e4f-4dfd-b98a-56b783383f2d/incoming/original.pdf","template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.081Z","level":"info","message":"resume_text_extracted","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","jobId":"7636ba40-309a-4559-aadc-9ca1c9c2e082","characters":57,"template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.082Z","level":"info","message":"resume_classified","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","jobId":"7636ba40-309a-4559-aadc-9ca1c9c2e082","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.082Z","level":"info","message":"raw_upload_relocated","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","jobId":"7636ba40-309a-4559-aadc-9ca1c9c2e082","bucket":"test-bucket","fromKey":"cv/candidate/8794e62c-0e4f-4dfd-b98a-56b783383f2d/incoming/original.pdf","toKey":"cv/professional_summary/8794e62c-0e4f-4dfd-b98a-56b783383f2d/original.pdf","template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.083Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","jobId":"7636ba40-309a-4559-aadc-9ca1c9c2e082","bucket":"test-bucket","key":"cv/professional_summary/8794e62c-0e4f-4dfd-b98a-56b783383f2d/original.pdf","template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.084Z","level":"info","message":"dynamo_initial_record_written","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","jobId":"7636ba40-309a-4559-aadc-9ca1c9c2e082","bucket":"test-bucket","key":"cv/professional_summary/8794e62c-0e4f-4dfd-b98a-56b783383f2d/original.pdf","template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.085Z","level":"info","message":"upload_metadata_written","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","jobId":"7636ba40-309a-4559-aadc-9ca1c9c2e082","bucket":"test-bucket","key":"cv/professional_summary/8794e62c-0e4f-4dfd-b98a-56b783383f2d/logs/log.json","template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.085Z","level":"info","message":"job_description_supplied_manually","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","jobId":"7636ba40-309a-4559-aadc-9ca1c9c2e082","characters":32,"template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.086Z","level":"info","message":"job_description_analyzed","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","jobId":"7636ba40-309a-4559-aadc-9ca1c9c2e082","jobTitle":"","jobSkills":5,"template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.087Z","level":"info","message":"resume_skills_analyzed","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","jobId":"7636ba40-309a-4559-aadc-9ca1c9c2e082","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.087Z","level":"info","message":"llm_call_metrics","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.088Z","level":"info","message":"process_cv_scoring_completed","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","jobId":"7636ba40-309a-4559-aadc-9ca1c9c2e082","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.094Z","level":"info","message":"llm_call_metrics","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"4ee429ea92424e8e19e4720211137d476a19f7274074e1702e9c42fe53b6fed7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.096Z","level":"info","message":"generation_section_rewrite_completed","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","jobId":"7636ba40-309a-4559-aadc-9ca1c9c2e082","generationRunId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.098Z","level":"info","message":"llm_call_metrics","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"b847d6e14d4cae3ee14cd5dbb7c4a4ca1658d965fe5c0b4564eb95e9b23995e3","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.105Z","level":"info","message":"generation_resume_verified","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","jobId":"7636ba40-309a-4559-aadc-9ca1c9c2e082","generationRunId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:05.112Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","jobId":"7636ba40-309a-4559-aadc-9ca1c9c2e082","generationRunId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:05.125Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","jobId":"7636ba40-309a-4559-aadc-9ca1c9c2e082","generationRunId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:05.135Z","level":"info","message":"generation_cover_letters_completed","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","jobId":"7636ba40-309a-4559-aadc-9ca1c9c2e082","generationRunId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","variants":2,"fallbackApplied":true,"template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.137Z","level":"info","message":"pdf_generation_attempt","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","jobId":"7636ba40-309a-4559-aadc-9ca1c9c2e082","generationRunId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/8794e62c-0e4f-4dfd-b98a-56b783383f2d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/8794e62c-0e4f-4dfd-b98a-56b783383f2d/enhanced_modern.pdf","session":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.138Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","jobId":"7636ba40-309a-4559-aadc-9ca1c9c2e082","generationRunId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/8794e62c-0e4f-4dfd-b98a-56b783383f2d/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.139Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","jobId":"7636ba40-309a-4559-aadc-9ca1c9c2e082","generationRunId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/8794e62c-0e4f-4dfd-b98a-56b783383f2d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/8794e62c-0e4f-4dfd-b98a-56b783383f2d/enhanced_modern.pdf","session":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.140Z","level":"info","message":"pdf_generation_attempt","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","jobId":"7636ba40-309a-4559-aadc-9ca1c9c2e082","generationRunId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/8794e62c-0e4f-4dfd-b98a-56b783383f2d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/8794e62c-0e4f-4dfd-b98a-56b783383f2d/enhanced_professional.pdf","session":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.145Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","jobId":"7636ba40-309a-4559-aadc-9ca1c9c2e082","generationRunId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/8794e62c-0e4f-4dfd-b98a-56b783383f2d/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.146Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","jobId":"7636ba40-309a-4559-aadc-9ca1c9c2e082","generationRunId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/8794e62c-0e4f-4dfd-b98a-56b783383f2d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/8794e62c-0e4f-4dfd-b98a-56b783383f2d/enhanced_professional.pdf","session":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.147Z","level":"info","message":"pdf_generation_attempt","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","jobId":"7636ba40-309a-4559-aadc-9ca1c9c2e082","generationRunId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/8794e62c-0e4f-4dfd-b98a-56b783383f2d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/8794e62c-0e4f-4dfd-b98a-56b783383f2d/cover_letter_cover_modern.pdf","session":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.147Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","jobId":"7636ba40-309a-4559-aadc-9ca1c9c2e082","generationRunId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/8794e62c-0e4f-4dfd-b98a-56b783383f2d/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.148Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","jobId":"7636ba40-309a-4559-aadc-9ca1c9c2e082","generationRunId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/8794e62c-0e4f-4dfd-b98a-56b783383f2d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/8794e62c-0e4f-4dfd-b98a-56b783383f2d/cover_letter_cover_modern.pdf","session":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.148Z","level":"info","message":"pdf_generation_attempt","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","jobId":"7636ba40-309a-4559-aadc-9ca1c9c2e082","generationRunId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/8794e62c-0e4f-4dfd-b98a-56b783383f2d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/8794e62c-0e4f-4dfd-b98a-56b783383f2d/cover_letter_cover_professional.pdf","session":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.149Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","jobId":"7636ba40-309a-4559-aadc-9ca1c9c2e082","generationRunId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/8794e62c-0e4f-4dfd-b98a-56b783383f2d/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.149Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","jobId":"7636ba40-309a-4559-aadc-9ca1c9c2e082","generationRunId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/8794e62c-0e4f-4dfd-b98a-56b783383f2d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/8794e62c-0e4f-4dfd-b98a-56b783383f2d/cover_letter_cover_professional.pdf","session":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.152Z","level":"info","message":"llm_call_metrics","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.153Z","level":"info","message":"generation_completed","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","jobId":"7636ba40-309a-4559-aadc-9ca1c9c2e082","generationRunId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","enhancedScore":80,"outputs":5,"template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.154Z","level":"info","message":"placeholder_record_deleted","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","jobId":"7636ba40-309a-4559-aadc-9ca1c9c2e082","placeholderIdentifier":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7636ba40-309a-4559-aadc-9ca1c9c2e082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.155Z","level":"info","message":"http_request_completed","requestId":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":120,"contentLength":"53771","template":"unknown","session":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8794e62c-0e4f-4dfd-b98a-56b783383f2d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.160Z","level":"info","message":"http_request_received","requestId":"f96387ff-a8df-40c5-84eb-0eda378b664e","method":"POST","path":"/api/process-cv","template":"unknown","session":"f96387ff-a8df-40c5-84eb-0eda378b664e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f96387ff-a8df-40c5-84eb-0eda378b664e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.161Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.162Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.164Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.166Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.167Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/f96387ff-a8df-40c5-84eb-0eda378b664e/incoming/original.pdf","chunks":1,"timestamp":1764856805170}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/f96387ff-a8df-40c5-84eb-0eda378b664e/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/f96387ff-a8df-40c5-84eb-0eda378b664e/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.warn
    {"timestamp":"2025-12-04T14:00:05.171Z","level":"warn","message":"job_description_prohibited_html_detected","requestId":"f96387ff-a8df-40c5-84eb-0eda378b664e","jobId":"8bf008fe-aa01-4c16-b4de-0ab242b58e23","template":"unknown","session":"8bf008fe-aa01-4c16-b4de-0ab242b58e23","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8bf008fe-aa01-4c16-b4de-0ab242b58e23","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:24998:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T14:00:05.178Z","level":"warn","message":"api_error_response","requestId":"f96387ff-a8df-40c5-84eb-0eda378b664e","jobId":"8bf008fe-aa01-4c16-b4de-0ab242b58e23","status":400,"error":{"code":"JOB_DESCRIPTION_PROHIBITED_TAGS","message":"Remove HTML tags like <script> before continuing.","details":{"field":"manualJobDescription"},"requestId":"f96387ff-a8df-40c5-84eb-0eda378b664e","jobId":"8bf008fe-aa01-4c16-b4de-0ab242b58e23"},"template":"unknown","session":"8bf008fe-aa01-4c16-b4de-0ab242b58e23","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8bf008fe-aa01-4c16-b4de-0ab242b58e23","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at sendError (server.js:3972:3)
      at server.js:24999:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:00:05.189Z","level":"info","message":"http_request_completed","requestId":"f96387ff-a8df-40c5-84eb-0eda378b664e","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":29,"contentLength":"271","template":"unknown","session":"f96387ff-a8df-40c5-84eb-0eda378b664e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f96387ff-a8df-40c5-84eb-0eda378b664e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.195Z","level":"info","message":"http_request_received","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","method":"POST","path":"/api/process-cv","template":"unknown","session":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.196Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.197Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.199Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.200Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.202Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/768e8bb4-f1c8-49a3-abd2-c2065fe60bb4/incoming/original.pdf","chunks":1,"timestamp":1764856805204}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/768e8bb4-f1c8-49a3-abd2-c2065fe60bb4/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/768e8bb4-f1c8-49a3-abd2-c2065fe60bb4/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:00:05.206Z","level":"info","message":"process_cv_started","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","jobId":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","manualJobDescriptionProvided":true,"template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.207Z","level":"info","message":"template_selection","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","jobId":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:05.207Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","jobId":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:00:05.214Z","level":"info","message":"initial_upload_completed","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","jobId":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","bucket":"test-bucket","key":"cv/candidate/768e8bb4-f1c8-49a3-abd2-c2065fe60bb4/incoming/original.pdf","template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.214Z","level":"info","message":"resume_text_extracted","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","jobId":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","characters":57,"template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.214Z","level":"info","message":"resume_classified","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","jobId":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.215Z","level":"info","message":"raw_upload_relocated","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","jobId":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","bucket":"test-bucket","fromKey":"cv/candidate/768e8bb4-f1c8-49a3-abd2-c2065fe60bb4/incoming/original.pdf","toKey":"cv/professional_summary/768e8bb4-f1c8-49a3-abd2-c2065fe60bb4/original.pdf","template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.215Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","jobId":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","bucket":"test-bucket","key":"cv/professional_summary/768e8bb4-f1c8-49a3-abd2-c2065fe60bb4/original.pdf","template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.215Z","level":"info","message":"dynamo_initial_record_written","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","jobId":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","bucket":"test-bucket","key":"cv/professional_summary/768e8bb4-f1c8-49a3-abd2-c2065fe60bb4/original.pdf","template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.216Z","level":"info","message":"upload_metadata_written","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","jobId":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","bucket":"test-bucket","key":"cv/professional_summary/768e8bb4-f1c8-49a3-abd2-c2065fe60bb4/logs/log.json","template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.216Z","level":"info","message":"job_description_supplied_manually","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","jobId":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","characters":31,"template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.216Z","level":"info","message":"job_description_analyzed","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","jobId":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","jobTitle":"","jobSkills":5,"template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.217Z","level":"info","message":"resume_skills_analyzed","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","jobId":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.217Z","level":"info","message":"llm_call_metrics","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.218Z","level":"info","message":"process_cv_scoring_completed","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","jobId":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.220Z","level":"info","message":"llm_call_metrics","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"3b6fa31427cfe80be95734691ddba88dda63de26496df29477f91bd398cefbfa","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.221Z","level":"info","message":"generation_section_rewrite_completed","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","jobId":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","generationRunId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.221Z","level":"info","message":"llm_call_metrics","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"eedd7612e0b87e24dbfb4e165754c9448ec3573f7db56a3242654c71c3ca223b","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.223Z","level":"info","message":"generation_resume_verified","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","jobId":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","generationRunId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:05.225Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","jobId":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","generationRunId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:05.231Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","jobId":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","generationRunId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:05.237Z","level":"info","message":"generation_cover_letters_completed","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","jobId":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","generationRunId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","variants":2,"fallbackApplied":true,"template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.238Z","level":"info","message":"pdf_generation_attempt","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","jobId":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","generationRunId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/768e8bb4-f1c8-49a3-abd2-c2065fe60bb4/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/768e8bb4-f1c8-49a3-abd2-c2065fe60bb4/enhanced_modern.pdf","session":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.238Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","jobId":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","generationRunId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/768e8bb4-f1c8-49a3-abd2-c2065fe60bb4/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.239Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","jobId":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","generationRunId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/768e8bb4-f1c8-49a3-abd2-c2065fe60bb4/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/768e8bb4-f1c8-49a3-abd2-c2065fe60bb4/enhanced_modern.pdf","session":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.239Z","level":"info","message":"pdf_generation_attempt","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","jobId":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","generationRunId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/768e8bb4-f1c8-49a3-abd2-c2065fe60bb4/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/768e8bb4-f1c8-49a3-abd2-c2065fe60bb4/enhanced_professional.pdf","session":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.239Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","jobId":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","generationRunId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/768e8bb4-f1c8-49a3-abd2-c2065fe60bb4/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.240Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","jobId":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","generationRunId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/768e8bb4-f1c8-49a3-abd2-c2065fe60bb4/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/768e8bb4-f1c8-49a3-abd2-c2065fe60bb4/enhanced_professional.pdf","session":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.240Z","level":"info","message":"pdf_generation_attempt","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","jobId":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","generationRunId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/768e8bb4-f1c8-49a3-abd2-c2065fe60bb4/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/768e8bb4-f1c8-49a3-abd2-c2065fe60bb4/cover_letter_cover_modern.pdf","session":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.241Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","jobId":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","generationRunId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/768e8bb4-f1c8-49a3-abd2-c2065fe60bb4/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.241Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","jobId":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","generationRunId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/768e8bb4-f1c8-49a3-abd2-c2065fe60bb4/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/768e8bb4-f1c8-49a3-abd2-c2065fe60bb4/cover_letter_cover_modern.pdf","session":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.241Z","level":"info","message":"pdf_generation_attempt","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","jobId":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","generationRunId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/768e8bb4-f1c8-49a3-abd2-c2065fe60bb4/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/768e8bb4-f1c8-49a3-abd2-c2065fe60bb4/cover_letter_cover_professional.pdf","session":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.242Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","jobId":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","generationRunId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/768e8bb4-f1c8-49a3-abd2-c2065fe60bb4/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.242Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","jobId":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","generationRunId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/768e8bb4-f1c8-49a3-abd2-c2065fe60bb4/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/768e8bb4-f1c8-49a3-abd2-c2065fe60bb4/cover_letter_cover_professional.pdf","session":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.244Z","level":"info","message":"llm_call_metrics","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.247Z","level":"info","message":"generation_completed","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","jobId":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","generationRunId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","enhancedScore":80,"outputs":5,"template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.248Z","level":"info","message":"placeholder_record_deleted","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","jobId":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","placeholderIdentifier":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a6f7cbf4-427b-4ad0-a472-5e6dd944cb98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.249Z","level":"info","message":"http_request_completed","requestId":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":54,"contentLength":"53718","template":"unknown","session":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"768e8bb4-f1c8-49a3-abd2-c2065fe60bb4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.252Z","level":"info","message":"http_request_received","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","method":"POST","path":"/api/process-cv","template":"unknown","session":"5c8d47e7-0265-4368-a167-76b366d4669d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5c8d47e7-0265-4368-a167-76b366d4669d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.253Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.254Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.255Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.257Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.259Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/5c8d47e7-0265-4368-a167-76b366d4669d/incoming/original.pdf","chunks":1,"timestamp":1764856805261}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/5c8d47e7-0265-4368-a167-76b366d4669d/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/5c8d47e7-0265-4368-a167-76b366d4669d/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:00:05.263Z","level":"info","message":"process_cv_started","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","jobId":"31b3de24-4215-4980-ac9b-9e35a86e52fc","manualJobDescriptionProvided":true,"template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.263Z","level":"info","message":"template_selection","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","jobId":"31b3de24-4215-4980-ac9b-9e35a86e52fc","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:05.263Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","jobId":"31b3de24-4215-4980-ac9b-9e35a86e52fc","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:00:05.269Z","level":"info","message":"initial_upload_completed","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","jobId":"31b3de24-4215-4980-ac9b-9e35a86e52fc","bucket":"test-bucket","key":"cv/candidate/5c8d47e7-0265-4368-a167-76b366d4669d/incoming/original.pdf","template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.270Z","level":"info","message":"resume_text_extracted","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","jobId":"31b3de24-4215-4980-ac9b-9e35a86e52fc","characters":57,"template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.270Z","level":"info","message":"resume_classified","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","jobId":"31b3de24-4215-4980-ac9b-9e35a86e52fc","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.270Z","level":"info","message":"raw_upload_relocated","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","jobId":"31b3de24-4215-4980-ac9b-9e35a86e52fc","bucket":"test-bucket","fromKey":"cv/candidate/5c8d47e7-0265-4368-a167-76b366d4669d/incoming/original.pdf","toKey":"cv/professional_summary/5c8d47e7-0265-4368-a167-76b366d4669d/original.pdf","template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.270Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","jobId":"31b3de24-4215-4980-ac9b-9e35a86e52fc","bucket":"test-bucket","key":"cv/professional_summary/5c8d47e7-0265-4368-a167-76b366d4669d/original.pdf","template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.271Z","level":"info","message":"dynamo_initial_record_written","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","jobId":"31b3de24-4215-4980-ac9b-9e35a86e52fc","bucket":"test-bucket","key":"cv/professional_summary/5c8d47e7-0265-4368-a167-76b366d4669d/original.pdf","template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.271Z","level":"info","message":"upload_metadata_written","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","jobId":"31b3de24-4215-4980-ac9b-9e35a86e52fc","bucket":"test-bucket","key":"cv/professional_summary/5c8d47e7-0265-4368-a167-76b366d4669d/logs/log.json","template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.271Z","level":"info","message":"job_description_supplied_manually","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","jobId":"31b3de24-4215-4980-ac9b-9e35a86e52fc","characters":174,"template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.272Z","level":"info","message":"job_description_analyzed","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","jobId":"31b3de24-4215-4980-ac9b-9e35a86e52fc","jobTitle":"","jobSkills":5,"template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.272Z","level":"info","message":"resume_skills_analyzed","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","jobId":"31b3de24-4215-4980-ac9b-9e35a86e52fc","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.272Z","level":"info","message":"llm_call_metrics","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"5c8d47e7-0265-4368-a167-76b366d4669d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"5c8d47e7-0265-4368-a167-76b366d4669d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.273Z","level":"info","message":"process_cv_scoring_completed","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","jobId":"31b3de24-4215-4980-ac9b-9e35a86e52fc","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.275Z","level":"info","message":"llm_call_metrics","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"5c8d47e7-0265-4368-a167-76b366d4669d","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"5c8d47e7-0265-4368-a167-76b366d4669d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.275Z","level":"info","message":"generation_section_rewrite_completed","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","jobId":"31b3de24-4215-4980-ac9b-9e35a86e52fc","generationRunId":"5c8d47e7-0265-4368-a167-76b366d4669d","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.276Z","level":"info","message":"llm_call_metrics","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"5c8d47e7-0265-4368-a167-76b366d4669d","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"5c8d47e7-0265-4368-a167-76b366d4669d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.279Z","level":"info","message":"generation_resume_verified","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","jobId":"31b3de24-4215-4980-ac9b-9e35a86e52fc","generationRunId":"5c8d47e7-0265-4368-a167-76b366d4669d","template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:05.282Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","jobId":"31b3de24-4215-4980-ac9b-9e35a86e52fc","generationRunId":"5c8d47e7-0265-4368-a167-76b366d4669d","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:05.288Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","jobId":"31b3de24-4215-4980-ac9b-9e35a86e52fc","generationRunId":"5c8d47e7-0265-4368-a167-76b366d4669d","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:05.293Z","level":"info","message":"generation_cover_letters_completed","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","jobId":"31b3de24-4215-4980-ac9b-9e35a86e52fc","generationRunId":"5c8d47e7-0265-4368-a167-76b366d4669d","variants":2,"fallbackApplied":true,"template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.294Z","level":"info","message":"pdf_generation_attempt","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","jobId":"31b3de24-4215-4980-ac9b-9e35a86e52fc","generationRunId":"5c8d47e7-0265-4368-a167-76b366d4669d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5c8d47e7-0265-4368-a167-76b366d4669d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/5c8d47e7-0265-4368-a167-76b366d4669d/enhanced_modern.pdf","session":"5c8d47e7-0265-4368-a167-76b366d4669d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5c8d47e7-0265-4368-a167-76b366d4669d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.294Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","jobId":"31b3de24-4215-4980-ac9b-9e35a86e52fc","generationRunId":"5c8d47e7-0265-4368-a167-76b366d4669d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5c8d47e7-0265-4368-a167-76b366d4669d/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5c8d47e7-0265-4368-a167-76b366d4669d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5c8d47e7-0265-4368-a167-76b366d4669d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.295Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","jobId":"31b3de24-4215-4980-ac9b-9e35a86e52fc","generationRunId":"5c8d47e7-0265-4368-a167-76b366d4669d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5c8d47e7-0265-4368-a167-76b366d4669d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/5c8d47e7-0265-4368-a167-76b366d4669d/enhanced_modern.pdf","session":"5c8d47e7-0265-4368-a167-76b366d4669d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5c8d47e7-0265-4368-a167-76b366d4669d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.295Z","level":"info","message":"pdf_generation_attempt","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","jobId":"31b3de24-4215-4980-ac9b-9e35a86e52fc","generationRunId":"5c8d47e7-0265-4368-a167-76b366d4669d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5c8d47e7-0265-4368-a167-76b366d4669d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/5c8d47e7-0265-4368-a167-76b366d4669d/enhanced_professional.pdf","session":"5c8d47e7-0265-4368-a167-76b366d4669d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5c8d47e7-0265-4368-a167-76b366d4669d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.296Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","jobId":"31b3de24-4215-4980-ac9b-9e35a86e52fc","generationRunId":"5c8d47e7-0265-4368-a167-76b366d4669d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5c8d47e7-0265-4368-a167-76b366d4669d/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5c8d47e7-0265-4368-a167-76b366d4669d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5c8d47e7-0265-4368-a167-76b366d4669d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.296Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","jobId":"31b3de24-4215-4980-ac9b-9e35a86e52fc","generationRunId":"5c8d47e7-0265-4368-a167-76b366d4669d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5c8d47e7-0265-4368-a167-76b366d4669d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/5c8d47e7-0265-4368-a167-76b366d4669d/enhanced_professional.pdf","session":"5c8d47e7-0265-4368-a167-76b366d4669d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5c8d47e7-0265-4368-a167-76b366d4669d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.297Z","level":"info","message":"pdf_generation_attempt","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","jobId":"31b3de24-4215-4980-ac9b-9e35a86e52fc","generationRunId":"5c8d47e7-0265-4368-a167-76b366d4669d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5c8d47e7-0265-4368-a167-76b366d4669d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/5c8d47e7-0265-4368-a167-76b366d4669d/cover_letter_cover_modern.pdf","session":"5c8d47e7-0265-4368-a167-76b366d4669d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5c8d47e7-0265-4368-a167-76b366d4669d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.297Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","jobId":"31b3de24-4215-4980-ac9b-9e35a86e52fc","generationRunId":"5c8d47e7-0265-4368-a167-76b366d4669d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5c8d47e7-0265-4368-a167-76b366d4669d/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"5c8d47e7-0265-4368-a167-76b366d4669d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5c8d47e7-0265-4368-a167-76b366d4669d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.298Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","jobId":"31b3de24-4215-4980-ac9b-9e35a86e52fc","generationRunId":"5c8d47e7-0265-4368-a167-76b366d4669d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5c8d47e7-0265-4368-a167-76b366d4669d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/5c8d47e7-0265-4368-a167-76b366d4669d/cover_letter_cover_modern.pdf","session":"5c8d47e7-0265-4368-a167-76b366d4669d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5c8d47e7-0265-4368-a167-76b366d4669d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.298Z","level":"info","message":"pdf_generation_attempt","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","jobId":"31b3de24-4215-4980-ac9b-9e35a86e52fc","generationRunId":"5c8d47e7-0265-4368-a167-76b366d4669d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5c8d47e7-0265-4368-a167-76b366d4669d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/5c8d47e7-0265-4368-a167-76b366d4669d/cover_letter_cover_professional.pdf","session":"5c8d47e7-0265-4368-a167-76b366d4669d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5c8d47e7-0265-4368-a167-76b366d4669d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.299Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","jobId":"31b3de24-4215-4980-ac9b-9e35a86e52fc","generationRunId":"5c8d47e7-0265-4368-a167-76b366d4669d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5c8d47e7-0265-4368-a167-76b366d4669d/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"5c8d47e7-0265-4368-a167-76b366d4669d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5c8d47e7-0265-4368-a167-76b366d4669d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.299Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","jobId":"31b3de24-4215-4980-ac9b-9e35a86e52fc","generationRunId":"5c8d47e7-0265-4368-a167-76b366d4669d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5c8d47e7-0265-4368-a167-76b366d4669d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/5c8d47e7-0265-4368-a167-76b366d4669d/cover_letter_cover_professional.pdf","session":"5c8d47e7-0265-4368-a167-76b366d4669d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5c8d47e7-0265-4368-a167-76b366d4669d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.301Z","level":"info","message":"llm_call_metrics","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"5c8d47e7-0265-4368-a167-76b366d4669d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"5c8d47e7-0265-4368-a167-76b366d4669d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.302Z","level":"info","message":"generation_completed","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","jobId":"31b3de24-4215-4980-ac9b-9e35a86e52fc","generationRunId":"5c8d47e7-0265-4368-a167-76b366d4669d","enhancedScore":80,"outputs":5,"template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.303Z","level":"info","message":"placeholder_record_deleted","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","jobId":"31b3de24-4215-4980-ac9b-9e35a86e52fc","placeholderIdentifier":"5c8d47e7-0265-4368-a167-76b366d4669d","template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31b3de24-4215-4980-ac9b-9e35a86e52fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.304Z","level":"info","message":"http_request_completed","requestId":"5c8d47e7-0265-4368-a167-76b366d4669d","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":52,"contentLength":"58133","template":"unknown","session":"5c8d47e7-0265-4368-a167-76b366d4669d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5c8d47e7-0265-4368-a167-76b366d4669d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.307Z","level":"info","message":"http_request_received","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","method":"POST","path":"/api/process-cv","template":"unknown","session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.308Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.309Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.310Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.312Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.313Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/ecad4c2f-ed5d-463c-8e29-d9f43e012fe6/incoming/original.pdf","chunks":1,"timestamp":1764856805316}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/ecad4c2f-ed5d-463c-8e29-d9f43e012fe6/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/ecad4c2f-ed5d-463c-8e29-d9f43e012fe6/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:00:05.317Z","level":"info","message":"process_cv_started","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","jobId":"f21b6192-4fdc-40d9-9437-99cee65544f5","manualJobDescriptionProvided":true,"template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.318Z","level":"info","message":"template_selection","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","jobId":"f21b6192-4fdc-40d9-9437-99cee65544f5","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:05.318Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","jobId":"f21b6192-4fdc-40d9-9437-99cee65544f5","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:00:05.325Z","level":"info","message":"initial_upload_completed","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","jobId":"f21b6192-4fdc-40d9-9437-99cee65544f5","bucket":"test-bucket","key":"cv/candidate/ecad4c2f-ed5d-463c-8e29-d9f43e012fe6/incoming/original.pdf","template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.325Z","level":"info","message":"resume_text_extracted","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","jobId":"f21b6192-4fdc-40d9-9437-99cee65544f5","characters":57,"template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.326Z","level":"info","message":"resume_classified","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","jobId":"f21b6192-4fdc-40d9-9437-99cee65544f5","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.326Z","level":"info","message":"raw_upload_relocated","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","jobId":"f21b6192-4fdc-40d9-9437-99cee65544f5","bucket":"test-bucket","fromKey":"cv/candidate/ecad4c2f-ed5d-463c-8e29-d9f43e012fe6/incoming/original.pdf","toKey":"cv/professional_summary/ecad4c2f-ed5d-463c-8e29-d9f43e012fe6/original.pdf","template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.326Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","jobId":"f21b6192-4fdc-40d9-9437-99cee65544f5","bucket":"test-bucket","key":"cv/professional_summary/ecad4c2f-ed5d-463c-8e29-d9f43e012fe6/original.pdf","template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.327Z","level":"info","message":"dynamo_initial_record_written","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","jobId":"f21b6192-4fdc-40d9-9437-99cee65544f5","bucket":"test-bucket","key":"cv/professional_summary/ecad4c2f-ed5d-463c-8e29-d9f43e012fe6/original.pdf","template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.327Z","level":"info","message":"upload_metadata_written","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","jobId":"f21b6192-4fdc-40d9-9437-99cee65544f5","bucket":"test-bucket","key":"cv/professional_summary/ecad4c2f-ed5d-463c-8e29-d9f43e012fe6/logs/log.json","template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.328Z","level":"info","message":"job_description_supplied_manually","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","jobId":"f21b6192-4fdc-40d9-9437-99cee65544f5","characters":174,"template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.328Z","level":"info","message":"job_description_analyzed","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","jobId":"f21b6192-4fdc-40d9-9437-99cee65544f5","jobTitle":"","jobSkills":5,"template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.329Z","level":"info","message":"resume_skills_analyzed","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","jobId":"f21b6192-4fdc-40d9-9437-99cee65544f5","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.329Z","level":"info","message":"llm_call_metrics","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.329Z","level":"info","message":"process_cv_scoring_completed","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","jobId":"f21b6192-4fdc-40d9-9437-99cee65544f5","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.error
    {"timestamp":"2025-12-04T14:00:05.334Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","sample":"not json","template":"unknown","session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at Object.error (server.js:3484:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8540:20)
      at generateEnhancedDocumentsResponse (server.js:20182:26)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:05.344Z","level":"info","message":"llm_call_metrics","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.345Z","level":"info","message":"llm_call_metrics","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.345Z","level":"info","message":"generation_section_rewrite_completed","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","jobId":"f21b6192-4fdc-40d9-9437-99cee65544f5","generationRunId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.346Z","level":"info","message":"llm_call_metrics","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"89e63aad97eee35da336c4707bebe46001a38648f790cb26108fe67f8c6eef15","skillCount":5,"template":"project_summary","session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:05.349Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","jobId":"f21b6192-4fdc-40d9-9437-99cee65544f5","generationRunId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:05.356Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","jobId":"f21b6192-4fdc-40d9-9437-99cee65544f5","generationRunId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:05.361Z","level":"info","message":"generation_cover_letters_completed","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","jobId":"f21b6192-4fdc-40d9-9437-99cee65544f5","generationRunId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","variants":2,"fallbackApplied":true,"template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.362Z","level":"info","message":"pdf_generation_attempt","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","jobId":"f21b6192-4fdc-40d9-9437-99cee65544f5","generationRunId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/ecad4c2f-ed5d-463c-8e29-d9f43e012fe6/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/ecad4c2f-ed5d-463c-8e29-d9f43e012fe6/enhanced_modern.pdf","session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.363Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","jobId":"f21b6192-4fdc-40d9-9437-99cee65544f5","generationRunId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/ecad4c2f-ed5d-463c-8e29-d9f43e012fe6/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.363Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","jobId":"f21b6192-4fdc-40d9-9437-99cee65544f5","generationRunId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/ecad4c2f-ed5d-463c-8e29-d9f43e012fe6/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/ecad4c2f-ed5d-463c-8e29-d9f43e012fe6/enhanced_modern.pdf","session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.364Z","level":"info","message":"pdf_generation_attempt","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","jobId":"f21b6192-4fdc-40d9-9437-99cee65544f5","generationRunId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/ecad4c2f-ed5d-463c-8e29-d9f43e012fe6/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/ecad4c2f-ed5d-463c-8e29-d9f43e012fe6/enhanced_professional.pdf","session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.364Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","jobId":"f21b6192-4fdc-40d9-9437-99cee65544f5","generationRunId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/ecad4c2f-ed5d-463c-8e29-d9f43e012fe6/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.364Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","jobId":"f21b6192-4fdc-40d9-9437-99cee65544f5","generationRunId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/ecad4c2f-ed5d-463c-8e29-d9f43e012fe6/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/ecad4c2f-ed5d-463c-8e29-d9f43e012fe6/enhanced_professional.pdf","session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.365Z","level":"info","message":"pdf_generation_attempt","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","jobId":"f21b6192-4fdc-40d9-9437-99cee65544f5","generationRunId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/ecad4c2f-ed5d-463c-8e29-d9f43e012fe6/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/ecad4c2f-ed5d-463c-8e29-d9f43e012fe6/cover_letter_cover_modern.pdf","session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.365Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","jobId":"f21b6192-4fdc-40d9-9437-99cee65544f5","generationRunId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/ecad4c2f-ed5d-463c-8e29-d9f43e012fe6/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.366Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","jobId":"f21b6192-4fdc-40d9-9437-99cee65544f5","generationRunId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/ecad4c2f-ed5d-463c-8e29-d9f43e012fe6/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/ecad4c2f-ed5d-463c-8e29-d9f43e012fe6/cover_letter_cover_modern.pdf","session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.366Z","level":"info","message":"pdf_generation_attempt","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","jobId":"f21b6192-4fdc-40d9-9437-99cee65544f5","generationRunId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/ecad4c2f-ed5d-463c-8e29-d9f43e012fe6/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/ecad4c2f-ed5d-463c-8e29-d9f43e012fe6/cover_letter_cover_professional.pdf","session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.367Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","jobId":"f21b6192-4fdc-40d9-9437-99cee65544f5","generationRunId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/ecad4c2f-ed5d-463c-8e29-d9f43e012fe6/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.367Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","jobId":"f21b6192-4fdc-40d9-9437-99cee65544f5","generationRunId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/ecad4c2f-ed5d-463c-8e29-d9f43e012fe6/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/ecad4c2f-ed5d-463c-8e29-d9f43e012fe6/cover_letter_cover_professional.pdf","session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.369Z","level":"info","message":"llm_call_metrics","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.370Z","level":"info","message":"generation_completed","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","jobId":"f21b6192-4fdc-40d9-9437-99cee65544f5","generationRunId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","enhancedScore":80,"outputs":5,"template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.372Z","level":"info","message":"placeholder_record_deleted","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","jobId":"f21b6192-4fdc-40d9-9437-99cee65544f5","placeholderIdentifier":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f21b6192-4fdc-40d9-9437-99cee65544f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.373Z","level":"info","message":"http_request_completed","requestId":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":66,"contentLength":"58091","template":"unknown","session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ecad4c2f-ed5d-463c-8e29-d9f43e012fe6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.377Z","level":"info","message":"http_request_received","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","method":"POST","path":"/api/process-cv","template":"unknown","session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.378Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.380Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.381Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.382Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.384Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/991af579-b0d8-4e08-af70-dba53dee6f51/incoming/original.pdf","chunks":1,"timestamp":1764856805386}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/991af579-b0d8-4e08-af70-dba53dee6f51/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/991af579-b0d8-4e08-af70-dba53dee6f51/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:00:05.388Z","level":"info","message":"process_cv_started","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","jobId":"b45926da-5bfa-485e-9742-8513de9f4d81","manualJobDescriptionProvided":true,"template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.388Z","level":"info","message":"template_selection","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","jobId":"b45926da-5bfa-485e-9742-8513de9f4d81","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:05.389Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","jobId":"b45926da-5bfa-485e-9742-8513de9f4d81","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:00:05.395Z","level":"info","message":"initial_upload_completed","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","jobId":"b45926da-5bfa-485e-9742-8513de9f4d81","bucket":"test-bucket","key":"cv/candidate/991af579-b0d8-4e08-af70-dba53dee6f51/incoming/original.pdf","template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.395Z","level":"info","message":"resume_text_extracted","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","jobId":"b45926da-5bfa-485e-9742-8513de9f4d81","characters":57,"template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.396Z","level":"info","message":"resume_classified","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","jobId":"b45926da-5bfa-485e-9742-8513de9f4d81","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.396Z","level":"info","message":"raw_upload_relocated","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","jobId":"b45926da-5bfa-485e-9742-8513de9f4d81","bucket":"test-bucket","fromKey":"cv/candidate/991af579-b0d8-4e08-af70-dba53dee6f51/incoming/original.pdf","toKey":"cv/professional_summary/991af579-b0d8-4e08-af70-dba53dee6f51/original.pdf","template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.397Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","jobId":"b45926da-5bfa-485e-9742-8513de9f4d81","bucket":"test-bucket","key":"cv/professional_summary/991af579-b0d8-4e08-af70-dba53dee6f51/original.pdf","template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.397Z","level":"info","message":"dynamo_initial_record_written","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","jobId":"b45926da-5bfa-485e-9742-8513de9f4d81","bucket":"test-bucket","key":"cv/professional_summary/991af579-b0d8-4e08-af70-dba53dee6f51/original.pdf","template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.397Z","level":"info","message":"upload_metadata_written","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","jobId":"b45926da-5bfa-485e-9742-8513de9f4d81","bucket":"test-bucket","key":"cv/professional_summary/991af579-b0d8-4e08-af70-dba53dee6f51/logs/log.json","template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.398Z","level":"info","message":"job_description_supplied_manually","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","jobId":"b45926da-5bfa-485e-9742-8513de9f4d81","characters":174,"template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.398Z","level":"info","message":"job_description_analyzed","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","jobId":"b45926da-5bfa-485e-9742-8513de9f4d81","jobTitle":"","jobSkills":5,"template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.398Z","level":"info","message":"resume_skills_analyzed","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","jobId":"b45926da-5bfa-485e-9742-8513de9f4d81","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.399Z","level":"info","message":"llm_call_metrics","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.399Z","level":"info","message":"process_cv_scoring_completed","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","jobId":"b45926da-5bfa-485e-9742-8513de9f4d81","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.401Z","level":"info","message":"llm_call_metrics","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.402Z","level":"info","message":"generation_section_rewrite_completed","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","jobId":"b45926da-5bfa-485e-9742-8513de9f4d81","generationRunId":"991af579-b0d8-4e08-af70-dba53dee6f51","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.402Z","level":"info","message":"llm_call_metrics","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.403Z","level":"info","message":"llm_call_metrics","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.404Z","level":"info","message":"generation_resume_verified","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","jobId":"b45926da-5bfa-485e-9742-8513de9f4d81","generationRunId":"991af579-b0d8-4e08-af70-dba53dee6f51","template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.error
    {"timestamp":"2025-12-04T14:00:05.407Z","level":"error","message":"ai_response_missing_json","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","jobId":"b45926da-5bfa-485e-9742-8513de9f4d81","generationRunId":"991af579-b0d8-4e08-af70-dba53dee6f51","template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at Object.error (server.js:3484:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20464:26)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:05.412Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","jobId":"b45926da-5bfa-485e-9742-8513de9f4d81","generationRunId":"991af579-b0d8-4e08-af70-dba53dee6f51","attempt":1,"template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20469:11)
      at server.js:26740:28

  console.error
    {"timestamp":"2025-12-04T14:00:05.419Z","level":"error","message":"ai_response_missing_json","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","jobId":"b45926da-5bfa-485e-9742-8513de9f4d81","generationRunId":"991af579-b0d8-4e08-af70-dba53dee6f51","template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at Object.error (server.js:3484:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20464:26)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:05.426Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","jobId":"b45926da-5bfa-485e-9742-8513de9f4d81","generationRunId":"991af579-b0d8-4e08-af70-dba53dee6f51","attempt":2,"template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20469:11)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:05.438Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","jobId":"b45926da-5bfa-485e-9742-8513de9f4d81","generationRunId":"991af579-b0d8-4e08-af70-dba53dee6f51","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:05.447Z","level":"info","message":"generation_cover_letters_completed","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","jobId":"b45926da-5bfa-485e-9742-8513de9f4d81","generationRunId":"991af579-b0d8-4e08-af70-dba53dee6f51","variants":2,"fallbackApplied":true,"template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.448Z","level":"info","message":"pdf_generation_attempt","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","jobId":"b45926da-5bfa-485e-9742-8513de9f4d81","generationRunId":"991af579-b0d8-4e08-af70-dba53dee6f51","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/991af579-b0d8-4e08-af70-dba53dee6f51/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/991af579-b0d8-4e08-af70-dba53dee6f51/enhanced_modern.pdf","session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.449Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","jobId":"b45926da-5bfa-485e-9742-8513de9f4d81","generationRunId":"991af579-b0d8-4e08-af70-dba53dee6f51","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/991af579-b0d8-4e08-af70-dba53dee6f51/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.450Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","jobId":"b45926da-5bfa-485e-9742-8513de9f4d81","generationRunId":"991af579-b0d8-4e08-af70-dba53dee6f51","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/991af579-b0d8-4e08-af70-dba53dee6f51/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/991af579-b0d8-4e08-af70-dba53dee6f51/enhanced_modern.pdf","session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.451Z","level":"info","message":"pdf_generation_attempt","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","jobId":"b45926da-5bfa-485e-9742-8513de9f4d81","generationRunId":"991af579-b0d8-4e08-af70-dba53dee6f51","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/991af579-b0d8-4e08-af70-dba53dee6f51/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/991af579-b0d8-4e08-af70-dba53dee6f51/enhanced_professional.pdf","session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.451Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","jobId":"b45926da-5bfa-485e-9742-8513de9f4d81","generationRunId":"991af579-b0d8-4e08-af70-dba53dee6f51","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/991af579-b0d8-4e08-af70-dba53dee6f51/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.452Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","jobId":"b45926da-5bfa-485e-9742-8513de9f4d81","generationRunId":"991af579-b0d8-4e08-af70-dba53dee6f51","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/991af579-b0d8-4e08-af70-dba53dee6f51/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/991af579-b0d8-4e08-af70-dba53dee6f51/enhanced_professional.pdf","session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.452Z","level":"info","message":"pdf_generation_attempt","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","jobId":"b45926da-5bfa-485e-9742-8513de9f4d81","generationRunId":"991af579-b0d8-4e08-af70-dba53dee6f51","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/991af579-b0d8-4e08-af70-dba53dee6f51/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/991af579-b0d8-4e08-af70-dba53dee6f51/cover_letter_cover_modern.pdf","session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.453Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","jobId":"b45926da-5bfa-485e-9742-8513de9f4d81","generationRunId":"991af579-b0d8-4e08-af70-dba53dee6f51","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/991af579-b0d8-4e08-af70-dba53dee6f51/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.453Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","jobId":"b45926da-5bfa-485e-9742-8513de9f4d81","generationRunId":"991af579-b0d8-4e08-af70-dba53dee6f51","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/991af579-b0d8-4e08-af70-dba53dee6f51/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/991af579-b0d8-4e08-af70-dba53dee6f51/cover_letter_cover_modern.pdf","session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.454Z","level":"info","message":"pdf_generation_attempt","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","jobId":"b45926da-5bfa-485e-9742-8513de9f4d81","generationRunId":"991af579-b0d8-4e08-af70-dba53dee6f51","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/991af579-b0d8-4e08-af70-dba53dee6f51/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/991af579-b0d8-4e08-af70-dba53dee6f51/cover_letter_cover_professional.pdf","session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.454Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","jobId":"b45926da-5bfa-485e-9742-8513de9f4d81","generationRunId":"991af579-b0d8-4e08-af70-dba53dee6f51","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/991af579-b0d8-4e08-af70-dba53dee6f51/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.454Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","jobId":"b45926da-5bfa-485e-9742-8513de9f4d81","generationRunId":"991af579-b0d8-4e08-af70-dba53dee6f51","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/991af579-b0d8-4e08-af70-dba53dee6f51/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/991af579-b0d8-4e08-af70-dba53dee6f51/cover_letter_cover_professional.pdf","session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.457Z","level":"info","message":"llm_call_metrics","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.458Z","level":"info","message":"generation_completed","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","jobId":"b45926da-5bfa-485e-9742-8513de9f4d81","generationRunId":"991af579-b0d8-4e08-af70-dba53dee6f51","enhancedScore":80,"outputs":5,"template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.459Z","level":"info","message":"placeholder_record_deleted","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","jobId":"b45926da-5bfa-485e-9742-8513de9f4d81","placeholderIdentifier":"991af579-b0d8-4e08-af70-dba53dee6f51","template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b45926da-5bfa-485e-9742-8513de9f4d81","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.460Z","level":"info","message":"http_request_completed","requestId":"991af579-b0d8-4e08-af70-dba53dee6f51","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":83,"contentLength":"59498","template":"unknown","session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"991af579-b0d8-4e08-af70-dba53dee6f51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.464Z","level":"info","message":"http_request_received","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","method":"POST","path":"/api/process-cv","template":"unknown","session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.465Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.466Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.467Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.469Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.471Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/c66a2949-6333-4c76-bc34-dcdf8e1d3c7e/incoming/original.pdf","chunks":1,"timestamp":1764856805473}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/c66a2949-6333-4c76-bc34-dcdf8e1d3c7e/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/c66a2949-6333-4c76-bc34-dcdf8e1d3c7e/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:00:05.474Z","level":"info","message":"process_cv_started","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","jobId":"6b801055-38b1-40f8-afc2-3481e241c272","manualJobDescriptionProvided":true,"template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.477Z","level":"info","message":"template_selection","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","jobId":"6b801055-38b1-40f8-afc2-3481e241c272","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:05.478Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","jobId":"6b801055-38b1-40f8-afc2-3481e241c272","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:00:05.484Z","level":"info","message":"initial_upload_completed","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","jobId":"6b801055-38b1-40f8-afc2-3481e241c272","bucket":"test-bucket","key":"cv/candidate/c66a2949-6333-4c76-bc34-dcdf8e1d3c7e/incoming/original.pdf","template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.484Z","level":"info","message":"resume_text_extracted","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","jobId":"6b801055-38b1-40f8-afc2-3481e241c272","characters":57,"template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.484Z","level":"info","message":"resume_classified","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","jobId":"6b801055-38b1-40f8-afc2-3481e241c272","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.485Z","level":"info","message":"raw_upload_relocated","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","jobId":"6b801055-38b1-40f8-afc2-3481e241c272","bucket":"test-bucket","fromKey":"cv/candidate/c66a2949-6333-4c76-bc34-dcdf8e1d3c7e/incoming/original.pdf","toKey":"cv/professional_summary/c66a2949-6333-4c76-bc34-dcdf8e1d3c7e/original.pdf","template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.485Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","jobId":"6b801055-38b1-40f8-afc2-3481e241c272","bucket":"test-bucket","key":"cv/professional_summary/c66a2949-6333-4c76-bc34-dcdf8e1d3c7e/original.pdf","template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.485Z","level":"info","message":"dynamo_initial_record_written","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","jobId":"6b801055-38b1-40f8-afc2-3481e241c272","bucket":"test-bucket","key":"cv/professional_summary/c66a2949-6333-4c76-bc34-dcdf8e1d3c7e/original.pdf","template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.486Z","level":"info","message":"upload_metadata_written","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","jobId":"6b801055-38b1-40f8-afc2-3481e241c272","bucket":"test-bucket","key":"cv/professional_summary/c66a2949-6333-4c76-bc34-dcdf8e1d3c7e/logs/log.json","template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.486Z","level":"info","message":"job_description_supplied_manually","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","jobId":"6b801055-38b1-40f8-afc2-3481e241c272","characters":174,"template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.486Z","level":"info","message":"job_description_analyzed","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","jobId":"6b801055-38b1-40f8-afc2-3481e241c272","jobTitle":"","jobSkills":5,"template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.487Z","level":"info","message":"resume_skills_analyzed","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","jobId":"6b801055-38b1-40f8-afc2-3481e241c272","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.487Z","level":"info","message":"llm_call_metrics","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.488Z","level":"info","message":"process_cv_scoring_completed","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","jobId":"6b801055-38b1-40f8-afc2-3481e241c272","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.490Z","level":"info","message":"llm_call_metrics","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.490Z","level":"info","message":"generation_section_rewrite_completed","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","jobId":"6b801055-38b1-40f8-afc2-3481e241c272","generationRunId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.491Z","level":"info","message":"llm_call_metrics","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.492Z","level":"info","message":"llm_call_metrics","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.494Z","level":"info","message":"generation_resume_verified","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","jobId":"6b801055-38b1-40f8-afc2-3481e241c272","generationRunId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.error
    {"timestamp":"2025-12-04T14:00:05.496Z","level":"error","message":"ai_response_missing_json","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","jobId":"6b801055-38b1-40f8-afc2-3481e241c272","generationRunId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at Object.error (server.js:3484:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20464:26)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:05.503Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","jobId":"6b801055-38b1-40f8-afc2-3481e241c272","generationRunId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","attempt":1,"template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20469:11)
      at server.js:26740:28

  console.error
    {"timestamp":"2025-12-04T14:00:05.508Z","level":"error","message":"ai_response_missing_json","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","jobId":"6b801055-38b1-40f8-afc2-3481e241c272","generationRunId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at Object.error (server.js:3484:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20464:26)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:05.515Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","jobId":"6b801055-38b1-40f8-afc2-3481e241c272","generationRunId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","attempt":2,"template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20469:11)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:05.521Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","jobId":"6b801055-38b1-40f8-afc2-3481e241c272","generationRunId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:05.527Z","level":"info","message":"generation_cover_letters_completed","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","jobId":"6b801055-38b1-40f8-afc2-3481e241c272","generationRunId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","variants":2,"fallbackApplied":true,"template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.530Z","level":"info","message":"pdf_generation_attempt","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","jobId":"6b801055-38b1-40f8-afc2-3481e241c272","generationRunId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c66a2949-6333-4c76-bc34-dcdf8e1d3c7e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c66a2949-6333-4c76-bc34-dcdf8e1d3c7e/enhanced_modern.pdf","session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.530Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","jobId":"6b801055-38b1-40f8-afc2-3481e241c272","generationRunId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c66a2949-6333-4c76-bc34-dcdf8e1d3c7e/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.531Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","jobId":"6b801055-38b1-40f8-afc2-3481e241c272","generationRunId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c66a2949-6333-4c76-bc34-dcdf8e1d3c7e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c66a2949-6333-4c76-bc34-dcdf8e1d3c7e/enhanced_modern.pdf","session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.531Z","level":"info","message":"pdf_generation_attempt","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","jobId":"6b801055-38b1-40f8-afc2-3481e241c272","generationRunId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c66a2949-6333-4c76-bc34-dcdf8e1d3c7e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c66a2949-6333-4c76-bc34-dcdf8e1d3c7e/enhanced_professional.pdf","session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.532Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","jobId":"6b801055-38b1-40f8-afc2-3481e241c272","generationRunId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c66a2949-6333-4c76-bc34-dcdf8e1d3c7e/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.533Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","jobId":"6b801055-38b1-40f8-afc2-3481e241c272","generationRunId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c66a2949-6333-4c76-bc34-dcdf8e1d3c7e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c66a2949-6333-4c76-bc34-dcdf8e1d3c7e/enhanced_professional.pdf","session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.533Z","level":"info","message":"pdf_generation_attempt","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","jobId":"6b801055-38b1-40f8-afc2-3481e241c272","generationRunId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c66a2949-6333-4c76-bc34-dcdf8e1d3c7e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c66a2949-6333-4c76-bc34-dcdf8e1d3c7e/cover_letter_cover_modern.pdf","session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.534Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","jobId":"6b801055-38b1-40f8-afc2-3481e241c272","generationRunId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c66a2949-6333-4c76-bc34-dcdf8e1d3c7e/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.534Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","jobId":"6b801055-38b1-40f8-afc2-3481e241c272","generationRunId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c66a2949-6333-4c76-bc34-dcdf8e1d3c7e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c66a2949-6333-4c76-bc34-dcdf8e1d3c7e/cover_letter_cover_modern.pdf","session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.535Z","level":"info","message":"pdf_generation_attempt","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","jobId":"6b801055-38b1-40f8-afc2-3481e241c272","generationRunId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c66a2949-6333-4c76-bc34-dcdf8e1d3c7e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c66a2949-6333-4c76-bc34-dcdf8e1d3c7e/cover_letter_cover_professional.pdf","session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.536Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","jobId":"6b801055-38b1-40f8-afc2-3481e241c272","generationRunId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c66a2949-6333-4c76-bc34-dcdf8e1d3c7e/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.536Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","jobId":"6b801055-38b1-40f8-afc2-3481e241c272","generationRunId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c66a2949-6333-4c76-bc34-dcdf8e1d3c7e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c66a2949-6333-4c76-bc34-dcdf8e1d3c7e/cover_letter_cover_professional.pdf","session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.538Z","level":"info","message":"llm_call_metrics","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.539Z","level":"info","message":"generation_completed","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","jobId":"6b801055-38b1-40f8-afc2-3481e241c272","generationRunId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","enhancedScore":80,"outputs":5,"template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.540Z","level":"info","message":"placeholder_record_deleted","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","jobId":"6b801055-38b1-40f8-afc2-3481e241c272","placeholderIdentifier":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b801055-38b1-40f8-afc2-3481e241c272","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.542Z","level":"info","message":"http_request_completed","requestId":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":78,"contentLength":"59498","template":"unknown","session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c66a2949-6333-4c76-bc34-dcdf8e1d3c7e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.545Z","level":"info","message":"http_request_received","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","method":"POST","path":"/api/process-cv","template":"unknown","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.546Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.547Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.548Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.550Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.552Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/c4714939-5a74-43d8-a694-5b7daac2c36f/incoming/original.pdf","chunks":1,"timestamp":1764856805554}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/c4714939-5a74-43d8-a694-5b7daac2c36f/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/c4714939-5a74-43d8-a694-5b7daac2c36f/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:00:05.555Z","level":"info","message":"process_cv_started","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","jobId":"a9c1ce41-469d-4d6f-b591-e3018bf85041","manualJobDescriptionProvided":true,"template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.556Z","level":"info","message":"template_selection","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","jobId":"a9c1ce41-469d-4d6f-b591-e3018bf85041","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:05.556Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","jobId":"a9c1ce41-469d-4d6f-b591-e3018bf85041","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:00:05.563Z","level":"info","message":"initial_upload_completed","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","jobId":"a9c1ce41-469d-4d6f-b591-e3018bf85041","bucket":"test-bucket","key":"cv/candidate/c4714939-5a74-43d8-a694-5b7daac2c36f/incoming/original.pdf","template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.564Z","level":"info","message":"resume_text_extracted","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","jobId":"a9c1ce41-469d-4d6f-b591-e3018bf85041","characters":57,"template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.564Z","level":"info","message":"resume_classified","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","jobId":"a9c1ce41-469d-4d6f-b591-e3018bf85041","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.564Z","level":"info","message":"raw_upload_relocated","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","jobId":"a9c1ce41-469d-4d6f-b591-e3018bf85041","bucket":"test-bucket","fromKey":"cv/candidate/c4714939-5a74-43d8-a694-5b7daac2c36f/incoming/original.pdf","toKey":"cv/professional_summary/c4714939-5a74-43d8-a694-5b7daac2c36f/original.pdf","template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.565Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","jobId":"a9c1ce41-469d-4d6f-b591-e3018bf85041","bucket":"test-bucket","key":"cv/professional_summary/c4714939-5a74-43d8-a694-5b7daac2c36f/original.pdf","template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.565Z","level":"info","message":"dynamo_initial_record_written","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","jobId":"a9c1ce41-469d-4d6f-b591-e3018bf85041","bucket":"test-bucket","key":"cv/professional_summary/c4714939-5a74-43d8-a694-5b7daac2c36f/original.pdf","template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.565Z","level":"info","message":"upload_metadata_written","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","jobId":"a9c1ce41-469d-4d6f-b591-e3018bf85041","bucket":"test-bucket","key":"cv/professional_summary/c4714939-5a74-43d8-a694-5b7daac2c36f/logs/log.json","template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.566Z","level":"info","message":"job_description_supplied_manually","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","jobId":"a9c1ce41-469d-4d6f-b591-e3018bf85041","characters":174,"template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.566Z","level":"info","message":"job_description_analyzed","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","jobId":"a9c1ce41-469d-4d6f-b591-e3018bf85041","jobTitle":"","jobSkills":5,"template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.567Z","level":"info","message":"resume_skills_analyzed","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","jobId":"a9c1ce41-469d-4d6f-b591-e3018bf85041","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.567Z","level":"info","message":"llm_call_metrics","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.568Z","level":"info","message":"process_cv_scoring_completed","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","jobId":"a9c1ce41-469d-4d6f-b591-e3018bf85041","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.error
    {"timestamp":"2025-12-04T14:00:05.569Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","template":"unknown","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at Object.error (server.js:3484:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8540:20)
      at generateEnhancedDocumentsResponse (server.js:20182:26)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:05.575Z","level":"info","message":"llm_call_metrics","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.576Z","level":"info","message":"llm_call_metrics","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.576Z","level":"info","message":"generation_section_rewrite_completed","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","jobId":"a9c1ce41-469d-4d6f-b591-e3018bf85041","generationRunId":"c4714939-5a74-43d8-a694-5b7daac2c36f","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.577Z","level":"info","message":"llm_call_metrics","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.577Z","level":"info","message":"llm_call_metrics","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.error
    {"timestamp":"2025-12-04T14:00:05.584Z","level":"error","message":"ai_response_missing_json","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","jobId":"a9c1ce41-469d-4d6f-b591-e3018bf85041","generationRunId":"c4714939-5a74-43d8-a694-5b7daac2c36f","template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at Object.error (server.js:3484:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20464:26)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:05.591Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","jobId":"a9c1ce41-469d-4d6f-b591-e3018bf85041","generationRunId":"c4714939-5a74-43d8-a694-5b7daac2c36f","attempt":1,"template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20469:11)
      at server.js:26740:28

  console.error
    {"timestamp":"2025-12-04T14:00:05.604Z","level":"error","message":"ai_response_missing_json","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","jobId":"a9c1ce41-469d-4d6f-b591-e3018bf85041","generationRunId":"c4714939-5a74-43d8-a694-5b7daac2c36f","template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at Object.error (server.js:3484:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20464:26)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:05.615Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","jobId":"a9c1ce41-469d-4d6f-b591-e3018bf85041","generationRunId":"c4714939-5a74-43d8-a694-5b7daac2c36f","attempt":2,"template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20469:11)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:05.631Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","jobId":"a9c1ce41-469d-4d6f-b591-e3018bf85041","generationRunId":"c4714939-5a74-43d8-a694-5b7daac2c36f","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:05.638Z","level":"info","message":"generation_cover_letters_completed","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","jobId":"a9c1ce41-469d-4d6f-b591-e3018bf85041","generationRunId":"c4714939-5a74-43d8-a694-5b7daac2c36f","variants":2,"fallbackApplied":true,"template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.639Z","level":"info","message":"pdf_generation_attempt","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","jobId":"a9c1ce41-469d-4d6f-b591-e3018bf85041","generationRunId":"c4714939-5a74-43d8-a694-5b7daac2c36f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c4714939-5a74-43d8-a694-5b7daac2c36f/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c4714939-5a74-43d8-a694-5b7daac2c36f/enhanced_modern.pdf","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.640Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","jobId":"a9c1ce41-469d-4d6f-b591-e3018bf85041","generationRunId":"c4714939-5a74-43d8-a694-5b7daac2c36f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c4714939-5a74-43d8-a694-5b7daac2c36f/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.640Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","jobId":"a9c1ce41-469d-4d6f-b591-e3018bf85041","generationRunId":"c4714939-5a74-43d8-a694-5b7daac2c36f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c4714939-5a74-43d8-a694-5b7daac2c36f/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c4714939-5a74-43d8-a694-5b7daac2c36f/enhanced_modern.pdf","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.641Z","level":"info","message":"pdf_generation_attempt","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","jobId":"a9c1ce41-469d-4d6f-b591-e3018bf85041","generationRunId":"c4714939-5a74-43d8-a694-5b7daac2c36f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c4714939-5a74-43d8-a694-5b7daac2c36f/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c4714939-5a74-43d8-a694-5b7daac2c36f/enhanced_professional.pdf","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.642Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","jobId":"a9c1ce41-469d-4d6f-b591-e3018bf85041","generationRunId":"c4714939-5a74-43d8-a694-5b7daac2c36f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c4714939-5a74-43d8-a694-5b7daac2c36f/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.643Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","jobId":"a9c1ce41-469d-4d6f-b591-e3018bf85041","generationRunId":"c4714939-5a74-43d8-a694-5b7daac2c36f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c4714939-5a74-43d8-a694-5b7daac2c36f/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c4714939-5a74-43d8-a694-5b7daac2c36f/enhanced_professional.pdf","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.644Z","level":"info","message":"pdf_generation_attempt","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","jobId":"a9c1ce41-469d-4d6f-b591-e3018bf85041","generationRunId":"c4714939-5a74-43d8-a694-5b7daac2c36f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c4714939-5a74-43d8-a694-5b7daac2c36f/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c4714939-5a74-43d8-a694-5b7daac2c36f/cover_letter_cover_modern.pdf","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.644Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","jobId":"a9c1ce41-469d-4d6f-b591-e3018bf85041","generationRunId":"c4714939-5a74-43d8-a694-5b7daac2c36f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c4714939-5a74-43d8-a694-5b7daac2c36f/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.645Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","jobId":"a9c1ce41-469d-4d6f-b591-e3018bf85041","generationRunId":"c4714939-5a74-43d8-a694-5b7daac2c36f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c4714939-5a74-43d8-a694-5b7daac2c36f/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c4714939-5a74-43d8-a694-5b7daac2c36f/cover_letter_cover_modern.pdf","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.645Z","level":"info","message":"pdf_generation_attempt","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","jobId":"a9c1ce41-469d-4d6f-b591-e3018bf85041","generationRunId":"c4714939-5a74-43d8-a694-5b7daac2c36f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c4714939-5a74-43d8-a694-5b7daac2c36f/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c4714939-5a74-43d8-a694-5b7daac2c36f/cover_letter_cover_professional.pdf","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.646Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","jobId":"a9c1ce41-469d-4d6f-b591-e3018bf85041","generationRunId":"c4714939-5a74-43d8-a694-5b7daac2c36f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c4714939-5a74-43d8-a694-5b7daac2c36f/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.647Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","jobId":"a9c1ce41-469d-4d6f-b591-e3018bf85041","generationRunId":"c4714939-5a74-43d8-a694-5b7daac2c36f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c4714939-5a74-43d8-a694-5b7daac2c36f/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c4714939-5a74-43d8-a694-5b7daac2c36f/cover_letter_cover_professional.pdf","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.648Z","level":"info","message":"llm_call_metrics","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.649Z","level":"info","message":"generation_completed","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","jobId":"a9c1ce41-469d-4d6f-b591-e3018bf85041","generationRunId":"c4714939-5a74-43d8-a694-5b7daac2c36f","enhancedScore":80,"outputs":5,"template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.650Z","level":"info","message":"placeholder_record_deleted","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","jobId":"a9c1ce41-469d-4d6f-b591-e3018bf85041","placeholderIdentifier":"c4714939-5a74-43d8-a694-5b7daac2c36f","template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9c1ce41-469d-4d6f-b591-e3018bf85041","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.651Z","level":"info","message":"http_request_completed","requestId":"c4714939-5a74-43d8-a694-5b7daac2c36f","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":106,"contentLength":"58301","template":"unknown","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c4714939-5a74-43d8-a694-5b7daac2c36f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.660Z","level":"info","message":"http_request_received","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","method":"POST","path":"/api/process-cv","template":"unknown","session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.661Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.662Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.664Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.665Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.667Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/incoming/original.pdf","chunks":1,"timestamp":1764856805669}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:00:05.671Z","level":"info","message":"process_cv_started","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","manualJobDescriptionProvided":true,"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.672Z","level":"info","message":"template_selection","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:05.672Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:00:05.678Z","level":"info","message":"initial_upload_completed","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","bucket":"test-bucket","key":"cv/candidate/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/incoming/original.pdf","template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.679Z","level":"info","message":"resume_text_extracted","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","characters":57,"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.680Z","level":"info","message":"resume_classified","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.680Z","level":"info","message":"raw_upload_relocated","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","bucket":"test-bucket","fromKey":"cv/candidate/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/incoming/original.pdf","toKey":"cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/original.pdf","template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.681Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","bucket":"test-bucket","key":"cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/original.pdf","template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.682Z","level":"info","message":"dynamo_initial_record_written","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","bucket":"test-bucket","key":"cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/original.pdf","template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.682Z","level":"info","message":"upload_metadata_written","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","bucket":"test-bucket","key":"cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/logs/log.json","template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.683Z","level":"info","message":"job_description_supplied_manually","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","characters":174,"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.683Z","level":"info","message":"job_description_analyzed","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","jobTitle":"","jobSkills":5,"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.684Z","level":"info","message":"resume_skills_analyzed","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.684Z","level":"info","message":"llm_call_metrics","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.685Z","level":"info","message":"process_cv_scoring_completed","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.error
    {"timestamp":"2025-12-04T14:00:05.686Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","template":"unknown","session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at Object.error (server.js:3484:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8540:20)
      at generateEnhancedDocumentsResponse (server.js:20182:26)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:05.692Z","level":"info","message":"llm_call_metrics","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.692Z","level":"info","message":"llm_call_metrics","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.693Z","level":"info","message":"generation_section_rewrite_completed","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","generationRunId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.693Z","level":"info","message":"llm_call_metrics","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.694Z","level":"info","message":"llm_call_metrics","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.error
    {"timestamp":"2025-12-04T14:00:05.697Z","level":"error","message":"ai_response_missing_json","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","generationRunId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at Object.error (server.js:3484:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20464:26)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:05.703Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","generationRunId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","attempt":1,"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20469:11)
      at server.js:26740:28

  console.error
    {"timestamp":"2025-12-04T14:00:05.708Z","level":"error","message":"ai_response_missing_json","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","generationRunId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at Object.error (server.js:3484:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20464:26)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:05.714Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","generationRunId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","attempt":2,"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20469:11)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:05.720Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","generationRunId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:05.726Z","level":"info","message":"generation_cover_letters_completed","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","generationRunId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","variants":2,"fallbackApplied":true,"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.727Z","level":"info","message":"pdf_generation_attempt","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","generationRunId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/enhanced_modern.pdf","session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.727Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","generationRunId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.728Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","generationRunId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/enhanced_modern.pdf","session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.728Z","level":"info","message":"pdf_generation_attempt","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","generationRunId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/enhanced_professional.pdf","session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.729Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","generationRunId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.729Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","generationRunId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/enhanced_professional.pdf","session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.730Z","level":"info","message":"pdf_generation_attempt","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","generationRunId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/cover_letter_cover_modern.pdf","session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.730Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","generationRunId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.731Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","generationRunId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/cover_letter_cover_modern.pdf","session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.732Z","level":"info","message":"pdf_generation_attempt","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","generationRunId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/cover_letter_cover_professional.pdf","session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.732Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","generationRunId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.734Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","generationRunId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/cover_letter_cover_professional.pdf","session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:05.735Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","generationRunId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","artifactType":"original_upload","storageKey":"cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/original.pdf","template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","metadata":{"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"original_upload"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:21870:9)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:05.741Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","generationRunId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","artifactType":"version1","storageKey":"cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/modern/version1.pdf","template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","metadata":{"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"version1"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:21870:9)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:05.747Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","generationRunId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","artifactType":"version2","storageKey":"cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/professional/version2.pdf","template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","metadata":{"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"version2"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:21870:9)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:05.753Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","generationRunId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","artifactType":"cover_letter1","storageKey":"cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/cover_modern/cover_letter1.pdf","template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","metadata":{"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"cover_letter1"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:21870:9)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:05.758Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","generationRunId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","artifactType":"cover_letter2","storageKey":"cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/cover_professional/cover_letter2.pdf","template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","metadata":{"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"cover_letter2"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:21870:9)
      at server.js:26740:28

  console.error
    {"timestamp":"2025-12-04T14:00:05.763Z","level":"error","message":"generation_urls_missing","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","generationRunId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","requestedUrlCount":0,"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:21971:7)
      at server.js:26740:28

  console.error
    {"timestamp":"2025-12-04T14:00:05.769Z","level":"error","message":"api_error_response","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","status":500,"error":{"code":"AI_RESPONSE_INVALID","message":"Unable to prepare download links for the generated documents.","details":{"logs":{"s3":{"bucket":"test-bucket","key":"logs/errors/2025-12-04/2025-12-04t14-00-05-769z-5cbc9c60-d5f4-4d14-9cb6-e920241c018c.json","status":"pending"}}},"requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0"},"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at sendError (server.js:3972:3)
      at generateEnhancedDocumentsResponse (server.js:21975:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:05.777Z","level":"warn","message":"generation_artifacts_cleaned_up","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","jobId":"92b63841-56d6-4129-a2d9-19135fab41a0","generationRunId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","reason":"no_valid_urls","deletedKeys":["cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/modern/version1.pdf","cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/professional/version2.pdf","cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/cover_modern/cover_letter1.pdf","cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/cover_professional/cover_letter2.pdf","cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/artifacts/original.json","cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/artifacts/version1.json","cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/artifacts/version2.json","cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/artifacts/cover-letter1.json","cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/artifacts/cover-letter2.json","cv/professional_summary/5cbc9c60-d5f4-4d14-9cb6-e920241c018c/artifacts/changelog.json"],"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"92b63841-56d6-4129-a2d9-19135fab41a0","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:19898:9
      at generateEnhancedDocumentsResponse (server.js:22503:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:05.783Z","level":"info","message":"http_request_completed","requestId":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","method":"POST","path":"/api/process-cv","statusCode":500,"durationMs":123,"contentLength":"396","template":"unknown","session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5cbc9c60-d5f4-4d14-9cb6-e920241c018c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.787Z","level":"info","message":"http_request_received","requestId":"4a67eb04-6d15-4bc0-80bc-20ac99ce48b1","method":"POST","path":"/api/refresh-download-link","template":"unknown","session":"4a67eb04-6d15-4bc0-80bc-20ac99ce48b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4a67eb04-6d15-4bc0-80bc-20ac99ce48b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.788Z","level":"info","message":"path_restoration_debug","reqPath":"/api/refresh-download-link","reqUrl":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.789Z","level":"info","message":"request_received","path":"/api/refresh-download-link","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.790Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.802Z","level":"info","message":"client_app_routes_entered","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.804Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.806Z","level":"info","message":"http_request_completed","requestId":"4a67eb04-6d15-4bc0-80bc-20ac99ce48b1","method":"POST","path":"/api/refresh-download-link","statusCode":200,"durationMs":19,"contentLength":"232","template":"unknown","session":"4a67eb04-6d15-4bc0-80bc-20ac99ce48b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4a67eb04-6d15-4bc0-80bc-20ac99ce48b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.808Z","level":"info","message":"http_request_received","requestId":"ba08ca22-8d94-40db-8429-7a11d7853104","method":"POST","path":"/api/refresh-download-link","template":"unknown","session":"ba08ca22-8d94-40db-8429-7a11d7853104","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ba08ca22-8d94-40db-8429-7a11d7853104","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.809Z","level":"info","message":"path_restoration_debug","reqPath":"/api/refresh-download-link","reqUrl":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.811Z","level":"info","message":"request_received","path":"/api/refresh-download-link","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.812Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.813Z","level":"info","message":"client_app_routes_entered","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.814Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:05.815Z","level":"warn","message":"api_error_response","requestId":"ba08ca22-8d94-40db-8429-7a11d7853104","jobId":"job-123","status":404,"error":{"code":"DOWNLOAD_NOT_FOUND","message":"The requested download link is no longer available.","details":{},"requestId":"ba08ca22-8d94-40db-8429-7a11d7853104","jobId":"job-123"},"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at sendError (server.js:3972:3)
      at server.js:24608:12

  console.log
    {"timestamp":"2025-12-04T14:00:05.821Z","level":"info","message":"http_request_completed","requestId":"ba08ca22-8d94-40db-8429-7a11d7853104","method":"POST","path":"/api/refresh-download-link","statusCode":404,"durationMs":13,"contentLength":"201","template":"unknown","session":"ba08ca22-8d94-40db-8429-7a11d7853104","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ba08ca22-8d94-40db-8429-7a11d7853104","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.824Z","level":"info","message":"http_request_received","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","method":"POST","path":"/api/process-cv","template":"unknown","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.825Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.826Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.828Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.829Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.831Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/70efa834-fed1-4a05-8284-39c99cec6136/incoming/original.pdf","chunks":1,"timestamp":1764856805833}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/70efa834-fed1-4a05-8284-39c99cec6136/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/70efa834-fed1-4a05-8284-39c99cec6136/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:00:05.834Z","level":"info","message":"process_cv_started","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","jobId":"b405dd9b-e539-481c-bc76-91641a3e2c2c","manualJobDescriptionProvided":true,"template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.835Z","level":"info","message":"template_selection","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","jobId":"b405dd9b-e539-481c-bc76-91641a3e2c2c","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:05.835Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","jobId":"b405dd9b-e539-481c-bc76-91641a3e2c2c","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:00:05.841Z","level":"info","message":"initial_upload_completed","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","jobId":"b405dd9b-e539-481c-bc76-91641a3e2c2c","bucket":"test-bucket","key":"cv/candidate/70efa834-fed1-4a05-8284-39c99cec6136/incoming/original.pdf","template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.841Z","level":"info","message":"resume_text_extracted","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","jobId":"b405dd9b-e539-481c-bc76-91641a3e2c2c","characters":57,"template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.842Z","level":"info","message":"resume_classified","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","jobId":"b405dd9b-e539-481c-bc76-91641a3e2c2c","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.842Z","level":"info","message":"raw_upload_relocated","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","jobId":"b405dd9b-e539-481c-bc76-91641a3e2c2c","bucket":"test-bucket","fromKey":"cv/candidate/70efa834-fed1-4a05-8284-39c99cec6136/incoming/original.pdf","toKey":"cv/professional_summary/70efa834-fed1-4a05-8284-39c99cec6136/original.pdf","template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.843Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","jobId":"b405dd9b-e539-481c-bc76-91641a3e2c2c","bucket":"test-bucket","key":"cv/professional_summary/70efa834-fed1-4a05-8284-39c99cec6136/original.pdf","template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.843Z","level":"info","message":"dynamo_initial_record_written","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","jobId":"b405dd9b-e539-481c-bc76-91641a3e2c2c","bucket":"test-bucket","key":"cv/professional_summary/70efa834-fed1-4a05-8284-39c99cec6136/original.pdf","template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.843Z","level":"info","message":"upload_metadata_written","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","jobId":"b405dd9b-e539-481c-bc76-91641a3e2c2c","bucket":"test-bucket","key":"cv/professional_summary/70efa834-fed1-4a05-8284-39c99cec6136/logs/log.json","template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.843Z","level":"info","message":"job_description_supplied_manually","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","jobId":"b405dd9b-e539-481c-bc76-91641a3e2c2c","characters":174,"template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.844Z","level":"info","message":"job_description_analyzed","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","jobId":"b405dd9b-e539-481c-bc76-91641a3e2c2c","jobTitle":"","jobSkills":5,"template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.844Z","level":"info","message":"resume_skills_analyzed","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","jobId":"b405dd9b-e539-481c-bc76-91641a3e2c2c","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.845Z","level":"info","message":"llm_call_metrics","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.845Z","level":"info","message":"process_cv_scoring_completed","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","jobId":"b405dd9b-e539-481c-bc76-91641a3e2c2c","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.error
    {"timestamp":"2025-12-04T14:00:05.848Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"70efa834-fed1-4a05-8284-39c99cec6136","template":"unknown","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at Object.error (server.js:3484:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8540:20)
      at generateEnhancedDocumentsResponse (server.js:20182:26)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:05.853Z","level":"info","message":"llm_call_metrics","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.853Z","level":"info","message":"llm_call_metrics","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.854Z","level":"info","message":"generation_section_rewrite_completed","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","jobId":"b405dd9b-e539-481c-bc76-91641a3e2c2c","generationRunId":"70efa834-fed1-4a05-8284-39c99cec6136","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.854Z","level":"info","message":"llm_call_metrics","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.854Z","level":"info","message":"llm_call_metrics","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.error
    {"timestamp":"2025-12-04T14:00:05.857Z","level":"error","message":"ai_response_missing_json","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","jobId":"b405dd9b-e539-481c-bc76-91641a3e2c2c","generationRunId":"70efa834-fed1-4a05-8284-39c99cec6136","template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at Object.error (server.js:3484:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20464:26)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:05.863Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","jobId":"b405dd9b-e539-481c-bc76-91641a3e2c2c","generationRunId":"70efa834-fed1-4a05-8284-39c99cec6136","attempt":1,"template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20469:11)
      at server.js:26740:28

  console.error
    {"timestamp":"2025-12-04T14:00:05.869Z","level":"error","message":"ai_response_missing_json","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","jobId":"b405dd9b-e539-481c-bc76-91641a3e2c2c","generationRunId":"70efa834-fed1-4a05-8284-39c99cec6136","template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at Object.error (server.js:3484:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20464:26)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:05.874Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","jobId":"b405dd9b-e539-481c-bc76-91641a3e2c2c","generationRunId":"70efa834-fed1-4a05-8284-39c99cec6136","attempt":2,"template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20469:11)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:05.880Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","jobId":"b405dd9b-e539-481c-bc76-91641a3e2c2c","generationRunId":"70efa834-fed1-4a05-8284-39c99cec6136","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:05.885Z","level":"info","message":"generation_cover_letters_completed","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","jobId":"b405dd9b-e539-481c-bc76-91641a3e2c2c","generationRunId":"70efa834-fed1-4a05-8284-39c99cec6136","variants":2,"fallbackApplied":true,"template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.886Z","level":"info","message":"pdf_generation_attempt","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","jobId":"b405dd9b-e539-481c-bc76-91641a3e2c2c","generationRunId":"70efa834-fed1-4a05-8284-39c99cec6136","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/70efa834-fed1-4a05-8284-39c99cec6136/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/70efa834-fed1-4a05-8284-39c99cec6136/enhanced_modern.pdf","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.886Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","jobId":"b405dd9b-e539-481c-bc76-91641a3e2c2c","generationRunId":"70efa834-fed1-4a05-8284-39c99cec6136","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/70efa834-fed1-4a05-8284-39c99cec6136/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.887Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","jobId":"b405dd9b-e539-481c-bc76-91641a3e2c2c","generationRunId":"70efa834-fed1-4a05-8284-39c99cec6136","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/70efa834-fed1-4a05-8284-39c99cec6136/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/70efa834-fed1-4a05-8284-39c99cec6136/enhanced_modern.pdf","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.887Z","level":"info","message":"pdf_generation_attempt","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","jobId":"b405dd9b-e539-481c-bc76-91641a3e2c2c","generationRunId":"70efa834-fed1-4a05-8284-39c99cec6136","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/70efa834-fed1-4a05-8284-39c99cec6136/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/70efa834-fed1-4a05-8284-39c99cec6136/enhanced_professional.pdf","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.888Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","jobId":"b405dd9b-e539-481c-bc76-91641a3e2c2c","generationRunId":"70efa834-fed1-4a05-8284-39c99cec6136","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/70efa834-fed1-4a05-8284-39c99cec6136/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.888Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","jobId":"b405dd9b-e539-481c-bc76-91641a3e2c2c","generationRunId":"70efa834-fed1-4a05-8284-39c99cec6136","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/70efa834-fed1-4a05-8284-39c99cec6136/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/70efa834-fed1-4a05-8284-39c99cec6136/enhanced_professional.pdf","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.889Z","level":"info","message":"pdf_generation_attempt","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","jobId":"b405dd9b-e539-481c-bc76-91641a3e2c2c","generationRunId":"70efa834-fed1-4a05-8284-39c99cec6136","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/70efa834-fed1-4a05-8284-39c99cec6136/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/70efa834-fed1-4a05-8284-39c99cec6136/cover_letter_cover_modern.pdf","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.889Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","jobId":"b405dd9b-e539-481c-bc76-91641a3e2c2c","generationRunId":"70efa834-fed1-4a05-8284-39c99cec6136","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/70efa834-fed1-4a05-8284-39c99cec6136/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.889Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","jobId":"b405dd9b-e539-481c-bc76-91641a3e2c2c","generationRunId":"70efa834-fed1-4a05-8284-39c99cec6136","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/70efa834-fed1-4a05-8284-39c99cec6136/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/70efa834-fed1-4a05-8284-39c99cec6136/cover_letter_cover_modern.pdf","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.890Z","level":"info","message":"pdf_generation_attempt","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","jobId":"b405dd9b-e539-481c-bc76-91641a3e2c2c","generationRunId":"70efa834-fed1-4a05-8284-39c99cec6136","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/70efa834-fed1-4a05-8284-39c99cec6136/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/70efa834-fed1-4a05-8284-39c99cec6136/cover_letter_cover_professional.pdf","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.890Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","jobId":"b405dd9b-e539-481c-bc76-91641a3e2c2c","generationRunId":"70efa834-fed1-4a05-8284-39c99cec6136","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/70efa834-fed1-4a05-8284-39c99cec6136/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.891Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","jobId":"b405dd9b-e539-481c-bc76-91641a3e2c2c","generationRunId":"70efa834-fed1-4a05-8284-39c99cec6136","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/70efa834-fed1-4a05-8284-39c99cec6136/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/70efa834-fed1-4a05-8284-39c99cec6136/cover_letter_cover_professional.pdf","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.892Z","level":"info","message":"llm_call_metrics","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.893Z","level":"info","message":"generation_completed","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","jobId":"b405dd9b-e539-481c-bc76-91641a3e2c2c","generationRunId":"70efa834-fed1-4a05-8284-39c99cec6136","enhancedScore":80,"outputs":5,"template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.894Z","level":"info","message":"placeholder_record_deleted","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","jobId":"b405dd9b-e539-481c-bc76-91641a3e2c2c","placeholderIdentifier":"70efa834-fed1-4a05-8284-39c99cec6136","template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b405dd9b-e539-481c-bc76-91641a3e2c2c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.895Z","level":"info","message":"http_request_completed","requestId":"70efa834-fed1-4a05-8284-39c99cec6136","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":71,"contentLength":"58301","template":"unknown","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"70efa834-fed1-4a05-8284-39c99cec6136","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.898Z","level":"info","message":"http_request_received","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","method":"POST","path":"/api/process-cv","template":"unknown","session":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.899Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.901Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.902Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.903Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.905Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/e5d76450-bfcf-4ac9-9123-c2284fc4d3d6/incoming/original.pdf","chunks":1,"timestamp":1764856805907}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/e5d76450-bfcf-4ac9-9123-c2284fc4d3d6/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/e5d76450-bfcf-4ac9-9123-c2284fc4d3d6/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:00:05.908Z","level":"info","message":"process_cv_started","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","jobId":"116d5283-a30f-4d71-8921-8989e8f2218c","manualJobDescriptionProvided":true,"template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.909Z","level":"info","message":"template_selection","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","jobId":"116d5283-a30f-4d71-8921-8989e8f2218c","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:05.909Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","jobId":"116d5283-a30f-4d71-8921-8989e8f2218c","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:00:05.916Z","level":"info","message":"initial_upload_completed","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","jobId":"116d5283-a30f-4d71-8921-8989e8f2218c","bucket":"test-bucket","key":"cv/candidate/e5d76450-bfcf-4ac9-9123-c2284fc4d3d6/incoming/original.pdf","template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.917Z","level":"info","message":"resume_text_extracted","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","jobId":"116d5283-a30f-4d71-8921-8989e8f2218c","characters":57,"template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.917Z","level":"info","message":"resume_classified","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","jobId":"116d5283-a30f-4d71-8921-8989e8f2218c","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.917Z","level":"info","message":"raw_upload_relocated","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","jobId":"116d5283-a30f-4d71-8921-8989e8f2218c","bucket":"test-bucket","fromKey":"cv/candidate/e5d76450-bfcf-4ac9-9123-c2284fc4d3d6/incoming/original.pdf","toKey":"cv/professional_summary/e5d76450-bfcf-4ac9-9123-c2284fc4d3d6/original.pdf","template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.918Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","jobId":"116d5283-a30f-4d71-8921-8989e8f2218c","bucket":"test-bucket","key":"cv/professional_summary/e5d76450-bfcf-4ac9-9123-c2284fc4d3d6/original.pdf","template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.918Z","level":"info","message":"dynamo_initial_record_written","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","jobId":"116d5283-a30f-4d71-8921-8989e8f2218c","bucket":"test-bucket","key":"cv/professional_summary/e5d76450-bfcf-4ac9-9123-c2284fc4d3d6/original.pdf","template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.918Z","level":"info","message":"upload_metadata_written","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","jobId":"116d5283-a30f-4d71-8921-8989e8f2218c","bucket":"test-bucket","key":"cv/professional_summary/e5d76450-bfcf-4ac9-9123-c2284fc4d3d6/logs/log.json","template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.918Z","level":"info","message":"job_description_supplied_manually","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","jobId":"116d5283-a30f-4d71-8921-8989e8f2218c","characters":174,"template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.919Z","level":"info","message":"job_description_analyzed","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","jobId":"116d5283-a30f-4d71-8921-8989e8f2218c","jobTitle":"","jobSkills":5,"template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.919Z","level":"info","message":"resume_skills_analyzed","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","jobId":"116d5283-a30f-4d71-8921-8989e8f2218c","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.919Z","level":"info","message":"llm_call_metrics","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.920Z","level":"info","message":"process_cv_scoring_completed","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","jobId":"116d5283-a30f-4d71-8921-8989e8f2218c","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.922Z","level":"info","message":"llm_call_metrics","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.922Z","level":"info","message":"generation_section_rewrite_completed","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","jobId":"116d5283-a30f-4d71-8921-8989e8f2218c","generationRunId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.923Z","level":"info","message":"llm_call_metrics","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.926Z","level":"info","message":"generation_resume_verified","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","jobId":"116d5283-a30f-4d71-8921-8989e8f2218c","generationRunId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:05.929Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","jobId":"116d5283-a30f-4d71-8921-8989e8f2218c","generationRunId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:05.935Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","jobId":"116d5283-a30f-4d71-8921-8989e8f2218c","generationRunId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:05.940Z","level":"info","message":"generation_cover_letters_completed","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","jobId":"116d5283-a30f-4d71-8921-8989e8f2218c","generationRunId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","variants":2,"fallbackApplied":true,"template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.941Z","level":"info","message":"pdf_generation_attempt","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","jobId":"116d5283-a30f-4d71-8921-8989e8f2218c","generationRunId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e5d76450-bfcf-4ac9-9123-c2284fc4d3d6/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/e5d76450-bfcf-4ac9-9123-c2284fc4d3d6/enhanced_modern.pdf","session":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.942Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","jobId":"116d5283-a30f-4d71-8921-8989e8f2218c","generationRunId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e5d76450-bfcf-4ac9-9123-c2284fc4d3d6/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.942Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","jobId":"116d5283-a30f-4d71-8921-8989e8f2218c","generationRunId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e5d76450-bfcf-4ac9-9123-c2284fc4d3d6/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/e5d76450-bfcf-4ac9-9123-c2284fc4d3d6/enhanced_modern.pdf","session":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.943Z","level":"info","message":"pdf_generation_attempt","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","jobId":"116d5283-a30f-4d71-8921-8989e8f2218c","generationRunId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e5d76450-bfcf-4ac9-9123-c2284fc4d3d6/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/e5d76450-bfcf-4ac9-9123-c2284fc4d3d6/enhanced_professional.pdf","session":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.943Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","jobId":"116d5283-a30f-4d71-8921-8989e8f2218c","generationRunId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e5d76450-bfcf-4ac9-9123-c2284fc4d3d6/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.944Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","jobId":"116d5283-a30f-4d71-8921-8989e8f2218c","generationRunId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e5d76450-bfcf-4ac9-9123-c2284fc4d3d6/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/e5d76450-bfcf-4ac9-9123-c2284fc4d3d6/enhanced_professional.pdf","session":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.944Z","level":"info","message":"pdf_generation_attempt","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","jobId":"116d5283-a30f-4d71-8921-8989e8f2218c","generationRunId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e5d76450-bfcf-4ac9-9123-c2284fc4d3d6/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/e5d76450-bfcf-4ac9-9123-c2284fc4d3d6/cover_letter_cover_modern.pdf","session":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.945Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","jobId":"116d5283-a30f-4d71-8921-8989e8f2218c","generationRunId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e5d76450-bfcf-4ac9-9123-c2284fc4d3d6/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.945Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","jobId":"116d5283-a30f-4d71-8921-8989e8f2218c","generationRunId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e5d76450-bfcf-4ac9-9123-c2284fc4d3d6/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/e5d76450-bfcf-4ac9-9123-c2284fc4d3d6/cover_letter_cover_modern.pdf","session":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.946Z","level":"info","message":"pdf_generation_attempt","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","jobId":"116d5283-a30f-4d71-8921-8989e8f2218c","generationRunId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e5d76450-bfcf-4ac9-9123-c2284fc4d3d6/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/e5d76450-bfcf-4ac9-9123-c2284fc4d3d6/cover_letter_cover_professional.pdf","session":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.947Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","jobId":"116d5283-a30f-4d71-8921-8989e8f2218c","generationRunId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e5d76450-bfcf-4ac9-9123-c2284fc4d3d6/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.948Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","jobId":"116d5283-a30f-4d71-8921-8989e8f2218c","generationRunId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e5d76450-bfcf-4ac9-9123-c2284fc4d3d6/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/e5d76450-bfcf-4ac9-9123-c2284fc4d3d6/cover_letter_cover_professional.pdf","session":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.950Z","level":"info","message":"llm_call_metrics","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.951Z","level":"info","message":"generation_completed","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","jobId":"116d5283-a30f-4d71-8921-8989e8f2218c","generationRunId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","enhancedScore":80,"outputs":5,"template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.952Z","level":"info","message":"placeholder_record_deleted","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","jobId":"116d5283-a30f-4d71-8921-8989e8f2218c","placeholderIdentifier":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"116d5283-a30f-4d71-8921-8989e8f2218c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.953Z","level":"info","message":"http_request_completed","requestId":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":55,"contentLength":"58133","template":"unknown","session":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e5d76450-bfcf-4ac9-9123-c2284fc4d3d6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.956Z","level":"info","message":"http_request_received","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","method":"POST","path":"/api/process-cv","template":"unknown","session":"c52f6006-c389-4857-bdf7-34f8d53afeb5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c52f6006-c389-4857-bdf7-34f8d53afeb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.957Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.959Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.960Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.962Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.964Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/c52f6006-c389-4857-bdf7-34f8d53afeb5/incoming/original.pdf","chunks":1,"timestamp":1764856805967}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/c52f6006-c389-4857-bdf7-34f8d53afeb5/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/c52f6006-c389-4857-bdf7-34f8d53afeb5/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:00:05.968Z","level":"info","message":"process_cv_started","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","jobId":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","manualJobDescriptionProvided":true,"template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.969Z","level":"info","message":"template_selection","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","jobId":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","template1":"classic","template2":"ats","coverTemplate1":"cover_classic","coverTemplate2":"cover_ats","availableCvTemplates":["classic","ats","modern","professional","2025"],"availableCoverTemplates":["cover_classic","cover_ats","cover_modern","cover_professional","cover_2025"],"template":"classic","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:05.969Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","jobId":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:00:05.975Z","level":"info","message":"initial_upload_completed","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","jobId":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","bucket":"test-bucket","key":"cv/candidate/c52f6006-c389-4857-bdf7-34f8d53afeb5/incoming/original.pdf","template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.976Z","level":"info","message":"resume_text_extracted","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","jobId":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","characters":57,"template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.976Z","level":"info","message":"resume_classified","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","jobId":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.976Z","level":"info","message":"raw_upload_relocated","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","jobId":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","bucket":"test-bucket","fromKey":"cv/candidate/c52f6006-c389-4857-bdf7-34f8d53afeb5/incoming/original.pdf","toKey":"cv/professional_summary/c52f6006-c389-4857-bdf7-34f8d53afeb5/original.pdf","template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.976Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","jobId":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","bucket":"test-bucket","key":"cv/professional_summary/c52f6006-c389-4857-bdf7-34f8d53afeb5/original.pdf","template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.979Z","level":"info","message":"dynamo_initial_record_written","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","jobId":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","bucket":"test-bucket","key":"cv/professional_summary/c52f6006-c389-4857-bdf7-34f8d53afeb5/original.pdf","template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.979Z","level":"info","message":"upload_metadata_written","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","jobId":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","bucket":"test-bucket","key":"cv/professional_summary/c52f6006-c389-4857-bdf7-34f8d53afeb5/logs/log.json","template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.980Z","level":"info","message":"job_description_supplied_manually","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","jobId":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","characters":174,"template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.981Z","level":"info","message":"job_description_analyzed","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","jobId":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","jobTitle":"","jobSkills":5,"template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.981Z","level":"info","message":"resume_skills_analyzed","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","jobId":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.982Z","level":"info","message":"llm_call_metrics","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"c52f6006-c389-4857-bdf7-34f8d53afeb5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c52f6006-c389-4857-bdf7-34f8d53afeb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.982Z","level":"info","message":"process_cv_scoring_completed","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","jobId":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.985Z","level":"info","message":"llm_call_metrics","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"c52f6006-c389-4857-bdf7-34f8d53afeb5","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"c52f6006-c389-4857-bdf7-34f8d53afeb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.985Z","level":"info","message":"generation_section_rewrite_completed","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","jobId":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","generationRunId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.986Z","level":"info","message":"llm_call_metrics","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"c52f6006-c389-4857-bdf7-34f8d53afeb5","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"c52f6006-c389-4857-bdf7-34f8d53afeb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:05.988Z","level":"info","message":"generation_resume_verified","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","jobId":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","generationRunId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:05.990Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","jobId":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","generationRunId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:05.996Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","jobId":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","generationRunId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:06.004Z","level":"info","message":"generation_cover_letters_completed","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","jobId":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","generationRunId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","variants":2,"fallbackApplied":true,"template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.004Z","level":"info","message":"pdf_generation_attempt","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","jobId":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","generationRunId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c52f6006-c389-4857-bdf7-34f8d53afeb5/","sessionId":"[REDACTED]","template":"classic","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/c52f6006-c389-4857-bdf7-34f8d53afeb5/enhanced_classic.pdf","session":"c52f6006-c389-4857-bdf7-34f8d53afeb5","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"c52f6006-c389-4857-bdf7-34f8d53afeb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.005Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","jobId":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","generationRunId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c52f6006-c389-4857-bdf7-34f8d53afeb5/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c52f6006-c389-4857-bdf7-34f8d53afeb5","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"c52f6006-c389-4857-bdf7-34f8d53afeb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.005Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","jobId":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","generationRunId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c52f6006-c389-4857-bdf7-34f8d53afeb5/","sessionId":"[REDACTED]","template":"classic","attempt":1,"bytes":3,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/c52f6006-c389-4857-bdf7-34f8d53afeb5/enhanced_classic.pdf","session":"c52f6006-c389-4857-bdf7-34f8d53afeb5","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"c52f6006-c389-4857-bdf7-34f8d53afeb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.006Z","level":"info","message":"pdf_generation_attempt","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","jobId":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","generationRunId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c52f6006-c389-4857-bdf7-34f8d53afeb5/","sessionId":"[REDACTED]","template":"ats","attempt":1,"totalAttempts":1,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/c52f6006-c389-4857-bdf7-34f8d53afeb5/enhanced_ats.pdf","session":"c52f6006-c389-4857-bdf7-34f8d53afeb5","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"c52f6006-c389-4857-bdf7-34f8d53afeb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.006Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","jobId":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","generationRunId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c52f6006-c389-4857-bdf7-34f8d53afeb5/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":["mode","atsMode"],"session":"c52f6006-c389-4857-bdf7-34f8d53afeb5","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"c52f6006-c389-4857-bdf7-34f8d53afeb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.007Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","jobId":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","generationRunId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c52f6006-c389-4857-bdf7-34f8d53afeb5/","sessionId":"[REDACTED]","template":"ats","attempt":1,"bytes":3,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/c52f6006-c389-4857-bdf7-34f8d53afeb5/enhanced_ats.pdf","session":"c52f6006-c389-4857-bdf7-34f8d53afeb5","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"c52f6006-c389-4857-bdf7-34f8d53afeb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.007Z","level":"info","message":"pdf_generation_attempt","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","jobId":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","generationRunId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c52f6006-c389-4857-bdf7-34f8d53afeb5/","sessionId":"[REDACTED]","template":"cover_classic","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/c52f6006-c389-4857-bdf7-34f8d53afeb5/cover_letter_cover_classic.pdf","session":"c52f6006-c389-4857-bdf7-34f8d53afeb5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"c52f6006-c389-4857-bdf7-34f8d53afeb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.007Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","jobId":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","generationRunId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c52f6006-c389-4857-bdf7-34f8d53afeb5/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c52f6006-c389-4857-bdf7-34f8d53afeb5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"c52f6006-c389-4857-bdf7-34f8d53afeb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.008Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","jobId":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","generationRunId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c52f6006-c389-4857-bdf7-34f8d53afeb5/","sessionId":"[REDACTED]","template":"cover_classic","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/c52f6006-c389-4857-bdf7-34f8d53afeb5/cover_letter_cover_classic.pdf","session":"c52f6006-c389-4857-bdf7-34f8d53afeb5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"c52f6006-c389-4857-bdf7-34f8d53afeb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.009Z","level":"info","message":"pdf_generation_attempt","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","jobId":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","generationRunId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c52f6006-c389-4857-bdf7-34f8d53afeb5/","sessionId":"[REDACTED]","template":"cover_ats","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/c52f6006-c389-4857-bdf7-34f8d53afeb5/cover_letter_cover_ats.pdf","session":"c52f6006-c389-4857-bdf7-34f8d53afeb5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"c52f6006-c389-4857-bdf7-34f8d53afeb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.010Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","jobId":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","generationRunId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c52f6006-c389-4857-bdf7-34f8d53afeb5/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c52f6006-c389-4857-bdf7-34f8d53afeb5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"c52f6006-c389-4857-bdf7-34f8d53afeb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.010Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","jobId":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","generationRunId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c52f6006-c389-4857-bdf7-34f8d53afeb5/","sessionId":"[REDACTED]","template":"cover_ats","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/c52f6006-c389-4857-bdf7-34f8d53afeb5/cover_letter_cover_ats.pdf","session":"c52f6006-c389-4857-bdf7-34f8d53afeb5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"c52f6006-c389-4857-bdf7-34f8d53afeb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.013Z","level":"info","message":"llm_call_metrics","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"c52f6006-c389-4857-bdf7-34f8d53afeb5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c52f6006-c389-4857-bdf7-34f8d53afeb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.014Z","level":"info","message":"generation_completed","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","jobId":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","generationRunId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","enhancedScore":80,"outputs":5,"template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.015Z","level":"info","message":"placeholder_record_deleted","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","jobId":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","placeholderIdentifier":"c52f6006-c389-4857-bdf7-34f8d53afeb5","template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0d18e44a-fc8c-44b8-9af3-545e7337aeaa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.016Z","level":"info","message":"http_request_completed","requestId":"c52f6006-c389-4857-bdf7-34f8d53afeb5","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":60,"contentLength":"57992","template":"unknown","session":"c52f6006-c389-4857-bdf7-34f8d53afeb5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c52f6006-c389-4857-bdf7-34f8d53afeb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.019Z","level":"info","message":"http_request_received","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","method":"POST","path":"/api/process-cv","template":"unknown","session":"6827aae2-59ce-425b-9160-9539812a3eae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6827aae2-59ce-425b-9160-9539812a3eae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.020Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.021Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.022Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.024Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.026Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/6827aae2-59ce-425b-9160-9539812a3eae/incoming/original.pdf","chunks":1,"timestamp":1764856806028}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/6827aae2-59ce-425b-9160-9539812a3eae/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/6827aae2-59ce-425b-9160-9539812a3eae/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:00:06.031Z","level":"info","message":"process_cv_started","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","jobId":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","manualJobDescriptionProvided":true,"template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.031Z","level":"info","message":"template_selection","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","jobId":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:06.032Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","jobId":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:00:06.038Z","level":"info","message":"initial_upload_completed","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","jobId":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","bucket":"test-bucket","key":"cv/candidate/6827aae2-59ce-425b-9160-9539812a3eae/incoming/original.pdf","template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.038Z","level":"info","message":"resume_text_extracted","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","jobId":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","characters":57,"template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.039Z","level":"info","message":"resume_classified","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","jobId":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.039Z","level":"info","message":"raw_upload_relocated","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","jobId":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","bucket":"test-bucket","fromKey":"cv/candidate/6827aae2-59ce-425b-9160-9539812a3eae/incoming/original.pdf","toKey":"cv/professional_summary/6827aae2-59ce-425b-9160-9539812a3eae/original.pdf","template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.039Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","jobId":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","bucket":"test-bucket","key":"cv/professional_summary/6827aae2-59ce-425b-9160-9539812a3eae/original.pdf","template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.040Z","level":"info","message":"dynamo_initial_record_written","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","jobId":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","bucket":"test-bucket","key":"cv/professional_summary/6827aae2-59ce-425b-9160-9539812a3eae/original.pdf","template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.040Z","level":"info","message":"upload_metadata_written","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","jobId":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","bucket":"test-bucket","key":"cv/professional_summary/6827aae2-59ce-425b-9160-9539812a3eae/logs/log.json","template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.040Z","level":"info","message":"job_description_supplied_manually","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","jobId":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","characters":174,"template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.041Z","level":"info","message":"job_description_analyzed","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","jobId":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","jobTitle":"","jobSkills":5,"template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.041Z","level":"info","message":"resume_skills_analyzed","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","jobId":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.042Z","level":"info","message":"llm_call_metrics","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"6827aae2-59ce-425b-9160-9539812a3eae","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"6827aae2-59ce-425b-9160-9539812a3eae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.043Z","level":"info","message":"process_cv_scoring_completed","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","jobId":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.046Z","level":"info","message":"llm_call_metrics","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"02d97c4de2dc6045a8d84c10e35b0b09be1fff3da32b47fa5d4c293317deef58","addedSkillCount":0,"template":"resume_rewrite","session":"6827aae2-59ce-425b-9160-9539812a3eae","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"6827aae2-59ce-425b-9160-9539812a3eae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.047Z","level":"info","message":"generation_section_rewrite_completed","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","jobId":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","generationRunId":"6827aae2-59ce-425b-9160-9539812a3eae","modifiedTitle":"Lead Engineer","addedSkills":0,"template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.047Z","level":"info","message":"llm_call_metrics","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"3cb5bda2be537250e5bef0d91034f772d9c2c805c99b7e04ba145ecb904d5893","skillCount":5,"template":"project_summary","session":"6827aae2-59ce-425b-9160-9539812a3eae","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"6827aae2-59ce-425b-9160-9539812a3eae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.051Z","level":"info","message":"generation_resume_verified","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","jobId":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","generationRunId":"6827aae2-59ce-425b-9160-9539812a3eae","template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:06.055Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","jobId":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","generationRunId":"6827aae2-59ce-425b-9160-9539812a3eae","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:06.062Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","jobId":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","generationRunId":"6827aae2-59ce-425b-9160-9539812a3eae","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:06.069Z","level":"info","message":"generation_cover_letters_completed","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","jobId":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","generationRunId":"6827aae2-59ce-425b-9160-9539812a3eae","variants":2,"fallbackApplied":true,"template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.070Z","level":"info","message":"pdf_generation_attempt","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","jobId":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","generationRunId":"6827aae2-59ce-425b-9160-9539812a3eae","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6827aae2-59ce-425b-9160-9539812a3eae/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/6827aae2-59ce-425b-9160-9539812a3eae/enhanced_modern.pdf","session":"6827aae2-59ce-425b-9160-9539812a3eae","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6827aae2-59ce-425b-9160-9539812a3eae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.071Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","jobId":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","generationRunId":"6827aae2-59ce-425b-9160-9539812a3eae","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6827aae2-59ce-425b-9160-9539812a3eae/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6827aae2-59ce-425b-9160-9539812a3eae","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6827aae2-59ce-425b-9160-9539812a3eae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.071Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","jobId":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","generationRunId":"6827aae2-59ce-425b-9160-9539812a3eae","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6827aae2-59ce-425b-9160-9539812a3eae/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/6827aae2-59ce-425b-9160-9539812a3eae/enhanced_modern.pdf","session":"6827aae2-59ce-425b-9160-9539812a3eae","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6827aae2-59ce-425b-9160-9539812a3eae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.072Z","level":"info","message":"pdf_generation_attempt","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","jobId":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","generationRunId":"6827aae2-59ce-425b-9160-9539812a3eae","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6827aae2-59ce-425b-9160-9539812a3eae/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/6827aae2-59ce-425b-9160-9539812a3eae/enhanced_professional.pdf","session":"6827aae2-59ce-425b-9160-9539812a3eae","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6827aae2-59ce-425b-9160-9539812a3eae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.072Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","jobId":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","generationRunId":"6827aae2-59ce-425b-9160-9539812a3eae","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6827aae2-59ce-425b-9160-9539812a3eae/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6827aae2-59ce-425b-9160-9539812a3eae","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6827aae2-59ce-425b-9160-9539812a3eae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.073Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","jobId":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","generationRunId":"6827aae2-59ce-425b-9160-9539812a3eae","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6827aae2-59ce-425b-9160-9539812a3eae/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/6827aae2-59ce-425b-9160-9539812a3eae/enhanced_professional.pdf","session":"6827aae2-59ce-425b-9160-9539812a3eae","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6827aae2-59ce-425b-9160-9539812a3eae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.073Z","level":"info","message":"pdf_generation_attempt","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","jobId":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","generationRunId":"6827aae2-59ce-425b-9160-9539812a3eae","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6827aae2-59ce-425b-9160-9539812a3eae/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/6827aae2-59ce-425b-9160-9539812a3eae/cover_letter_cover_modern.pdf","session":"6827aae2-59ce-425b-9160-9539812a3eae","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6827aae2-59ce-425b-9160-9539812a3eae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.073Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","jobId":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","generationRunId":"6827aae2-59ce-425b-9160-9539812a3eae","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6827aae2-59ce-425b-9160-9539812a3eae/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6827aae2-59ce-425b-9160-9539812a3eae","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6827aae2-59ce-425b-9160-9539812a3eae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.074Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","jobId":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","generationRunId":"6827aae2-59ce-425b-9160-9539812a3eae","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6827aae2-59ce-425b-9160-9539812a3eae/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/6827aae2-59ce-425b-9160-9539812a3eae/cover_letter_cover_modern.pdf","session":"6827aae2-59ce-425b-9160-9539812a3eae","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6827aae2-59ce-425b-9160-9539812a3eae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.075Z","level":"info","message":"pdf_generation_attempt","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","jobId":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","generationRunId":"6827aae2-59ce-425b-9160-9539812a3eae","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6827aae2-59ce-425b-9160-9539812a3eae/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/6827aae2-59ce-425b-9160-9539812a3eae/cover_letter_cover_professional.pdf","session":"6827aae2-59ce-425b-9160-9539812a3eae","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6827aae2-59ce-425b-9160-9539812a3eae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.075Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","jobId":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","generationRunId":"6827aae2-59ce-425b-9160-9539812a3eae","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6827aae2-59ce-425b-9160-9539812a3eae/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6827aae2-59ce-425b-9160-9539812a3eae","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6827aae2-59ce-425b-9160-9539812a3eae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.076Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","jobId":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","generationRunId":"6827aae2-59ce-425b-9160-9539812a3eae","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6827aae2-59ce-425b-9160-9539812a3eae/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/6827aae2-59ce-425b-9160-9539812a3eae/cover_letter_cover_professional.pdf","session":"6827aae2-59ce-425b-9160-9539812a3eae","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6827aae2-59ce-425b-9160-9539812a3eae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.079Z","level":"info","message":"llm_call_metrics","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"aebf306d7fe64238aa9b05fc3798c6e6698d8708e05d8dd31d0cadc8f2f74f38","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"6827aae2-59ce-425b-9160-9539812a3eae","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"6827aae2-59ce-425b-9160-9539812a3eae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.080Z","level":"info","message":"generation_completed","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","jobId":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","generationRunId":"6827aae2-59ce-425b-9160-9539812a3eae","enhancedScore":80,"outputs":5,"template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.082Z","level":"info","message":"placeholder_record_deleted","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","jobId":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","placeholderIdentifier":"6827aae2-59ce-425b-9160-9539812a3eae","template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dc701b8-afa7-448d-8fe6-7d00c8697cca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.083Z","level":"info","message":"http_request_completed","requestId":"6827aae2-59ce-425b-9160-9539812a3eae","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":64,"contentLength":"59354","template":"unknown","session":"6827aae2-59ce-425b-9160-9539812a3eae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6827aae2-59ce-425b-9160-9539812a3eae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.087Z","level":"info","message":"http_request_received","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","method":"POST","path":"/api/process-cv","template":"unknown","session":"4abea1b1-c309-439a-8dbd-a00180828d16","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4abea1b1-c309-439a-8dbd-a00180828d16","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.088Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.089Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.091Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.092Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.094Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/4abea1b1-c309-439a-8dbd-a00180828d16/incoming/original.pdf","chunks":1,"timestamp":1764856806097}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/4abea1b1-c309-439a-8dbd-a00180828d16/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/4abea1b1-c309-439a-8dbd-a00180828d16/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:00:06.098Z","level":"info","message":"process_cv_started","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","jobId":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","manualJobDescriptionProvided":true,"template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.100Z","level":"info","message":"template_selection","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","jobId":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:06.101Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","jobId":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:00:06.106Z","level":"info","message":"initial_upload_completed","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","jobId":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","bucket":"test-bucket","key":"cv/candidate/4abea1b1-c309-439a-8dbd-a00180828d16/incoming/original.pdf","template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.107Z","level":"info","message":"resume_text_extracted","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","jobId":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","characters":57,"template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.107Z","level":"info","message":"resume_classified","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","jobId":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.108Z","level":"info","message":"raw_upload_relocated","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","jobId":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","bucket":"test-bucket","fromKey":"cv/candidate/4abea1b1-c309-439a-8dbd-a00180828d16/incoming/original.pdf","toKey":"cv/professional_summary/4abea1b1-c309-439a-8dbd-a00180828d16/original.pdf","template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.109Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","jobId":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","bucket":"test-bucket","key":"cv/professional_summary/4abea1b1-c309-439a-8dbd-a00180828d16/original.pdf","template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.109Z","level":"info","message":"dynamo_initial_record_written","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","jobId":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","bucket":"test-bucket","key":"cv/professional_summary/4abea1b1-c309-439a-8dbd-a00180828d16/original.pdf","template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.110Z","level":"info","message":"upload_metadata_written","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","jobId":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","bucket":"test-bucket","key":"cv/professional_summary/4abea1b1-c309-439a-8dbd-a00180828d16/logs/log.json","template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.110Z","level":"info","message":"job_description_supplied_manually","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","jobId":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","characters":174,"template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.110Z","level":"info","message":"job_description_analyzed","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","jobId":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","jobTitle":"","jobSkills":5,"template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.111Z","level":"info","message":"resume_skills_analyzed","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","jobId":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.111Z","level":"info","message":"llm_call_metrics","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"4abea1b1-c309-439a-8dbd-a00180828d16","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4abea1b1-c309-439a-8dbd-a00180828d16","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.112Z","level":"info","message":"process_cv_scoring_completed","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","jobId":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.115Z","level":"info","message":"llm_call_metrics","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"4abea1b1-c309-439a-8dbd-a00180828d16","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"4abea1b1-c309-439a-8dbd-a00180828d16","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.115Z","level":"info","message":"generation_section_rewrite_completed","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","jobId":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","generationRunId":"4abea1b1-c309-439a-8dbd-a00180828d16","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.116Z","level":"info","message":"llm_call_metrics","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"9f21e6c3bcbaef44e0e62da79c13bb8790b57affdb114dc9f59fc273f882540c","skillCount":5,"template":"project_summary","session":"4abea1b1-c309-439a-8dbd-a00180828d16","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"4abea1b1-c309-439a-8dbd-a00180828d16","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.118Z","level":"info","message":"generation_resume_verified","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","jobId":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","generationRunId":"4abea1b1-c309-439a-8dbd-a00180828d16","template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:06.123Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","jobId":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","generationRunId":"4abea1b1-c309-439a-8dbd-a00180828d16","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:06.129Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","jobId":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","generationRunId":"4abea1b1-c309-439a-8dbd-a00180828d16","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:06.135Z","level":"info","message":"generation_cover_letters_completed","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","jobId":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","generationRunId":"4abea1b1-c309-439a-8dbd-a00180828d16","variants":2,"fallbackApplied":true,"template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.135Z","level":"info","message":"pdf_generation_attempt","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","jobId":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","generationRunId":"4abea1b1-c309-439a-8dbd-a00180828d16","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4abea1b1-c309-439a-8dbd-a00180828d16/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/4abea1b1-c309-439a-8dbd-a00180828d16/enhanced_modern.pdf","session":"4abea1b1-c309-439a-8dbd-a00180828d16","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4abea1b1-c309-439a-8dbd-a00180828d16","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.136Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","jobId":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","generationRunId":"4abea1b1-c309-439a-8dbd-a00180828d16","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4abea1b1-c309-439a-8dbd-a00180828d16/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4abea1b1-c309-439a-8dbd-a00180828d16","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4abea1b1-c309-439a-8dbd-a00180828d16","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.136Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","jobId":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","generationRunId":"4abea1b1-c309-439a-8dbd-a00180828d16","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4abea1b1-c309-439a-8dbd-a00180828d16/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/4abea1b1-c309-439a-8dbd-a00180828d16/enhanced_modern.pdf","session":"4abea1b1-c309-439a-8dbd-a00180828d16","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4abea1b1-c309-439a-8dbd-a00180828d16","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.137Z","level":"info","message":"pdf_generation_attempt","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","jobId":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","generationRunId":"4abea1b1-c309-439a-8dbd-a00180828d16","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4abea1b1-c309-439a-8dbd-a00180828d16/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/4abea1b1-c309-439a-8dbd-a00180828d16/enhanced_professional.pdf","session":"4abea1b1-c309-439a-8dbd-a00180828d16","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4abea1b1-c309-439a-8dbd-a00180828d16","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.137Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","jobId":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","generationRunId":"4abea1b1-c309-439a-8dbd-a00180828d16","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4abea1b1-c309-439a-8dbd-a00180828d16/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4abea1b1-c309-439a-8dbd-a00180828d16","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4abea1b1-c309-439a-8dbd-a00180828d16","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.138Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","jobId":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","generationRunId":"4abea1b1-c309-439a-8dbd-a00180828d16","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4abea1b1-c309-439a-8dbd-a00180828d16/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/4abea1b1-c309-439a-8dbd-a00180828d16/enhanced_professional.pdf","session":"4abea1b1-c309-439a-8dbd-a00180828d16","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4abea1b1-c309-439a-8dbd-a00180828d16","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.138Z","level":"info","message":"pdf_generation_attempt","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","jobId":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","generationRunId":"4abea1b1-c309-439a-8dbd-a00180828d16","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4abea1b1-c309-439a-8dbd-a00180828d16/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/4abea1b1-c309-439a-8dbd-a00180828d16/cover_letter_cover_modern.pdf","session":"4abea1b1-c309-439a-8dbd-a00180828d16","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4abea1b1-c309-439a-8dbd-a00180828d16","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.138Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","jobId":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","generationRunId":"4abea1b1-c309-439a-8dbd-a00180828d16","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4abea1b1-c309-439a-8dbd-a00180828d16/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4abea1b1-c309-439a-8dbd-a00180828d16","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4abea1b1-c309-439a-8dbd-a00180828d16","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.139Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","jobId":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","generationRunId":"4abea1b1-c309-439a-8dbd-a00180828d16","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4abea1b1-c309-439a-8dbd-a00180828d16/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/4abea1b1-c309-439a-8dbd-a00180828d16/cover_letter_cover_modern.pdf","session":"4abea1b1-c309-439a-8dbd-a00180828d16","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4abea1b1-c309-439a-8dbd-a00180828d16","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.139Z","level":"info","message":"pdf_generation_attempt","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","jobId":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","generationRunId":"4abea1b1-c309-439a-8dbd-a00180828d16","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4abea1b1-c309-439a-8dbd-a00180828d16/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/4abea1b1-c309-439a-8dbd-a00180828d16/cover_letter_cover_professional.pdf","session":"4abea1b1-c309-439a-8dbd-a00180828d16","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4abea1b1-c309-439a-8dbd-a00180828d16","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.140Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","jobId":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","generationRunId":"4abea1b1-c309-439a-8dbd-a00180828d16","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4abea1b1-c309-439a-8dbd-a00180828d16/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4abea1b1-c309-439a-8dbd-a00180828d16","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4abea1b1-c309-439a-8dbd-a00180828d16","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.140Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","jobId":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","generationRunId":"4abea1b1-c309-439a-8dbd-a00180828d16","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4abea1b1-c309-439a-8dbd-a00180828d16/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/4abea1b1-c309-439a-8dbd-a00180828d16/cover_letter_cover_professional.pdf","session":"4abea1b1-c309-439a-8dbd-a00180828d16","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4abea1b1-c309-439a-8dbd-a00180828d16","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.143Z","level":"info","message":"llm_call_metrics","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"4abea1b1-c309-439a-8dbd-a00180828d16","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4abea1b1-c309-439a-8dbd-a00180828d16","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.143Z","level":"info","message":"generation_completed","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","jobId":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","generationRunId":"4abea1b1-c309-439a-8dbd-a00180828d16","enhancedScore":80,"outputs":5,"template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.144Z","level":"info","message":"placeholder_record_deleted","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","jobId":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","placeholderIdentifier":"4abea1b1-c309-439a-8dbd-a00180828d16","template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"978ea1ff-7a82-4a74-8725-a2737b7fbca8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.146Z","level":"info","message":"http_request_completed","requestId":"4abea1b1-c309-439a-8dbd-a00180828d16","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":59,"contentLength":"57968","template":"unknown","session":"4abea1b1-c309-439a-8dbd-a00180828d16","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4abea1b1-c309-439a-8dbd-a00180828d16","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.152Z","level":"info","message":"http_request_received","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","method":"POST","path":"/api/process-cv","template":"unknown","session":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.153Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.154Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.155Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.157Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.159Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/5725d7b9-a90b-44f1-b976-5f0ad6f307f1/incoming/original.pdf","chunks":1,"timestamp":1764856806161}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/5725d7b9-a90b-44f1-b976-5f0ad6f307f1/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/5725d7b9-a90b-44f1-b976-5f0ad6f307f1/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:00:06.163Z","level":"info","message":"process_cv_started","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","jobId":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","manualJobDescriptionProvided":true,"template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.163Z","level":"info","message":"template_selection","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","jobId":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:06.164Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","jobId":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:00:06.169Z","level":"info","message":"initial_upload_completed","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","jobId":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","bucket":"test-bucket","key":"cv/candidate/5725d7b9-a90b-44f1-b976-5f0ad6f307f1/incoming/original.pdf","template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.170Z","level":"info","message":"resume_text_extracted","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","jobId":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","characters":57,"template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.170Z","level":"info","message":"resume_classified","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","jobId":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.170Z","level":"info","message":"raw_upload_relocated","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","jobId":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","bucket":"test-bucket","fromKey":"cv/candidate/5725d7b9-a90b-44f1-b976-5f0ad6f307f1/incoming/original.pdf","toKey":"cv/professional_summary/5725d7b9-a90b-44f1-b976-5f0ad6f307f1/original.pdf","template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.171Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","jobId":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","bucket":"test-bucket","key":"cv/professional_summary/5725d7b9-a90b-44f1-b976-5f0ad6f307f1/original.pdf","template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.171Z","level":"info","message":"dynamo_initial_record_written","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","jobId":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","bucket":"test-bucket","key":"cv/professional_summary/5725d7b9-a90b-44f1-b976-5f0ad6f307f1/original.pdf","template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.171Z","level":"info","message":"upload_metadata_written","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","jobId":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","bucket":"test-bucket","key":"cv/professional_summary/5725d7b9-a90b-44f1-b976-5f0ad6f307f1/logs/log.json","template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.172Z","level":"info","message":"job_description_supplied_manually","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","jobId":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","characters":174,"template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.172Z","level":"info","message":"job_description_analyzed","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","jobId":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","jobTitle":"","jobSkills":5,"template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.172Z","level":"info","message":"resume_skills_analyzed","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","jobId":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.173Z","level":"info","message":"llm_call_metrics","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.173Z","level":"info","message":"process_cv_scoring_completed","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","jobId":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.176Z","level":"info","message":"llm_call_metrics","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"c32b748981f4e178814e257598e9097dabf82d48f753e111da0149a2ea5fd9aa","addedSkillCount":0,"template":"resume_rewrite","session":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.176Z","level":"info","message":"generation_section_rewrite_completed","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","jobId":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","generationRunId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","modifiedTitle":"Name","addedSkills":0,"template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.177Z","level":"info","message":"llm_call_metrics","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"78ddb280a2cb83c23c85b1035eed8b3d5fbcd26529ae4529d14b4e3768cf61d3","skillCount":5,"template":"project_summary","session":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.179Z","level":"info","message":"generation_resume_verified","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","jobId":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","generationRunId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:06.182Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","jobId":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","generationRunId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:06.188Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","jobId":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","generationRunId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:06.194Z","level":"info","message":"generation_cover_letters_completed","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","jobId":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","generationRunId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","variants":2,"fallbackApplied":true,"template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.195Z","level":"info","message":"pdf_generation_attempt","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","jobId":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","generationRunId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5725d7b9-a90b-44f1-b976-5f0ad6f307f1/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/5725d7b9-a90b-44f1-b976-5f0ad6f307f1/enhanced_modern.pdf","session":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.196Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","jobId":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","generationRunId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5725d7b9-a90b-44f1-b976-5f0ad6f307f1/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.196Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","jobId":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","generationRunId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5725d7b9-a90b-44f1-b976-5f0ad6f307f1/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/5725d7b9-a90b-44f1-b976-5f0ad6f307f1/enhanced_modern.pdf","session":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.197Z","level":"info","message":"pdf_generation_attempt","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","jobId":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","generationRunId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5725d7b9-a90b-44f1-b976-5f0ad6f307f1/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/5725d7b9-a90b-44f1-b976-5f0ad6f307f1/enhanced_professional.pdf","session":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.197Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","jobId":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","generationRunId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5725d7b9-a90b-44f1-b976-5f0ad6f307f1/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.197Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","jobId":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","generationRunId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5725d7b9-a90b-44f1-b976-5f0ad6f307f1/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/5725d7b9-a90b-44f1-b976-5f0ad6f307f1/enhanced_professional.pdf","session":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.198Z","level":"info","message":"pdf_generation_attempt","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","jobId":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","generationRunId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5725d7b9-a90b-44f1-b976-5f0ad6f307f1/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/5725d7b9-a90b-44f1-b976-5f0ad6f307f1/cover_letter_cover_modern.pdf","session":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.198Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","jobId":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","generationRunId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5725d7b9-a90b-44f1-b976-5f0ad6f307f1/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.199Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","jobId":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","generationRunId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5725d7b9-a90b-44f1-b976-5f0ad6f307f1/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/5725d7b9-a90b-44f1-b976-5f0ad6f307f1/cover_letter_cover_modern.pdf","session":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.199Z","level":"info","message":"pdf_generation_attempt","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","jobId":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","generationRunId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5725d7b9-a90b-44f1-b976-5f0ad6f307f1/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/5725d7b9-a90b-44f1-b976-5f0ad6f307f1/cover_letter_cover_professional.pdf","session":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.200Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","jobId":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","generationRunId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5725d7b9-a90b-44f1-b976-5f0ad6f307f1/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.200Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","jobId":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","generationRunId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5725d7b9-a90b-44f1-b976-5f0ad6f307f1/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/5725d7b9-a90b-44f1-b976-5f0ad6f307f1/cover_letter_cover_professional.pdf","session":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.202Z","level":"info","message":"llm_call_metrics","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"f00232cc4d88fb824e148aeaa761067d77604cbc2577582275a91ed208cbe5af","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.202Z","level":"info","message":"generation_completed","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","jobId":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","generationRunId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","enhancedScore":80,"outputs":5,"template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.204Z","level":"info","message":"placeholder_record_deleted","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","jobId":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","placeholderIdentifier":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dc22a92c-c33c-4dbc-bbb4-ab7c43ce5f0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.205Z","level":"info","message":"http_request_completed","requestId":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":53,"contentLength":"59302","template":"unknown","session":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5725d7b9-a90b-44f1-b976-5f0ad6f307f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.208Z","level":"info","message":"http_request_received","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","method":"POST","path":"/api/process-cv","template":"unknown","session":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.209Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.210Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.211Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.213Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.214Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/c05fc82b-3b43-4854-a96c-78cc541d1c1a/incoming/original.pdf","chunks":1,"timestamp":1764856806216}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/c05fc82b-3b43-4854-a96c-78cc541d1c1a/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/c05fc82b-3b43-4854-a96c-78cc541d1c1a/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:00:06.217Z","level":"info","message":"process_cv_started","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","jobId":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","manualJobDescriptionProvided":true,"template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.218Z","level":"info","message":"template_selection","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","jobId":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:06.218Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","jobId":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:00:06.224Z","level":"info","message":"initial_upload_completed","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","jobId":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","bucket":"test-bucket","key":"cv/candidate/c05fc82b-3b43-4854-a96c-78cc541d1c1a/incoming/original.pdf","template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.224Z","level":"info","message":"resume_text_extracted","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","jobId":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","characters":57,"template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.225Z","level":"info","message":"resume_classified","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","jobId":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.225Z","level":"info","message":"raw_upload_relocated","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","jobId":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","bucket":"test-bucket","fromKey":"cv/candidate/c05fc82b-3b43-4854-a96c-78cc541d1c1a/incoming/original.pdf","toKey":"cv/professional_summary/c05fc82b-3b43-4854-a96c-78cc541d1c1a/original.pdf","template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.226Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","jobId":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","bucket":"test-bucket","key":"cv/professional_summary/c05fc82b-3b43-4854-a96c-78cc541d1c1a/original.pdf","template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.226Z","level":"info","message":"dynamo_initial_record_written","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","jobId":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","bucket":"test-bucket","key":"cv/professional_summary/c05fc82b-3b43-4854-a96c-78cc541d1c1a/original.pdf","template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.226Z","level":"info","message":"upload_metadata_written","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","jobId":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","bucket":"test-bucket","key":"cv/professional_summary/c05fc82b-3b43-4854-a96c-78cc541d1c1a/logs/log.json","template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.227Z","level":"info","message":"job_description_supplied_manually","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","jobId":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","characters":174,"template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.227Z","level":"info","message":"job_description_analyzed","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","jobId":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","jobTitle":"","jobSkills":5,"template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.227Z","level":"info","message":"resume_skills_analyzed","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","jobId":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.228Z","level":"info","message":"llm_call_metrics","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.229Z","level":"info","message":"process_cv_scoring_completed","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","jobId":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.231Z","level":"info","message":"llm_call_metrics","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"c32b748981f4e178814e257598e9097dabf82d48f753e111da0149a2ea5fd9aa","addedSkillCount":0,"template":"resume_rewrite","session":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.231Z","level":"info","message":"generation_section_rewrite_completed","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","jobId":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","generationRunId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","modifiedTitle":"Name","addedSkills":0,"template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.231Z","level":"info","message":"llm_call_metrics","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"968eb1ed4b9ef5f26cd87ba7e60f108acaf8c335efc2ef153d4aaa0b022ea8c8","skillCount":5,"template":"project_summary","session":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.235Z","level":"info","message":"generation_resume_verified","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","jobId":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","generationRunId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:06.237Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","jobId":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","generationRunId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:06.243Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","jobId":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","generationRunId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:06.248Z","level":"info","message":"generation_cover_letters_completed","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","jobId":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","generationRunId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","variants":2,"fallbackApplied":true,"template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.249Z","level":"info","message":"pdf_generation_attempt","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","jobId":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","generationRunId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c05fc82b-3b43-4854-a96c-78cc541d1c1a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c05fc82b-3b43-4854-a96c-78cc541d1c1a/enhanced_modern.pdf","session":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.249Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","jobId":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","generationRunId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c05fc82b-3b43-4854-a96c-78cc541d1c1a/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.250Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","jobId":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","generationRunId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c05fc82b-3b43-4854-a96c-78cc541d1c1a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c05fc82b-3b43-4854-a96c-78cc541d1c1a/enhanced_modern.pdf","session":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.250Z","level":"info","message":"pdf_generation_attempt","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","jobId":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","generationRunId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c05fc82b-3b43-4854-a96c-78cc541d1c1a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c05fc82b-3b43-4854-a96c-78cc541d1c1a/enhanced_professional.pdf","session":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.251Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","jobId":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","generationRunId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c05fc82b-3b43-4854-a96c-78cc541d1c1a/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.251Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","jobId":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","generationRunId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c05fc82b-3b43-4854-a96c-78cc541d1c1a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c05fc82b-3b43-4854-a96c-78cc541d1c1a/enhanced_professional.pdf","session":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.251Z","level":"info","message":"pdf_generation_attempt","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","jobId":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","generationRunId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c05fc82b-3b43-4854-a96c-78cc541d1c1a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c05fc82b-3b43-4854-a96c-78cc541d1c1a/cover_letter_cover_modern.pdf","session":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.252Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","jobId":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","generationRunId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c05fc82b-3b43-4854-a96c-78cc541d1c1a/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.252Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","jobId":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","generationRunId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c05fc82b-3b43-4854-a96c-78cc541d1c1a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c05fc82b-3b43-4854-a96c-78cc541d1c1a/cover_letter_cover_modern.pdf","session":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.253Z","level":"info","message":"pdf_generation_attempt","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","jobId":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","generationRunId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c05fc82b-3b43-4854-a96c-78cc541d1c1a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c05fc82b-3b43-4854-a96c-78cc541d1c1a/cover_letter_cover_professional.pdf","session":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.253Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","jobId":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","generationRunId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c05fc82b-3b43-4854-a96c-78cc541d1c1a/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.254Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","jobId":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","generationRunId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c05fc82b-3b43-4854-a96c-78cc541d1c1a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c05fc82b-3b43-4854-a96c-78cc541d1c1a/cover_letter_cover_professional.pdf","session":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.256Z","level":"info","message":"llm_call_metrics","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"f00232cc4d88fb824e148aeaa761067d77604cbc2577582275a91ed208cbe5af","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.256Z","level":"info","message":"generation_completed","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","jobId":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","generationRunId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","enhancedScore":80,"outputs":5,"template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.258Z","level":"info","message":"placeholder_record_deleted","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","jobId":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","placeholderIdentifier":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a3d3a12-5ca8-46ae-8e0b-32c3d8008ff7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.260Z","level":"info","message":"http_request_completed","requestId":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":52,"contentLength":"59835","template":"unknown","session":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c05fc82b-3b43-4854-a96c-78cc541d1c1a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.265Z","level":"info","message":"http_request_received","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","method":"POST","path":"/api/process-cv","template":"unknown","session":"5834ad01-fe22-49fe-91dd-ce486acbc819","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5834ad01-fe22-49fe-91dd-ce486acbc819","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.267Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.268Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.269Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.270Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.272Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/5834ad01-fe22-49fe-91dd-ce486acbc819/incoming/original.pdf","chunks":1,"timestamp":1764856806274}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/5834ad01-fe22-49fe-91dd-ce486acbc819/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/5834ad01-fe22-49fe-91dd-ce486acbc819/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:00:06.276Z","level":"info","message":"process_cv_started","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","jobId":"7848813f-9fd3-41fa-97a4-0457549a5e24","manualJobDescriptionProvided":true,"template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.277Z","level":"info","message":"template_selection","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","jobId":"7848813f-9fd3-41fa-97a4-0457549a5e24","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:06.277Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","jobId":"7848813f-9fd3-41fa-97a4-0457549a5e24","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:00:06.284Z","level":"info","message":"initial_upload_completed","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","jobId":"7848813f-9fd3-41fa-97a4-0457549a5e24","bucket":"test-bucket","key":"cv/candidate/5834ad01-fe22-49fe-91dd-ce486acbc819/incoming/original.pdf","template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.284Z","level":"info","message":"resume_text_extracted","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","jobId":"7848813f-9fd3-41fa-97a4-0457549a5e24","characters":57,"template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.285Z","level":"info","message":"resume_classified","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","jobId":"7848813f-9fd3-41fa-97a4-0457549a5e24","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.285Z","level":"info","message":"raw_upload_relocated","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","jobId":"7848813f-9fd3-41fa-97a4-0457549a5e24","bucket":"test-bucket","fromKey":"cv/candidate/5834ad01-fe22-49fe-91dd-ce486acbc819/incoming/original.pdf","toKey":"cv/professional_summary/5834ad01-fe22-49fe-91dd-ce486acbc819/original.pdf","template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.285Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","jobId":"7848813f-9fd3-41fa-97a4-0457549a5e24","bucket":"test-bucket","key":"cv/professional_summary/5834ad01-fe22-49fe-91dd-ce486acbc819/original.pdf","template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.286Z","level":"info","message":"dynamo_initial_record_written","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","jobId":"7848813f-9fd3-41fa-97a4-0457549a5e24","bucket":"test-bucket","key":"cv/professional_summary/5834ad01-fe22-49fe-91dd-ce486acbc819/original.pdf","template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.286Z","level":"info","message":"upload_metadata_written","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","jobId":"7848813f-9fd3-41fa-97a4-0457549a5e24","bucket":"test-bucket","key":"cv/professional_summary/5834ad01-fe22-49fe-91dd-ce486acbc819/logs/log.json","template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.286Z","level":"info","message":"job_description_supplied_manually","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","jobId":"7848813f-9fd3-41fa-97a4-0457549a5e24","characters":174,"template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.287Z","level":"info","message":"job_description_analyzed","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","jobId":"7848813f-9fd3-41fa-97a4-0457549a5e24","jobTitle":"","jobSkills":5,"template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.287Z","level":"info","message":"resume_skills_analyzed","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","jobId":"7848813f-9fd3-41fa-97a4-0457549a5e24","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.288Z","level":"info","message":"llm_call_metrics","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"5834ad01-fe22-49fe-91dd-ce486acbc819","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"5834ad01-fe22-49fe-91dd-ce486acbc819","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.288Z","level":"info","message":"process_cv_scoring_completed","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","jobId":"7848813f-9fd3-41fa-97a4-0457549a5e24","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.290Z","level":"info","message":"llm_call_metrics","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"5834ad01-fe22-49fe-91dd-ce486acbc819","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"5834ad01-fe22-49fe-91dd-ce486acbc819","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.291Z","level":"info","message":"generation_section_rewrite_completed","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","jobId":"7848813f-9fd3-41fa-97a4-0457549a5e24","generationRunId":"5834ad01-fe22-49fe-91dd-ce486acbc819","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.291Z","level":"info","message":"llm_call_metrics","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"5834ad01-fe22-49fe-91dd-ce486acbc819","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"5834ad01-fe22-49fe-91dd-ce486acbc819","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.293Z","level":"info","message":"generation_resume_verified","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","jobId":"7848813f-9fd3-41fa-97a4-0457549a5e24","generationRunId":"5834ad01-fe22-49fe-91dd-ce486acbc819","template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:06.296Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","jobId":"7848813f-9fd3-41fa-97a4-0457549a5e24","generationRunId":"5834ad01-fe22-49fe-91dd-ce486acbc819","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:06.302Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","jobId":"7848813f-9fd3-41fa-97a4-0457549a5e24","generationRunId":"5834ad01-fe22-49fe-91dd-ce486acbc819","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:06.307Z","level":"info","message":"generation_cover_letters_completed","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","jobId":"7848813f-9fd3-41fa-97a4-0457549a5e24","generationRunId":"5834ad01-fe22-49fe-91dd-ce486acbc819","variants":2,"fallbackApplied":true,"template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.307Z","level":"info","message":"pdf_generation_attempt","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","jobId":"7848813f-9fd3-41fa-97a4-0457549a5e24","generationRunId":"5834ad01-fe22-49fe-91dd-ce486acbc819","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5834ad01-fe22-49fe-91dd-ce486acbc819/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/5834ad01-fe22-49fe-91dd-ce486acbc819/enhanced_modern.pdf","session":"5834ad01-fe22-49fe-91dd-ce486acbc819","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5834ad01-fe22-49fe-91dd-ce486acbc819","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.308Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","jobId":"7848813f-9fd3-41fa-97a4-0457549a5e24","generationRunId":"5834ad01-fe22-49fe-91dd-ce486acbc819","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5834ad01-fe22-49fe-91dd-ce486acbc819/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5834ad01-fe22-49fe-91dd-ce486acbc819","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5834ad01-fe22-49fe-91dd-ce486acbc819","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.309Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","jobId":"7848813f-9fd3-41fa-97a4-0457549a5e24","generationRunId":"5834ad01-fe22-49fe-91dd-ce486acbc819","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5834ad01-fe22-49fe-91dd-ce486acbc819/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/5834ad01-fe22-49fe-91dd-ce486acbc819/enhanced_modern.pdf","session":"5834ad01-fe22-49fe-91dd-ce486acbc819","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5834ad01-fe22-49fe-91dd-ce486acbc819","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.309Z","level":"info","message":"pdf_generation_attempt","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","jobId":"7848813f-9fd3-41fa-97a4-0457549a5e24","generationRunId":"5834ad01-fe22-49fe-91dd-ce486acbc819","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5834ad01-fe22-49fe-91dd-ce486acbc819/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/5834ad01-fe22-49fe-91dd-ce486acbc819/enhanced_professional.pdf","session":"5834ad01-fe22-49fe-91dd-ce486acbc819","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5834ad01-fe22-49fe-91dd-ce486acbc819","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.310Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","jobId":"7848813f-9fd3-41fa-97a4-0457549a5e24","generationRunId":"5834ad01-fe22-49fe-91dd-ce486acbc819","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5834ad01-fe22-49fe-91dd-ce486acbc819/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5834ad01-fe22-49fe-91dd-ce486acbc819","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5834ad01-fe22-49fe-91dd-ce486acbc819","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.311Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","jobId":"7848813f-9fd3-41fa-97a4-0457549a5e24","generationRunId":"5834ad01-fe22-49fe-91dd-ce486acbc819","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5834ad01-fe22-49fe-91dd-ce486acbc819/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/5834ad01-fe22-49fe-91dd-ce486acbc819/enhanced_professional.pdf","session":"5834ad01-fe22-49fe-91dd-ce486acbc819","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5834ad01-fe22-49fe-91dd-ce486acbc819","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.312Z","level":"info","message":"pdf_generation_attempt","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","jobId":"7848813f-9fd3-41fa-97a4-0457549a5e24","generationRunId":"5834ad01-fe22-49fe-91dd-ce486acbc819","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5834ad01-fe22-49fe-91dd-ce486acbc819/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/5834ad01-fe22-49fe-91dd-ce486acbc819/cover_letter_cover_modern.pdf","session":"5834ad01-fe22-49fe-91dd-ce486acbc819","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5834ad01-fe22-49fe-91dd-ce486acbc819","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.313Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","jobId":"7848813f-9fd3-41fa-97a4-0457549a5e24","generationRunId":"5834ad01-fe22-49fe-91dd-ce486acbc819","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5834ad01-fe22-49fe-91dd-ce486acbc819/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"5834ad01-fe22-49fe-91dd-ce486acbc819","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5834ad01-fe22-49fe-91dd-ce486acbc819","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.314Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","jobId":"7848813f-9fd3-41fa-97a4-0457549a5e24","generationRunId":"5834ad01-fe22-49fe-91dd-ce486acbc819","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5834ad01-fe22-49fe-91dd-ce486acbc819/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/5834ad01-fe22-49fe-91dd-ce486acbc819/cover_letter_cover_modern.pdf","session":"5834ad01-fe22-49fe-91dd-ce486acbc819","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5834ad01-fe22-49fe-91dd-ce486acbc819","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.314Z","level":"info","message":"pdf_generation_attempt","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","jobId":"7848813f-9fd3-41fa-97a4-0457549a5e24","generationRunId":"5834ad01-fe22-49fe-91dd-ce486acbc819","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5834ad01-fe22-49fe-91dd-ce486acbc819/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/5834ad01-fe22-49fe-91dd-ce486acbc819/cover_letter_cover_professional.pdf","session":"5834ad01-fe22-49fe-91dd-ce486acbc819","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5834ad01-fe22-49fe-91dd-ce486acbc819","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.315Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","jobId":"7848813f-9fd3-41fa-97a4-0457549a5e24","generationRunId":"5834ad01-fe22-49fe-91dd-ce486acbc819","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5834ad01-fe22-49fe-91dd-ce486acbc819/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"5834ad01-fe22-49fe-91dd-ce486acbc819","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5834ad01-fe22-49fe-91dd-ce486acbc819","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.315Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","jobId":"7848813f-9fd3-41fa-97a4-0457549a5e24","generationRunId":"5834ad01-fe22-49fe-91dd-ce486acbc819","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5834ad01-fe22-49fe-91dd-ce486acbc819/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/5834ad01-fe22-49fe-91dd-ce486acbc819/cover_letter_cover_professional.pdf","session":"5834ad01-fe22-49fe-91dd-ce486acbc819","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5834ad01-fe22-49fe-91dd-ce486acbc819","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.317Z","level":"info","message":"llm_call_metrics","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"5834ad01-fe22-49fe-91dd-ce486acbc819","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"5834ad01-fe22-49fe-91dd-ce486acbc819","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.318Z","level":"info","message":"generation_completed","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","jobId":"7848813f-9fd3-41fa-97a4-0457549a5e24","generationRunId":"5834ad01-fe22-49fe-91dd-ce486acbc819","enhancedScore":80,"outputs":5,"template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.319Z","level":"info","message":"placeholder_record_deleted","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","jobId":"7848813f-9fd3-41fa-97a4-0457549a5e24","placeholderIdentifier":"5834ad01-fe22-49fe-91dd-ce486acbc819","template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7848813f-9fd3-41fa-97a4-0457549a5e24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.320Z","level":"info","message":"http_request_completed","requestId":"5834ad01-fe22-49fe-91dd-ce486acbc819","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":55,"contentLength":"58133","template":"unknown","session":"5834ad01-fe22-49fe-91dd-ce486acbc819","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5834ad01-fe22-49fe-91dd-ce486acbc819","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.324Z","level":"info","message":"http_request_received","requestId":"98fab625-83da-432d-a437-76eee64ac052","method":"POST","path":"/api/process-cv","template":"unknown","session":"98fab625-83da-432d-a437-76eee64ac052","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98fab625-83da-432d-a437-76eee64ac052","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.325Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.326Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.327Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.329Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.331Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/98fab625-83da-432d-a437-76eee64ac052/incoming/original.pdf","chunks":1,"timestamp":1764856806334}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/98fab625-83da-432d-a437-76eee64ac052/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/98fab625-83da-432d-a437-76eee64ac052/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:00:06.335Z","level":"info","message":"process_cv_started","requestId":"98fab625-83da-432d-a437-76eee64ac052","jobId":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","manualJobDescriptionProvided":true,"template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.335Z","level":"info","message":"template_selection","requestId":"98fab625-83da-432d-a437-76eee64ac052","jobId":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:06.336Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"98fab625-83da-432d-a437-76eee64ac052","jobId":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:00:06.341Z","level":"info","message":"initial_upload_completed","requestId":"98fab625-83da-432d-a437-76eee64ac052","jobId":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","bucket":"test-bucket","key":"cv/candidate/98fab625-83da-432d-a437-76eee64ac052/incoming/original.pdf","template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.342Z","level":"info","message":"resume_text_extracted","requestId":"98fab625-83da-432d-a437-76eee64ac052","jobId":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","characters":57,"template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.342Z","level":"info","message":"resume_classified","requestId":"98fab625-83da-432d-a437-76eee64ac052","jobId":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.343Z","level":"info","message":"raw_upload_relocated","requestId":"98fab625-83da-432d-a437-76eee64ac052","jobId":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","bucket":"test-bucket","fromKey":"cv/candidate/98fab625-83da-432d-a437-76eee64ac052/incoming/original.pdf","toKey":"cv/professional_summary/98fab625-83da-432d-a437-76eee64ac052/original.pdf","template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.343Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"98fab625-83da-432d-a437-76eee64ac052","jobId":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","bucket":"test-bucket","key":"cv/professional_summary/98fab625-83da-432d-a437-76eee64ac052/original.pdf","template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.343Z","level":"info","message":"dynamo_initial_record_written","requestId":"98fab625-83da-432d-a437-76eee64ac052","jobId":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","bucket":"test-bucket","key":"cv/professional_summary/98fab625-83da-432d-a437-76eee64ac052/original.pdf","template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.344Z","level":"info","message":"upload_metadata_written","requestId":"98fab625-83da-432d-a437-76eee64ac052","jobId":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","bucket":"test-bucket","key":"cv/professional_summary/98fab625-83da-432d-a437-76eee64ac052/logs/log.json","template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.344Z","level":"info","message":"job_description_supplied_manually","requestId":"98fab625-83da-432d-a437-76eee64ac052","jobId":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","characters":174,"template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.344Z","level":"info","message":"job_description_analyzed","requestId":"98fab625-83da-432d-a437-76eee64ac052","jobId":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","jobTitle":"","jobSkills":5,"template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.345Z","level":"info","message":"resume_skills_analyzed","requestId":"98fab625-83da-432d-a437-76eee64ac052","jobId":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.345Z","level":"info","message":"llm_call_metrics","requestId":"98fab625-83da-432d-a437-76eee64ac052","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"98fab625-83da-432d-a437-76eee64ac052","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"98fab625-83da-432d-a437-76eee64ac052","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.346Z","level":"info","message":"process_cv_scoring_completed","requestId":"98fab625-83da-432d-a437-76eee64ac052","jobId":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.349Z","level":"info","message":"llm_call_metrics","requestId":"98fab625-83da-432d-a437-76eee64ac052","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"9a6d2d1a9ce924151b6a4db0f761d85550b399b0c2990ac5bc2d2ac9b952bd0d","addedSkillCount":0,"template":"resume_rewrite","session":"98fab625-83da-432d-a437-76eee64ac052","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"98fab625-83da-432d-a437-76eee64ac052","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.349Z","level":"info","message":"generation_section_rewrite_completed","requestId":"98fab625-83da-432d-a437-76eee64ac052","jobId":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","generationRunId":"98fab625-83da-432d-a437-76eee64ac052","modifiedTitle":"Lead Engineer","addedSkills":0,"template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.352Z","level":"info","message":"generation_resume_verified","requestId":"98fab625-83da-432d-a437-76eee64ac052","jobId":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","generationRunId":"98fab625-83da-432d-a437-76eee64ac052","template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.355Z","level":"info","message":"generation_cover_letters_normalized","requestId":"98fab625-83da-432d-a437-76eee64ac052","jobId":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","generationRunId":"98fab625-83da-432d-a437-76eee64ac052","variants":["cover_letter1","cover_letter2"],"template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:06.355Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"98fab625-83da-432d-a437-76eee64ac052","jobId":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","generationRunId":"98fab625-83da-432d-a437-76eee64ac052","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing"]}],"template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:06.361Z","level":"info","message":"generation_cover_letters_confident_closing_applied","requestId":"98fab625-83da-432d-a437-76eee64ac052","jobId":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","generationRunId":"98fab625-83da-432d-a437-76eee64ac052","variants":["cover_letter1"],"template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.362Z","level":"info","message":"generation_cover_letters_completed","requestId":"98fab625-83da-432d-a437-76eee64ac052","jobId":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","generationRunId":"98fab625-83da-432d-a437-76eee64ac052","variants":2,"fallbackApplied":true,"template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.362Z","level":"info","message":"pdf_generation_attempt","requestId":"98fab625-83da-432d-a437-76eee64ac052","jobId":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","generationRunId":"98fab625-83da-432d-a437-76eee64ac052","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/98fab625-83da-432d-a437-76eee64ac052/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/98fab625-83da-432d-a437-76eee64ac052/enhanced_modern.pdf","session":"98fab625-83da-432d-a437-76eee64ac052","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"98fab625-83da-432d-a437-76eee64ac052","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.363Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"98fab625-83da-432d-a437-76eee64ac052","jobId":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","generationRunId":"98fab625-83da-432d-a437-76eee64ac052","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/98fab625-83da-432d-a437-76eee64ac052/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"98fab625-83da-432d-a437-76eee64ac052","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"98fab625-83da-432d-a437-76eee64ac052","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.363Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"98fab625-83da-432d-a437-76eee64ac052","jobId":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","generationRunId":"98fab625-83da-432d-a437-76eee64ac052","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/98fab625-83da-432d-a437-76eee64ac052/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/98fab625-83da-432d-a437-76eee64ac052/enhanced_modern.pdf","session":"98fab625-83da-432d-a437-76eee64ac052","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"98fab625-83da-432d-a437-76eee64ac052","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.364Z","level":"info","message":"pdf_generation_attempt","requestId":"98fab625-83da-432d-a437-76eee64ac052","jobId":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","generationRunId":"98fab625-83da-432d-a437-76eee64ac052","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/98fab625-83da-432d-a437-76eee64ac052/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/98fab625-83da-432d-a437-76eee64ac052/enhanced_professional.pdf","session":"98fab625-83da-432d-a437-76eee64ac052","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"98fab625-83da-432d-a437-76eee64ac052","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.364Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"98fab625-83da-432d-a437-76eee64ac052","jobId":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","generationRunId":"98fab625-83da-432d-a437-76eee64ac052","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/98fab625-83da-432d-a437-76eee64ac052/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"98fab625-83da-432d-a437-76eee64ac052","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"98fab625-83da-432d-a437-76eee64ac052","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.364Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"98fab625-83da-432d-a437-76eee64ac052","jobId":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","generationRunId":"98fab625-83da-432d-a437-76eee64ac052","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/98fab625-83da-432d-a437-76eee64ac052/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/98fab625-83da-432d-a437-76eee64ac052/enhanced_professional.pdf","session":"98fab625-83da-432d-a437-76eee64ac052","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"98fab625-83da-432d-a437-76eee64ac052","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.365Z","level":"info","message":"pdf_generation_attempt","requestId":"98fab625-83da-432d-a437-76eee64ac052","jobId":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","generationRunId":"98fab625-83da-432d-a437-76eee64ac052","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/98fab625-83da-432d-a437-76eee64ac052/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/98fab625-83da-432d-a437-76eee64ac052/cover_letter_cover_modern.pdf","session":"98fab625-83da-432d-a437-76eee64ac052","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"98fab625-83da-432d-a437-76eee64ac052","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.365Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"98fab625-83da-432d-a437-76eee64ac052","jobId":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","generationRunId":"98fab625-83da-432d-a437-76eee64ac052","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/98fab625-83da-432d-a437-76eee64ac052/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"98fab625-83da-432d-a437-76eee64ac052","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"98fab625-83da-432d-a437-76eee64ac052","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.366Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"98fab625-83da-432d-a437-76eee64ac052","jobId":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","generationRunId":"98fab625-83da-432d-a437-76eee64ac052","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/98fab625-83da-432d-a437-76eee64ac052/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/98fab625-83da-432d-a437-76eee64ac052/cover_letter_cover_modern.pdf","session":"98fab625-83da-432d-a437-76eee64ac052","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"98fab625-83da-432d-a437-76eee64ac052","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.367Z","level":"info","message":"pdf_generation_attempt","requestId":"98fab625-83da-432d-a437-76eee64ac052","jobId":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","generationRunId":"98fab625-83da-432d-a437-76eee64ac052","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/98fab625-83da-432d-a437-76eee64ac052/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/98fab625-83da-432d-a437-76eee64ac052/cover_letter_cover_professional.pdf","session":"98fab625-83da-432d-a437-76eee64ac052","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"98fab625-83da-432d-a437-76eee64ac052","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.368Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"98fab625-83da-432d-a437-76eee64ac052","jobId":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","generationRunId":"98fab625-83da-432d-a437-76eee64ac052","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/98fab625-83da-432d-a437-76eee64ac052/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"98fab625-83da-432d-a437-76eee64ac052","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"98fab625-83da-432d-a437-76eee64ac052","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.368Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"98fab625-83da-432d-a437-76eee64ac052","jobId":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","generationRunId":"98fab625-83da-432d-a437-76eee64ac052","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/98fab625-83da-432d-a437-76eee64ac052/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/98fab625-83da-432d-a437-76eee64ac052/cover_letter_cover_professional.pdf","session":"98fab625-83da-432d-a437-76eee64ac052","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"98fab625-83da-432d-a437-76eee64ac052","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.370Z","level":"info","message":"llm_call_metrics","requestId":"98fab625-83da-432d-a437-76eee64ac052","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"aebf306d7fe64238aa9b05fc3798c6e6698d8708e05d8dd31d0cadc8f2f74f38","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"98fab625-83da-432d-a437-76eee64ac052","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"98fab625-83da-432d-a437-76eee64ac052","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.370Z","level":"info","message":"generation_completed","requestId":"98fab625-83da-432d-a437-76eee64ac052","jobId":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","generationRunId":"98fab625-83da-432d-a437-76eee64ac052","enhancedScore":80,"outputs":5,"template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.371Z","level":"info","message":"placeholder_record_deleted","requestId":"98fab625-83da-432d-a437-76eee64ac052","jobId":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","placeholderIdentifier":"98fab625-83da-432d-a437-76eee64ac052","template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce7bcaef-0ca8-408d-a6d1-9bca490541ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.372Z","level":"info","message":"http_request_completed","requestId":"98fab625-83da-432d-a437-76eee64ac052","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":48,"contentLength":"46262","template":"unknown","session":"98fab625-83da-432d-a437-76eee64ac052","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98fab625-83da-432d-a437-76eee64ac052","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.375Z","level":"info","message":"http_request_received","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","method":"POST","path":"/api/process-cv","template":"unknown","session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.376Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.378Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.379Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.380Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.382Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/2618e1cb-c050-4dfd-a356-b775a7aac25a/incoming/original.pdf","chunks":1,"timestamp":1764856806384}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/2618e1cb-c050-4dfd-a356-b775a7aac25a/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/2618e1cb-c050-4dfd-a356-b775a7aac25a/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:00:06.386Z","level":"info","message":"process_cv_started","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","jobId":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","manualJobDescriptionProvided":true,"template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.386Z","level":"info","message":"template_selection","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","jobId":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:06.387Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","jobId":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:00:06.392Z","level":"info","message":"initial_upload_completed","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","jobId":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","bucket":"test-bucket","key":"cv/candidate/2618e1cb-c050-4dfd-a356-b775a7aac25a/incoming/original.pdf","template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.393Z","level":"info","message":"resume_text_extracted","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","jobId":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","characters":57,"template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.393Z","level":"info","message":"resume_classified","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","jobId":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.394Z","level":"info","message":"raw_upload_relocated","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","jobId":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","bucket":"test-bucket","fromKey":"cv/candidate/2618e1cb-c050-4dfd-a356-b775a7aac25a/incoming/original.pdf","toKey":"cv/professional_summary/2618e1cb-c050-4dfd-a356-b775a7aac25a/original.pdf","template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.394Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","jobId":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","bucket":"test-bucket","key":"cv/professional_summary/2618e1cb-c050-4dfd-a356-b775a7aac25a/original.pdf","template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.394Z","level":"info","message":"dynamo_initial_record_written","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","jobId":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","bucket":"test-bucket","key":"cv/professional_summary/2618e1cb-c050-4dfd-a356-b775a7aac25a/original.pdf","template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.395Z","level":"info","message":"upload_metadata_written","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","jobId":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","bucket":"test-bucket","key":"cv/professional_summary/2618e1cb-c050-4dfd-a356-b775a7aac25a/logs/log.json","template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.395Z","level":"info","message":"job_description_supplied_manually","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","jobId":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","characters":174,"template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.395Z","level":"info","message":"job_description_analyzed","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","jobId":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","jobTitle":"","jobSkills":5,"template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.396Z","level":"info","message":"resume_skills_analyzed","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","jobId":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.396Z","level":"info","message":"llm_call_metrics","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.397Z","level":"info","message":"process_cv_scoring_completed","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","jobId":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.error
    {"timestamp":"2025-12-04T14:00:06.399Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","sample":"Here is your revised resume text without JSON formatting.","template":"unknown","session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at Object.error (server.js:3484:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8540:20)
      at generateEnhancedDocumentsResponse (server.js:20182:26)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:06.404Z","level":"info","message":"llm_call_metrics","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.404Z","level":"info","message":"llm_call_metrics","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.405Z","level":"info","message":"generation_section_rewrite_completed","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","jobId":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","generationRunId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.405Z","level":"info","message":"llm_call_metrics","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"d230fd9d3c6f4e6f7bb7c385f22b3a147a5c937619c1919bfb6f5e09096df674","skillCount":5,"template":"project_summary","session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:06.409Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","jobId":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","generationRunId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:06.415Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","jobId":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","generationRunId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:06.420Z","level":"info","message":"generation_cover_letters_completed","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","jobId":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","generationRunId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","variants":2,"fallbackApplied":true,"template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.421Z","level":"info","message":"pdf_generation_attempt","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","jobId":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","generationRunId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2618e1cb-c050-4dfd-a356-b775a7aac25a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/2618e1cb-c050-4dfd-a356-b775a7aac25a/enhanced_modern.pdf","session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.421Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","jobId":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","generationRunId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2618e1cb-c050-4dfd-a356-b775a7aac25a/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.422Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","jobId":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","generationRunId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2618e1cb-c050-4dfd-a356-b775a7aac25a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/2618e1cb-c050-4dfd-a356-b775a7aac25a/enhanced_modern.pdf","session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.422Z","level":"info","message":"pdf_generation_attempt","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","jobId":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","generationRunId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2618e1cb-c050-4dfd-a356-b775a7aac25a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/2618e1cb-c050-4dfd-a356-b775a7aac25a/enhanced_professional.pdf","session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.422Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","jobId":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","generationRunId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2618e1cb-c050-4dfd-a356-b775a7aac25a/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.423Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","jobId":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","generationRunId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2618e1cb-c050-4dfd-a356-b775a7aac25a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/2618e1cb-c050-4dfd-a356-b775a7aac25a/enhanced_professional.pdf","session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.423Z","level":"info","message":"pdf_generation_attempt","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","jobId":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","generationRunId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2618e1cb-c050-4dfd-a356-b775a7aac25a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/2618e1cb-c050-4dfd-a356-b775a7aac25a/cover_letter_cover_modern.pdf","session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.424Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","jobId":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","generationRunId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2618e1cb-c050-4dfd-a356-b775a7aac25a/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.424Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","jobId":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","generationRunId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2618e1cb-c050-4dfd-a356-b775a7aac25a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/2618e1cb-c050-4dfd-a356-b775a7aac25a/cover_letter_cover_modern.pdf","session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.425Z","level":"info","message":"pdf_generation_attempt","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","jobId":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","generationRunId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2618e1cb-c050-4dfd-a356-b775a7aac25a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/2618e1cb-c050-4dfd-a356-b775a7aac25a/cover_letter_cover_professional.pdf","session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.425Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","jobId":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","generationRunId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2618e1cb-c050-4dfd-a356-b775a7aac25a/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.425Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","jobId":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","generationRunId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2618e1cb-c050-4dfd-a356-b775a7aac25a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/2618e1cb-c050-4dfd-a356-b775a7aac25a/cover_letter_cover_professional.pdf","session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.428Z","level":"info","message":"llm_call_metrics","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.428Z","level":"info","message":"generation_completed","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","jobId":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","generationRunId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","enhancedScore":80,"outputs":5,"template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.429Z","level":"info","message":"placeholder_record_deleted","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","jobId":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","placeholderIdentifier":"2618e1cb-c050-4dfd-a356-b775a7aac25a","template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44477c9e-e2c6-4bb6-a174-f5cc2a44cbb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.430Z","level":"info","message":"http_request_completed","requestId":"2618e1cb-c050-4dfd-a356-b775a7aac25a","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":55,"contentLength":"57871","template":"unknown","session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2618e1cb-c050-4dfd-a356-b775a7aac25a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.433Z","level":"info","message":"http_request_received","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","method":"POST","path":"/api/process-cv","template":"unknown","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.434Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.435Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.437Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.438Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.440Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/incoming/original.pdf","chunks":1,"timestamp":1764856806442}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:00:06.443Z","level":"info","message":"process_cv_started","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","manualJobDescriptionProvided":true,"template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.443Z","level":"info","message":"template_selection","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:06.444Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:00:06.450Z","level":"info","message":"initial_upload_completed","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","bucket":"test-bucket","key":"cv/candidate/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/incoming/original.pdf","template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.451Z","level":"info","message":"resume_text_extracted","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","characters":57,"template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.451Z","level":"info","message":"resume_classified","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.451Z","level":"info","message":"raw_upload_relocated","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","bucket":"test-bucket","fromKey":"cv/candidate/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/incoming/original.pdf","toKey":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/original.pdf","template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.452Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","bucket":"test-bucket","key":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/original.pdf","template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.452Z","level":"info","message":"dynamo_initial_record_written","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","bucket":"test-bucket","key":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/original.pdf","template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.452Z","level":"info","message":"upload_metadata_written","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","bucket":"test-bucket","key":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/logs/log.json","template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.453Z","level":"info","message":"job_description_supplied_manually","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","characters":174,"template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.453Z","level":"info","message":"job_description_analyzed","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","jobTitle":"","jobSkills":5,"template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.453Z","level":"info","message":"resume_skills_analyzed","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.454Z","level":"info","message":"llm_call_metrics","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.454Z","level":"info","message":"process_cv_scoring_completed","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.456Z","level":"info","message":"llm_call_metrics","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.457Z","level":"info","message":"generation_section_rewrite_completed","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.457Z","level":"info","message":"llm_call_metrics","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.460Z","level":"info","message":"generation_resume_verified","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:06.462Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:06.468Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:06.474Z","level":"info","message":"generation_cover_letters_completed","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","variants":2,"fallbackApplied":true,"template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.474Z","level":"info","message":"pdf_generation_attempt","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/enhanced_modern.pdf","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.475Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.error
    {"timestamp":"2025-12-04T14:00:06.477Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"modern","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generatePdfWithFallback (server.js:11016:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:06.483Z","level":"info","message":"pdf_generation_attempt","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"professional","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/enhanced_professional.pdf","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.483Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.error
    {"timestamp":"2025-12-04T14:00:06.483Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"professional","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/enhanced_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generatePdfWithFallback (server.js:11016:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:06.489Z","level":"info","message":"pdf_generation_attempt","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"classic","attempt":3,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/enhanced_classic.pdf","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.490Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.error
    {"timestamp":"2025-12-04T14:00:06.490Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"classic","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/enhanced_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generatePdfWithFallback (server.js:11016:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:06.496Z","level":"info","message":"pdf_generation_attempt","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"ats","attempt":4,"totalAttempts":5,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/enhanced_ats.pdf","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.496Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.error
    {"timestamp":"2025-12-04T14:00:06.497Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"ats","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/enhanced_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generatePdfWithFallback (server.js:11016:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:06.503Z","level":"info","message":"pdf_generation_attempt","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"2025","attempt":5,"totalAttempts":5,"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/enhanced_2025.pdf","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.504Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.error
    {"timestamp":"2025-12-04T14:00:06.504Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"2025","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generatePdfWithFallback (server.js:11016:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:06.510Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/enhanced_2025.pdf","forcedFallback":true,"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generatePdfWithFallback (server.js:11160:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:06.517Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/enhanced_2025.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"2025","requestedTemplateId":"2025","engine":"pdf-lib","bytes":9,"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.518Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/enhanced_2025.pdf","bytes":9,"forcedFallback":true,"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.518Z","level":"info","message":"pdf_generation_attempt","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/enhanced_professional.pdf","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.519Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.error
    {"timestamp":"2025-12-04T14:00:06.519Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"professional","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/enhanced_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generatePdfWithFallback (server.js:11016:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:06.524Z","level":"info","message":"pdf_generation_attempt","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"modern","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/enhanced_modern.pdf","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.525Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.error
    {"timestamp":"2025-12-04T14:00:06.525Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"modern","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generatePdfWithFallback (server.js:11016:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:06.531Z","level":"info","message":"pdf_generation_attempt","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"2025","attempt":3,"totalAttempts":5,"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/enhanced_2025.pdf","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.532Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.error
    {"timestamp":"2025-12-04T14:00:06.532Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"2025","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generatePdfWithFallback (server.js:11016:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:06.537Z","level":"info","message":"pdf_generation_attempt","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"classic","attempt":4,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/enhanced_classic.pdf","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.538Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.error
    {"timestamp":"2025-12-04T14:00:06.538Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"classic","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/enhanced_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generatePdfWithFallback (server.js:11016:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:06.543Z","level":"info","message":"pdf_generation_attempt","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"ats","attempt":5,"totalAttempts":5,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/enhanced_ats.pdf","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.544Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.error
    {"timestamp":"2025-12-04T14:00:06.544Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"ats","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/enhanced_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generatePdfWithFallback (server.js:11016:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:06.551Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/enhanced_ats.pdf","forcedFallback":true,"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generatePdfWithFallback (server.js:11160:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:06.556Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/enhanced_ats.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"ats","requestedTemplateId":"ats","engine":"pdf-lib","bytes":9,"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.557Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/enhanced_ats.pdf","bytes":9,"forcedFallback":true,"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.557Z","level":"info","message":"pdf_generation_attempt","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/cover_letter_cover_modern.pdf","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.558Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.error
    {"timestamp":"2025-12-04T14:00:06.558Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generatePdfWithFallback (server.js:11016:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:06.564Z","level":"info","message":"pdf_generation_attempt","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":2,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/cover_letter_cover_professional.pdf","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.564Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.error
    {"timestamp":"2025-12-04T14:00:06.564Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/cover_letter_cover_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generatePdfWithFallback (server.js:11016:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:06.570Z","level":"info","message":"pdf_generation_attempt","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"cover_classic","attempt":3,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/cover_letter_cover_classic.pdf","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.570Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.error
    {"timestamp":"2025-12-04T14:00:06.571Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"cover_classic","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/cover_letter_cover_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generatePdfWithFallback (server.js:11016:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:06.576Z","level":"info","message":"pdf_generation_attempt","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"cover_ats","attempt":4,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/cover_letter_cover_ats.pdf","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.577Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.error
    {"timestamp":"2025-12-04T14:00:06.577Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"cover_ats","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/cover_letter_cover_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generatePdfWithFallback (server.js:11016:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:06.582Z","level":"info","message":"pdf_generation_attempt","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"cover_2025","attempt":5,"totalAttempts":5,"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/cover_letter_cover_2025.pdf","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.583Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"cover_2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.error
    {"timestamp":"2025-12-04T14:00:06.583Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"cover_2025","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/cover_letter_cover_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generatePdfWithFallback (server.js:11016:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:06.590Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/cover_letter_cover_2025.pdf","forcedFallback":true,"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generatePdfWithFallback (server.js:11160:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:06.596Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/cover_letter_cover_2025.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"cover_2025","requestedTemplateId":"cover_2025","engine":"pdf-lib","bytes":9,"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.596Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/cover_letter_cover_2025.pdf","bytes":9,"forcedFallback":true,"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.597Z","level":"info","message":"pdf_generation_attempt","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/cover_letter_cover_professional.pdf","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.597Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.error
    {"timestamp":"2025-12-04T14:00:06.598Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/cover_letter_cover_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generatePdfWithFallback (server.js:11016:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:06.603Z","level":"info","message":"pdf_generation_attempt","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":2,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/cover_letter_cover_modern.pdf","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.603Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.error
    {"timestamp":"2025-12-04T14:00:06.604Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generatePdfWithFallback (server.js:11016:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:06.609Z","level":"info","message":"pdf_generation_attempt","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"cover_2025","attempt":3,"totalAttempts":5,"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/cover_letter_cover_2025.pdf","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.609Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"cover_2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.error
    {"timestamp":"2025-12-04T14:00:06.610Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"cover_2025","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/cover_letter_cover_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generatePdfWithFallback (server.js:11016:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:06.615Z","level":"info","message":"pdf_generation_attempt","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"cover_classic","attempt":4,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/cover_letter_cover_classic.pdf","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.615Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.error
    {"timestamp":"2025-12-04T14:00:06.616Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"cover_classic","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/cover_letter_cover_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generatePdfWithFallback (server.js:11016:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:06.621Z","level":"info","message":"pdf_generation_attempt","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"cover_ats","attempt":5,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/cover_letter_cover_ats.pdf","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.621Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.error
    {"timestamp":"2025-12-04T14:00:06.622Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"cover_ats","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/cover_letter_cover_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generatePdfWithFallback (server.js:11016:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:06.627Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/cover_letter_cover_ats.pdf","forcedFallback":true,"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generatePdfWithFallback (server.js:11160:7)
      at generateEnhancedDocumentsResponse (server.js:21311:17)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:06.635Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/cover_letter_cover_ats.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"cover_ats","requestedTemplateId":"cover_ats","engine":"pdf-lib","bytes":9,"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.635Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/baf5f106-65f8-4c02-96d7-04e8a3d2e22c/cover_letter_cover_ats.pdf","bytes":9,"forcedFallback":true,"session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.637Z","level":"info","message":"llm_call_metrics","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.638Z","level":"info","message":"generation_completed","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","generationRunId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","enhancedScore":80,"outputs":5,"template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.639Z","level":"info","message":"placeholder_record_deleted","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","jobId":"ed6e7e63-a193-4603-9dd8-a5f78988243c","placeholderIdentifier":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed6e7e63-a193-4603-9dd8-a5f78988243c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.640Z","level":"info","message":"http_request_completed","requestId":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":207,"contentLength":"60620","template":"unknown","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"baf5f106-65f8-4c02-96d7-04e8a3d2e22c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.643Z","level":"info","message":"http_request_received","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","method":"POST","path":"/api/process-cv","template":"unknown","session":"4ad601ef-4c5c-4be9-92d4-a02258f07610","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4ad601ef-4c5c-4be9-92d4-a02258f07610","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.644Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.645Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.646Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.648Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.649Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/4ad601ef-4c5c-4be9-92d4-a02258f07610/incoming/original.pdf","chunks":1,"timestamp":1764856806652}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/4ad601ef-4c5c-4be9-92d4-a02258f07610/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/4ad601ef-4c5c-4be9-92d4-a02258f07610/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:00:06.653Z","level":"info","message":"process_cv_started","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","jobId":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","manualJobDescriptionProvided":true,"template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.653Z","level":"info","message":"template_selection","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","jobId":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:06.654Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","jobId":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:00:06.659Z","level":"info","message":"initial_upload_completed","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","jobId":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","bucket":"test-bucket","key":"cv/candidate/4ad601ef-4c5c-4be9-92d4-a02258f07610/incoming/original.pdf","template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.659Z","level":"info","message":"resume_text_extracted","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","jobId":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","characters":57,"template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.660Z","level":"info","message":"resume_classified","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","jobId":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.660Z","level":"info","message":"raw_upload_relocated","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","jobId":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","bucket":"test-bucket","fromKey":"cv/candidate/4ad601ef-4c5c-4be9-92d4-a02258f07610/incoming/original.pdf","toKey":"cv/professional_summary/4ad601ef-4c5c-4be9-92d4-a02258f07610/original.pdf","template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.660Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","jobId":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","bucket":"test-bucket","key":"cv/professional_summary/4ad601ef-4c5c-4be9-92d4-a02258f07610/original.pdf","template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.661Z","level":"info","message":"dynamo_initial_record_written","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","jobId":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","bucket":"test-bucket","key":"cv/professional_summary/4ad601ef-4c5c-4be9-92d4-a02258f07610/original.pdf","template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.661Z","level":"info","message":"upload_metadata_written","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","jobId":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","bucket":"test-bucket","key":"cv/professional_summary/4ad601ef-4c5c-4be9-92d4-a02258f07610/logs/log.json","template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.661Z","level":"info","message":"job_description_supplied_manually","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","jobId":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","characters":174,"template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.662Z","level":"info","message":"job_description_analyzed","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","jobId":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","jobTitle":"","jobSkills":5,"template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.662Z","level":"info","message":"resume_skills_analyzed","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","jobId":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.663Z","level":"info","message":"llm_call_metrics","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"4ad601ef-4c5c-4be9-92d4-a02258f07610","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4ad601ef-4c5c-4be9-92d4-a02258f07610","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.663Z","level":"info","message":"process_cv_scoring_completed","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","jobId":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.665Z","level":"info","message":"llm_call_metrics","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"083bf06ffdad2254495e6ab02d51602dd213ec7860f8066358ba6750acc9f49a","addedSkillCount":1,"template":"resume_rewrite","session":"4ad601ef-4c5c-4be9-92d4-a02258f07610","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"4ad601ef-4c5c-4be9-92d4-a02258f07610","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.666Z","level":"info","message":"generation_section_rewrite_completed","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","jobId":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","generationRunId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","modifiedTitle":"Revised Title","addedSkills":1,"template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.667Z","level":"info","message":"generation_resume_verified","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","jobId":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","generationRunId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:06.672Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","jobId":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","generationRunId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:06.677Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","jobId":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","generationRunId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:06.682Z","level":"info","message":"generation_cover_letters_completed","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","jobId":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","generationRunId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","variants":2,"fallbackApplied":true,"template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.683Z","level":"info","message":"pdf_generation_attempt","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","jobId":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","generationRunId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4ad601ef-4c5c-4be9-92d4-a02258f07610/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/4ad601ef-4c5c-4be9-92d4-a02258f07610/enhanced_modern.pdf","session":"4ad601ef-4c5c-4be9-92d4-a02258f07610","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4ad601ef-4c5c-4be9-92d4-a02258f07610","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.683Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","jobId":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","generationRunId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4ad601ef-4c5c-4be9-92d4-a02258f07610/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4ad601ef-4c5c-4be9-92d4-a02258f07610","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4ad601ef-4c5c-4be9-92d4-a02258f07610","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.684Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","jobId":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","generationRunId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4ad601ef-4c5c-4be9-92d4-a02258f07610/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/4ad601ef-4c5c-4be9-92d4-a02258f07610/enhanced_modern.pdf","session":"4ad601ef-4c5c-4be9-92d4-a02258f07610","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4ad601ef-4c5c-4be9-92d4-a02258f07610","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.684Z","level":"info","message":"pdf_generation_attempt","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","jobId":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","generationRunId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4ad601ef-4c5c-4be9-92d4-a02258f07610/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/4ad601ef-4c5c-4be9-92d4-a02258f07610/enhanced_professional.pdf","session":"4ad601ef-4c5c-4be9-92d4-a02258f07610","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4ad601ef-4c5c-4be9-92d4-a02258f07610","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.685Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","jobId":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","generationRunId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4ad601ef-4c5c-4be9-92d4-a02258f07610/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4ad601ef-4c5c-4be9-92d4-a02258f07610","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4ad601ef-4c5c-4be9-92d4-a02258f07610","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.685Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","jobId":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","generationRunId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4ad601ef-4c5c-4be9-92d4-a02258f07610/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/4ad601ef-4c5c-4be9-92d4-a02258f07610/enhanced_professional.pdf","session":"4ad601ef-4c5c-4be9-92d4-a02258f07610","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4ad601ef-4c5c-4be9-92d4-a02258f07610","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.686Z","level":"info","message":"pdf_generation_attempt","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","jobId":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","generationRunId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4ad601ef-4c5c-4be9-92d4-a02258f07610/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/4ad601ef-4c5c-4be9-92d4-a02258f07610/cover_letter_cover_modern.pdf","session":"4ad601ef-4c5c-4be9-92d4-a02258f07610","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4ad601ef-4c5c-4be9-92d4-a02258f07610","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.686Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","jobId":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","generationRunId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4ad601ef-4c5c-4be9-92d4-a02258f07610/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4ad601ef-4c5c-4be9-92d4-a02258f07610","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4ad601ef-4c5c-4be9-92d4-a02258f07610","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.686Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","jobId":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","generationRunId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4ad601ef-4c5c-4be9-92d4-a02258f07610/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/4ad601ef-4c5c-4be9-92d4-a02258f07610/cover_letter_cover_modern.pdf","session":"4ad601ef-4c5c-4be9-92d4-a02258f07610","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4ad601ef-4c5c-4be9-92d4-a02258f07610","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.687Z","level":"info","message":"pdf_generation_attempt","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","jobId":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","generationRunId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4ad601ef-4c5c-4be9-92d4-a02258f07610/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/4ad601ef-4c5c-4be9-92d4-a02258f07610/cover_letter_cover_professional.pdf","session":"4ad601ef-4c5c-4be9-92d4-a02258f07610","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4ad601ef-4c5c-4be9-92d4-a02258f07610","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.687Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","jobId":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","generationRunId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4ad601ef-4c5c-4be9-92d4-a02258f07610/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4ad601ef-4c5c-4be9-92d4-a02258f07610","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4ad601ef-4c5c-4be9-92d4-a02258f07610","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.688Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","jobId":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","generationRunId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4ad601ef-4c5c-4be9-92d4-a02258f07610/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/4ad601ef-4c5c-4be9-92d4-a02258f07610/cover_letter_cover_professional.pdf","session":"4ad601ef-4c5c-4be9-92d4-a02258f07610","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4ad601ef-4c5c-4be9-92d4-a02258f07610","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.690Z","level":"info","message":"llm_call_metrics","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"1075df15bec8b8fc718989e1c7ca31af0c39036b671cabbdfc22628f8e2e250f","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"4ad601ef-4c5c-4be9-92d4-a02258f07610","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4ad601ef-4c5c-4be9-92d4-a02258f07610","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.690Z","level":"info","message":"generation_completed","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","jobId":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","generationRunId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","enhancedScore":80,"outputs":5,"template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.691Z","level":"info","message":"placeholder_record_deleted","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","jobId":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","placeholderIdentifier":"4ad601ef-4c5c-4be9-92d4-a02258f07610","template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3d1fd06d-83aa-4dfe-8f08-243eec05abb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.692Z","level":"info","message":"http_request_completed","requestId":"4ad601ef-4c5c-4be9-92d4-a02258f07610","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":49,"contentLength":"59251","template":"unknown","session":"4ad601ef-4c5c-4be9-92d4-a02258f07610","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4ad601ef-4c5c-4be9-92d4-a02258f07610","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.695Z","level":"info","message":"http_request_received","requestId":"a0a90926-5de6-4841-ad51-2882fcca1b97","method":"POST","path":"/api/process-cv","template":"unknown","session":"a0a90926-5de6-4841-ad51-2882fcca1b97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a0a90926-5de6-4841-ad51-2882fcca1b97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.696Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.697Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.698Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.700Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.701Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.704Z","level":"info","message":"process_cv_started","requestId":"a0a90926-5de6-4841-ad51-2882fcca1b97","jobId":"195f54a8-0696-427d-ba00-328be3200bba","manualJobDescriptionProvided":true,"template":"unknown","session":"195f54a8-0696-427d-ba00-328be3200bba","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"195f54a8-0696-427d-ba00-328be3200bba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.704Z","level":"info","message":"template_selection","requestId":"a0a90926-5de6-4841-ad51-2882fcca1b97","jobId":"195f54a8-0696-427d-ba00-328be3200bba","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"195f54a8-0696-427d-ba00-328be3200bba","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"195f54a8-0696-427d-ba00-328be3200bba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:06.704Z","level":"warn","message":"resume_missing","requestId":"a0a90926-5de6-4841-ad51-2882fcca1b97","jobId":"195f54a8-0696-427d-ba00-328be3200bba","template":"unknown","session":"195f54a8-0696-427d-ba00-328be3200bba","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"195f54a8-0696-427d-ba00-328be3200bba","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:25095:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T14:00:06.711Z","level":"warn","message":"api_error_response","requestId":"a0a90926-5de6-4841-ad51-2882fcca1b97","jobId":"195f54a8-0696-427d-ba00-328be3200bba","status":400,"error":{"code":"RESUME_FILE_REQUIRED","message":"resume file required","details":{"field":"resume"},"requestId":"a0a90926-5de6-4841-ad51-2882fcca1b97","jobId":"195f54a8-0696-427d-ba00-328be3200bba"},"template":"unknown","session":"195f54a8-0696-427d-ba00-328be3200bba","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"195f54a8-0696-427d-ba00-328be3200bba","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at sendError (server.js:3972:3)
      at server.js:25096:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:00:06.717Z","level":"info","message":"http_request_completed","requestId":"a0a90926-5de6-4841-ad51-2882fcca1b97","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":22,"contentLength":"217","template":"unknown","session":"a0a90926-5de6-4841-ad51-2882fcca1b97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a0a90926-5de6-4841-ad51-2882fcca1b97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.719Z","level":"info","message":"http_request_received","requestId":"92e0c397-89ef-48cc-ba78-0c7d08d59e11","method":"POST","path":"/api/process-cv","template":"unknown","session":"92e0c397-89ef-48cc-ba78-0c7d08d59e11","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"92e0c397-89ef-48cc-ba78-0c7d08d59e11","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.719Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.721Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.722Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.723Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.725Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:06.728Z","level":"warn","message":"resume_upload_failed","requestId":"92e0c397-89ef-48cc-ba78-0c7d08d59e11","jobId":"aff508a6-5ef2-414e-b9a6-7795e7c5677f","storageError":false,"error":{"name":"Error","message":"Unsupported resume format. Please upload a PDF, DOC, or DOCX file.","stack":"Error: Unsupported resume format. Please upload a PDF, DOC, or DOCX file.\n    at fileFilter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4994:9)\n    at wrappedFileFilter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/index.js:44:7)\n    at Multipart.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:109:7)\n    at Multipart.emit (node:events:513:28)\n    at HeaderParser.cb (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:358:14)\n    at HeaderParser.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:394:37)\n    at feed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:219:14)\n    at SBMH.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:391:12)\n    at _write (node:internal/streams/writable:332:10)\n    at Multipart.Writable.write (node:internal/streams/writable:336:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:754:22)\n    at IncomingMessage.emit (node:events:513:28)\n    at IncomingMessage.Readable.read (node:internal/streams/readable:527:10)\n    at flow (node:internal/streams/readable:1011:34)\n    at resume_ (node:internal/streams/readable:992:3)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)"},"template":"unknown","session":"aff508a6-5ef2-414e-b9a6-7795e7c5677f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aff508a6-5ef2-414e-b9a6-7795e7c5677f","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:24789:7
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:5:28)
      at node_modules/multer/lib/make-middleware.js:63:9
      at Counter.onceZero (node_modules/multer/lib/counter.js:23:29)
      at abortWithError (node_modules/multer/lib/make-middleware.js:58:21)
      at node_modules/multer/lib/make-middleware.js:112:18
      at fileFilter (server.js:4993:14)
      at wrappedFileFilter (node_modules/multer/index.js:44:7)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:109:7)
      at HeaderParser.cb (node_modules/busboy/lib/types/multipart.js:358:14)
      at HeaderParser.push (node_modules/busboy/lib/types/multipart.js:162:20)
      at SBMH.ssCb [as _cb] (node_modules/busboy/lib/types/multipart.js:394:37)
      at feed (node_modules/streamsearch/lib/sbmh.js:219:14)
      at SBMH.push (node_modules/streamsearch/lib/sbmh.js:104:16)
      at Multipart._write (node_modules/busboy/lib/types/multipart.js:567:19)

  console.warn
    {"timestamp":"2025-12-04T14:00:06.736Z","level":"warn","message":"api_error_response","requestId":"92e0c397-89ef-48cc-ba78-0c7d08d59e11","jobId":"aff508a6-5ef2-414e-b9a6-7795e7c5677f","status":400,"error":{"code":"UPLOAD_VALIDATION_FAILED","message":"Unsupported resume format. Please upload a PDF, DOC, or DOCX file.","details":{"field":"resume"},"requestId":"92e0c397-89ef-48cc-ba78-0c7d08d59e11","jobId":"aff508a6-5ef2-414e-b9a6-7795e7c5677f"},"template":"unknown","session":"aff508a6-5ef2-414e-b9a6-7795e7c5677f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aff508a6-5ef2-414e-b9a6-7795e7c5677f","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at sendError (server.js:3972:3)
      at respond (server.js:24797:9)
      at server.js:24801:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:5:28)
      at node_modules/multer/lib/make-middleware.js:63:9
      at Counter.onceZero (node_modules/multer/lib/counter.js:23:29)
      at abortWithError (node_modules/multer/lib/make-middleware.js:58:21)
      at node_modules/multer/lib/make-middleware.js:112:18
      at fileFilter (server.js:4993:14)
      at wrappedFileFilter (node_modules/multer/index.js:44:7)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:109:7)
      at HeaderParser.cb (node_modules/busboy/lib/types/multipart.js:358:14)
      at HeaderParser.push (node_modules/busboy/lib/types/multipart.js:162:20)
      at SBMH.ssCb [as _cb] (node_modules/busboy/lib/types/multipart.js:394:37)
      at feed (node_modules/streamsearch/lib/sbmh.js:219:14)
      at SBMH.push (node_modules/streamsearch/lib/sbmh.js:104:16)
      at Multipart._write (node_modules/busboy/lib/types/multipart.js:567:19)

  console.log
    {"timestamp":"2025-12-04T14:00:06.742Z","level":"info","message":"http_request_completed","requestId":"92e0c397-89ef-48cc-ba78-0c7d08d59e11","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":23,"contentLength":"267","template":"unknown","session":"92e0c397-89ef-48cc-ba78-0c7d08d59e11","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"92e0c397-89ef-48cc-ba78-0c7d08d59e11","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.744Z","level":"info","message":"http_request_received","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","method":"POST","path":"/api/process-cv","template":"unknown","session":"d8c6262a-73ff-4c43-b378-9036281fe5e2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d8c6262a-73ff-4c43-b378-9036281fe5e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.745Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.746Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.748Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.749Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.752Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/d8c6262a-73ff-4c43-b378-9036281fe5e2/incoming/original.pdf","chunks":1,"timestamp":1764856806754}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":32768}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":32768,"newSize":32768,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/d8c6262a-73ff-4c43-b378-9036281fe5e2/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/d8c6262a-73ff-4c43-b378-9036281fe5e2/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:00:06.755Z","level":"info","message":"process_cv_started","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","jobId":"e59bfc14-f7a1-4dda-9710-d40a31333a36","manualJobDescriptionProvided":true,"template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.755Z","level":"info","message":"template_selection","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","jobId":"e59bfc14-f7a1-4dda-9710-d40a31333a36","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:06.756Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","jobId":"e59bfc14-f7a1-4dda-9710-d40a31333a36","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:00:06.761Z","level":"info","message":"initial_upload_completed","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","jobId":"e59bfc14-f7a1-4dda-9710-d40a31333a36","bucket":"test-bucket","key":"cv/candidate/d8c6262a-73ff-4c43-b378-9036281fe5e2/incoming/original.pdf","template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.762Z","level":"info","message":"resume_text_extracted","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","jobId":"e59bfc14-f7a1-4dda-9710-d40a31333a36","characters":57,"template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.762Z","level":"info","message":"resume_classified","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","jobId":"e59bfc14-f7a1-4dda-9710-d40a31333a36","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.762Z","level":"info","message":"raw_upload_relocated","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","jobId":"e59bfc14-f7a1-4dda-9710-d40a31333a36","bucket":"test-bucket","fromKey":"cv/candidate/d8c6262a-73ff-4c43-b378-9036281fe5e2/incoming/original.pdf","toKey":"cv/professional_summary/d8c6262a-73ff-4c43-b378-9036281fe5e2/original.pdf","template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.763Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","jobId":"e59bfc14-f7a1-4dda-9710-d40a31333a36","bucket":"test-bucket","key":"cv/professional_summary/d8c6262a-73ff-4c43-b378-9036281fe5e2/original.pdf","template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.763Z","level":"info","message":"dynamo_initial_record_written","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","jobId":"e59bfc14-f7a1-4dda-9710-d40a31333a36","bucket":"test-bucket","key":"cv/professional_summary/d8c6262a-73ff-4c43-b378-9036281fe5e2/original.pdf","template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.763Z","level":"info","message":"upload_metadata_written","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","jobId":"e59bfc14-f7a1-4dda-9710-d40a31333a36","bucket":"test-bucket","key":"cv/professional_summary/d8c6262a-73ff-4c43-b378-9036281fe5e2/logs/log.json","template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.764Z","level":"info","message":"job_description_supplied_manually","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","jobId":"e59bfc14-f7a1-4dda-9710-d40a31333a36","characters":174,"template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.764Z","level":"info","message":"job_description_analyzed","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","jobId":"e59bfc14-f7a1-4dda-9710-d40a31333a36","jobTitle":"","jobSkills":5,"template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.764Z","level":"info","message":"resume_skills_analyzed","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","jobId":"e59bfc14-f7a1-4dda-9710-d40a31333a36","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.765Z","level":"info","message":"llm_call_metrics","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"d8c6262a-73ff-4c43-b378-9036281fe5e2","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"d8c6262a-73ff-4c43-b378-9036281fe5e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.765Z","level":"info","message":"process_cv_scoring_completed","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","jobId":"e59bfc14-f7a1-4dda-9710-d40a31333a36","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.768Z","level":"info","message":"llm_call_metrics","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"d8c6262a-73ff-4c43-b378-9036281fe5e2","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"d8c6262a-73ff-4c43-b378-9036281fe5e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.768Z","level":"info","message":"generation_section_rewrite_completed","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","jobId":"e59bfc14-f7a1-4dda-9710-d40a31333a36","generationRunId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.768Z","level":"info","message":"llm_call_metrics","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"d8c6262a-73ff-4c43-b378-9036281fe5e2","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"d8c6262a-73ff-4c43-b378-9036281fe5e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.770Z","level":"info","message":"generation_resume_verified","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","jobId":"e59bfc14-f7a1-4dda-9710-d40a31333a36","generationRunId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:06.772Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","jobId":"e59bfc14-f7a1-4dda-9710-d40a31333a36","generationRunId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:06.778Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","jobId":"e59bfc14-f7a1-4dda-9710-d40a31333a36","generationRunId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:06.783Z","level":"info","message":"generation_cover_letters_completed","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","jobId":"e59bfc14-f7a1-4dda-9710-d40a31333a36","generationRunId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","variants":2,"fallbackApplied":true,"template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.784Z","level":"info","message":"pdf_generation_attempt","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","jobId":"e59bfc14-f7a1-4dda-9710-d40a31333a36","generationRunId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d8c6262a-73ff-4c43-b378-9036281fe5e2/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/d8c6262a-73ff-4c43-b378-9036281fe5e2/enhanced_modern.pdf","session":"d8c6262a-73ff-4c43-b378-9036281fe5e2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d8c6262a-73ff-4c43-b378-9036281fe5e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.784Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","jobId":"e59bfc14-f7a1-4dda-9710-d40a31333a36","generationRunId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d8c6262a-73ff-4c43-b378-9036281fe5e2/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"d8c6262a-73ff-4c43-b378-9036281fe5e2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d8c6262a-73ff-4c43-b378-9036281fe5e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.784Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","jobId":"e59bfc14-f7a1-4dda-9710-d40a31333a36","generationRunId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d8c6262a-73ff-4c43-b378-9036281fe5e2/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/d8c6262a-73ff-4c43-b378-9036281fe5e2/enhanced_modern.pdf","session":"d8c6262a-73ff-4c43-b378-9036281fe5e2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d8c6262a-73ff-4c43-b378-9036281fe5e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.785Z","level":"info","message":"pdf_generation_attempt","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","jobId":"e59bfc14-f7a1-4dda-9710-d40a31333a36","generationRunId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d8c6262a-73ff-4c43-b378-9036281fe5e2/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/d8c6262a-73ff-4c43-b378-9036281fe5e2/enhanced_professional.pdf","session":"d8c6262a-73ff-4c43-b378-9036281fe5e2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d8c6262a-73ff-4c43-b378-9036281fe5e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.785Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","jobId":"e59bfc14-f7a1-4dda-9710-d40a31333a36","generationRunId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d8c6262a-73ff-4c43-b378-9036281fe5e2/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"d8c6262a-73ff-4c43-b378-9036281fe5e2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d8c6262a-73ff-4c43-b378-9036281fe5e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.786Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","jobId":"e59bfc14-f7a1-4dda-9710-d40a31333a36","generationRunId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d8c6262a-73ff-4c43-b378-9036281fe5e2/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/d8c6262a-73ff-4c43-b378-9036281fe5e2/enhanced_professional.pdf","session":"d8c6262a-73ff-4c43-b378-9036281fe5e2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d8c6262a-73ff-4c43-b378-9036281fe5e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.786Z","level":"info","message":"pdf_generation_attempt","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","jobId":"e59bfc14-f7a1-4dda-9710-d40a31333a36","generationRunId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d8c6262a-73ff-4c43-b378-9036281fe5e2/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/d8c6262a-73ff-4c43-b378-9036281fe5e2/cover_letter_cover_modern.pdf","session":"d8c6262a-73ff-4c43-b378-9036281fe5e2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d8c6262a-73ff-4c43-b378-9036281fe5e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.786Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","jobId":"e59bfc14-f7a1-4dda-9710-d40a31333a36","generationRunId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d8c6262a-73ff-4c43-b378-9036281fe5e2/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"d8c6262a-73ff-4c43-b378-9036281fe5e2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d8c6262a-73ff-4c43-b378-9036281fe5e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.788Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","jobId":"e59bfc14-f7a1-4dda-9710-d40a31333a36","generationRunId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d8c6262a-73ff-4c43-b378-9036281fe5e2/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/d8c6262a-73ff-4c43-b378-9036281fe5e2/cover_letter_cover_modern.pdf","session":"d8c6262a-73ff-4c43-b378-9036281fe5e2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d8c6262a-73ff-4c43-b378-9036281fe5e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.789Z","level":"info","message":"pdf_generation_attempt","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","jobId":"e59bfc14-f7a1-4dda-9710-d40a31333a36","generationRunId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d8c6262a-73ff-4c43-b378-9036281fe5e2/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/d8c6262a-73ff-4c43-b378-9036281fe5e2/cover_letter_cover_professional.pdf","session":"d8c6262a-73ff-4c43-b378-9036281fe5e2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d8c6262a-73ff-4c43-b378-9036281fe5e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.789Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","jobId":"e59bfc14-f7a1-4dda-9710-d40a31333a36","generationRunId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d8c6262a-73ff-4c43-b378-9036281fe5e2/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"d8c6262a-73ff-4c43-b378-9036281fe5e2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d8c6262a-73ff-4c43-b378-9036281fe5e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.789Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","jobId":"e59bfc14-f7a1-4dda-9710-d40a31333a36","generationRunId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d8c6262a-73ff-4c43-b378-9036281fe5e2/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/d8c6262a-73ff-4c43-b378-9036281fe5e2/cover_letter_cover_professional.pdf","session":"d8c6262a-73ff-4c43-b378-9036281fe5e2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d8c6262a-73ff-4c43-b378-9036281fe5e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.791Z","level":"info","message":"llm_call_metrics","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"d8c6262a-73ff-4c43-b378-9036281fe5e2","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"d8c6262a-73ff-4c43-b378-9036281fe5e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.792Z","level":"info","message":"generation_completed","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","jobId":"e59bfc14-f7a1-4dda-9710-d40a31333a36","generationRunId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","enhancedScore":80,"outputs":5,"template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.794Z","level":"info","message":"placeholder_record_deleted","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","jobId":"e59bfc14-f7a1-4dda-9710-d40a31333a36","placeholderIdentifier":"d8c6262a-73ff-4c43-b378-9036281fe5e2","template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e59bfc14-f7a1-4dda-9710-d40a31333a36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.795Z","level":"info","message":"http_request_completed","requestId":"d8c6262a-73ff-4c43-b378-9036281fe5e2","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":51,"contentLength":"58133","template":"unknown","session":"d8c6262a-73ff-4c43-b378-9036281fe5e2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d8c6262a-73ff-4c43-b378-9036281fe5e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.798Z","level":"info","message":"http_request_received","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","method":"POST","path":"/api/process-cv","template":"unknown","session":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.799Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.800Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.801Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.803Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.804Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/c74137e3-3bcd-4809-b7ea-a19e2bc32a4b/incoming/original.pdf","chunks":5,"timestamp":1764856806807}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":262144}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":262144,"newSize":262144,"durationMs":8}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/c74137e3-3bcd-4809-b7ea-a19e2bc32a4b/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/c74137e3-3bcd-4809-b7ea-a19e2bc32a4b/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":8}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:00:06.816Z","level":"info","message":"process_cv_started","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","jobId":"83cc27c0-1288-4261-b4b3-3405bed05b06","manualJobDescriptionProvided":true,"template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.816Z","level":"info","message":"template_selection","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","jobId":"83cc27c0-1288-4261-b4b3-3405bed05b06","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.817Z","level":"info","message":"initial_upload_completed","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","jobId":"83cc27c0-1288-4261-b4b3-3405bed05b06","bucket":"test-bucket","key":"cv/candidate/c74137e3-3bcd-4809-b7ea-a19e2bc32a4b/incoming/original.pdf","template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.817Z","level":"info","message":"resume_text_extracted","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","jobId":"83cc27c0-1288-4261-b4b3-3405bed05b06","characters":9,"template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.818Z","level":"info","message":"document_classification_ai_metrics","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","jobId":"83cc27c0-1288-4261-b4b3-3405bed05b06","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"3fb95a90cc3314ffe158e6938082b6242f708ef53653928d4aec2ec0ec66e1aa","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.831Z","level":"info","message":"resume_classified","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","jobId":"83cc27c0-1288-4261-b4b3-3405bed05b06","isResume":false,"description":"a document starting with \"Docx text\"","confidence":0.3,"accepted":true,"overridden":true,"template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.831Z","level":"info","message":"raw_upload_relocated","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","jobId":"83cc27c0-1288-4261-b4b3-3405bed05b06","bucket":"test-bucket","fromKey":"cv/candidate/c74137e3-3bcd-4809-b7ea-a19e2bc32a4b/incoming/original.pdf","toKey":"cv/docx_text/c74137e3-3bcd-4809-b7ea-a19e2bc32a4b/original.docx","template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.832Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","jobId":"83cc27c0-1288-4261-b4b3-3405bed05b06","bucket":"test-bucket","key":"cv/docx_text/c74137e3-3bcd-4809-b7ea-a19e2bc32a4b/original.docx","template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.832Z","level":"info","message":"dynamo_initial_record_written","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","jobId":"83cc27c0-1288-4261-b4b3-3405bed05b06","bucket":"test-bucket","key":"cv/docx_text/c74137e3-3bcd-4809-b7ea-a19e2bc32a4b/original.docx","template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.832Z","level":"info","message":"upload_metadata_written","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","jobId":"83cc27c0-1288-4261-b4b3-3405bed05b06","bucket":"test-bucket","key":"cv/docx_text/c74137e3-3bcd-4809-b7ea-a19e2bc32a4b/logs/log.json","template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.833Z","level":"info","message":"job_description_supplied_manually","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","jobId":"83cc27c0-1288-4261-b4b3-3405bed05b06","characters":174,"template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.833Z","level":"info","message":"job_description_analyzed","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","jobId":"83cc27c0-1288-4261-b4b3-3405bed05b06","jobTitle":"","jobSkills":5,"template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.834Z","level":"info","message":"resume_skills_analyzed","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","jobId":"83cc27c0-1288-4261-b4b3-3405bed05b06","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.834Z","level":"info","message":"llm_call_metrics","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.835Z","level":"info","message":"process_cv_scoring_completed","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","jobId":"83cc27c0-1288-4261-b4b3-3405bed05b06","applicantName":"Docx text","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.836Z","level":"info","message":"llm_call_metrics","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"31abd14e21e30560dd0979a805a53ba1e348c7a15b5557d1589a085105e61022","outputDigest":"20c6bad519a1c8c51482632fc36f521f4cdc6c74524ae2a7da48d87e23be89bd","addedSkillCount":0,"template":"resume_rewrite","session":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.837Z","level":"info","message":"generation_section_rewrite_completed","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","jobId":"83cc27c0-1288-4261-b4b3-3405bed05b06","generationRunId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.837Z","level":"info","message":"llm_call_metrics","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.839Z","level":"info","message":"generation_resume_verified","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","jobId":"83cc27c0-1288-4261-b4b3-3405bed05b06","generationRunId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:06.842Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","jobId":"83cc27c0-1288-4261-b4b3-3405bed05b06","generationRunId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:06.847Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","jobId":"83cc27c0-1288-4261-b4b3-3405bed05b06","generationRunId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:06.853Z","level":"info","message":"generation_cover_letters_completed","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","jobId":"83cc27c0-1288-4261-b4b3-3405bed05b06","generationRunId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","variants":2,"fallbackApplied":true,"template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.854Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","jobId":"83cc27c0-1288-4261-b4b3-3405bed05b06","generationRunId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","documentType":"resume","outputName":"original_upload","outputKeyPrefix":"cv/docx_text/c74137e3-3bcd-4809-b7ea-a19e2bc32a4b/","originalUploadKey":"cv/docx_text/c74137e3-3bcd-4809-b7ea-a19e2bc32a4b/original.docx","originalUploadExtension":".docx","templateId":"modern","requestedTemplateId":"modern","engine":"pdf-lib","bytes":9,"template":"modern","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.855Z","level":"info","message":"original_upload_pdf_generated","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","jobId":"83cc27c0-1288-4261-b4b3-3405bed05b06","generationRunId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","storageKey":"cv/docx_text/c74137e3-3bcd-4809-b7ea-a19e2bc32a4b/original/original_upload.pdf","originalUploadKey":"cv/docx_text/c74137e3-3bcd-4809-b7ea-a19e2bc32a4b/original.docx","originalUploadExtension":".docx","template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.855Z","level":"info","message":"pdf_generation_attempt","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","jobId":"83cc27c0-1288-4261-b4b3-3405bed05b06","generationRunId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/c74137e3-3bcd-4809-b7ea-a19e2bc32a4b/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/c74137e3-3bcd-4809-b7ea-a19e2bc32a4b/enhanced_modern.pdf","session":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.856Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","jobId":"83cc27c0-1288-4261-b4b3-3405bed05b06","generationRunId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/c74137e3-3bcd-4809-b7ea-a19e2bc32a4b/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.856Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","jobId":"83cc27c0-1288-4261-b4b3-3405bed05b06","generationRunId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/c74137e3-3bcd-4809-b7ea-a19e2bc32a4b/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/c74137e3-3bcd-4809-b7ea-a19e2bc32a4b/enhanced_modern.pdf","session":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.857Z","level":"info","message":"pdf_generation_attempt","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","jobId":"83cc27c0-1288-4261-b4b3-3405bed05b06","generationRunId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/c74137e3-3bcd-4809-b7ea-a19e2bc32a4b/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/c74137e3-3bcd-4809-b7ea-a19e2bc32a4b/enhanced_professional.pdf","session":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.857Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","jobId":"83cc27c0-1288-4261-b4b3-3405bed05b06","generationRunId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/c74137e3-3bcd-4809-b7ea-a19e2bc32a4b/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.857Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","jobId":"83cc27c0-1288-4261-b4b3-3405bed05b06","generationRunId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/c74137e3-3bcd-4809-b7ea-a19e2bc32a4b/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/c74137e3-3bcd-4809-b7ea-a19e2bc32a4b/enhanced_professional.pdf","session":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.858Z","level":"info","message":"pdf_generation_attempt","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","jobId":"83cc27c0-1288-4261-b4b3-3405bed05b06","generationRunId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/c74137e3-3bcd-4809-b7ea-a19e2bc32a4b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/c74137e3-3bcd-4809-b7ea-a19e2bc32a4b/cover_letter_cover_modern.pdf","session":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.858Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","jobId":"83cc27c0-1288-4261-b4b3-3405bed05b06","generationRunId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/c74137e3-3bcd-4809-b7ea-a19e2bc32a4b/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.859Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","jobId":"83cc27c0-1288-4261-b4b3-3405bed05b06","generationRunId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/c74137e3-3bcd-4809-b7ea-a19e2bc32a4b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/c74137e3-3bcd-4809-b7ea-a19e2bc32a4b/cover_letter_cover_modern.pdf","session":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.859Z","level":"info","message":"pdf_generation_attempt","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","jobId":"83cc27c0-1288-4261-b4b3-3405bed05b06","generationRunId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/c74137e3-3bcd-4809-b7ea-a19e2bc32a4b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/c74137e3-3bcd-4809-b7ea-a19e2bc32a4b/cover_letter_cover_professional.pdf","session":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.860Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","jobId":"83cc27c0-1288-4261-b4b3-3405bed05b06","generationRunId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/c74137e3-3bcd-4809-b7ea-a19e2bc32a4b/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.860Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","jobId":"83cc27c0-1288-4261-b4b3-3405bed05b06","generationRunId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/c74137e3-3bcd-4809-b7ea-a19e2bc32a4b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/c74137e3-3bcd-4809-b7ea-a19e2bc32a4b/cover_letter_cover_professional.pdf","session":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.862Z","level":"info","message":"llm_call_metrics","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.863Z","level":"info","message":"generation_completed","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","jobId":"83cc27c0-1288-4261-b4b3-3405bed05b06","generationRunId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","enhancedScore":80,"outputs":6,"template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.864Z","level":"info","message":"placeholder_record_deleted","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","jobId":"83cc27c0-1288-4261-b4b3-3405bed05b06","placeholderIdentifier":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83cc27c0-1288-4261-b4b3-3405bed05b06","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.865Z","level":"info","message":"http_request_completed","requestId":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":67,"contentLength":"58696","template":"unknown","session":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c74137e3-3bcd-4809-b7ea-a19e2bc32a4b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.869Z","level":"info","message":"http_request_received","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","method":"POST","path":"/api/process-cv","template":"unknown","session":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.870Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.871Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.872Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.874Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.875Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/d9b2cf9b-73cc-4062-93eb-fdc0062cb987/incoming/original.pdf","chunks":33,"timestamp":1764856806882}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":2097152}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":2097152,"newSize":2097152,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/d9b2cf9b-73cc-4062-93eb-fdc0062cb987/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/d9b2cf9b-73cc-4062-93eb-fdc0062cb987/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:00:06.884Z","level":"info","message":"process_cv_started","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","jobId":"a5de109e-781b-4c29-8101-2c2d70ff04d0","manualJobDescriptionProvided":true,"template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.884Z","level":"info","message":"template_selection","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","jobId":"a5de109e-781b-4c29-8101-2c2d70ff04d0","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:06.885Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","jobId":"a5de109e-781b-4c29-8101-2c2d70ff04d0","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:00:06.891Z","level":"info","message":"initial_upload_completed","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","jobId":"a5de109e-781b-4c29-8101-2c2d70ff04d0","bucket":"test-bucket","key":"cv/candidate/d9b2cf9b-73cc-4062-93eb-fdc0062cb987/incoming/original.pdf","template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.891Z","level":"info","message":"resume_text_extracted","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","jobId":"a5de109e-781b-4c29-8101-2c2d70ff04d0","characters":57,"template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.891Z","level":"info","message":"resume_classified","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","jobId":"a5de109e-781b-4c29-8101-2c2d70ff04d0","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.892Z","level":"info","message":"raw_upload_relocated","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","jobId":"a5de109e-781b-4c29-8101-2c2d70ff04d0","bucket":"test-bucket","fromKey":"cv/candidate/d9b2cf9b-73cc-4062-93eb-fdc0062cb987/incoming/original.pdf","toKey":"cv/professional_summary/d9b2cf9b-73cc-4062-93eb-fdc0062cb987/original.pdf","template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.893Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","jobId":"a5de109e-781b-4c29-8101-2c2d70ff04d0","bucket":"test-bucket","key":"cv/professional_summary/d9b2cf9b-73cc-4062-93eb-fdc0062cb987/original.pdf","template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.893Z","level":"info","message":"dynamo_initial_record_written","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","jobId":"a5de109e-781b-4c29-8101-2c2d70ff04d0","bucket":"test-bucket","key":"cv/professional_summary/d9b2cf9b-73cc-4062-93eb-fdc0062cb987/original.pdf","template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.893Z","level":"info","message":"upload_metadata_written","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","jobId":"a5de109e-781b-4c29-8101-2c2d70ff04d0","bucket":"test-bucket","key":"cv/professional_summary/d9b2cf9b-73cc-4062-93eb-fdc0062cb987/logs/log.json","template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.894Z","level":"info","message":"job_description_supplied_manually","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","jobId":"a5de109e-781b-4c29-8101-2c2d70ff04d0","characters":174,"template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.894Z","level":"info","message":"job_description_analyzed","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","jobId":"a5de109e-781b-4c29-8101-2c2d70ff04d0","jobTitle":"","jobSkills":5,"template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.895Z","level":"info","message":"resume_skills_analyzed","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","jobId":"a5de109e-781b-4c29-8101-2c2d70ff04d0","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.897Z","level":"info","message":"llm_call_metrics","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.897Z","level":"info","message":"process_cv_scoring_completed","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","jobId":"a5de109e-781b-4c29-8101-2c2d70ff04d0","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.899Z","level":"info","message":"llm_call_metrics","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.900Z","level":"info","message":"generation_section_rewrite_completed","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","jobId":"a5de109e-781b-4c29-8101-2c2d70ff04d0","generationRunId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.900Z","level":"info","message":"llm_call_metrics","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.902Z","level":"info","message":"generation_resume_verified","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","jobId":"a5de109e-781b-4c29-8101-2c2d70ff04d0","generationRunId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:06.904Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","jobId":"a5de109e-781b-4c29-8101-2c2d70ff04d0","generationRunId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:06.910Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","jobId":"a5de109e-781b-4c29-8101-2c2d70ff04d0","generationRunId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:06.916Z","level":"info","message":"generation_cover_letters_completed","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","jobId":"a5de109e-781b-4c29-8101-2c2d70ff04d0","generationRunId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","variants":2,"fallbackApplied":true,"template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.916Z","level":"info","message":"pdf_generation_attempt","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","jobId":"a5de109e-781b-4c29-8101-2c2d70ff04d0","generationRunId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d9b2cf9b-73cc-4062-93eb-fdc0062cb987/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/d9b2cf9b-73cc-4062-93eb-fdc0062cb987/enhanced_modern.pdf","session":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.917Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","jobId":"a5de109e-781b-4c29-8101-2c2d70ff04d0","generationRunId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d9b2cf9b-73cc-4062-93eb-fdc0062cb987/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.917Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","jobId":"a5de109e-781b-4c29-8101-2c2d70ff04d0","generationRunId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d9b2cf9b-73cc-4062-93eb-fdc0062cb987/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/d9b2cf9b-73cc-4062-93eb-fdc0062cb987/enhanced_modern.pdf","session":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.918Z","level":"info","message":"pdf_generation_attempt","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","jobId":"a5de109e-781b-4c29-8101-2c2d70ff04d0","generationRunId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d9b2cf9b-73cc-4062-93eb-fdc0062cb987/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/d9b2cf9b-73cc-4062-93eb-fdc0062cb987/enhanced_professional.pdf","session":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.918Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","jobId":"a5de109e-781b-4c29-8101-2c2d70ff04d0","generationRunId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d9b2cf9b-73cc-4062-93eb-fdc0062cb987/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.918Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","jobId":"a5de109e-781b-4c29-8101-2c2d70ff04d0","generationRunId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d9b2cf9b-73cc-4062-93eb-fdc0062cb987/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/d9b2cf9b-73cc-4062-93eb-fdc0062cb987/enhanced_professional.pdf","session":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.919Z","level":"info","message":"pdf_generation_attempt","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","jobId":"a5de109e-781b-4c29-8101-2c2d70ff04d0","generationRunId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d9b2cf9b-73cc-4062-93eb-fdc0062cb987/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/d9b2cf9b-73cc-4062-93eb-fdc0062cb987/cover_letter_cover_modern.pdf","session":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.919Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","jobId":"a5de109e-781b-4c29-8101-2c2d70ff04d0","generationRunId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d9b2cf9b-73cc-4062-93eb-fdc0062cb987/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.920Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","jobId":"a5de109e-781b-4c29-8101-2c2d70ff04d0","generationRunId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d9b2cf9b-73cc-4062-93eb-fdc0062cb987/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/d9b2cf9b-73cc-4062-93eb-fdc0062cb987/cover_letter_cover_modern.pdf","session":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.920Z","level":"info","message":"pdf_generation_attempt","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","jobId":"a5de109e-781b-4c29-8101-2c2d70ff04d0","generationRunId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d9b2cf9b-73cc-4062-93eb-fdc0062cb987/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/d9b2cf9b-73cc-4062-93eb-fdc0062cb987/cover_letter_cover_professional.pdf","session":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.920Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","jobId":"a5de109e-781b-4c29-8101-2c2d70ff04d0","generationRunId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d9b2cf9b-73cc-4062-93eb-fdc0062cb987/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.921Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","jobId":"a5de109e-781b-4c29-8101-2c2d70ff04d0","generationRunId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d9b2cf9b-73cc-4062-93eb-fdc0062cb987/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/d9b2cf9b-73cc-4062-93eb-fdc0062cb987/cover_letter_cover_professional.pdf","session":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.923Z","level":"info","message":"llm_call_metrics","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.923Z","level":"info","message":"generation_completed","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","jobId":"a5de109e-781b-4c29-8101-2c2d70ff04d0","generationRunId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","enhancedScore":80,"outputs":5,"template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.924Z","level":"info","message":"placeholder_record_deleted","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","jobId":"a5de109e-781b-4c29-8101-2c2d70ff04d0","placeholderIdentifier":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a5de109e-781b-4c29-8101-2c2d70ff04d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.925Z","level":"info","message":"http_request_completed","requestId":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":56,"contentLength":"58133","template":"unknown","session":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9b2cf9b-73cc-4062-93eb-fdc0062cb987","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.928Z","level":"info","message":"http_request_received","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","method":"POST","path":"/api/process-cv","template":"unknown","session":"8835789c-1c57-40bf-98ce-6f00c938c617","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8835789c-1c57-40bf-98ce-6f00c938c617","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.929Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.930Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.931Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.933Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.934Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/8835789c-1c57-40bf-98ce-6f00c938c617/incoming/original.pdf","chunks":82,"timestamp":1764856806943}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5241856}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5241856,"newSize":5241856,"durationMs":51}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/8835789c-1c57-40bf-98ce-6f00c938c617/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/8835789c-1c57-40bf-98ce-6f00c938c617/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":52}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:06.996Z","level":"info","message":"process_cv_started","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","jobId":"26c03764-2100-4ee8-9f44-8ed150a29e8e","manualJobDescriptionProvided":true,"template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.996Z","level":"info","message":"template_selection","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","jobId":"26c03764-2100-4ee8-9f44-8ed150a29e8e","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:06.997Z","level":"info","message":"initial_upload_completed","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","jobId":"26c03764-2100-4ee8-9f44-8ed150a29e8e","bucket":"test-bucket","key":"cv/candidate/8835789c-1c57-40bf-98ce-6f00c938c617/incoming/original.pdf","template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:06.997Z","level":"info","message":"resume_text_extracted","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","jobId":"26c03764-2100-4ee8-9f44-8ed150a29e8e","characters":9,"template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:06.997Z","level":"info","message":"document_classification_ai_metrics","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","jobId":"26c03764-2100-4ee8-9f44-8ed150a29e8e","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"3fb95a90cc3314ffe158e6938082b6242f708ef53653928d4aec2ec0ec66e1aa","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:06.998Z","level":"info","message":"resume_classified","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","jobId":"26c03764-2100-4ee8-9f44-8ed150a29e8e","isResume":false,"description":"a document starting with \"Docx text\"","confidence":0.3,"accepted":true,"overridden":true,"template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:06.998Z","level":"info","message":"raw_upload_relocated","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","jobId":"26c03764-2100-4ee8-9f44-8ed150a29e8e","bucket":"test-bucket","fromKey":"cv/candidate/8835789c-1c57-40bf-98ce-6f00c938c617/incoming/original.pdf","toKey":"cv/docx_text/8835789c-1c57-40bf-98ce-6f00c938c617/original.docx","template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:06.998Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","jobId":"26c03764-2100-4ee8-9f44-8ed150a29e8e","bucket":"test-bucket","key":"cv/docx_text/8835789c-1c57-40bf-98ce-6f00c938c617/original.docx","template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:06.999Z","level":"info","message":"dynamo_initial_record_written","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","jobId":"26c03764-2100-4ee8-9f44-8ed150a29e8e","bucket":"test-bucket","key":"cv/docx_text/8835789c-1c57-40bf-98ce-6f00c938c617/original.docx","template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:06.999Z","level":"info","message":"upload_metadata_written","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","jobId":"26c03764-2100-4ee8-9f44-8ed150a29e8e","bucket":"test-bucket","key":"cv/docx_text/8835789c-1c57-40bf-98ce-6f00c938c617/logs/log.json","template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:06.999Z","level":"info","message":"job_description_supplied_manually","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","jobId":"26c03764-2100-4ee8-9f44-8ed150a29e8e","characters":174,"template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.000Z","level":"info","message":"job_description_analyzed","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","jobId":"26c03764-2100-4ee8-9f44-8ed150a29e8e","jobTitle":"","jobSkills":5,"template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.000Z","level":"info","message":"resume_skills_analyzed","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","jobId":"26c03764-2100-4ee8-9f44-8ed150a29e8e","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.001Z","level":"info","message":"llm_call_metrics","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"8835789c-1c57-40bf-98ce-6f00c938c617","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"8835789c-1c57-40bf-98ce-6f00c938c617","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.001Z","level":"info","message":"process_cv_scoring_completed","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","jobId":"26c03764-2100-4ee8-9f44-8ed150a29e8e","applicantName":"Docx text","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.003Z","level":"info","message":"llm_call_metrics","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"31abd14e21e30560dd0979a805a53ba1e348c7a15b5557d1589a085105e61022","outputDigest":"20c6bad519a1c8c51482632fc36f521f4cdc6c74524ae2a7da48d87e23be89bd","addedSkillCount":0,"template":"resume_rewrite","session":"8835789c-1c57-40bf-98ce-6f00c938c617","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"8835789c-1c57-40bf-98ce-6f00c938c617","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.004Z","level":"info","message":"generation_section_rewrite_completed","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","jobId":"26c03764-2100-4ee8-9f44-8ed150a29e8e","generationRunId":"8835789c-1c57-40bf-98ce-6f00c938c617","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.004Z","level":"info","message":"llm_call_metrics","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"8835789c-1c57-40bf-98ce-6f00c938c617","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"8835789c-1c57-40bf-98ce-6f00c938c617","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.008Z","level":"info","message":"generation_resume_verified","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","jobId":"26c03764-2100-4ee8-9f44-8ed150a29e8e","generationRunId":"8835789c-1c57-40bf-98ce-6f00c938c617","template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:00:07.010Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","jobId":"26c03764-2100-4ee8-9f44-8ed150a29e8e","generationRunId":"8835789c-1c57-40bf-98ce-6f00c938c617","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
          at runMicrotasks (<anonymous>)
      at server.js:26740:28

  console.warn
    {"timestamp":"2025-12-04T14:00:07.020Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","jobId":"26c03764-2100-4ee8-9f44-8ed150a29e8e","generationRunId":"8835789c-1c57-40bf-98ce-6f00c938c617","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
          at runMicrotasks (<anonymous>)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:07.038Z","level":"info","message":"generation_cover_letters_completed","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","jobId":"26c03764-2100-4ee8-9f44-8ed150a29e8e","generationRunId":"8835789c-1c57-40bf-98ce-6f00c938c617","variants":2,"fallbackApplied":true,"template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.039Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","jobId":"26c03764-2100-4ee8-9f44-8ed150a29e8e","generationRunId":"8835789c-1c57-40bf-98ce-6f00c938c617","documentType":"resume","outputName":"original_upload","outputKeyPrefix":"cv/docx_text/8835789c-1c57-40bf-98ce-6f00c938c617/","originalUploadKey":"cv/docx_text/8835789c-1c57-40bf-98ce-6f00c938c617/original.docx","originalUploadExtension":".docx","templateId":"modern","requestedTemplateId":"modern","engine":"pdf-lib","bytes":9,"template":"modern","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.039Z","level":"info","message":"original_upload_pdf_generated","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","jobId":"26c03764-2100-4ee8-9f44-8ed150a29e8e","generationRunId":"8835789c-1c57-40bf-98ce-6f00c938c617","storageKey":"cv/docx_text/8835789c-1c57-40bf-98ce-6f00c938c617/original/original_upload.pdf","originalUploadKey":"cv/docx_text/8835789c-1c57-40bf-98ce-6f00c938c617/original.docx","originalUploadExtension":".docx","template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.040Z","level":"info","message":"pdf_generation_attempt","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","jobId":"26c03764-2100-4ee8-9f44-8ed150a29e8e","generationRunId":"8835789c-1c57-40bf-98ce-6f00c938c617","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/8835789c-1c57-40bf-98ce-6f00c938c617/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/8835789c-1c57-40bf-98ce-6f00c938c617/enhanced_modern.pdf","session":"8835789c-1c57-40bf-98ce-6f00c938c617","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8835789c-1c57-40bf-98ce-6f00c938c617","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.041Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","jobId":"26c03764-2100-4ee8-9f44-8ed150a29e8e","generationRunId":"8835789c-1c57-40bf-98ce-6f00c938c617","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/8835789c-1c57-40bf-98ce-6f00c938c617/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"8835789c-1c57-40bf-98ce-6f00c938c617","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8835789c-1c57-40bf-98ce-6f00c938c617","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.041Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","jobId":"26c03764-2100-4ee8-9f44-8ed150a29e8e","generationRunId":"8835789c-1c57-40bf-98ce-6f00c938c617","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/8835789c-1c57-40bf-98ce-6f00c938c617/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/8835789c-1c57-40bf-98ce-6f00c938c617/enhanced_modern.pdf","session":"8835789c-1c57-40bf-98ce-6f00c938c617","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8835789c-1c57-40bf-98ce-6f00c938c617","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.042Z","level":"info","message":"pdf_generation_attempt","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","jobId":"26c03764-2100-4ee8-9f44-8ed150a29e8e","generationRunId":"8835789c-1c57-40bf-98ce-6f00c938c617","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/8835789c-1c57-40bf-98ce-6f00c938c617/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/8835789c-1c57-40bf-98ce-6f00c938c617/enhanced_professional.pdf","session":"8835789c-1c57-40bf-98ce-6f00c938c617","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8835789c-1c57-40bf-98ce-6f00c938c617","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.042Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","jobId":"26c03764-2100-4ee8-9f44-8ed150a29e8e","generationRunId":"8835789c-1c57-40bf-98ce-6f00c938c617","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/8835789c-1c57-40bf-98ce-6f00c938c617/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"8835789c-1c57-40bf-98ce-6f00c938c617","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8835789c-1c57-40bf-98ce-6f00c938c617","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.043Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","jobId":"26c03764-2100-4ee8-9f44-8ed150a29e8e","generationRunId":"8835789c-1c57-40bf-98ce-6f00c938c617","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/8835789c-1c57-40bf-98ce-6f00c938c617/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/8835789c-1c57-40bf-98ce-6f00c938c617/enhanced_professional.pdf","session":"8835789c-1c57-40bf-98ce-6f00c938c617","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8835789c-1c57-40bf-98ce-6f00c938c617","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.043Z","level":"info","message":"pdf_generation_attempt","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","jobId":"26c03764-2100-4ee8-9f44-8ed150a29e8e","generationRunId":"8835789c-1c57-40bf-98ce-6f00c938c617","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/8835789c-1c57-40bf-98ce-6f00c938c617/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/8835789c-1c57-40bf-98ce-6f00c938c617/cover_letter_cover_modern.pdf","session":"8835789c-1c57-40bf-98ce-6f00c938c617","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8835789c-1c57-40bf-98ce-6f00c938c617","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.044Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","jobId":"26c03764-2100-4ee8-9f44-8ed150a29e8e","generationRunId":"8835789c-1c57-40bf-98ce-6f00c938c617","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/8835789c-1c57-40bf-98ce-6f00c938c617/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"8835789c-1c57-40bf-98ce-6f00c938c617","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8835789c-1c57-40bf-98ce-6f00c938c617","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.044Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","jobId":"26c03764-2100-4ee8-9f44-8ed150a29e8e","generationRunId":"8835789c-1c57-40bf-98ce-6f00c938c617","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/8835789c-1c57-40bf-98ce-6f00c938c617/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/8835789c-1c57-40bf-98ce-6f00c938c617/cover_letter_cover_modern.pdf","session":"8835789c-1c57-40bf-98ce-6f00c938c617","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8835789c-1c57-40bf-98ce-6f00c938c617","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.045Z","level":"info","message":"pdf_generation_attempt","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","jobId":"26c03764-2100-4ee8-9f44-8ed150a29e8e","generationRunId":"8835789c-1c57-40bf-98ce-6f00c938c617","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/8835789c-1c57-40bf-98ce-6f00c938c617/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/8835789c-1c57-40bf-98ce-6f00c938c617/cover_letter_cover_professional.pdf","session":"8835789c-1c57-40bf-98ce-6f00c938c617","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8835789c-1c57-40bf-98ce-6f00c938c617","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.045Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","jobId":"26c03764-2100-4ee8-9f44-8ed150a29e8e","generationRunId":"8835789c-1c57-40bf-98ce-6f00c938c617","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/8835789c-1c57-40bf-98ce-6f00c938c617/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"8835789c-1c57-40bf-98ce-6f00c938c617","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8835789c-1c57-40bf-98ce-6f00c938c617","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.046Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","jobId":"26c03764-2100-4ee8-9f44-8ed150a29e8e","generationRunId":"8835789c-1c57-40bf-98ce-6f00c938c617","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/8835789c-1c57-40bf-98ce-6f00c938c617/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/8835789c-1c57-40bf-98ce-6f00c938c617/cover_letter_cover_professional.pdf","session":"8835789c-1c57-40bf-98ce-6f00c938c617","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8835789c-1c57-40bf-98ce-6f00c938c617","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.050Z","level":"info","message":"llm_call_metrics","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"8835789c-1c57-40bf-98ce-6f00c938c617","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"8835789c-1c57-40bf-98ce-6f00c938c617","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.051Z","level":"info","message":"generation_completed","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","jobId":"26c03764-2100-4ee8-9f44-8ed150a29e8e","generationRunId":"8835789c-1c57-40bf-98ce-6f00c938c617","enhancedScore":80,"outputs":6,"template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.053Z","level":"info","message":"placeholder_record_deleted","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","jobId":"26c03764-2100-4ee8-9f44-8ed150a29e8e","placeholderIdentifier":"8835789c-1c57-40bf-98ce-6f00c938c617","template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"26c03764-2100-4ee8-9f44-8ed150a29e8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.054Z","level":"info","message":"http_request_completed","requestId":"8835789c-1c57-40bf-98ce-6f00c938c617","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":126,"contentLength":"58696","template":"unknown","session":"8835789c-1c57-40bf-98ce-6f00c938c617","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8835789c-1c57-40bf-98ce-6f00c938c617","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.059Z","level":"info","message":"http_request_received","requestId":"f7860829-2ad0-47a1-9db3-43961bdd6594","method":"POST","path":"/api/process-cv","template":"unknown","session":"f7860829-2ad0-47a1-9db3-43961bdd6594","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f7860829-2ad0-47a1-9db3-43961bdd6594","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.060Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.061Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.062Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.063Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.065Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/f7860829-2ad0-47a1-9db3-43961bdd6594/incoming/original.pdf","chunks":84,"timestamp":1764856807074}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5242880}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5242880,"newSize":5242880,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/f7860829-2ad0-47a1-9db3-43961bdd6594/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/f7860829-2ad0-47a1-9db3-43961bdd6594/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:00:07.076Z","level":"warn","message":"resume_upload_failed","requestId":"f7860829-2ad0-47a1-9db3-43961bdd6594","jobId":"5eef47ff-c140-4877-a605-1be0fb9172c8","storageError":false,"error":{"name":"MulterError","message":"File too large","code":"LIMIT_FILE_SIZE","stack":"MulterError: File too large\n    at abortWithCode (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:73:22)\n    at FileStream.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:136:11)\n    at FileStream.emit (node:events:513:28)\n    at SBMH.ssCb [as _cb] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:479:32)\n    at feed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:219:14)\n    at SBMH.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:391:12)\n    at _write (node:internal/streams/writable:332:10)\n    at Multipart.Writable.write (node:internal/streams/writable:336:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:754:22)\n    at IncomingMessage.emit (node:events:513:28)\n    at addChunk (node:internal/streams/readable:315:12)\n    at readableAddChunk (node:internal/streams/readable:289:9)\n    at IncomingMessage.Readable.push (node:internal/streams/readable:228:10)\n    at HTTPParser.parserOnBody (node:_http_common:140:24)"},"template":"unknown","session":"5eef47ff-c140-4877-a605-1be0fb9172c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5eef47ff-c140-4877-a605-1be0fb9172c8","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:24789:7
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at node_modules/multer/lib/remove-uploaded-files.js:20:9
      at Object.cb [as _removeFile] (lib/uploads/s3StreamingStorage.js:166:9)
      at remove (node_modules/multer/lib/make-middleware.js:60:19)
      at handleFile (node_modules/multer/lib/remove-uploaded-files.js:10:5)
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:25:3)
      at Counter.<anonymous> (node_modules/multer/lib/make-middleware.js:63:9)
      at Counter.decrement (node_modules/multer/lib/counter.js:15:32)
      at node_modules/multer/lib/make-middleware.js:143:34
      at cb (lib/uploads/s3StreamingStorage.js:82:9)
      at FileStream.finish (lib/uploads/s3StreamingStorage.js:149:11)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:00:07.082Z","level":"warn","message":"api_error_response","requestId":"f7860829-2ad0-47a1-9db3-43961bdd6594","jobId":"5eef47ff-c140-4877-a605-1be0fb9172c8","status":400,"error":{"code":"UPLOAD_VALIDATION_FAILED","message":"File too large","details":{"field":"resume"},"requestId":"f7860829-2ad0-47a1-9db3-43961bdd6594","jobId":"5eef47ff-c140-4877-a605-1be0fb9172c8"},"template":"unknown","session":"5eef47ff-c140-4877-a605-1be0fb9172c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5eef47ff-c140-4877-a605-1be0fb9172c8","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at sendError (server.js:3972:3)
      at respond (server.js:24797:9)
      at server.js:24801:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at node_modules/multer/lib/remove-uploaded-files.js:20:9
      at Object.cb [as _removeFile] (lib/uploads/s3StreamingStorage.js:166:9)
      at remove (node_modules/multer/lib/make-middleware.js:60:19)
      at handleFile (node_modules/multer/lib/remove-uploaded-files.js:10:5)
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:25:3)
      at Counter.<anonymous> (node_modules/multer/lib/make-middleware.js:63:9)
      at Counter.decrement (node_modules/multer/lib/counter.js:15:32)
      at node_modules/multer/lib/make-middleware.js:143:34
      at cb (lib/uploads/s3StreamingStorage.js:82:9)
      at FileStream.finish (lib/uploads/s3StreamingStorage.js:149:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.088Z","level":"info","message":"http_request_completed","requestId":"f7860829-2ad0-47a1-9db3-43961bdd6594","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":29,"contentLength":"215","template":"unknown","session":"f7860829-2ad0-47a1-9db3-43961bdd6594","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f7860829-2ad0-47a1-9db3-43961bdd6594","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.092Z","level":"info","message":"http_request_received","requestId":"e1d3575b-2aba-42ff-99c3-1c0b871c2210","method":"POST","path":"/api/process-cv","template":"unknown","session":"e1d3575b-2aba-42ff-99c3-1c0b871c2210","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e1d3575b-2aba-42ff-99c3-1c0b871c2210","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.094Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.095Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.096Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.098Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.100Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/e1d3575b-2aba-42ff-99c3-1c0b871c2210/incoming/original.pdf","chunks":1,"timestamp":1764856807102}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/e1d3575b-2aba-42ff-99c3-1c0b871c2210/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/e1d3575b-2aba-42ff-99c3-1c0b871c2210/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.108Z","level":"info","message":"process_cv_started","requestId":"e1d3575b-2aba-42ff-99c3-1c0b871c2210","jobId":"9a2a1702-5f40-4a58-8f93-cd68337dc5a6","manualJobDescriptionProvided":true,"template":"unknown","session":"9a2a1702-5f40-4a58-8f93-cd68337dc5a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a2a1702-5f40-4a58-8f93-cd68337dc5a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.109Z","level":"info","message":"template_selection","requestId":"e1d3575b-2aba-42ff-99c3-1c0b871c2210","jobId":"9a2a1702-5f40-4a58-8f93-cd68337dc5a6","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"9a2a1702-5f40-4a58-8f93-cd68337dc5a6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9a2a1702-5f40-4a58-8f93-cd68337dc5a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:07.109Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"e1d3575b-2aba-42ff-99c3-1c0b871c2210","jobId":"9a2a1702-5f40-4a58-8f93-cd68337dc5a6","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"9a2a1702-5f40-4a58-8f93-cd68337dc5a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a2a1702-5f40-4a58-8f93-cd68337dc5a6","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:00:07.115Z","level":"info","message":"initial_upload_completed","requestId":"e1d3575b-2aba-42ff-99c3-1c0b871c2210","jobId":"9a2a1702-5f40-4a58-8f93-cd68337dc5a6","bucket":"test-bucket","key":"cv/candidate/e1d3575b-2aba-42ff-99c3-1c0b871c2210/incoming/original.pdf","template":"unknown","session":"9a2a1702-5f40-4a58-8f93-cd68337dc5a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a2a1702-5f40-4a58-8f93-cd68337dc5a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.115Z","level":"info","message":"resume_text_extracted","requestId":"e1d3575b-2aba-42ff-99c3-1c0b871c2210","jobId":"9a2a1702-5f40-4a58-8f93-cd68337dc5a6","characters":70,"template":"unknown","session":"9a2a1702-5f40-4a58-8f93-cd68337dc5a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a2a1702-5f40-4a58-8f93-cd68337dc5a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.116Z","level":"info","message":"document_classification_ai_metrics","requestId":"e1d3575b-2aba-42ff-99c3-1c0b871c2210","jobId":"9a2a1702-5f40-4a58-8f93-cd68337dc5a6","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"6e7cfda39efd36ecdd0998d74c5dc8668e761fe838cd589d1b8e87517f67efbf","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"9a2a1702-5f40-4a58-8f93-cd68337dc5a6","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"9a2a1702-5f40-4a58-8f93-cd68337dc5a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.116Z","level":"info","message":"resume_classified","requestId":"e1d3575b-2aba-42ff-99c3-1c0b871c2210","jobId":"9a2a1702-5f40-4a58-8f93-cd68337dc5a6","isResume":false,"description":"an invoice document","confidence":0.4,"accepted":false,"overridden":false,"template":"unknown","session":"9a2a1702-5f40-4a58-8f93-cd68337dc5a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a2a1702-5f40-4a58-8f93-cd68337dc5a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:00:07.117Z","level":"warn","message":"resume_validation_failed","requestId":"e1d3575b-2aba-42ff-99c3-1c0b871c2210","jobId":"9a2a1702-5f40-4a58-8f93-cd68337dc5a6","reason":"not_identified_as_resume","description":"an invoice document","confidence":0.4,"wordCount":12,"invalidKey":"invalid/candidate/2025-12-04/e1d3575b-2aba-42ff-99c3-1c0b871c2210/an-invoice-b4004d32-1a06-46a6-bdee-9cbd0f8fea60.pdf","classification":"an invoice","template":"unknown","session":"9a2a1702-5f40-4a58-8f93-cd68337dc5a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a2a1702-5f40-4a58-8f93-cd68337dc5a6","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:25676:9
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:00:07.122Z","level":"warn","message":"api_error_response","requestId":"e1d3575b-2aba-42ff-99c3-1c0b871c2210","jobId":"9a2a1702-5f40-4a58-8f93-cd68337dc5a6","status":400,"error":{"code":"INVALID_RESUME_CONTENT","message":"You have uploaded an invoice document (classified as \"invoice\"). Detected invoice document keywords such as \"invoice\", \"bill to\", and \"payment terms\". Please upload a correct CV or resume to continue.","details":{"description":"an invoice document","confidence":0.4,"reason":"Detected invoice document keywords such as \"invoice\", \"bill to\", and \"payment terms\".","classification":"an invoice","className":"invoice","storageKey":"invalid/candidate/2025-12-04/e1d3575b-2aba-42ff-99c3-1c0b871c2210/an-invoice-b4004d32-1a06-46a6-bdee-9cbd0f8fea60.pdf","invalidStorageKey":"invalid/candidate/2025-12-04/e1d3575b-2aba-42ff-99c3-1c0b871c2210/an-invoice-b4004d32-1a06-46a6-bdee-9cbd0f8fea60.pdf"},"requestId":"e1d3575b-2aba-42ff-99c3-1c0b871c2210","jobId":"9a2a1702-5f40-4a58-8f93-cd68337dc5a6"},"template":"unknown","session":"9a2a1702-5f40-4a58-8f93-cd68337dc5a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9a2a1702-5f40-4a58-8f93-cd68337dc5a6","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at sendError (server.js:3972:3)
      at server.js:25751:14
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.127Z","level":"info","message":"http_request_completed","requestId":"e1d3575b-2aba-42ff-99c3-1c0b871c2210","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":35,"contentLength":"871","template":"unknown","session":"e1d3575b-2aba-42ff-99c3-1c0b871c2210","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e1d3575b-2aba-42ff-99c3-1c0b871c2210","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.131Z","level":"info","message":"http_request_received","requestId":"8c065124-f51a-4004-b297-3cbc2f0e030f","method":"POST","path":"/api/process-cv","template":"unknown","session":"8c065124-f51a-4004-b297-3cbc2f0e030f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8c065124-f51a-4004-b297-3cbc2f0e030f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.132Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.133Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.135Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.136Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.138Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/8c065124-f51a-4004-b297-3cbc2f0e030f/incoming/original.pdf","chunks":1,"timestamp":1764856807140}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":203,"durationMs":3}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/8c065124-f51a-4004-b297-3cbc2f0e030f/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/8c065124-f51a-4004-b297-3cbc2f0e030f/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":3}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.150Z","level":"info","message":"process_cv_started","requestId":"8c065124-f51a-4004-b297-3cbc2f0e030f","jobId":"e0689d89-9ef6-45c2-84fe-c5044e2c8994","manualJobDescriptionProvided":true,"template":"unknown","session":"e0689d89-9ef6-45c2-84fe-c5044e2c8994","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e0689d89-9ef6-45c2-84fe-c5044e2c8994","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.151Z","level":"info","message":"template_selection","requestId":"8c065124-f51a-4004-b297-3cbc2f0e030f","jobId":"e0689d89-9ef6-45c2-84fe-c5044e2c8994","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"e0689d89-9ef6-45c2-84fe-c5044e2c8994","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e0689d89-9ef6-45c2-84fe-c5044e2c8994","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.151Z","level":"info","message":"initial_upload_completed","requestId":"8c065124-f51a-4004-b297-3cbc2f0e030f","jobId":"e0689d89-9ef6-45c2-84fe-c5044e2c8994","bucket":"test-bucket","key":"cv/candidate/8c065124-f51a-4004-b297-3cbc2f0e030f/incoming/original.pdf","template":"unknown","session":"e0689d89-9ef6-45c2-84fe-c5044e2c8994","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e0689d89-9ef6-45c2-84fe-c5044e2c8994","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.151Z","level":"info","message":"resume_text_extracted","requestId":"8c065124-f51a-4004-b297-3cbc2f0e030f","jobId":"e0689d89-9ef6-45c2-84fe-c5044e2c8994","characters":52,"template":"unknown","session":"e0689d89-9ef6-45c2-84fe-c5044e2c8994","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e0689d89-9ef6-45c2-84fe-c5044e2c8994","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.152Z","level":"info","message":"document_classification_ai_metrics","requestId":"8c065124-f51a-4004-b297-3cbc2f0e030f","jobId":"e0689d89-9ef6-45c2-84fe-c5044e2c8994","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"b660b3e8ecbc83aad9e6543dcb4a0d862627f82012d98cdb58b183fb5f0cc539","outputDigest":"ce4b8bd954f55aa4d760051876705884299536b3f182fa6f09cbd2aaee0a6b16","latencyMs":0,"isResume":false,"confidence":0.2,"template":"document_classification","session":"e0689d89-9ef6-45c2-84fe-c5044e2c8994","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"e0689d89-9ef6-45c2-84fe-c5044e2c8994","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.153Z","level":"info","message":"resume_classified","requestId":"8c065124-f51a-4004-b297-3cbc2f0e030f","jobId":"e0689d89-9ef6-45c2-84fe-c5044e2c8994","isResume":false,"description":"a short memo","confidence":0.2,"accepted":false,"overridden":false,"template":"unknown","session":"e0689d89-9ef6-45c2-84fe-c5044e2c8994","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e0689d89-9ef6-45c2-84fe-c5044e2c8994","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:00:07.153Z","level":"warn","message":"resume_validation_failed","requestId":"8c065124-f51a-4004-b297-3cbc2f0e030f","jobId":"e0689d89-9ef6-45c2-84fe-c5044e2c8994","reason":"not_identified_as_resume","description":"a short memo","confidence":0.2,"wordCount":9,"invalidKey":"invalid/candidate/2025-12-04/8c065124-f51a-4004-b297-3cbc2f0e030f/a-short-memo-f74b7bd3-cf74-4bf6-a58b-27ad1289d0ce.docx","classification":"a short memo","template":"unknown","session":"e0689d89-9ef6-45c2-84fe-c5044e2c8994","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e0689d89-9ef6-45c2-84fe-c5044e2c8994","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:25676:9
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:00:07.158Z","level":"warn","message":"api_error_response","requestId":"8c065124-f51a-4004-b297-3cbc2f0e030f","jobId":"e0689d89-9ef6-45c2-84fe-c5044e2c8994","status":400,"error":{"code":"INVALID_RESUME_CONTENT","message":"You have uploaded a short memo document (classified as \"short_memo\"). Missing resume structure. Please upload a correct CV or resume to continue.","details":{"description":"a short memo","confidence":0.2,"reason":"Missing resume structure.","classification":"a short memo","className":"short_memo","storageKey":"invalid/candidate/2025-12-04/8c065124-f51a-4004-b297-3cbc2f0e030f/a-short-memo-f74b7bd3-cf74-4bf6-a58b-27ad1289d0ce.docx","invalidStorageKey":"invalid/candidate/2025-12-04/8c065124-f51a-4004-b297-3cbc2f0e030f/a-short-memo-f74b7bd3-cf74-4bf6-a58b-27ad1289d0ce.docx"},"requestId":"8c065124-f51a-4004-b297-3cbc2f0e030f","jobId":"e0689d89-9ef6-45c2-84fe-c5044e2c8994"},"template":"unknown","session":"e0689d89-9ef6-45c2-84fe-c5044e2c8994","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e0689d89-9ef6-45c2-84fe-c5044e2c8994","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at sendError (server.js:3972:3)
      at server.js:25751:14
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.164Z","level":"info","message":"http_request_completed","requestId":"8c065124-f51a-4004-b297-3cbc2f0e030f","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":33,"contentLength":"748","template":"unknown","session":"8c065124-f51a-4004-b297-3cbc2f0e030f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8c065124-f51a-4004-b297-3cbc2f0e030f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.165Z","level":"info","message":"http_request_received","requestId":"a7706d5d-c54c-4305-940f-f877c29343fe","method":"POST","path":"/api/process-cv","template":"unknown","session":"a7706d5d-c54c-4305-940f-f877c29343fe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a7706d5d-c54c-4305-940f-f877c29343fe","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.166Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.168Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.169Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.170Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.172Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/a7706d5d-c54c-4305-940f-f877c29343fe/incoming/original.pdf","chunks":1,"timestamp":1764856807176}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/a7706d5d-c54c-4305-940f-f877c29343fe/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/a7706d5d-c54c-4305-940f-f877c29343fe/incoming/original.pdf","uploadDurationMs":1,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.177Z","level":"info","message":"process_cv_started","requestId":"a7706d5d-c54c-4305-940f-f877c29343fe","jobId":"4de866d7-5186-46c9-a178-d2f4befa4eb7","manualJobDescriptionProvided":false,"template":"unknown","session":"4de866d7-5186-46c9-a178-d2f4befa4eb7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4de866d7-5186-46c9-a178-d2f4befa4eb7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.177Z","level":"info","message":"template_selection","requestId":"a7706d5d-c54c-4305-940f-f877c29343fe","jobId":"4de866d7-5186-46c9-a178-d2f4befa4eb7","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"4de866d7-5186-46c9-a178-d2f4befa4eb7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4de866d7-5186-46c9-a178-d2f4befa4eb7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:07.178Z","level":"warn","message":"job_description_missing","requestId":"a7706d5d-c54c-4305-940f-f877c29343fe","jobId":"4de866d7-5186-46c9-a178-d2f4befa4eb7","template":"unknown","session":"4de866d7-5186-46c9-a178-d2f4befa4eb7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4de866d7-5186-46c9-a178-d2f4befa4eb7","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:25105:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T14:00:07.184Z","level":"warn","message":"api_error_response","requestId":"a7706d5d-c54c-4305-940f-f877c29343fe","jobId":"4de866d7-5186-46c9-a178-d2f4befa4eb7","status":400,"error":{"code":"JOB_DESCRIPTION_REQUIRED","message":"manualJobDescription required","details":{"field":"manualJobDescription"},"requestId":"a7706d5d-c54c-4305-940f-f877c29343fe","jobId":"4de866d7-5186-46c9-a178-d2f4befa4eb7"},"template":"unknown","session":"4de866d7-5186-46c9-a178-d2f4befa4eb7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4de866d7-5186-46c9-a178-d2f4befa4eb7","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at sendError (server.js:3972:3)
      at server.js:25106:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:00:07.189Z","level":"info","message":"http_request_completed","requestId":"a7706d5d-c54c-4305-940f-f877c29343fe","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":24,"contentLength":"244","template":"unknown","session":"a7706d5d-c54c-4305-940f-f877c29343fe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a7706d5d-c54c-4305-940f-f877c29343fe","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.191Z","level":"info","message":"http_request_received","requestId":"13c86cc0-2b0f-4a51-a9ce-94b31a6db5e2","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"13c86cc0-2b0f-4a51-a9ce-94b31a6db5e2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"13c86cc0-2b0f-4a51-a9ce-94b31a6db5e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.192Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.193Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.195Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.196Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.197Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:07.198Z","level":"warn","message":"api_error_response","requestId":"13c86cc0-2b0f-4a51-a9ce-94b31a6db5e2","jobId":"e8e7286f-68e0-4548-91d9-b11428ab3f1e","status":400,"error":{"code":"JOB_ID_REQUIRED","message":"jobId is required to generate enhanced documents.","details":{},"requestId":"13c86cc0-2b0f-4a51-a9ce-94b31a6db5e2","jobId":"e8e7286f-68e0-4548-91d9-b11428ab3f1e"},"template":"unknown","session":"e8e7286f-68e0-4548-91d9-b11428ab3f1e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e8e7286f-68e0-4548-91d9-b11428ab3f1e","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at sendError (server.js:3972:3)
      at server.js:22515:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at assignJobContext (server.js:16425:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at serveStatic (node_modules/serve-static/index.js:75:16)
      at server.js:4960:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at tryServeHashedIndexAssetFromS3 (server.js:1192:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at serveIndexAssetAlias (server.js:1528:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4942:5
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4936:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at urlencodedParser (node_modules/body-parser/lib/types/urlencoded.js:85:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/body-parser/lib/read.js:137:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

  console.log
    {"timestamp":"2025-12-04T14:00:07.208Z","level":"info","message":"http_request_completed","requestId":"13c86cc0-2b0f-4a51-a9ce-94b31a6db5e2","method":"POST","path":"/api/generate-enhanced-docs","statusCode":400,"durationMs":17,"contentLength":"225","template":"unknown","session":"13c86cc0-2b0f-4a51-a9ce-94b31a6db5e2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"13c86cc0-2b0f-4a51-a9ce-94b31a6db5e2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.211Z","level":"info","message":"http_request_received","requestId":"644a307a-172a-4e8d-943f-b1a5537ac5de","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.212Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.213Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.214Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.215Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.216Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:07.218Z","level":"warn","message":"generation_job_context_missing","requestId":"644a307a-172a-4e8d-943f-b1a5537ac5de","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:22707:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.225Z","level":"info","message":"llm_call_metrics","requestId":"644a307a-172a-4e8d-943f-b1a5537ac5de","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"7ff1a2fe49f8d71808c8d1fdb99db5320bf5a75739ee80e7efed665ea9588077","outputDigest":"5af248b63fed3c73350376c1d32988fbeb95f6a40181a19b7e450c5651a56ea6","addedSkillCount":0,"template":"resume_rewrite","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.226Z","level":"info","message":"generation_section_rewrite_completed","requestId":"644a307a-172a-4e8d-943f-b1a5537ac5de","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"644a307a-172a-4e8d-943f-b1a5537ac5de","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.227Z","level":"info","message":"generation_resume_verified","requestId":"644a307a-172a-4e8d-943f-b1a5537ac5de","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"644a307a-172a-4e8d-943f-b1a5537ac5de","template":"unknown","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:00:07.231Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"644a307a-172a-4e8d-943f-b1a5537ac5de","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"644a307a-172a-4e8d-943f-b1a5537ac5de","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
          at runMicrotasks (<anonymous>)
      at server.js:23010:28

  console.log
    {"timestamp":"2025-12-04T14:00:07.236Z","level":"info","message":"generation_cover_letters_completed","requestId":"644a307a-172a-4e8d-943f-b1a5537ac5de","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"644a307a-172a-4e8d-943f-b1a5537ac5de","variants":2,"fallbackApplied":true,"template":"unknown","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.236Z","level":"info","message":"pdf_generation_attempt","requestId":"644a307a-172a-4e8d-943f-b1a5537ac5de","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"644a307a-172a-4e8d-943f-b1a5537ac5de","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/644a307a-172a-4e8d-943f-b1a5537ac5de/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jane_doe/644a307a-172a-4e8d-943f-b1a5537ac5de/enhanced_modern.pdf","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.237Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"644a307a-172a-4e8d-943f-b1a5537ac5de","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"644a307a-172a-4e8d-943f-b1a5537ac5de","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/644a307a-172a-4e8d-943f-b1a5537ac5de/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.237Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"644a307a-172a-4e8d-943f-b1a5537ac5de","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"644a307a-172a-4e8d-943f-b1a5537ac5de","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/644a307a-172a-4e8d-943f-b1a5537ac5de/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jane_doe/644a307a-172a-4e8d-943f-b1a5537ac5de/enhanced_modern.pdf","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.238Z","level":"info","message":"pdf_generation_attempt","requestId":"644a307a-172a-4e8d-943f-b1a5537ac5de","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"644a307a-172a-4e8d-943f-b1a5537ac5de","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/644a307a-172a-4e8d-943f-b1a5537ac5de/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jane_doe/644a307a-172a-4e8d-943f-b1a5537ac5de/enhanced_professional.pdf","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.238Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"644a307a-172a-4e8d-943f-b1a5537ac5de","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"644a307a-172a-4e8d-943f-b1a5537ac5de","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/644a307a-172a-4e8d-943f-b1a5537ac5de/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.238Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"644a307a-172a-4e8d-943f-b1a5537ac5de","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"644a307a-172a-4e8d-943f-b1a5537ac5de","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/644a307a-172a-4e8d-943f-b1a5537ac5de/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jane_doe/644a307a-172a-4e8d-943f-b1a5537ac5de/enhanced_professional.pdf","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.239Z","level":"info","message":"pdf_generation_attempt","requestId":"644a307a-172a-4e8d-943f-b1a5537ac5de","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"644a307a-172a-4e8d-943f-b1a5537ac5de","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/644a307a-172a-4e8d-943f-b1a5537ac5de/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jane_doe/644a307a-172a-4e8d-943f-b1a5537ac5de/cover_letter_cover_modern.pdf","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.239Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"644a307a-172a-4e8d-943f-b1a5537ac5de","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"644a307a-172a-4e8d-943f-b1a5537ac5de","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/644a307a-172a-4e8d-943f-b1a5537ac5de/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.240Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"644a307a-172a-4e8d-943f-b1a5537ac5de","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"644a307a-172a-4e8d-943f-b1a5537ac5de","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/644a307a-172a-4e8d-943f-b1a5537ac5de/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jane_doe/644a307a-172a-4e8d-943f-b1a5537ac5de/cover_letter_cover_modern.pdf","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.240Z","level":"info","message":"pdf_generation_attempt","requestId":"644a307a-172a-4e8d-943f-b1a5537ac5de","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"644a307a-172a-4e8d-943f-b1a5537ac5de","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/644a307a-172a-4e8d-943f-b1a5537ac5de/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jane_doe/644a307a-172a-4e8d-943f-b1a5537ac5de/cover_letter_cover_professional.pdf","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.241Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"644a307a-172a-4e8d-943f-b1a5537ac5de","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"644a307a-172a-4e8d-943f-b1a5537ac5de","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/644a307a-172a-4e8d-943f-b1a5537ac5de/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.241Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"644a307a-172a-4e8d-943f-b1a5537ac5de","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"644a307a-172a-4e8d-943f-b1a5537ac5de","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/644a307a-172a-4e8d-943f-b1a5537ac5de/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jane_doe/644a307a-172a-4e8d-943f-b1a5537ac5de/cover_letter_cover_professional.pdf","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.243Z","level":"info","message":"llm_call_metrics","requestId":"644a307a-172a-4e8d-943f-b1a5537ac5de","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.244Z","level":"info","message":"generation_completed","requestId":"644a307a-172a-4e8d-943f-b1a5537ac5de","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"644a307a-172a-4e8d-943f-b1a5537ac5de","enhancedScore":0,"outputs":4,"template":"unknown","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.245Z","level":"info","message":"http_request_completed","requestId":"644a307a-172a-4e8d-943f-b1a5537ac5de","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":34,"contentLength":"55422","template":"unknown","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"644a307a-172a-4e8d-943f-b1a5537ac5de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.248Z","level":"info","message":"http_request_received","requestId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.249Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.251Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.252Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.253Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.254Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:07.255Z","level":"warn","message":"generation_job_context_missing","requestId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:22707:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.265Z","level":"info","message":"llm_call_metrics","requestId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.266Z","level":"info","message":"generation_section_rewrite_completed","requestId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.268Z","level":"info","message":"generation_resume_verified","requestId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","template":"unknown","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:00:07.277Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
          at runMicrotasks (<anonymous>)
      at server.js:23010:28

  console.log
    {"timestamp":"2025-12-04T14:00:07.282Z","level":"info","message":"generation_cover_letters_completed","requestId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","variants":2,"fallbackApplied":true,"template":"unknown","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.283Z","level":"info","message":"pdf_generation_attempt","requestId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/125da025-70d3-4aa9-bb70-e0f6e1002c6c/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/125da025-70d3-4aa9-bb70-e0f6e1002c6c/enhanced_modern.pdf","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.283Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/125da025-70d3-4aa9-bb70-e0f6e1002c6c/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.284Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/125da025-70d3-4aa9-bb70-e0f6e1002c6c/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/125da025-70d3-4aa9-bb70-e0f6e1002c6c/enhanced_modern.pdf","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.284Z","level":"info","message":"pdf_generation_attempt","requestId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/125da025-70d3-4aa9-bb70-e0f6e1002c6c/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/125da025-70d3-4aa9-bb70-e0f6e1002c6c/enhanced_professional.pdf","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.285Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/125da025-70d3-4aa9-bb70-e0f6e1002c6c/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.285Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/125da025-70d3-4aa9-bb70-e0f6e1002c6c/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/125da025-70d3-4aa9-bb70-e0f6e1002c6c/enhanced_professional.pdf","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.285Z","level":"info","message":"pdf_generation_attempt","requestId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/125da025-70d3-4aa9-bb70-e0f6e1002c6c/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/125da025-70d3-4aa9-bb70-e0f6e1002c6c/cover_letter_cover_modern.pdf","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.286Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/125da025-70d3-4aa9-bb70-e0f6e1002c6c/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.286Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/125da025-70d3-4aa9-bb70-e0f6e1002c6c/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/125da025-70d3-4aa9-bb70-e0f6e1002c6c/cover_letter_cover_modern.pdf","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.287Z","level":"info","message":"pdf_generation_attempt","requestId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/125da025-70d3-4aa9-bb70-e0f6e1002c6c/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/125da025-70d3-4aa9-bb70-e0f6e1002c6c/cover_letter_cover_professional.pdf","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.287Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/125da025-70d3-4aa9-bb70-e0f6e1002c6c/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.288Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/125da025-70d3-4aa9-bb70-e0f6e1002c6c/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/125da025-70d3-4aa9-bb70-e0f6e1002c6c/cover_letter_cover_professional.pdf","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.291Z","level":"info","message":"llm_call_metrics","requestId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.292Z","level":"info","message":"generation_completed","requestId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","enhancedScore":0,"outputs":4,"template":"unknown","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.294Z","level":"info","message":"http_request_completed","requestId":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":46,"contentLength":"60025","template":"unknown","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"125da025-70d3-4aa9-bb70-e0f6e1002c6c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.297Z","level":"info","message":"http_request_received","requestId":"64395907-a0dd-4624-bc7b-26aadbddcf96","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.298Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.300Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.301Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.302Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.303Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:07.304Z","level":"warn","message":"generation_job_context_missing","requestId":"64395907-a0dd-4624-bc7b-26aadbddcf96","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:22707:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.311Z","level":"info","message":"llm_call_metrics","requestId":"64395907-a0dd-4624-bc7b-26aadbddcf96","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.312Z","level":"info","message":"generation_section_rewrite_completed","requestId":"64395907-a0dd-4624-bc7b-26aadbddcf96","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64395907-a0dd-4624-bc7b-26aadbddcf96","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.314Z","level":"info","message":"generation_resume_verified","requestId":"64395907-a0dd-4624-bc7b-26aadbddcf96","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64395907-a0dd-4624-bc7b-26aadbddcf96","template":"unknown","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:00:07.318Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"64395907-a0dd-4624-bc7b-26aadbddcf96","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64395907-a0dd-4624-bc7b-26aadbddcf96","invalidLetters":[{"key":"cover_letter1","issues":["placeholder_detected","weak_closing","section_heading_without_content"]}],"template":"unknown","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
          at runMicrotasks (<anonymous>)
      at server.js:23010:28

  console.warn
    {"timestamp":"2025-12-04T14:00:07.323Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"64395907-a0dd-4624-bc7b-26aadbddcf96","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64395907-a0dd-4624-bc7b-26aadbddcf96","missing":["cover_letter1"],"template":"unknown","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
          at runMicrotasks (<anonymous>)
      at server.js:23010:28

  console.log
    {"timestamp":"2025-12-04T14:00:07.329Z","level":"info","message":"generation_cover_letters_completed","requestId":"64395907-a0dd-4624-bc7b-26aadbddcf96","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64395907-a0dd-4624-bc7b-26aadbddcf96","variants":2,"fallbackApplied":true,"template":"unknown","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.329Z","level":"info","message":"pdf_generation_attempt","requestId":"64395907-a0dd-4624-bc7b-26aadbddcf96","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64395907-a0dd-4624-bc7b-26aadbddcf96","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/64395907-a0dd-4624-bc7b-26aadbddcf96/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/64395907-a0dd-4624-bc7b-26aadbddcf96/enhanced_modern.pdf","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.329Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"64395907-a0dd-4624-bc7b-26aadbddcf96","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64395907-a0dd-4624-bc7b-26aadbddcf96","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/64395907-a0dd-4624-bc7b-26aadbddcf96/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.330Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"64395907-a0dd-4624-bc7b-26aadbddcf96","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64395907-a0dd-4624-bc7b-26aadbddcf96","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/64395907-a0dd-4624-bc7b-26aadbddcf96/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/64395907-a0dd-4624-bc7b-26aadbddcf96/enhanced_modern.pdf","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.330Z","level":"info","message":"pdf_generation_attempt","requestId":"64395907-a0dd-4624-bc7b-26aadbddcf96","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64395907-a0dd-4624-bc7b-26aadbddcf96","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/64395907-a0dd-4624-bc7b-26aadbddcf96/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/64395907-a0dd-4624-bc7b-26aadbddcf96/enhanced_professional.pdf","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.331Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"64395907-a0dd-4624-bc7b-26aadbddcf96","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64395907-a0dd-4624-bc7b-26aadbddcf96","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/64395907-a0dd-4624-bc7b-26aadbddcf96/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.331Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"64395907-a0dd-4624-bc7b-26aadbddcf96","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64395907-a0dd-4624-bc7b-26aadbddcf96","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/64395907-a0dd-4624-bc7b-26aadbddcf96/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/64395907-a0dd-4624-bc7b-26aadbddcf96/enhanced_professional.pdf","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.332Z","level":"info","message":"pdf_generation_attempt","requestId":"64395907-a0dd-4624-bc7b-26aadbddcf96","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64395907-a0dd-4624-bc7b-26aadbddcf96","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/64395907-a0dd-4624-bc7b-26aadbddcf96/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/64395907-a0dd-4624-bc7b-26aadbddcf96/cover_letter_cover_modern.pdf","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.332Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"64395907-a0dd-4624-bc7b-26aadbddcf96","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64395907-a0dd-4624-bc7b-26aadbddcf96","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/64395907-a0dd-4624-bc7b-26aadbddcf96/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.333Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"64395907-a0dd-4624-bc7b-26aadbddcf96","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64395907-a0dd-4624-bc7b-26aadbddcf96","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/64395907-a0dd-4624-bc7b-26aadbddcf96/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/64395907-a0dd-4624-bc7b-26aadbddcf96/cover_letter_cover_modern.pdf","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.334Z","level":"info","message":"pdf_generation_attempt","requestId":"64395907-a0dd-4624-bc7b-26aadbddcf96","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64395907-a0dd-4624-bc7b-26aadbddcf96","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/64395907-a0dd-4624-bc7b-26aadbddcf96/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/64395907-a0dd-4624-bc7b-26aadbddcf96/cover_letter_cover_professional.pdf","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.334Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"64395907-a0dd-4624-bc7b-26aadbddcf96","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64395907-a0dd-4624-bc7b-26aadbddcf96","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/64395907-a0dd-4624-bc7b-26aadbddcf96/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.335Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"64395907-a0dd-4624-bc7b-26aadbddcf96","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64395907-a0dd-4624-bc7b-26aadbddcf96","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/64395907-a0dd-4624-bc7b-26aadbddcf96/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/64395907-a0dd-4624-bc7b-26aadbddcf96/cover_letter_cover_professional.pdf","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.337Z","level":"info","message":"llm_call_metrics","requestId":"64395907-a0dd-4624-bc7b-26aadbddcf96","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.338Z","level":"info","message":"generation_completed","requestId":"64395907-a0dd-4624-bc7b-26aadbddcf96","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64395907-a0dd-4624-bc7b-26aadbddcf96","enhancedScore":0,"outputs":4,"template":"unknown","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.339Z","level":"info","message":"http_request_completed","requestId":"64395907-a0dd-4624-bc7b-26aadbddcf96","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":42,"contentLength":"52626","template":"unknown","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64395907-a0dd-4624-bc7b-26aadbddcf96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.342Z","level":"info","message":"http_request_received","requestId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.343Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.344Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.345Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.347Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.347Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:07.348Z","level":"warn","message":"generation_job_context_missing","requestId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:22707:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.356Z","level":"info","message":"llm_call_metrics","requestId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.356Z","level":"info","message":"generation_section_rewrite_completed","requestId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.359Z","level":"info","message":"generation_resume_verified","requestId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","template":"unknown","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:00:07.362Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing"]}],"template":"unknown","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
          at runMicrotasks (<anonymous>)
      at server.js:23010:28

  console.log
    {"timestamp":"2025-12-04T14:00:07.367Z","level":"info","message":"generation_cover_letters_confident_closing_applied","requestId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","variants":["cover_letter1"],"template":"unknown","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.369Z","level":"info","message":"generation_cover_letters_completed","requestId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","variants":2,"fallbackApplied":true,"template":"unknown","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.369Z","level":"info","message":"pdf_generation_attempt","requestId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb/enhanced_modern.pdf","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.370Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.370Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb/enhanced_modern.pdf","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.371Z","level":"info","message":"pdf_generation_attempt","requestId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb/enhanced_professional.pdf","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.371Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.372Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb/enhanced_professional.pdf","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.372Z","level":"info","message":"pdf_generation_attempt","requestId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb/cover_letter_cover_modern.pdf","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.372Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.373Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb/cover_letter_cover_modern.pdf","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.374Z","level":"info","message":"pdf_generation_attempt","requestId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb/cover_letter_cover_professional.pdf","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.375Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.375Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb/cover_letter_cover_professional.pdf","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.377Z","level":"info","message":"llm_call_metrics","requestId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.378Z","level":"info","message":"generation_completed","requestId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","enhancedScore":0,"outputs":4,"template":"unknown","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.380Z","level":"info","message":"http_request_completed","requestId":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":38,"contentLength":"48347","template":"unknown","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ee5e2625-d5e6-40af-b3f1-c9aad8e61cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.382Z","level":"info","message":"http_request_received","requestId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.383Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.384Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.385Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.387Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.388Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:07.389Z","level":"warn","message":"generation_job_context_missing","requestId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:22707:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.396Z","level":"info","message":"llm_call_metrics","requestId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.397Z","level":"info","message":"generation_section_rewrite_completed","requestId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.399Z","level":"info","message":"generation_resume_verified","requestId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","template":"unknown","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:00:07.414Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","invalidLetters":[{"key":"cover_letter1","issues":["exceeds_word_limit"]},{"key":"cover_letter2","issues":["exceeds_word_limit"]}],"template":"unknown","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
          at runMicrotasks (<anonymous>)
      at server.js:23010:28

  console.warn
    {"timestamp":"2025-12-04T14:00:07.420Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
          at runMicrotasks (<anonymous>)
      at server.js:23010:28

  console.log
    {"timestamp":"2025-12-04T14:00:07.426Z","level":"info","message":"generation_cover_letters_completed","requestId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","variants":2,"fallbackApplied":true,"template":"unknown","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.426Z","level":"info","message":"pdf_generation_attempt","requestId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/133c77b7-c5d7-4a89-bd5f-39b0764fb7e1/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/133c77b7-c5d7-4a89-bd5f-39b0764fb7e1/enhanced_modern.pdf","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.427Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/133c77b7-c5d7-4a89-bd5f-39b0764fb7e1/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.427Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/133c77b7-c5d7-4a89-bd5f-39b0764fb7e1/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/133c77b7-c5d7-4a89-bd5f-39b0764fb7e1/enhanced_modern.pdf","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.428Z","level":"info","message":"pdf_generation_attempt","requestId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/133c77b7-c5d7-4a89-bd5f-39b0764fb7e1/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/133c77b7-c5d7-4a89-bd5f-39b0764fb7e1/enhanced_professional.pdf","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.428Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/133c77b7-c5d7-4a89-bd5f-39b0764fb7e1/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.429Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/133c77b7-c5d7-4a89-bd5f-39b0764fb7e1/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/133c77b7-c5d7-4a89-bd5f-39b0764fb7e1/enhanced_professional.pdf","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.429Z","level":"info","message":"pdf_generation_attempt","requestId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/133c77b7-c5d7-4a89-bd5f-39b0764fb7e1/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/133c77b7-c5d7-4a89-bd5f-39b0764fb7e1/cover_letter_cover_modern.pdf","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.429Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/133c77b7-c5d7-4a89-bd5f-39b0764fb7e1/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.430Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/133c77b7-c5d7-4a89-bd5f-39b0764fb7e1/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/133c77b7-c5d7-4a89-bd5f-39b0764fb7e1/cover_letter_cover_modern.pdf","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.430Z","level":"info","message":"pdf_generation_attempt","requestId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/133c77b7-c5d7-4a89-bd5f-39b0764fb7e1/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/133c77b7-c5d7-4a89-bd5f-39b0764fb7e1/cover_letter_cover_professional.pdf","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.431Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/133c77b7-c5d7-4a89-bd5f-39b0764fb7e1/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.431Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/133c77b7-c5d7-4a89-bd5f-39b0764fb7e1/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/133c77b7-c5d7-4a89-bd5f-39b0764fb7e1/cover_letter_cover_professional.pdf","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.438Z","level":"info","message":"llm_call_metrics","requestId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.438Z","level":"info","message":"generation_completed","requestId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","enhancedScore":0,"outputs":4,"template":"unknown","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.440Z","level":"info","message":"http_request_completed","requestId":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":58,"contentLength":"60025","template":"unknown","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"133c77b7-c5d7-4a89-bd5f-39b0764fb7e1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.442Z","level":"info","message":"http_request_received","requestId":"010ad79c-2128-4ba7-ae19-59319fc91ff3","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"010ad79c-2128-4ba7-ae19-59319fc91ff3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"010ad79c-2128-4ba7-ae19-59319fc91ff3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.443Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.445Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.446Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.447Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.448Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:07.449Z","level":"warn","message":"generation_job_context_missing","requestId":"010ad79c-2128-4ba7-ae19-59319fc91ff3","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"010ad79c-2128-4ba7-ae19-59319fc91ff3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"010ad79c-2128-4ba7-ae19-59319fc91ff3","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:22707:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.456Z","level":"info","message":"llm_call_metrics","requestId":"010ad79c-2128-4ba7-ae19-59319fc91ff3","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d49fc3c9f3e6b68c516d8ed2277f352be0cdf73d24dc9159a6ddd8d2156f86c9","outputDigest":"df45602e27dd18441258611754779b1df94aaddbe2a7ac6965c12432f6053bc4","addedSkillCount":0,"template":"resume_rewrite","session":"010ad79c-2128-4ba7-ae19-59319fc91ff3","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"010ad79c-2128-4ba7-ae19-59319fc91ff3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.456Z","level":"info","message":"generation_section_rewrite_completed","requestId":"010ad79c-2128-4ba7-ae19-59319fc91ff3","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"010ad79c-2128-4ba7-ae19-59319fc91ff3","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"010ad79c-2128-4ba7-ae19-59319fc91ff3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"010ad79c-2128-4ba7-ae19-59319fc91ff3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.458Z","level":"info","message":"generation_resume_verified","requestId":"010ad79c-2128-4ba7-ae19-59319fc91ff3","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"010ad79c-2128-4ba7-ae19-59319fc91ff3","template":"unknown","session":"010ad79c-2128-4ba7-ae19-59319fc91ff3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"010ad79c-2128-4ba7-ae19-59319fc91ff3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:00:07.460Z","level":"warn","message":"generation_cover_letters_unavailable","requestId":"010ad79c-2128-4ba7-ae19-59319fc91ff3","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"010ad79c-2128-4ba7-ae19-59319fc91ff3","unavailable":["cover_letter1","cover_letter2"],"template":"unknown","session":"010ad79c-2128-4ba7-ae19-59319fc91ff3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"010ad79c-2128-4ba7-ae19-59319fc91ff3","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20750:7)
          at runMicrotasks (<anonymous>)
      at server.js:23010:28

  console.log
    {"timestamp":"2025-12-04T14:00:07.466Z","level":"info","message":"generation_cover_letters_completed","requestId":"010ad79c-2128-4ba7-ae19-59319fc91ff3","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"010ad79c-2128-4ba7-ae19-59319fc91ff3","variants":0,"fallbackApplied":false,"template":"unknown","session":"010ad79c-2128-4ba7-ae19-59319fc91ff3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"010ad79c-2128-4ba7-ae19-59319fc91ff3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.466Z","level":"info","message":"pdf_generation_attempt","requestId":"010ad79c-2128-4ba7-ae19-59319fc91ff3","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"010ad79c-2128-4ba7-ae19-59319fc91ff3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/010ad79c-2128-4ba7-ae19-59319fc91ff3/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jamie_doe/010ad79c-2128-4ba7-ae19-59319fc91ff3/enhanced_modern.pdf","session":"010ad79c-2128-4ba7-ae19-59319fc91ff3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"010ad79c-2128-4ba7-ae19-59319fc91ff3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.467Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"010ad79c-2128-4ba7-ae19-59319fc91ff3","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"010ad79c-2128-4ba7-ae19-59319fc91ff3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/010ad79c-2128-4ba7-ae19-59319fc91ff3/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"010ad79c-2128-4ba7-ae19-59319fc91ff3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"010ad79c-2128-4ba7-ae19-59319fc91ff3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.467Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"010ad79c-2128-4ba7-ae19-59319fc91ff3","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"010ad79c-2128-4ba7-ae19-59319fc91ff3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/010ad79c-2128-4ba7-ae19-59319fc91ff3/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jamie_doe/010ad79c-2128-4ba7-ae19-59319fc91ff3/enhanced_modern.pdf","session":"010ad79c-2128-4ba7-ae19-59319fc91ff3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"010ad79c-2128-4ba7-ae19-59319fc91ff3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.468Z","level":"info","message":"pdf_generation_attempt","requestId":"010ad79c-2128-4ba7-ae19-59319fc91ff3","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"010ad79c-2128-4ba7-ae19-59319fc91ff3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/010ad79c-2128-4ba7-ae19-59319fc91ff3/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jamie_doe/010ad79c-2128-4ba7-ae19-59319fc91ff3/enhanced_professional.pdf","session":"010ad79c-2128-4ba7-ae19-59319fc91ff3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"010ad79c-2128-4ba7-ae19-59319fc91ff3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.468Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"010ad79c-2128-4ba7-ae19-59319fc91ff3","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"010ad79c-2128-4ba7-ae19-59319fc91ff3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/010ad79c-2128-4ba7-ae19-59319fc91ff3/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"010ad79c-2128-4ba7-ae19-59319fc91ff3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"010ad79c-2128-4ba7-ae19-59319fc91ff3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.469Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"010ad79c-2128-4ba7-ae19-59319fc91ff3","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"010ad79c-2128-4ba7-ae19-59319fc91ff3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/010ad79c-2128-4ba7-ae19-59319fc91ff3/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jamie_doe/010ad79c-2128-4ba7-ae19-59319fc91ff3/enhanced_professional.pdf","session":"010ad79c-2128-4ba7-ae19-59319fc91ff3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"010ad79c-2128-4ba7-ae19-59319fc91ff3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.470Z","level":"info","message":"llm_call_metrics","requestId":"010ad79c-2128-4ba7-ae19-59319fc91ff3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"010ad79c-2128-4ba7-ae19-59319fc91ff3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"010ad79c-2128-4ba7-ae19-59319fc91ff3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.470Z","level":"info","message":"generation_completed","requestId":"010ad79c-2128-4ba7-ae19-59319fc91ff3","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"010ad79c-2128-4ba7-ae19-59319fc91ff3","enhancedScore":0,"outputs":2,"template":"unknown","session":"010ad79c-2128-4ba7-ae19-59319fc91ff3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"010ad79c-2128-4ba7-ae19-59319fc91ff3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.472Z","level":"info","message":"http_request_completed","requestId":"010ad79c-2128-4ba7-ae19-59319fc91ff3","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":30,"contentLength":"32129","template":"unknown","session":"010ad79c-2128-4ba7-ae19-59319fc91ff3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"010ad79c-2128-4ba7-ae19-59319fc91ff3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.474Z","level":"info","message":"http_request_received","requestId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.475Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.476Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.477Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.479Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.480Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:07.482Z","level":"warn","message":"generation_change_log_load_failed","requestId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","bucket":"test-bucket","key":"cv/candidate/session/logs/change-log.json","error":{"name":"ReferenceError","message":"sessionScoreSnapshot is not defined","stack":"ReferenceError: sessionScoreSnapshot is not defined\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:22773:34\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:22775:13
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.487Z","level":"info","message":"generation_session_artifacts_refreshed","requestId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","reason":"job_description_changed","template":"unknown","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.490Z","level":"info","message":"llm_call_metrics","requestId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"acf1b9378acb575b229122bd0509d239fb40292b5a2de638f8974b10630dddf9","outputDigest":"d38deb915a9824cbd24a0a21322f3421cffa08850deba8b630d4c012e36accc6","addedSkillCount":0,"template":"resume_rewrite","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.490Z","level":"info","message":"generation_section_rewrite_completed","requestId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.490Z","level":"info","message":"llm_call_metrics","requestId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"a89c45c951abfe25af2671eb78aaf142165e3f6bd78d4b83089b4f9a78e64f20","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":1,"template":"project_summary","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.493Z","level":"info","message":"generation_resume_verified","requestId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","template":"unknown","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:00:07.496Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
          at runMicrotasks (<anonymous>)
      at server.js:23010:28

  console.warn
    {"timestamp":"2025-12-04T14:00:07.502Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
          at runMicrotasks (<anonymous>)
      at server.js:23010:28

  console.log
    {"timestamp":"2025-12-04T14:00:07.507Z","level":"info","message":"generation_cover_letters_completed","requestId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","variants":2,"fallbackApplied":true,"template":"unknown","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.508Z","level":"info","message":"pdf_generation_attempt","requestId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.508Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.508Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.509Z","level":"info","message":"pdf_generation_attempt","requestId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.510Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.511Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.511Z","level":"info","message":"pdf_generation_attempt","requestId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.511Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.512Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.512Z","level":"info","message":"pdf_generation_attempt","requestId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.513Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.513Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.515Z","level":"info","message":"llm_call_metrics","requestId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"6daad81d53ca29e2440dbdfd5e7ac149ac9bc677f5bd5a926b958a85793be6c1","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.516Z","level":"info","message":"generation_completed","requestId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","enhancedScore":0,"outputs":5,"template":"unknown","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.517Z","level":"info","message":"http_request_completed","requestId":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":43,"contentLength":"52667","template":"unknown","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"05940b04-b5bd-403a-9fd6-36fa73b1a1ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.520Z","level":"info","message":"http_request_received","requestId":"04392ca3-7454-480e-ad5e-24e80a2d7298","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.521Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.522Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.523Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.525Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.525Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:07.527Z","level":"warn","message":"generation_change_log_load_failed","requestId":"04392ca3-7454-480e-ad5e-24e80a2d7298","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","bucket":"test-bucket","key":"cv/candidate/session/logs/change-log.json","error":{"name":"ReferenceError","message":"sessionScoreSnapshot is not defined","stack":"ReferenceError: sessionScoreSnapshot is not defined\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:22773:34\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:22775:13
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.532Z","level":"info","message":"generation_session_artifacts_refreshed","requestId":"04392ca3-7454-480e-ad5e-24e80a2d7298","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","reason":"job_description_changed","template":"unknown","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.534Z","level":"info","message":"llm_call_metrics","requestId":"04392ca3-7454-480e-ad5e-24e80a2d7298","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"fc71d2d7420045c9674c39d1bc893139670e4554452723b0b8930f14ae74efd1","outputDigest":"994365ee088ebf4da994d91479825476737b8633f45dc9441cf82f317f739457","addedSkillCount":0,"template":"resume_rewrite","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.534Z","level":"info","message":"generation_section_rewrite_completed","requestId":"04392ca3-7454-480e-ad5e-24e80a2d7298","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"04392ca3-7454-480e-ad5e-24e80a2d7298","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.534Z","level":"info","message":"llm_call_metrics","requestId":"04392ca3-7454-480e-ad5e-24e80a2d7298","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"2941229673895ce87f4eb2dd47c041b77270273e0250170302676d5a10351fbf","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":1,"template":"project_summary","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.536Z","level":"info","message":"generation_resume_verified","requestId":"04392ca3-7454-480e-ad5e-24e80a2d7298","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"04392ca3-7454-480e-ad5e-24e80a2d7298","template":"unknown","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:00:07.539Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"04392ca3-7454-480e-ad5e-24e80a2d7298","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"04392ca3-7454-480e-ad5e-24e80a2d7298","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20544:7)
          at runMicrotasks (<anonymous>)
      at server.js:23010:28

  console.warn
    {"timestamp":"2025-12-04T14:00:07.544Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"04392ca3-7454-480e-ad5e-24e80a2d7298","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"04392ca3-7454-480e-ad5e-24e80a2d7298","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
          at runMicrotasks (<anonymous>)
      at server.js:23010:28

  console.log
    {"timestamp":"2025-12-04T14:00:07.550Z","level":"info","message":"generation_cover_letters_completed","requestId":"04392ca3-7454-480e-ad5e-24e80a2d7298","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"04392ca3-7454-480e-ad5e-24e80a2d7298","variants":2,"fallbackApplied":true,"template":"unknown","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.551Z","level":"info","message":"pdf_generation_attempt","requestId":"04392ca3-7454-480e-ad5e-24e80a2d7298","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"04392ca3-7454-480e-ad5e-24e80a2d7298","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.551Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"04392ca3-7454-480e-ad5e-24e80a2d7298","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"04392ca3-7454-480e-ad5e-24e80a2d7298","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.552Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"04392ca3-7454-480e-ad5e-24e80a2d7298","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"04392ca3-7454-480e-ad5e-24e80a2d7298","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.552Z","level":"info","message":"pdf_generation_attempt","requestId":"04392ca3-7454-480e-ad5e-24e80a2d7298","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"04392ca3-7454-480e-ad5e-24e80a2d7298","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.553Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"04392ca3-7454-480e-ad5e-24e80a2d7298","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"04392ca3-7454-480e-ad5e-24e80a2d7298","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.553Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"04392ca3-7454-480e-ad5e-24e80a2d7298","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"04392ca3-7454-480e-ad5e-24e80a2d7298","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.553Z","level":"info","message":"pdf_generation_attempt","requestId":"04392ca3-7454-480e-ad5e-24e80a2d7298","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"04392ca3-7454-480e-ad5e-24e80a2d7298","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.554Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"04392ca3-7454-480e-ad5e-24e80a2d7298","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"04392ca3-7454-480e-ad5e-24e80a2d7298","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.554Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"04392ca3-7454-480e-ad5e-24e80a2d7298","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"04392ca3-7454-480e-ad5e-24e80a2d7298","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.555Z","level":"info","message":"pdf_generation_attempt","requestId":"04392ca3-7454-480e-ad5e-24e80a2d7298","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"04392ca3-7454-480e-ad5e-24e80a2d7298","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.555Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"04392ca3-7454-480e-ad5e-24e80a2d7298","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"04392ca3-7454-480e-ad5e-24e80a2d7298","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.556Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"04392ca3-7454-480e-ad5e-24e80a2d7298","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"04392ca3-7454-480e-ad5e-24e80a2d7298","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.557Z","level":"info","message":"llm_call_metrics","requestId":"04392ca3-7454-480e-ad5e-24e80a2d7298","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"bb70bada40357e7ad85703e98908783ac38c79f83207e1ee038136c2f4863594","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.558Z","level":"info","message":"generation_completed","requestId":"04392ca3-7454-480e-ad5e-24e80a2d7298","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"04392ca3-7454-480e-ad5e-24e80a2d7298","enhancedScore":0,"outputs":5,"template":"unknown","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.560Z","level":"info","message":"http_request_completed","requestId":"04392ca3-7454-480e-ad5e-24e80a2d7298","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":40,"contentLength":"50998","template":"unknown","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"04392ca3-7454-480e-ad5e-24e80a2d7298","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.563Z","level":"info","message":"http_request_received","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","method":"POST","path":"/api/process-cv","template":"unknown","session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.564Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.565Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.566Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.568Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.569Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/3dd2f104-c36c-4516-85db-63ccec01e7a4/incoming/original.pdf","chunks":1,"timestamp":1764856807571}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/3dd2f104-c36c-4516-85db-63ccec01e7a4/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/3dd2f104-c36c-4516-85db-63ccec01e7a4/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.573Z","level":"info","message":"process_cv_started","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","jobId":"5701ea09-fcf0-438e-a485-976fefc515fa","manualJobDescriptionProvided":true,"template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.573Z","level":"info","message":"template_selection","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","jobId":"5701ea09-fcf0-438e-a485-976fefc515fa","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:07.574Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","jobId":"5701ea09-fcf0-438e-a485-976fefc515fa","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at server.js:25141:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24781:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:00:07.580Z","level":"info","message":"initial_upload_completed","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","jobId":"5701ea09-fcf0-438e-a485-976fefc515fa","bucket":"test-bucket","key":"cv/candidate/3dd2f104-c36c-4516-85db-63ccec01e7a4/incoming/original.pdf","template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.580Z","level":"info","message":"resume_text_extracted","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","jobId":"5701ea09-fcf0-438e-a485-976fefc515fa","characters":57,"template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.580Z","level":"info","message":"resume_classified","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","jobId":"5701ea09-fcf0-438e-a485-976fefc515fa","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.581Z","level":"info","message":"raw_upload_relocated","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","jobId":"5701ea09-fcf0-438e-a485-976fefc515fa","bucket":"test-bucket","fromKey":"cv/candidate/3dd2f104-c36c-4516-85db-63ccec01e7a4/incoming/original.pdf","toKey":"cv/professional_summary/3dd2f104-c36c-4516-85db-63ccec01e7a4/original.pdf","template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.581Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","jobId":"5701ea09-fcf0-438e-a485-976fefc515fa","bucket":"test-bucket","key":"cv/professional_summary/3dd2f104-c36c-4516-85db-63ccec01e7a4/original.pdf","template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.581Z","level":"info","message":"dynamo_initial_record_written","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","jobId":"5701ea09-fcf0-438e-a485-976fefc515fa","bucket":"test-bucket","key":"cv/professional_summary/3dd2f104-c36c-4516-85db-63ccec01e7a4/original.pdf","template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.582Z","level":"info","message":"upload_metadata_written","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","jobId":"5701ea09-fcf0-438e-a485-976fefc515fa","bucket":"test-bucket","key":"cv/professional_summary/3dd2f104-c36c-4516-85db-63ccec01e7a4/logs/log.json","template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.582Z","level":"info","message":"job_description_supplied_manually","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","jobId":"5701ea09-fcf0-438e-a485-976fefc515fa","characters":174,"template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.583Z","level":"info","message":"job_description_analyzed","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","jobId":"5701ea09-fcf0-438e-a485-976fefc515fa","jobTitle":"","jobSkills":5,"template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.583Z","level":"info","message":"resume_skills_analyzed","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","jobId":"5701ea09-fcf0-438e-a485-976fefc515fa","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.583Z","level":"info","message":"llm_call_metrics","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.584Z","level":"info","message":"process_cv_scoring_completed","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","jobId":"5701ea09-fcf0-438e-a485-976fefc515fa","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.586Z","level":"info","message":"llm_call_metrics","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"e0b0f289a004a53fc90e2f086b7a8368b36f3cb57e330732da1cad386d479cd5","addedSkillCount":0,"template":"resume_rewrite","session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.587Z","level":"info","message":"generation_section_rewrite_completed","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","jobId":"5701ea09-fcf0-438e-a485-976fefc515fa","generationRunId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.589Z","level":"info","message":"generation_resume_verified","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","jobId":"5701ea09-fcf0-438e-a485-976fefc515fa","generationRunId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:00:07.593Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","jobId":"5701ea09-fcf0-438e-a485-976fefc515fa","generationRunId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generateEnhancedDocumentsResponse (server.js:20733:7)
          at runMicrotasks (<anonymous>)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:07.598Z","level":"info","message":"generation_cover_letters_completed","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","jobId":"5701ea09-fcf0-438e-a485-976fefc515fa","generationRunId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","variants":2,"fallbackApplied":true,"template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.599Z","level":"info","message":"pdf_generation_attempt","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","jobId":"5701ea09-fcf0-438e-a485-976fefc515fa","generationRunId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/3dd2f104-c36c-4516-85db-63ccec01e7a4/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/3dd2f104-c36c-4516-85db-63ccec01e7a4/enhanced_modern.pdf","session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.599Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","jobId":"5701ea09-fcf0-438e-a485-976fefc515fa","generationRunId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/3dd2f104-c36c-4516-85db-63ccec01e7a4/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T14:00:07.600Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","jobId":"5701ea09-fcf0-438e-a485-976fefc515fa","generationRunId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/3dd2f104-c36c-4516-85db-63ccec01e7a4/","sessionId":"[REDACTED]","template":"modern","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3364:27)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/3dd2f104-c36c-4516-85db-63ccec01e7a4/enhanced_modern.pdf","environment":{"nodeEnv":"development","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generatePdfWithFallback (server.js:11016:7)
          at runMicrotasks (<anonymous>)
      at generateEnhancedDocumentsResponse (server.js:21311:11)
      at server.js:26740:28

  console.log
    {"timestamp":"2025-12-04T14:00:07.605Z","level":"info","message":"pdf_generation_attempt","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","jobId":"5701ea09-fcf0-438e-a485-976fefc515fa","generationRunId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/3dd2f104-c36c-4516-85db-63ccec01e7a4/","sessionId":"[REDACTED]","template":"professional","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/3dd2f104-c36c-4516-85db-63ccec01e7a4/enhanced_professional.pdf","session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.606Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","jobId":"5701ea09-fcf0-438e-a485-976fefc515fa","generationRunId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/3dd2f104-c36c-4516-85db-63ccec01e7a4/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.606Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","jobId":"5701ea09-fcf0-438e-a485-976fefc515fa","generationRunId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/3dd2f104-c36c-4516-85db-63ccec01e7a4/","sessionId":"[REDACTED]","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/3dd2f104-c36c-4516-85db-63ccec01e7a4/enhanced_professional.pdf","session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.606Z","level":"info","message":"pdf_generation_attempt","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","jobId":"5701ea09-fcf0-438e-a485-976fefc515fa","generationRunId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/3dd2f104-c36c-4516-85db-63ccec01e7a4/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/3dd2f104-c36c-4516-85db-63ccec01e7a4/enhanced_professional.pdf","session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.607Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","jobId":"5701ea09-fcf0-438e-a485-976fefc515fa","generationRunId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/3dd2f104-c36c-4516-85db-63ccec01e7a4/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.607Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","jobId":"5701ea09-fcf0-438e-a485-976fefc515fa","generationRunId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/3dd2f104-c36c-4516-85db-63ccec01e7a4/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/3dd2f104-c36c-4516-85db-63ccec01e7a4/enhanced_professional.pdf","session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.608Z","level":"info","message":"pdf_generation_attempt","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","jobId":"5701ea09-fcf0-438e-a485-976fefc515fa","generationRunId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/3dd2f104-c36c-4516-85db-63ccec01e7a4/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/3dd2f104-c36c-4516-85db-63ccec01e7a4/cover_letter_cover_modern.pdf","session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.608Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","jobId":"5701ea09-fcf0-438e-a485-976fefc515fa","generationRunId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/3dd2f104-c36c-4516-85db-63ccec01e7a4/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.609Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","jobId":"5701ea09-fcf0-438e-a485-976fefc515fa","generationRunId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/3dd2f104-c36c-4516-85db-63ccec01e7a4/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":16,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/3dd2f104-c36c-4516-85db-63ccec01e7a4/cover_letter_cover_modern.pdf","session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.609Z","level":"info","message":"pdf_generation_attempt","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","jobId":"5701ea09-fcf0-438e-a485-976fefc515fa","generationRunId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/3dd2f104-c36c-4516-85db-63ccec01e7a4/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/3dd2f104-c36c-4516-85db-63ccec01e7a4/cover_letter_cover_professional.pdf","session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.610Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","jobId":"5701ea09-fcf0-438e-a485-976fefc515fa","generationRunId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/3dd2f104-c36c-4516-85db-63ccec01e7a4/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.610Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","jobId":"5701ea09-fcf0-438e-a485-976fefc515fa","generationRunId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/3dd2f104-c36c-4516-85db-63ccec01e7a4/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":22,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/3dd2f104-c36c-4516-85db-63ccec01e7a4/cover_letter_cover_professional.pdf","session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.612Z","level":"info","message":"llm_call_metrics","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"b81624598eca82514b81f4fd0ef858c4f8eda9605bf4a3b33ed31144fa2daed3","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.612Z","level":"info","message":"generation_completed","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","jobId":"5701ea09-fcf0-438e-a485-976fefc515fa","generationRunId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","enhancedScore":80,"outputs":5,"template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.613Z","level":"info","message":"placeholder_record_deleted","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","jobId":"5701ea09-fcf0-438e-a485-976fefc515fa","placeholderIdentifier":"3dd2f104-c36c-4516-85db-63ccec01e7a4","template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5701ea09-fcf0-438e-a485-976fefc515fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.614Z","level":"info","message":"http_request_completed","requestId":"3dd2f104-c36c-4516-85db-63ccec01e7a4","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":51,"contentLength":"59519","template":"unknown","session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3dd2f104-c36c-4516-85db-63ccec01e7a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.616Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"2025","attempt":1,"totalAttempts":2,"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.620Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"2025","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T14:00:07.621Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"2025","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","code":"TEMPLATE_RENDER_FAILED","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3469:25)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generatePdfWithFallback (server.js:11016:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3483:20)

  console.log
    {"timestamp":"2025-12-04T14:00:07.626Z","level":"info","message":"pdf_generation_backstop_succeeded","documentType":"resume","template":"2025","templatesBackstopped":["2025"],"backstopResults":[{"templateId":"2025","bytes":1024}],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.626Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"modern","attempt":2,"totalAttempts":2,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.627Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.627Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"modern","attempt":2,"bytes":10,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.628Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"modern","attempt":1,"totalAttempts":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.629Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T14:00:07.629Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"modern","attempt":1,"error":{"name":"Error","message":"Modern renderer unavailable","stack":"Error: Modern renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3508:30)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generatePdfWithFallback (server.js:11016:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3512:20)

  console.log
    {"timestamp":"2025-12-04T14:00:07.635Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"professional","attempt":2,"totalAttempts":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.635Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"professional","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.636Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.636Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"2025","attempt":1,"totalAttempts":3,"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.637Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"2025","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T14:00:07.637Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"2025","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","code":"TEMPLATE_RENDER_FAILED","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3530:25)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generatePdfWithFallback (server.js:11016:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3543:20)

  console.log
    {"timestamp":"2025-12-04T14:00:07.642Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"professional","attempt":2,"totalAttempts":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.643Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"professional","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.643Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.644Z","level":"info","message":"pdf_generation_attempt","documentType":"cover_letter","template":"cover_modern","attempt":1,"totalAttempts":1,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cover_letter_cover_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.645Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"cover_letter","template":"cover_modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T14:00:07.646Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"cover_letter","template":"cover_modern","attempt":1,"error":{"name":"Error","message":"Primary renderer offline","stack":"Error: Primary renderer offline\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3561:48)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generatePdfWithFallback (server.js:11016:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3598:5)

  console.warn
    {"timestamp":"2025-12-04T14:00:07.651Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","forcedFallback":false,"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generatePdfWithFallback (server.js:11160:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3598:5)

  console.error
    {"timestamp":"2025-12-04T14:00:07.656Z","level":"error","message":"pdf_generation_plain_fallback_failed","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","error":{"name":"Error","message":"Plain fallback offline","stack":"Error: Plain fallback offline\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3563:13\n    at generatePlainPdfFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9796:12)\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11164:36)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3598:5)"},"forcedFallback":false,"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generatePdfWithFallback (server.js:11209:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3598:5)

  console.error
    {"timestamp":"2025-12-04T14:00:07.661Z","level":"error","message":"pdf_generation_minimal_fallback_failed","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","forcedFallback":false,"error":{"name":"Error","message":"Minimal fallback unavailable","stack":"Error: Minimal fallback unavailable\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3566:13\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11230:29)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3598:5)"},"previousError":{"name":"Error","message":"Plain fallback offline","stack":"Error: Plain fallback offline\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3563:13\n    at generatePlainPdfFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9796:12)\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11164:36)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3598:5)"},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generatePdfWithFallback (server.js:11253:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3598:5)

  console.error
    {"timestamp":"2025-12-04T14:00:07.666Z","level":"error","message":"pdf_generation_all_attempts_failed","documentType":"cover_letter","templates":["cover_modern"],"error":{"name":"Error","message":"Minimal fallback unavailable","stack":"Error: Minimal fallback unavailable\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3566:13\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11230:29)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3598:5)"},"targetFilePath":"cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"summary":"Unable to generate cover letter PDF. Tried templates: Modern Cover Letter. Last error: Minimal fallback unavailable","messages":["Unable to generate cover letter PDF. Tried templates: Modern Cover Letter. Last error: Minimal fallback unavailable"],"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3461 |     const safePayload = sanitizeLogPayload(payload);
      3462 |     const serialised = JSON.stringify(safePayload);
    > 3463 |     logFn(serialised);
           |     ^
      3464 |     if (level === 'error') {
      3465 |       scheduleErrorLog(safePayload);
      3466 |     }

      at logStructured (server.js:3463:5)
      at generatePdfWithFallback (server.js:11275:3)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3598:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.700Z","level":"info","message":"http_request_received","requestId":"36e5c73c-77c9-442a-b0c1-5d7737bb51eb","method":"POST","path":"/api/change-log","template":"unknown","session":"36e5c73c-77c9-442a-b0c1-5d7737bb51eb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"36e5c73c-77c9-442a-b0c1-5d7737bb51eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.701Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.702Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.703Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.705Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.705Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.708Z","level":"info","message":"change_log_updated","requestId":"36e5c73c-77c9-442a-b0c1-5d7737bb51eb","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.709Z","level":"info","message":"http_request_completed","requestId":"36e5c73c-77c9-442a-b0c1-5d7737bb51eb","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":9,"contentLength":"48197","template":"unknown","session":"36e5c73c-77c9-442a-b0c1-5d7737bb51eb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"36e5c73c-77c9-442a-b0c1-5d7737bb51eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.712Z","level":"info","message":"http_request_received","requestId":"5c712daf-e859-48c2-a001-d975bc09f93f","method":"POST","path":"/api/change-log","template":"unknown","session":"5c712daf-e859-48c2-a001-d975bc09f93f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5c712daf-e859-48c2-a001-d975bc09f93f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.713Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.714Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.716Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.717Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.718Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.720Z","level":"info","message":"change_log_updated","requestId":"5c712daf-e859-48c2-a001-d975bc09f93f","jobId":"job-321","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-321","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-321","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.720Z","level":"info","message":"http_request_completed","requestId":"5c712daf-e859-48c2-a001-d975bc09f93f","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":8,"contentLength":"1958","template":"unknown","session":"5c712daf-e859-48c2-a001-d975bc09f93f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5c712daf-e859-48c2-a001-d975bc09f93f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.724Z","level":"info","message":"http_request_received","requestId":"f613014c-8b72-40fc-a7d4-825d3f21b1ff","method":"POST","path":"/api/change-log","template":"unknown","session":"f613014c-8b72-40fc-a7d4-825d3f21b1ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f613014c-8b72-40fc-a7d4-825d3f21b1ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.725Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.726Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.727Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.729Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.729Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.732Z","level":"info","message":"change_log_updated","requestId":"f613014c-8b72-40fc-a7d4-825d3f21b1ff","jobId":"job-789","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-789","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-789","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.732Z","level":"info","message":"http_request_completed","requestId":"f613014c-8b72-40fc-a7d4-825d3f21b1ff","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":8,"contentLength":"6061","template":"unknown","session":"f613014c-8b72-40fc-a7d4-825d3f21b1ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f613014c-8b72-40fc-a7d4-825d3f21b1ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.735Z","level":"info","message":"http_request_received","requestId":"eb941368-70c1-4937-ade4-ef6e9461a12e","method":"POST","path":"/api/change-log","template":"unknown","session":"eb941368-70c1-4937-ade4-ef6e9461a12e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb941368-70c1-4937-ade4-ef6e9461a12e","build":"local-dev","artifactType":"none"},"userId":"user-789"}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.736Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.737Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.738Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.739Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.740Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.741Z","level":"info","message":"change_log_updated","requestId":"eb941368-70c1-4937-ade4-ef6e9461a12e","jobId":"job-session","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-session","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-session","build":"local-dev","artifactType":"none"},"userId":"user-789"}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.742Z","level":"info","message":"http_request_completed","requestId":"eb941368-70c1-4937-ade4-ef6e9461a12e","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":7,"contentLength":"1213","template":"unknown","session":"eb941368-70c1-4937-ade4-ef6e9461a12e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eb941368-70c1-4937-ade4-ef6e9461a12e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.743Z","level":"info","message":"http_request_received","requestId":"8057b501-23cc-4950-86f6-0befdd801c83","method":"POST","path":"/api/change-log","template":"unknown","session":"8057b501-23cc-4950-86f6-0befdd801c83","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8057b501-23cc-4950-86f6-0befdd801c83","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.744Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.745Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.747Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.748Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.749Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.750Z","level":"info","message":"change_log_updated","requestId":"8057b501-23cc-4950-86f6-0befdd801c83","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.750Z","level":"info","message":"http_request_completed","requestId":"8057b501-23cc-4950-86f6-0befdd801c83","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":7,"contentLength":"789","template":"unknown","session":"8057b501-23cc-4950-86f6-0befdd801c83","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8057b501-23cc-4950-86f6-0befdd801c83","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.753Z","level":"info","message":"http_request_received","requestId":"140fe555-8599-4835-86c0-3cc557d186cc","method":"POST","path":"/api/change-log","template":"unknown","session":"140fe555-8599-4835-86c0-3cc557d186cc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"140fe555-8599-4835-86c0-3cc557d186cc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.754Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.755Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.756Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.757Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.758Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.759Z","level":"info","message":"change_log_updated","requestId":"140fe555-8599-4835-86c0-3cc557d186cc","jobId":"job-123","route":"change-log","entries":0,"action":"remove","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.760Z","level":"info","message":"http_request_completed","requestId":"140fe555-8599-4835-86c0-3cc557d186cc","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":7,"contentLength":"350","template":"unknown","session":"140fe555-8599-4835-86c0-3cc557d186cc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"140fe555-8599-4835-86c0-3cc557d186cc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.762Z","level":"info","message":"http_request_received","requestId":"439d2b13-5b27-488f-8e86-411984a8953c","method":"POST","path":"/api/change-log","template":"unknown","session":"439d2b13-5b27-488f-8e86-411984a8953c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"439d2b13-5b27-488f-8e86-411984a8953c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.763Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.764Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.765Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.767Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.767Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.769Z","level":"info","message":"change_log_updated","requestId":"439d2b13-5b27-488f-8e86-411984a8953c","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.769Z","level":"info","message":"http_request_completed","requestId":"439d2b13-5b27-488f-8e86-411984a8953c","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":7,"contentLength":"1151","template":"unknown","session":"439d2b13-5b27-488f-8e86-411984a8953c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"439d2b13-5b27-488f-8e86-411984a8953c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.772Z","level":"info","message":"http_request_received","requestId":"a15e061e-9f1f-4c51-a018-812ff656619c","method":"POST","path":"/api/change-log","template":"unknown","session":"a15e061e-9f1f-4c51-a018-812ff656619c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a15e061e-9f1f-4c51-a018-812ff656619c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.772Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.774Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.775Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.776Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.777Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.778Z","level":"info","message":"change_log_updated","requestId":"a15e061e-9f1f-4c51-a018-812ff656619c","jobId":"job-123","route":"change-log","entries":0,"action":"remove","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.778Z","level":"info","message":"http_request_completed","requestId":"a15e061e-9f1f-4c51-a018-812ff656619c","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":6,"contentLength":"596","template":"unknown","session":"a15e061e-9f1f-4c51-a018-812ff656619c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a15e061e-9f1f-4c51-a018-812ff656619c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.781Z","level":"info","message":"http_request_received","requestId":"5ad8e2b9-1b45-418f-a83b-05463155f6b0","method":"POST","path":"/api/change-log","template":"unknown","session":"5ad8e2b9-1b45-418f-a83b-05463155f6b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ad8e2b9-1b45-418f-a83b-05463155f6b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.782Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.783Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.784Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.786Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.786Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

  console.log
    {"timestamp":"2025-12-04T14:00:07.789Z","level":"info","message":"change_log_updated","requestId":"5ad8e2b9-1b45-418f-a83b-05463155f6b0","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:00:07.789Z","level":"info","message":"http_request_completed","requestId":"5ad8e2b9-1b45-418f-a83b-05463155f6b0","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":8,"contentLength":"2337","template":"unknown","session":"5ad8e2b9-1b45-418f-a83b-05463155f6b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ad8e2b9-1b45-418f-a83b-05463155f6b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3463:5)

FAIL tests/server.test.mjs (277.893 s)
  health check
     GET /healthz (430 ms)
  static asset fallbacks
     GET /favicon.ico returns 204 (126 ms)
     serves hashed index asset from S3 when local file is missing (360 ms)
     serves hashed index asset directly from the bundled client when available (30006 ms)
     strips API Gateway stage prefixes before resolving static index aliases (30004 ms)
     performs HEAD lookup against S3 for hashed index asset metadata (45 ms)
     serves the latest index asset alias via S3 when local files are unavailable (30005 ms)
     serves the index asset alias via the S3 manifest when the local manifest is missing (30004 ms)
     serves the index asset alias when the manifest contains prefixed S3 keys (30003 ms)
     serves the index asset alias via manifest fallback when the primary bundle is missing from S3 (30005 ms)
  static asset proxy endpoint
     serves the index alias via the local build (30003 ms)
     normalizes stray punctuation in proxy asset queries (30007 ms)
     strips inline alias annotations from hashed proxy asset queries (75 ms)
     falls back to S3 when the hashed bundle is unavailable locally (30005 ms)
     degrades hashed proxy requests to the index alias when upstream assets are missing (102 ms)
     degrades direct hashed asset requests to the index alias when upstream bundles are missing (51 ms)
     rejects invalid asset paths (24 ms)
  static asset manifest endpoint
     returns manifest data when available (14 ms)
     allows forcing a manifest refresh via query parameter (22 ms)
     returns 503 when manifest is unavailable (33 ms)
  /api/process-cv
     handles DynamoDB table lifecycle (350 ms)
     removes stale session change logs when starting a new upload session (85 ms)
     removes session change log data when the session prefix is reused (70 ms)
     requires manual job description input (134 ms)
     sanitizes manual job description input before analysis (126 ms)
     rejects manual job description input containing prohibited HTML tags (35 ms)
     stores sanitized job description as session input metadata (58 ms)
     accepts uploads without a LinkedIn profile URL (54 ms)
     malformed AI response (71 ms)
     handles code-fenced JSON with extra text (86 ms)
     handles JSON surrounded by text (81 ms)
     returns presigned PDF URLs with labeled asset types (115 ms)
     returns a structured error when download URLs cannot be generated (127 ms)
     cover letter urls include structured metadata (75 ms)
     uses provided templates in preferred order (58 ms)
     uses templates array (63 ms)
     filters AI guidance lines (68 ms)
     resume prompt asks for a project matching job skills (65 ms)
     inserts project into resume text (56 ms)
     adds project section when job description provided (56 ms)
     cover letters omit placeholder sections (60 ms)
     normalizes structured cover letter responses into text (51 ms)
     uses sanitized resume fallback when AI returns plain text for versions (58 ms)
     falls back to plain PDFs when template rendering fails (210 ms)
     final CV includes updated title, project, and skills (52 ms)
     missing file (24 ms)
     unsupported file type (25 ms)
     rejects non-resume content with descriptive feedback (39 ms)
     requires re-upload when classification does not identify a CV (35 ms)
     missing job description text (25 ms)
    download link refresh
       resigns an existing artifact key for the active job (22 ms)
       returns not found when the storage key does not match the job context (14 ms)
    resume size handling
       accepts tiny PDF (32 KB) uploads up to 5 MB (53 ms)
       accepts small DOCX (256 KB) uploads up to 5 MB (70 ms)
       accepts mid-sized PDF (2 MB) uploads up to 5 MB (60 ms)
       accepts near-limit DOCX (just under 5 MB) uploads up to 5 MB (129 ms)
       rejects resumes larger than 5 MB (35 ms)
  /api/generate-enhanced-docs
     responds with structured details when jobId is missing (20 ms)
     queues message when fallback cover letters are used (37 ms)
     replaces whitespace cover letters with fallback copy (48 ms)
     audits cover letters for placeholders and applies fallback (44 ms)
     replaces weak closing cover letters with confident fallback copy (40 ms)
     replaces cover letters exceeding the word limit with confident fallback copy (61 ms)
     surfaces message when cover letters remain unavailable (31 ms)
     refreshes session artifacts when job description changes for a new enhancement (46 ms)
     refreshes session artifacts automatically when job description changes (43 ms)
     persists template vs population errors in stage metadata (54 ms)
  generatePdfWithFallback
     records retry message when 2025 renderer fails (12 ms)
     announces next template when fallback occurs for non-2025 resume (8 ms)
     announces actual next template when 2025 fallback prefers contrast option (8 ms)
     throws explicit PdfGenerationError with summary when all strategies fail (28 ms)
  classifyDocument
     identifies resumes by section structure
     detects cover letters (2 ms)
     rejects job descriptions that mimic resume sections
  extractText
     extracts text from pdf
     extracts text from docx
     guides user when pdf parsing fails (17 ms)
     guides user when docx parsing fails
     extracts text from doc (3 ms)
     rejects plain text files
  client download labels
     App displays correct labels for each file type (2 ms)
  change log persistence safeguards
     truncates oversized change log fields before persisting (12 ms)
     persists category changelog details for ATS, skills, and related sections (12 ms)
     captures rescore summary and updates session score snapshot (11 ms)
     stores session change logs under a user session prefix when no prior key exists (9 ms)
  change log session visibility
     persists reverted entries when updating the change log (9 ms)
     stores rejected entries in the session change log dismissed list (9 ms)
     persists cover letter change log payloads to S3 (10 ms)
     removing a cover letter entry records dismissal state in S3 (9 ms)
     persists activity logs from nested payloads into the session change log (12 ms)

   static asset fallbacks  serves hashed index asset directly from the bundled client when available

    ReferenceError: getStaticProxyMetadataConfig is not defined

      1540 |     res,
      1541 |     requestPath: req.path,
    > 1542 |     metadataConfig: getStaticProxyMetadataConfig(req),
           |                     ^
      1543 |   });
      1544 | }
      1545 |

      at serveIndexAssetAlias (server.js:1542:21)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4942:5
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4936:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at urlencodedParser (node_modules/body-parser/lib/types/urlencoded.js:94:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at jsonParser (node_modules/body-parser/lib/types/json.js:113:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4929:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4862:12
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4851:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4846:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at cors (node_modules/cors/lib/index.js:188:7)
      at node_modules/cors/lib/index.js:224:17
      at origin (server.js:4817:9)
      at node_modules/cors/lib/index.js:219:13
      at optionsCallback (node_modules/cors/lib/index.js:199:9)
      at corsMiddleware (node_modules/cors/lib/index.js:204:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4808:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4784:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4755:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4732:12
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at expressInit (node_modules/express/lib/middleware/init.js:40:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at query (node_modules/express/lib/middleware/query.js:45:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)

   static asset fallbacks  serves hashed index asset directly from the bundled client when available

    thrown: "Exceeded timeout of 30000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      265 |   });
      266 |
    > 267 |   test('serves hashed index asset directly from the bundled client when available', async () => {
          |   ^
      268 |     const html = await fsPromises.readFile(clientIndexPath, 'utf8');
      269 |     const match = html.match(/assets\/(index-[^"'>]+\.css)/i);
      270 |     const hashedCssName = match && match[1] ? match[1] : 'index-latest.css';

      at tests/server.test.mjs:267:3
      at tests/server.test.mjs:238:1

   static asset fallbacks  strips API Gateway stage prefixes before resolving static index aliases

    ReferenceError: getStaticProxyMetadataConfig is not defined

      1540 |     res,
      1541 |     requestPath: req.path,
    > 1542 |     metadataConfig: getStaticProxyMetadataConfig(req),
           |                     ^
      1543 |   });
      1544 | }
      1545 |

      at serveIndexAssetAlias (server.js:1542:21)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4942:5
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4936:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at urlencodedParser (node_modules/body-parser/lib/types/urlencoded.js:94:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at jsonParser (node_modules/body-parser/lib/types/json.js:113:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4929:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4862:12
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4851:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4846:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at cors (node_modules/cors/lib/index.js:188:7)
      at node_modules/cors/lib/index.js:224:17
      at origin (server.js:4817:9)
      at node_modules/cors/lib/index.js:219:13
      at optionsCallback (node_modules/cors/lib/index.js:199:9)
      at corsMiddleware (node_modules/cors/lib/index.js:204:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4808:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4784:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4755:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4740:10
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at expressInit (node_modules/express/lib/middleware/init.js:40:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at query (node_modules/express/lib/middleware/query.js:45:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)

   static asset fallbacks  strips API Gateway stage prefixes before resolving static index aliases

    thrown: "Exceeded timeout of 30000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      280 |   });
      281 |
    > 282 |   test('strips API Gateway stage prefixes before resolving static index aliases', async () => {
          |   ^
      283 |     const res = await request(app)
      284 |       .get('/prod/assets/index-latest.css')
      285 |       .set('x-apigateway-stage', 'prod');

      at tests/server.test.mjs:282:3
      at tests/server.test.mjs:238:1

   static asset fallbacks  serves the latest index asset alias via S3 when local files are unavailable

    ReferenceError: getStaticProxyMetadataConfig is not defined

      1540 |     res,
      1541 |     requestPath: req.path,
    > 1542 |     metadataConfig: getStaticProxyMetadataConfig(req),
           |                     ^
      1543 |   });
      1544 | }
      1545 |

      at serveIndexAssetAlias (server.js:1542:21)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4942:5
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4936:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at urlencodedParser (node_modules/body-parser/lib/types/urlencoded.js:94:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at jsonParser (node_modules/body-parser/lib/types/json.js:113:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4929:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4862:12
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4851:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4846:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at cors (node_modules/cors/lib/index.js:188:7)
      at node_modules/cors/lib/index.js:224:17
      at origin (server.js:4817:9)
      at node_modules/cors/lib/index.js:219:13
      at optionsCallback (node_modules/cors/lib/index.js:199:9)
      at corsMiddleware (node_modules/cors/lib/index.js:204:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4808:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4784:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4755:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4732:12
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at expressInit (node_modules/express/lib/middleware/init.js:40:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at query (node_modules/express/lib/middleware/query.js:45:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)

   static asset fallbacks  serves the latest index asset alias via S3 when local files are unavailable

    thrown: "Exceeded timeout of 30000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      311 |   });
      312 |
    > 313 |   test('serves the latest index asset alias via S3 when local files are unavailable', async () => {
          |   ^
      314 |     const cssAliasName = 'index-test-alias.css';
      315 |     const jsAliasName = 'index-test-alias.js';
      316 |     const manifestHtml = `<!doctype html><html><head><link rel="stylesheet" href="./assets/${cssAliasName}"><script type="module" src="./assets/${jsAliasName}"></script></head><body></body></html>`;

      at tests/server.test.mjs:313:3
      at tests/server.test.mjs:238:1

   static asset fallbacks  serves the index asset alias via the S3 manifest when the local manifest is missing

    ReferenceError: getStaticProxyMetadataConfig is not defined

      1540 |     res,
      1541 |     requestPath: req.path,
    > 1542 |     metadataConfig: getStaticProxyMetadataConfig(req),
           |                     ^
      1543 |   });
      1544 | }
      1545 |

      at serveIndexAssetAlias (server.js:1542:21)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4942:5
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4936:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at urlencodedParser (node_modules/body-parser/lib/types/urlencoded.js:94:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at jsonParser (node_modules/body-parser/lib/types/json.js:113:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4929:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4862:12
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4851:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4846:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at cors (node_modules/cors/lib/index.js:188:7)
      at node_modules/cors/lib/index.js:224:17
      at origin (server.js:4817:9)
      at node_modules/cors/lib/index.js:219:13
      at optionsCallback (node_modules/cors/lib/index.js:199:9)
      at corsMiddleware (node_modules/cors/lib/index.js:204:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4808:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4784:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4755:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4732:12
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at expressInit (node_modules/express/lib/middleware/init.js:40:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at query (node_modules/express/lib/middleware/query.js:45:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)

   static asset fallbacks  serves the index asset alias via the S3 manifest when the local manifest is missing

    thrown: "Exceeded timeout of 30000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      381 |   });
      382 |
    > 383 |   test('serves the index asset alias via the S3 manifest when the local manifest is missing', async () => {
          |   ^
      384 |     const cssAliasName = 'index-manifest-only.css';
      385 |     const cssBody = '.manifest-only { color: #09f; }';
      386 |

      at tests/server.test.mjs:383:3
      at tests/server.test.mjs:238:1

   static asset fallbacks  serves the index asset alias when the manifest contains prefixed S3 keys

    ReferenceError: getStaticProxyMetadataConfig is not defined

      1540 |     res,
      1541 |     requestPath: req.path,
    > 1542 |     metadataConfig: getStaticProxyMetadataConfig(req),
           |                     ^
      1543 |   });
      1544 | }
      1545 |

      at serveIndexAssetAlias (server.js:1542:21)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4942:5
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4936:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at urlencodedParser (node_modules/body-parser/lib/types/urlencoded.js:94:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at jsonParser (node_modules/body-parser/lib/types/json.js:113:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4929:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4862:12
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4851:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4846:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at cors (node_modules/cors/lib/index.js:188:7)
      at node_modules/cors/lib/index.js:224:17
      at origin (server.js:4817:9)
      at node_modules/cors/lib/index.js:219:13
      at optionsCallback (node_modules/cors/lib/index.js:199:9)
      at corsMiddleware (node_modules/cors/lib/index.js:204:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4808:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4784:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4755:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4732:12
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at expressInit (node_modules/express/lib/middleware/init.js:40:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at query (node_modules/express/lib/middleware/query.js:45:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)

   static asset fallbacks  serves the index asset alias when the manifest contains prefixed S3 keys

    thrown: "Exceeded timeout of 30000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      449 |   });
      450 |
    > 451 |   test('serves the index asset alias when the manifest contains prefixed S3 keys', async () => {
          |   ^
      452 |     const cssAliasName = 'index-prefixed.css';
      453 |     const cssBody = '.prefixed { color: #0c0; }';
      454 |

      at tests/server.test.mjs:451:3
      at tests/server.test.mjs:238:1

   static asset fallbacks  serves the index asset alias via manifest fallback when the primary bundle is missing from S3

    ReferenceError: getStaticProxyMetadataConfig is not defined

      1540 |     res,
      1541 |     requestPath: req.path,
    > 1542 |     metadataConfig: getStaticProxyMetadataConfig(req),
           |                     ^
      1543 |   });
      1544 | }
      1545 |

      at serveIndexAssetAlias (server.js:1542:21)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4942:5
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4936:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at urlencodedParser (node_modules/body-parser/lib/types/urlencoded.js:94:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at jsonParser (node_modules/body-parser/lib/types/json.js:113:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4929:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4862:12
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4851:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4846:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at cors (node_modules/cors/lib/index.js:188:7)
      at node_modules/cors/lib/index.js:224:17
      at origin (server.js:4817:9)
      at node_modules/cors/lib/index.js:219:13
      at optionsCallback (node_modules/cors/lib/index.js:199:9)
      at corsMiddleware (node_modules/cors/lib/index.js:204:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4808:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4784:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4755:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4732:12
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at expressInit (node_modules/express/lib/middleware/init.js:40:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at query (node_modules/express/lib/middleware/query.js:45:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)

   static asset fallbacks  serves the index asset alias via manifest fallback when the primary bundle is missing from S3

    thrown: "Exceeded timeout of 30000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      519 |   });
      520 |
    > 521 |   test('serves the index asset alias via manifest fallback when the primary bundle is missing from S3', async () => {
          |   ^
      522 |     const cssAliasName = 'index-missing.css';
      523 |     const fallbackCssName = 'index-existing.css';
      524 |     const manifestHtml = `<!doctype html><html><head><link rel="stylesheet" href="./assets/${cssAliasName}"></head><body></body></html>`;

      at tests/server.test.mjs:521:3
      at tests/server.test.mjs:238:1

   static asset proxy endpoint  serves the index alias via the local build

    ReferenceError: getStaticProxyMetadataConfig is not defined

      19115 |       requestPath: normalizedAssetPath,
      19116 |       logContext: { proxy: true },
    > 19117 |       metadataConfig: getStaticProxyMetadataConfig(req),
            |                       ^
      19118 |       onUnavailable: async ({ logContext, attemptedFallbacks }) => {
      19119 |         logStructured('error', 'client_asset_alias_proxy_unavailable', {
      19120 |           ...(logContext || {}),

      at server.js:19117:23
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at SendStream.error (node_modules/serve-static/index.js:121:7)
      at SendStream.error (node_modules/send/index.js:270:17)
      at SendStream.onStatError (node_modules/send/index.js:417:12)
      at next (node_modules/send/index.js:730:16)
      at onstat (node_modules/send/index.js:719:14)

   static asset proxy endpoint  serves the index alias via the local build

    thrown: "Exceeded timeout of 30000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      623 |   const escapeRegex = (value) => value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
      624 |
    > 625 |   test('serves the index alias via the local build', async () => {
          |   ^
      626 |     const cssContent = await readDistAsset('index-latest.css');
      627 |
      628 |     const res = await request(app)

      at tests/server.test.mjs:625:3
      at tests/server.test.mjs:611:1

   static asset proxy endpoint  normalizes stray punctuation in proxy asset queries

    ReferenceError: getStaticProxyMetadataConfig is not defined

      19115 |       requestPath: normalizedAssetPath,
      19116 |       logContext: { proxy: true },
    > 19117 |       metadataConfig: getStaticProxyMetadataConfig(req),
            |                       ^
      19118 |       onUnavailable: async ({ logContext, attemptedFallbacks }) => {
      19119 |         logStructured('error', 'client_asset_alias_proxy_unavailable', {
      19120 |           ...(logContext || {}),

      at server.js:19117:23
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at SendStream.error (node_modules/serve-static/index.js:121:7)
      at SendStream.error (node_modules/send/index.js:270:17)
      at SendStream.onStatError (node_modules/send/index.js:417:12)
      at next (node_modules/send/index.js:730:16)
      at onstat (node_modules/send/index.js:719:14)

   static asset proxy endpoint  normalizes stray punctuation in proxy asset queries

    thrown: "Exceeded timeout of 30000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      636 |   });
      637 |
    > 638 |   test('normalizes stray punctuation in proxy asset queries', async () => {
          |   ^
      639 |     const cssContent = await readDistAsset('index-latest.css');
      640 |
      641 |     const res = await request(app)

      at tests/server.test.mjs:638:3
      at tests/server.test.mjs:611:1

   static asset proxy endpoint  falls back to S3 when the hashed bundle is unavailable locally

    ReferenceError: getStaticProxyMetadataConfig is not defined

      19115 |       requestPath: normalizedAssetPath,
      19116 |       logContext: { proxy: true },
    > 19117 |       metadataConfig: getStaticProxyMetadataConfig(req),
            |                       ^
      19118 |       onUnavailable: async ({ logContext, attemptedFallbacks }) => {
      19119 |         logStructured('error', 'client_asset_alias_proxy_unavailable', {
      19120 |           ...(logContext || {}),

      at server.js:19117:23
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at SendStream.error (node_modules/serve-static/index.js:121:7)
      at SendStream.error (node_modules/send/index.js:270:17)
      at SendStream.onStatError (node_modules/send/index.js:417:12)
      at next (node_modules/send/index.js:730:16)
      at onstat (node_modules/send/index.js:719:14)

   static asset proxy endpoint  falls back to S3 when the hashed bundle is unavailable locally

    thrown: "Exceeded timeout of 30000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      666 |   });
      667 |
    > 668 |   test('falls back to S3 when the hashed bundle is unavailable locally', async () => {
          |   ^
      669 |     const originalReadFile = fsPromises.readFile;
      670 |     const readFileSpy = jest
      671 |       .spyOn(fsPromises, 'readFile')

      at tests/server.test.mjs:668:3
      at tests/server.test.mjs:611:1

Test Suites: 1 failed, 1 total
Tests:       9 failed, 81 passed, 90 total
Snapshots:   0 total
Time:        277.957 s
Ran all test suites matching /tests\/server.test.mjs/i.
Test Suites: 1 failed, 1 total
Tests:       9 failed, 81 passed, 90 total
Snapshots:   0 total
Time:        277.961 s
Ran all test suites matching /tests\/server.test.mjs/i.
Force exiting Jest: Have you considered using `--detectOpenHandles` to detect async operations that kept running after all tests finished?
