
> resumeforge@1.0.0 test
> node --experimental-vm-modules node_modules/jest/bin/jest.js tests/server.test.mjs

[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`
(node:10664) ExperimentalWarning: VM Modules is an experimental feature. This feature could change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
  console.log
    {"timestamp":"2025-12-04T13:42:35.212Z","level":"info","message":"http_request_received","requestId":"341fab5a-5db3-4392-bfaa-27b1e1c45acb","method":"GET","path":"/healthz","template":"unknown","session":"341fab5a-5db3-4392-bfaa-27b1e1c45acb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"341fab5a-5db3-4392-bfaa-27b1e1c45acb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.262Z","level":"info","message":"path_restoration_debug","reqPath":"/healthz","reqUrl":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.267Z","level":"info","message":"request_received","path":"/healthz","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.273Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.277Z","level":"info","message":"client_app_routes_entered","path":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.283Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.298Z","level":"info","message":"http_request_completed","requestId":"341fab5a-5db3-4392-bfaa-27b1e1c45acb","method":"GET","path":"/healthz","statusCode":200,"durationMs":86,"contentLength":"15","template":"unknown","session":"341fab5a-5db3-4392-bfaa-27b1e1c45acb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"341fab5a-5db3-4392-bfaa-27b1e1c45acb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.322Z","level":"info","message":"http_request_received","requestId":"cf24f743-0e0a-4183-b6d5-a058c20cdd24","method":"GET","path":"/favicon.ico","template":"unknown","session":"cf24f743-0e0a-4183-b6d5-a058c20cdd24","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf24f743-0e0a-4183-b6d5-a058c20cdd24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.326Z","level":"info","message":"path_restoration_debug","reqPath":"/favicon.ico","reqUrl":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.330Z","level":"info","message":"request_received","path":"/favicon.ico","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.333Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.337Z","level":"info","message":"client_app_routes_entered","path":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.342Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.348Z","level":"info","message":"http_request_completed","requestId":"cf24f743-0e0a-4183-b6d5-a058c20cdd24","method":"GET","path":"/favicon.ico","statusCode":204,"durationMs":26,"template":"unknown","session":"cf24f743-0e0a-4183-b6d5-a058c20cdd24","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf24f743-0e0a-4183-b6d5-a058c20cdd24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.355Z","level":"info","message":"http_request_received","requestId":"d86e3866-58ae-47b1-8f7d-842c4dcd6450","method":"GET","path":"/assets/index-missing.css","template":"unknown","session":"d86e3866-58ae-47b1-8f7d-842c4dcd6450","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d86e3866-58ae-47b1-8f7d-842c4dcd6450","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.358Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-missing.css","reqUrl":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.362Z","level":"info","message":"request_received","path":"/assets/index-missing.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.366Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.371Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.376Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60","ETag":"\"etag-css\""}

      at applyS3ResponseHeaders (server.js:617:11)

  console.log
    DEBUG: streamS3BodyToResponse data chunk length=18

      at Readable.<anonymous> (server.js:505:17)

  console.log
    DEBUG: streamS3BodyToResponse end fullBody length=18

      at Readable.<anonymous> (server.js:513:19)

  console.log
    {"timestamp":"2025-12-04T13:42:35.414Z","level":"info","message":"http_request_completed","requestId":"d86e3866-58ae-47b1-8f7d-842c4dcd6450","method":"GET","path":"/assets/index-missing.css","statusCode":200,"durationMs":59,"contentLength":"18","template":"unknown","session":"d86e3866-58ae-47b1-8f7d-842c4dcd6450","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d86e3866-58ae-47b1-8f7d-842c4dcd6450","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.417Z","level":"info","message":"client_asset_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-missing.css","path":"/assets/index-missing.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.474Z","level":"info","message":"http_request_received","requestId":"e7e1f38c-94ab-45a0-820e-85b7dc673627","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"e7e1f38c-94ab-45a0-820e-85b7dc673627","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e7e1f38c-94ab-45a0-820e-85b7dc673627","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.481Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.484Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.492Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.499Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1282:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:42:35.568Z","level":"info","message":"http_request_completed","requestId":"e7e1f38c-94ab-45a0-820e-85b7dc673627","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":94,"contentLength":"106285","template":"unknown","session":"e7e1f38c-94ab-45a0-820e-85b7dc673627","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e7e1f38c-94ab-45a0-820e-85b7dc673627","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.573Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.597Z","level":"info","message":"http_request_received","requestId":"5c7ba735-7a3b-4485-9ef2-082dc6a178ce","method":"GET","path":"/prod/assets/index-latest.css","template":"unknown","session":"5c7ba735-7a3b-4485-9ef2-082dc6a178ce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5c7ba735-7a3b-4485-9ef2-082dc6a178ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.605Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.610Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.615Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.620Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1282:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:42:35.662Z","level":"info","message":"http_request_completed","requestId":"5c7ba735-7a3b-4485-9ef2-082dc6a178ce","method":"GET","path":"/prod/assets/index-latest.css","statusCode":200,"durationMs":65,"contentLength":"106285","template":"unknown","session":"5c7ba735-7a3b-4485-9ef2-082dc6a178ce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5c7ba735-7a3b-4485-9ef2-082dc6a178ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.671Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.689Z","level":"info","message":"http_request_received","requestId":"208bd703-f52c-4bb4-9782-bbdd93e13706","method":"HEAD","path":"/assets/index-meta.js","template":"unknown","session":"208bd703-f52c-4bb4-9782-bbdd93e13706","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"208bd703-f52c-4bb4-9782-bbdd93e13706","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.693Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-meta.js","reqUrl":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.702Z","level":"info","message":"request_received","path":"/assets/index-meta.js","method":"HEAD","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.757Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.793Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:35.872Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-meta.js'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-meta.js'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-meta.js'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=1234 resolved=1234 metadata={"ContentType":"application/javascript","ContentLength":1234,"CacheControl":"public, max-age=31536000, immutable","ETag":"\"etag-js\"","LastModified":"2024-05-01T00:00:00.000Z"}

      at applyS3ResponseHeaders (server.js:617:11)

  console.log
    {"timestamp":"2025-12-04T13:42:36.070Z","level":"info","message":"client_asset_s3_head_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-meta.js","path":"/assets/index-meta.js","method":"HEAD","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:36.096Z","level":"info","message":"http_request_completed","requestId":"208bd703-f52c-4bb4-9782-bbdd93e13706","method":"HEAD","path":"/assets/index-meta.js","statusCode":200,"durationMs":407,"contentLength":"1234","template":"unknown","session":"208bd703-f52c-4bb4-9782-bbdd93e13706","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"208bd703-f52c-4bb4-9782-bbdd93e13706","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:36.111Z","level":"info","message":"http_request_received","requestId":"20cd1252-df70-475b-a781-5f8d961e1142","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"20cd1252-df70-475b-a781-5f8d961e1142","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"20cd1252-df70-475b-a781-5f8d961e1142","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:36.124Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:36.176Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:36.186Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:42:36.234Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1282:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-test-alias.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-test-alias.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-test-alias.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:43:06.249Z","level":"info","message":"http_request_received","requestId":"c1475497-61e2-40f6-960c-eec6c7ba8356","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"c1475497-61e2-40f6-960c-eec6c7ba8356","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1475497-61e2-40f6-960c-eec6c7ba8356","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:43:06.264Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:43:06.313Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:43:06.333Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:43:06.386Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1282:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-manifest-only.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-manifest-only.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-manifest-only.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:43:36.246Z","level":"info","message":"http_request_received","requestId":"485bdb0a-88a1-4adf-a308-e9aaad05504b","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"485bdb0a-88a1-4adf-a308-e9aaad05504b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"485bdb0a-88a1-4adf-a308-e9aaad05504b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:43:36.250Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:43:36.255Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:43:36.262Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:43:36.264Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1282:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-prefixed.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-prefixed.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-prefixed.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:44:07.051Z","level":"info","message":"http_request_received","requestId":"4211bb4b-19b1-438d-a15f-bf3ec72e437d","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"4211bb4b-19b1-438d-a15f-bf3ec72e437d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4211bb4b-19b1-438d-a15f-bf3ec72e437d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:44:07.079Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:44:07.109Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:44:07.129Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:44:07.161Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1282:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:44:37.030Z","level":"info","message":"http_request_received","requestId":"7f38922f-adac-4abf-a6a7-529554f4e1b9","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"7f38922f-adac-4abf-a6a7-529554f4e1b9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7f38922f-adac-4abf-a6a7-529554f4e1b9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:44:37.033Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:44:37.037Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:44:37.040Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:44:37.044Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:44:37.048Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-latest.css' candidate='assets/index-latest.css'

      at normalizeStaticProxyAssetPath (server.js:1603:11)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1282:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:44:37.125Z","level":"info","message":"http_request_completed","requestId":"7f38922f-adac-4abf-a6a7-529554f4e1b9","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","statusCode":200,"durationMs":95,"contentLength":"106285","template":"unknown","session":"7f38922f-adac-4abf-a6a7-529554f4e1b9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7f38922f-adac-4abf-a6a7-529554f4e1b9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:44:37.129Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:44:37.139Z","level":"info","message":"http_request_received","requestId":"4574a075-59d3-44f1-813a-97965ccbbb7c","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","template":"unknown","session":"4574a075-59d3-44f1-813a-97965ccbbb7c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4574a075-59d3-44f1-813a-97965ccbbb7c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:44:37.142Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:44:37.147Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:44:37.152Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:44:37.158Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:44:37.164Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-latest.css,,' candidate='assets/index-latest.css,,'

      at normalizeStaticProxyAssetPath (server.js:1603:11)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1282:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:44:37.426Z","level":"info","message":"http_request_completed","requestId":"4574a075-59d3-44f1-813a-97965ccbbb7c","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","statusCode":200,"durationMs":287,"contentLength":"106285","template":"unknown","session":"4574a075-59d3-44f1-813a-97965ccbbb7c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4574a075-59d3-44f1-813a-97965ccbbb7c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:44:37.446Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:44:37.510Z","level":"info","message":"http_request_received","requestId":"6d47fcfa-04f3-4904-98e7-3d571aa86289","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","template":"unknown","session":"6d47fcfa-04f3-4904-98e7-3d571aa86289","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6d47fcfa-04f3-4904-98e7-3d571aa86289","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:44:37.514Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:44:37.517Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:44:37.523Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:44:37.531Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:44:37.541Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='/assets/index-latest.css' candidate='/assets/index-latest.css'

      at normalizeStaticProxyAssetPath (server.js:1603:11)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-0da4b4af.css,, {"alias":"/assets/index-latest.css"}' candidate='assets/index-0da4b4af.css,, {"alias":"/assets/index-latest.css"}'

      at normalizeStaticProxyAssetPath (server.js:1603:11)

  console.log
    DEBUG: proxy handler { normalizedAssetPath: '/assets/index-0da4b4af.css' }

      at server.js:19137:11

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:44:37.601Z","level":"info","message":"http_request_completed","requestId":"6d47fcfa-04f3-4904-98e7-3d571aa86289","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","statusCode":200,"durationMs":91,"contentLength":"106285","template":"unknown","session":"6d47fcfa-04f3-4904-98e7-3d571aa86289","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6d47fcfa-04f3-4904-98e7-3d571aa86289","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:44:37.608Z","level":"info","message":"client_asset_alias_local_served","path":"/assets/index-0da4b4af.css","method":"GET","proxy":true,"aliasPath":"/assets/index-latest.css","annotatedAlias":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:44:37.622Z","level":"info","message":"http_request_received","requestId":"85d83ca8-1d45-47a1-b2a0-9a5279e215e7","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"85d83ca8-1d45-47a1-b2a0-9a5279e215e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85d83ca8-1d45-47a1-b2a0-9a5279e215e7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:44:37.627Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:44:37.632Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:44:37.636Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:44:37.642Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:44:37.646Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-latest.css' candidate='assets/index-latest.css'

      at normalizeStaticProxyAssetPath (server.js:1603:11)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1282:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:45:07.626Z","level":"info","message":"http_request_received","requestId":"fb4700f5-2e2e-4106-9504-c847b40bc67f","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css","template":"unknown","session":"fb4700f5-2e2e-4106-9504-c847b40bc67f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb4700f5-2e2e-4106-9504-c847b40bc67f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.629Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.632Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.633Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.639Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.642Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-0da4b4af.css' candidate='assets/index-0da4b4af.css'

      at normalizeStaticProxyAssetPath (server.js:1603:11)

  console.log
    DEBUG: proxy handler { normalizedAssetPath: '/assets/index-0da4b4af.css' }

      at server.js:19137:11

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.warn
    {"timestamp":"2025-12-04T13:45:07.659Z","level":"warn","message":"client_asset_proxy_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-0da4b4af.css","path":"/assets/index-0da4b4af.css","method":"GET","proxy":true,"error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:762:21)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7808:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7811:16)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1152:32)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:19150:30\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at serveHashedIndexAssetFromS3 (server.js:1171:5)
      at server.js:19150:24

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1282:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:45:07.672Z","level":"info","message":"http_request_completed","requestId":"fb4700f5-2e2e-4106-9504-c847b40bc67f","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css","statusCode":200,"durationMs":46,"contentLength":"106285","template":"unknown","session":"fb4700f5-2e2e-4106-9504-c847b40bc67f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb4700f5-2e2e-4106-9504-c847b40bc67f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.673Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","path":"/assets/index-0da4b4af.css","proxy":true,"degradedFrom":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:07.674Z","level":"warn","message":"client_asset_proxy_degraded_to_alias","path":"/assets/index-0da4b4af.css","method":"GET","proxy":true,"aliasPath":"/assets/index-latest.css","degradedFrom":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:19202:9

  console.log
    {"timestamp":"2025-12-04T13:45:07.685Z","level":"info","message":"http_request_received","requestId":"aa300e48-b4fd-4e2d-b59f-a779d086ff1f","method":"GET","path":"/assets/index-0da4b4af.css","template":"unknown","session":"aa300e48-b4fd-4e2d-b59f-a779d086ff1f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aa300e48-b4fd-4e2d-b59f-a779d086ff1f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.686Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-0da4b4af.css","reqUrl":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.688Z","level":"info","message":"request_received","path":"/assets/index-0da4b4af.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.690Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.692Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.694Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.warn
    {"timestamp":"2025-12-04T13:45:07.703Z","level":"warn","message":"client_asset_s3_fallback_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-0da4b4af.css","path":"/assets/index-0da4b4af.css","method":"GET","error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:808:21)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7808:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7811:16)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1152:32)\n    at tryServeHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1212:24)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at serveHashedIndexAssetFromS3 (server.js:1171:5)
      at tryServeHashedIndexAssetFromS3 (server.js:1212:18)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1282:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:45:07.712Z","level":"info","message":"http_request_completed","requestId":"aa300e48-b4fd-4e2d-b59f-a779d086ff1f","method":"GET","path":"/assets/index-0da4b4af.css","statusCode":200,"durationMs":27,"contentLength":"106285","template":"unknown","session":"aa300e48-b4fd-4e2d-b59f-a779d086ff1f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aa300e48-b4fd-4e2d-b59f-a779d086ff1f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.713Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","hashedPath":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:07.714Z","level":"warn","message":"hashed_index_asset_degraded_to_alias","hashedPath":"/assets/index-0da4b4af.css","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at tryServeHashedIndexAssetFromS3 (server.js:1264:7)

  console.log
    {"timestamp":"2025-12-04T13:45:07.726Z","level":"info","message":"http_request_received","requestId":"4ac356fc-01ac-498d-ad8e-7ff8ecbda36b","method":"GET","path":"/api/static-proxy?asset=..%2Fsecrets.txt","template":"unknown","session":"4ac356fc-01ac-498d-ad8e-7ff8ecbda36b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4ac356fc-01ac-498d-ad8e-7ff8ecbda36b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.727Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=..%2Fsecrets.txt","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.730Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.732Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.734Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.737Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='../secrets.txt' candidate='../secrets.txt'

      at normalizeStaticProxyAssetPath (server.js:1603:11)

  console.warn
    {"timestamp":"2025-12-04T13:45:07.741Z","level":"warn","message":"api_error_response","requestId":"4ac356fc-01ac-498d-ad8e-7ff8ecbda36b","status":400,"error":{"code":"INVALID_STATIC_ASSET_PATH","message":"Provide a valid static asset path to proxy.","details":{},"requestId":"4ac356fc-01ac-498d-ad8e-7ff8ecbda36b"},"template":"unknown","session":"4ac356fc-01ac-498d-ad8e-7ff8ecbda36b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4ac356fc-01ac-498d-ad8e-7ff8ecbda36b","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at sendError (server.js:3964:3)
      at server.js:19080:12
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at SendStream.error (node_modules/serve-static/index.js:121:7)
      at SendStream.error (node_modules/send/index.js:270:17)
      at SendStream.onStatError (node_modules/send/index.js:417:12)
      at next (node_modules/send/index.js:730:16)
      at onstat (node_modules/send/index.js:719:14)

  console.log
    {"timestamp":"2025-12-04T13:45:07.752Z","level":"info","message":"http_request_completed","requestId":"4ac356fc-01ac-498d-ad8e-7ff8ecbda36b","method":"GET","path":"/api/static-proxy?asset=..%2Fsecrets.txt","statusCode":400,"durationMs":26,"contentLength":"182","template":"unknown","session":"4ac356fc-01ac-498d-ad8e-7ff8ecbda36b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4ac356fc-01ac-498d-ad8e-7ff8ecbda36b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.760Z","level":"info","message":"http_request_received","requestId":"08ef0075-55b5-4e1a-8c13-0223ad9dc8dd","method":"GET","path":"/api/static-manifest","template":"unknown","session":"08ef0075-55b5-4e1a-8c13-0223ad9dc8dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"08ef0075-55b5-4e1a-8c13-0223ad9dc8dd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.761Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.762Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.764Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.765Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.767Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.771Z","level":"info","message":"http_request_completed","requestId":"08ef0075-55b5-4e1a-8c13-0223ad9dc8dd","method":"GET","path":"/api/static-manifest","statusCode":200,"durationMs":11,"contentLength":"301","template":"unknown","session":"08ef0075-55b5-4e1a-8c13-0223ad9dc8dd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"08ef0075-55b5-4e1a-8c13-0223ad9dc8dd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.774Z","level":"info","message":"http_request_received","requestId":"ad4281ae-8c26-4ee0-8098-c8a9674d4560","method":"GET","path":"/api/static-manifest","template":"unknown","session":"ad4281ae-8c26-4ee0-8098-c8a9674d4560","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ad4281ae-8c26-4ee0-8098-c8a9674d4560","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.775Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.776Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.777Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.780Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.782Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.785Z","level":"info","message":"http_request_completed","requestId":"ad4281ae-8c26-4ee0-8098-c8a9674d4560","method":"GET","path":"/api/static-manifest","statusCode":200,"durationMs":11,"contentLength":"195","template":"unknown","session":"ad4281ae-8c26-4ee0-8098-c8a9674d4560","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ad4281ae-8c26-4ee0-8098-c8a9674d4560","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.787Z","level":"info","message":"http_request_received","requestId":"c5a3ea86-b96c-41f7-bb4a-ca3371e94165","method":"GET","path":"/api/static-manifest?refresh=1","template":"unknown","session":"c5a3ea86-b96c-41f7-bb4a-ca3371e94165","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c5a3ea86-b96c-41f7-bb4a-ca3371e94165","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.788Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest?refresh=1","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.789Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.790Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.791Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.793Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.796Z","level":"info","message":"http_request_completed","requestId":"c5a3ea86-b96c-41f7-bb4a-ca3371e94165","method":"GET","path":"/api/static-manifest?refresh=1","statusCode":200,"durationMs":9,"contentLength":"195","template":"unknown","session":"c5a3ea86-b96c-41f7-bb4a-ca3371e94165","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c5a3ea86-b96c-41f7-bb4a-ca3371e94165","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.798Z","level":"info","message":"http_request_received","requestId":"506110af-9a99-4388-a654-61a152658c8b","method":"GET","path":"/api/static-manifest","template":"unknown","session":"506110af-9a99-4388-a654-61a152658c8b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"506110af-9a99-4388-a654-61a152658c8b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.799Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.800Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.802Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.803Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.806Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:07.812Z","level":"warn","message":"client_asset_manifest_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/manifest.json","error":{"name":"Error","message":"manifest not found","stack":"Error: manifest not found\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:906:22)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7808:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7811:16)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:868:30\n    at loadStaticAssetManifestFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:951:5)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:19222:28\n    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/serve-static/index.js:121:7)\n    at SendStream.emit (node:events:513:28)\n    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:270:17)\n    at SendStream.onStatError (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:417:12)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:730:16)\n    at onstat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:719:14)\n    at FSReqCallback.oncomplete (node:fs:206:21)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:943:7
      at loadStaticAssetManifestFromS3 (server.js:958:12)
      at server.js:19222:22

  console.error
    {"timestamp":"2025-12-04T13:45:07.818Z","level":"error","message":"api_error_response","requestId":"506110af-9a99-4388-a654-61a152658c8b","status":503,"error":{"code":"STATIC_MANIFEST_UNAVAILABLE","message":"Static asset manifest is not currently available. Please try again shortly.","details":{},"requestId":"506110af-9a99-4388-a654-61a152658c8b"},"template":"unknown","session":"506110af-9a99-4388-a654-61a152658c8b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"506110af-9a99-4388-a654-61a152658c8b","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at sendError (server.js:3964:3)
      at server.js:19227:14

  console.log
    {"timestamp":"2025-12-04T13:45:07.824Z","level":"info","message":"http_request_completed","requestId":"506110af-9a99-4388-a654-61a152658c8b","method":"GET","path":"/api/static-manifest","statusCode":503,"durationMs":26,"contentLength":"216","template":"unknown","session":"506110af-9a99-4388-a654-61a152658c8b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"506110af-9a99-4388-a654-61a152658c8b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.828Z","level":"info","message":"http_request_received","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","method":"POST","path":"/api/process-cv","template":"unknown","session":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.829Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.831Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.832Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.834Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.836Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/0d30cd2f-5900-4a3f-9625-4bb443ab64fc/incoming/original.pdf","chunks":1,"timestamp":1764855907842}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/0d30cd2f-5900-4a3f-9625-4bb443ab64fc/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/0d30cd2f-5900-4a3f-9625-4bb443ab64fc/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":8}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:45:07.860Z","level":"info","message":"process_cv_started","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","jobId":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","manualJobDescriptionProvided":true,"template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.861Z","level":"info","message":"template_selection","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","jobId":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:07.862Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","jobId":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:45:07.869Z","level":"info","message":"initial_upload_completed","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","jobId":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","bucket":"test-bucket","key":"cv/candidate/0d30cd2f-5900-4a3f-9625-4bb443ab64fc/incoming/original.pdf","template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.882Z","level":"info","message":"resume_text_extracted","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","jobId":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","characters":57,"template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.884Z","level":"info","message":"resume_classified","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","jobId":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.885Z","level":"info","message":"raw_upload_relocated","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","jobId":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","bucket":"test-bucket","fromKey":"cv/candidate/0d30cd2f-5900-4a3f-9625-4bb443ab64fc/incoming/original.pdf","toKey":"cv/professional_summary/0d30cd2f-5900-4a3f-9625-4bb443ab64fc/original.pdf","template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.886Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","jobId":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","bucket":"test-bucket","key":"cv/professional_summary/0d30cd2f-5900-4a3f-9625-4bb443ab64fc/original.pdf","template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.887Z","level":"info","message":"dynamo_initial_record_written","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","jobId":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","bucket":"test-bucket","key":"cv/professional_summary/0d30cd2f-5900-4a3f-9625-4bb443ab64fc/original.pdf","template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.888Z","level":"info","message":"upload_metadata_written","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","jobId":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","bucket":"test-bucket","key":"cv/professional_summary/0d30cd2f-5900-4a3f-9625-4bb443ab64fc/logs/log.json","template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.888Z","level":"info","message":"job_description_supplied_manually","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","jobId":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","characters":174,"template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.889Z","level":"info","message":"job_description_analyzed","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","jobId":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","jobTitle":"","jobSkills":5,"template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.893Z","level":"info","message":"resume_skills_analyzed","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","jobId":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.895Z","level":"info","message":"llm_call_metrics","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.898Z","level":"info","message":"process_cv_scoring_completed","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","jobId":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.914Z","level":"info","message":"llm_call_metrics","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.915Z","level":"info","message":"generation_section_rewrite_completed","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","jobId":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","generationRunId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.916Z","level":"info","message":"llm_call_metrics","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.920Z","level":"info","message":"generation_resume_verified","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","jobId":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","generationRunId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:07.933Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","jobId":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","generationRunId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:07.941Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","jobId":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","generationRunId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:07.948Z","level":"info","message":"generation_cover_letters_completed","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","jobId":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","generationRunId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","variants":2,"fallbackApplied":true,"template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.949Z","level":"info","message":"pdf_generation_attempt","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","jobId":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","generationRunId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/0d30cd2f-5900-4a3f-9625-4bb443ab64fc/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/0d30cd2f-5900-4a3f-9625-4bb443ab64fc/enhanced_modern.pdf","session":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.950Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","jobId":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","generationRunId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/0d30cd2f-5900-4a3f-9625-4bb443ab64fc/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.950Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","jobId":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","generationRunId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/0d30cd2f-5900-4a3f-9625-4bb443ab64fc/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/0d30cd2f-5900-4a3f-9625-4bb443ab64fc/enhanced_modern.pdf","session":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.951Z","level":"info","message":"pdf_generation_attempt","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","jobId":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","generationRunId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/0d30cd2f-5900-4a3f-9625-4bb443ab64fc/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/0d30cd2f-5900-4a3f-9625-4bb443ab64fc/enhanced_professional.pdf","session":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.952Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","jobId":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","generationRunId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/0d30cd2f-5900-4a3f-9625-4bb443ab64fc/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.952Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","jobId":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","generationRunId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/0d30cd2f-5900-4a3f-9625-4bb443ab64fc/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/0d30cd2f-5900-4a3f-9625-4bb443ab64fc/enhanced_professional.pdf","session":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.953Z","level":"info","message":"pdf_generation_attempt","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","jobId":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","generationRunId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/0d30cd2f-5900-4a3f-9625-4bb443ab64fc/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/0d30cd2f-5900-4a3f-9625-4bb443ab64fc/cover_letter_cover_modern.pdf","session":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.953Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","jobId":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","generationRunId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/0d30cd2f-5900-4a3f-9625-4bb443ab64fc/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.953Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","jobId":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","generationRunId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/0d30cd2f-5900-4a3f-9625-4bb443ab64fc/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/0d30cd2f-5900-4a3f-9625-4bb443ab64fc/cover_letter_cover_modern.pdf","session":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.954Z","level":"info","message":"pdf_generation_attempt","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","jobId":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","generationRunId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/0d30cd2f-5900-4a3f-9625-4bb443ab64fc/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/0d30cd2f-5900-4a3f-9625-4bb443ab64fc/cover_letter_cover_professional.pdf","session":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.955Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","jobId":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","generationRunId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/0d30cd2f-5900-4a3f-9625-4bb443ab64fc/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.955Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","jobId":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","generationRunId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/0d30cd2f-5900-4a3f-9625-4bb443ab64fc/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/0d30cd2f-5900-4a3f-9625-4bb443ab64fc/cover_letter_cover_professional.pdf","session":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.961Z","level":"info","message":"llm_call_metrics","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.962Z","level":"info","message":"generation_completed","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","jobId":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","generationRunId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","enhancedScore":80,"outputs":5,"template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.964Z","level":"info","message":"placeholder_record_deleted","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","jobId":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","placeholderIdentifier":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"178eeab7-aeea-4a81-ac6e-e0b856eb9750","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.965Z","level":"info","message":"http_request_completed","requestId":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":137,"contentLength":"58133","template":"unknown","session":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0d30cd2f-5900-4a3f-9625-4bb443ab64fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.968Z","level":"info","message":"http_request_received","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","method":"POST","path":"/api/process-cv","template":"unknown","session":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.969Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.970Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.971Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.974Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.976Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/659ec80c-4d8a-44ee-bb20-8ce3b4cc471d/incoming/original.pdf","chunks":1,"timestamp":1764855907979}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/659ec80c-4d8a-44ee-bb20-8ce3b4cc471d/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/659ec80c-4d8a-44ee-bb20-8ce3b4cc471d/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:45:07.988Z","level":"info","message":"process_cv_started","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","jobId":"29790c27-4b68-4520-8ff7-5dbf829597c4","manualJobDescriptionProvided":true,"template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:07.989Z","level":"info","message":"template_selection","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","jobId":"29790c27-4b68-4520-8ff7-5dbf829597c4","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:07.989Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","jobId":"29790c27-4b68-4520-8ff7-5dbf829597c4","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:45:07.995Z","level":"info","message":"initial_upload_completed","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","jobId":"29790c27-4b68-4520-8ff7-5dbf829597c4","bucket":"test-bucket","key":"cv/candidate/659ec80c-4d8a-44ee-bb20-8ce3b4cc471d/incoming/original.pdf","template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.000Z","level":"info","message":"resume_text_extracted","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","jobId":"29790c27-4b68-4520-8ff7-5dbf829597c4","characters":57,"template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.000Z","level":"info","message":"resume_classified","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","jobId":"29790c27-4b68-4520-8ff7-5dbf829597c4","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.001Z","level":"info","message":"raw_upload_relocated","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","jobId":"29790c27-4b68-4520-8ff7-5dbf829597c4","bucket":"test-bucket","fromKey":"cv/candidate/659ec80c-4d8a-44ee-bb20-8ce3b4cc471d/incoming/original.pdf","toKey":"cv/professional_summary/659ec80c-4d8a-44ee-bb20-8ce3b4cc471d/original.pdf","template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.001Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","jobId":"29790c27-4b68-4520-8ff7-5dbf829597c4","bucket":"test-bucket","key":"cv/professional_summary/659ec80c-4d8a-44ee-bb20-8ce3b4cc471d/original.pdf","template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.001Z","level":"info","message":"dynamo_initial_record_written","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","jobId":"29790c27-4b68-4520-8ff7-5dbf829597c4","bucket":"test-bucket","key":"cv/professional_summary/659ec80c-4d8a-44ee-bb20-8ce3b4cc471d/original.pdf","template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.002Z","level":"info","message":"upload_metadata_written","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","jobId":"29790c27-4b68-4520-8ff7-5dbf829597c4","bucket":"test-bucket","key":"cv/professional_summary/659ec80c-4d8a-44ee-bb20-8ce3b4cc471d/logs/log.json","template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.004Z","level":"info","message":"job_description_supplied_manually","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","jobId":"29790c27-4b68-4520-8ff7-5dbf829597c4","characters":174,"template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.005Z","level":"info","message":"job_description_analyzed","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","jobId":"29790c27-4b68-4520-8ff7-5dbf829597c4","jobTitle":"","jobSkills":5,"template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.006Z","level":"info","message":"resume_skills_analyzed","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","jobId":"29790c27-4b68-4520-8ff7-5dbf829597c4","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.006Z","level":"info","message":"llm_call_metrics","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.007Z","level":"info","message":"process_cv_scoring_completed","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","jobId":"29790c27-4b68-4520-8ff7-5dbf829597c4","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.010Z","level":"info","message":"llm_call_metrics","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.010Z","level":"info","message":"generation_section_rewrite_completed","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","jobId":"29790c27-4b68-4520-8ff7-5dbf829597c4","generationRunId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.011Z","level":"info","message":"llm_call_metrics","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.015Z","level":"info","message":"generation_resume_verified","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","jobId":"29790c27-4b68-4520-8ff7-5dbf829597c4","generationRunId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:08.018Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","jobId":"29790c27-4b68-4520-8ff7-5dbf829597c4","generationRunId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:08.025Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","jobId":"29790c27-4b68-4520-8ff7-5dbf829597c4","generationRunId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:08.031Z","level":"info","message":"generation_cover_letters_completed","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","jobId":"29790c27-4b68-4520-8ff7-5dbf829597c4","generationRunId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","variants":2,"fallbackApplied":true,"template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.031Z","level":"info","message":"pdf_generation_attempt","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","jobId":"29790c27-4b68-4520-8ff7-5dbf829597c4","generationRunId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/659ec80c-4d8a-44ee-bb20-8ce3b4cc471d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/659ec80c-4d8a-44ee-bb20-8ce3b4cc471d/enhanced_modern.pdf","session":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.032Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","jobId":"29790c27-4b68-4520-8ff7-5dbf829597c4","generationRunId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/659ec80c-4d8a-44ee-bb20-8ce3b4cc471d/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.032Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","jobId":"29790c27-4b68-4520-8ff7-5dbf829597c4","generationRunId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/659ec80c-4d8a-44ee-bb20-8ce3b4cc471d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/659ec80c-4d8a-44ee-bb20-8ce3b4cc471d/enhanced_modern.pdf","session":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.033Z","level":"info","message":"pdf_generation_attempt","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","jobId":"29790c27-4b68-4520-8ff7-5dbf829597c4","generationRunId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/659ec80c-4d8a-44ee-bb20-8ce3b4cc471d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/659ec80c-4d8a-44ee-bb20-8ce3b4cc471d/enhanced_professional.pdf","session":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.033Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","jobId":"29790c27-4b68-4520-8ff7-5dbf829597c4","generationRunId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/659ec80c-4d8a-44ee-bb20-8ce3b4cc471d/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.034Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","jobId":"29790c27-4b68-4520-8ff7-5dbf829597c4","generationRunId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/659ec80c-4d8a-44ee-bb20-8ce3b4cc471d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/659ec80c-4d8a-44ee-bb20-8ce3b4cc471d/enhanced_professional.pdf","session":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.034Z","level":"info","message":"pdf_generation_attempt","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","jobId":"29790c27-4b68-4520-8ff7-5dbf829597c4","generationRunId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/659ec80c-4d8a-44ee-bb20-8ce3b4cc471d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/659ec80c-4d8a-44ee-bb20-8ce3b4cc471d/cover_letter_cover_modern.pdf","session":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.035Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","jobId":"29790c27-4b68-4520-8ff7-5dbf829597c4","generationRunId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/659ec80c-4d8a-44ee-bb20-8ce3b4cc471d/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.035Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","jobId":"29790c27-4b68-4520-8ff7-5dbf829597c4","generationRunId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/659ec80c-4d8a-44ee-bb20-8ce3b4cc471d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/659ec80c-4d8a-44ee-bb20-8ce3b4cc471d/cover_letter_cover_modern.pdf","session":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.036Z","level":"info","message":"pdf_generation_attempt","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","jobId":"29790c27-4b68-4520-8ff7-5dbf829597c4","generationRunId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/659ec80c-4d8a-44ee-bb20-8ce3b4cc471d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/659ec80c-4d8a-44ee-bb20-8ce3b4cc471d/cover_letter_cover_professional.pdf","session":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.036Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","jobId":"29790c27-4b68-4520-8ff7-5dbf829597c4","generationRunId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/659ec80c-4d8a-44ee-bb20-8ce3b4cc471d/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.037Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","jobId":"29790c27-4b68-4520-8ff7-5dbf829597c4","generationRunId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/659ec80c-4d8a-44ee-bb20-8ce3b4cc471d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/659ec80c-4d8a-44ee-bb20-8ce3b4cc471d/cover_letter_cover_professional.pdf","session":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.040Z","level":"info","message":"llm_call_metrics","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.041Z","level":"info","message":"generation_completed","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","jobId":"29790c27-4b68-4520-8ff7-5dbf829597c4","generationRunId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","enhancedScore":80,"outputs":5,"template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.042Z","level":"info","message":"placeholder_record_deleted","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","jobId":"29790c27-4b68-4520-8ff7-5dbf829597c4","placeholderIdentifier":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29790c27-4b68-4520-8ff7-5dbf829597c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.043Z","level":"info","message":"http_request_completed","requestId":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":75,"contentLength":"58133","template":"unknown","session":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"659ec80c-4d8a-44ee-bb20-8ce3b4cc471d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.072Z","level":"info","message":"http_request_received","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","method":"POST","path":"/api/process-cv","template":"unknown","session":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.073Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.075Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.077Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.079Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.081Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/4a10ddd9-6118-473f-a64e-e58b213d1cd5/incoming/original.pdf","chunks":1,"timestamp":1764855908083}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/4a10ddd9-6118-473f-a64e-e58b213d1cd5/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/4a10ddd9-6118-473f-a64e-e58b213d1cd5/incoming/original.pdf","uploadDurationMs":1,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:45:08.091Z","level":"info","message":"process_cv_started","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","jobId":"55daccfa-a06f-444a-a1af-2a042b05d8b1","manualJobDescriptionProvided":true,"template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.091Z","level":"info","message":"template_selection","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","jobId":"55daccfa-a06f-444a-a1af-2a042b05d8b1","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:08.092Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","jobId":"55daccfa-a06f-444a-a1af-2a042b05d8b1","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:45:08.098Z","level":"info","message":"initial_upload_completed","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","jobId":"55daccfa-a06f-444a-a1af-2a042b05d8b1","bucket":"test-bucket","key":"cv/candidate/4a10ddd9-6118-473f-a64e-e58b213d1cd5/incoming/original.pdf","template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.099Z","level":"info","message":"resume_text_extracted","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","jobId":"55daccfa-a06f-444a-a1af-2a042b05d8b1","characters":57,"template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.100Z","level":"info","message":"resume_classified","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","jobId":"55daccfa-a06f-444a-a1af-2a042b05d8b1","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.100Z","level":"info","message":"raw_upload_relocated","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","jobId":"55daccfa-a06f-444a-a1af-2a042b05d8b1","bucket":"test-bucket","fromKey":"cv/candidate/4a10ddd9-6118-473f-a64e-e58b213d1cd5/incoming/original.pdf","toKey":"cv/professional_summary/4a10ddd9-6118-473f-a64e-e58b213d1cd5/original.pdf","template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.102Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","jobId":"55daccfa-a06f-444a-a1af-2a042b05d8b1","bucket":"test-bucket","key":"cv/professional_summary/4a10ddd9-6118-473f-a64e-e58b213d1cd5/original.pdf","template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.102Z","level":"info","message":"dynamo_initial_record_written","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","jobId":"55daccfa-a06f-444a-a1af-2a042b05d8b1","bucket":"test-bucket","key":"cv/professional_summary/4a10ddd9-6118-473f-a64e-e58b213d1cd5/original.pdf","template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.103Z","level":"info","message":"upload_metadata_written","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","jobId":"55daccfa-a06f-444a-a1af-2a042b05d8b1","bucket":"test-bucket","key":"cv/professional_summary/4a10ddd9-6118-473f-a64e-e58b213d1cd5/logs/log.json","template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.103Z","level":"info","message":"session_transition_change_log_removed","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","jobId":"55daccfa-a06f-444a-a1af-2a042b05d8b1","bucket":"test-bucket","removedKeys":["cv/candidate/session-old/logs/change-log.json","cv/candidate/session-old/artifacts/changelog.json"],"template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.103Z","level":"info","message":"job_description_supplied_manually","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","jobId":"55daccfa-a06f-444a-a1af-2a042b05d8b1","characters":174,"template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.104Z","level":"info","message":"job_description_analyzed","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","jobId":"55daccfa-a06f-444a-a1af-2a042b05d8b1","jobTitle":"","jobSkills":5,"template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.107Z","level":"info","message":"resume_skills_analyzed","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","jobId":"55daccfa-a06f-444a-a1af-2a042b05d8b1","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.108Z","level":"info","message":"llm_call_metrics","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.109Z","level":"info","message":"process_cv_scoring_completed","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","jobId":"55daccfa-a06f-444a-a1af-2a042b05d8b1","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.113Z","level":"info","message":"llm_call_metrics","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.114Z","level":"info","message":"generation_section_rewrite_completed","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","jobId":"55daccfa-a06f-444a-a1af-2a042b05d8b1","generationRunId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.114Z","level":"info","message":"llm_call_metrics","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.116Z","level":"info","message":"generation_resume_verified","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","jobId":"55daccfa-a06f-444a-a1af-2a042b05d8b1","generationRunId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:08.122Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","jobId":"55daccfa-a06f-444a-a1af-2a042b05d8b1","generationRunId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:08.129Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","jobId":"55daccfa-a06f-444a-a1af-2a042b05d8b1","generationRunId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:08.134Z","level":"info","message":"generation_cover_letters_completed","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","jobId":"55daccfa-a06f-444a-a1af-2a042b05d8b1","generationRunId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","variants":2,"fallbackApplied":true,"template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.135Z","level":"info","message":"pdf_generation_attempt","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","jobId":"55daccfa-a06f-444a-a1af-2a042b05d8b1","generationRunId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4a10ddd9-6118-473f-a64e-e58b213d1cd5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/4a10ddd9-6118-473f-a64e-e58b213d1cd5/enhanced_modern.pdf","session":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.138Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","jobId":"55daccfa-a06f-444a-a1af-2a042b05d8b1","generationRunId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4a10ddd9-6118-473f-a64e-e58b213d1cd5/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.139Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","jobId":"55daccfa-a06f-444a-a1af-2a042b05d8b1","generationRunId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4a10ddd9-6118-473f-a64e-e58b213d1cd5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/4a10ddd9-6118-473f-a64e-e58b213d1cd5/enhanced_modern.pdf","session":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.139Z","level":"info","message":"pdf_generation_attempt","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","jobId":"55daccfa-a06f-444a-a1af-2a042b05d8b1","generationRunId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4a10ddd9-6118-473f-a64e-e58b213d1cd5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/4a10ddd9-6118-473f-a64e-e58b213d1cd5/enhanced_professional.pdf","session":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.140Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","jobId":"55daccfa-a06f-444a-a1af-2a042b05d8b1","generationRunId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4a10ddd9-6118-473f-a64e-e58b213d1cd5/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.140Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","jobId":"55daccfa-a06f-444a-a1af-2a042b05d8b1","generationRunId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4a10ddd9-6118-473f-a64e-e58b213d1cd5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/4a10ddd9-6118-473f-a64e-e58b213d1cd5/enhanced_professional.pdf","session":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.141Z","level":"info","message":"pdf_generation_attempt","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","jobId":"55daccfa-a06f-444a-a1af-2a042b05d8b1","generationRunId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4a10ddd9-6118-473f-a64e-e58b213d1cd5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/4a10ddd9-6118-473f-a64e-e58b213d1cd5/cover_letter_cover_modern.pdf","session":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.141Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","jobId":"55daccfa-a06f-444a-a1af-2a042b05d8b1","generationRunId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4a10ddd9-6118-473f-a64e-e58b213d1cd5/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.142Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","jobId":"55daccfa-a06f-444a-a1af-2a042b05d8b1","generationRunId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4a10ddd9-6118-473f-a64e-e58b213d1cd5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/4a10ddd9-6118-473f-a64e-e58b213d1cd5/cover_letter_cover_modern.pdf","session":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.143Z","level":"info","message":"pdf_generation_attempt","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","jobId":"55daccfa-a06f-444a-a1af-2a042b05d8b1","generationRunId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4a10ddd9-6118-473f-a64e-e58b213d1cd5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/4a10ddd9-6118-473f-a64e-e58b213d1cd5/cover_letter_cover_professional.pdf","session":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.143Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","jobId":"55daccfa-a06f-444a-a1af-2a042b05d8b1","generationRunId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4a10ddd9-6118-473f-a64e-e58b213d1cd5/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.144Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","jobId":"55daccfa-a06f-444a-a1af-2a042b05d8b1","generationRunId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4a10ddd9-6118-473f-a64e-e58b213d1cd5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/4a10ddd9-6118-473f-a64e-e58b213d1cd5/cover_letter_cover_professional.pdf","session":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.148Z","level":"info","message":"llm_call_metrics","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.149Z","level":"info","message":"generation_completed","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","jobId":"55daccfa-a06f-444a-a1af-2a042b05d8b1","generationRunId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","enhancedScore":80,"outputs":5,"template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.150Z","level":"info","message":"placeholder_record_deleted","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","jobId":"55daccfa-a06f-444a-a1af-2a042b05d8b1","placeholderIdentifier":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"55daccfa-a06f-444a-a1af-2a042b05d8b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.155Z","level":"info","message":"http_request_completed","requestId":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":83,"contentLength":"58133","template":"unknown","session":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4a10ddd9-6118-473f-a64e-e58b213d1cd5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.159Z","level":"info","message":"http_request_received","requestId":"repeat","method":"POST","path":"/api/process-cv","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.160Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.161Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.163Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.165Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.167Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","chunks":1,"timestamp":1764855908170}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:45:08.179Z","level":"info","message":"process_cv_started","requestId":"repeat","jobId":"repeat","manualJobDescriptionProvided":true,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.179Z","level":"info","message":"template_selection","requestId":"repeat","jobId":"repeat","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:08.180Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"repeat","jobId":"repeat","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:45:08.186Z","level":"info","message":"initial_upload_completed","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.187Z","level":"info","message":"resume_text_extracted","requestId":"repeat","jobId":"repeat","characters":57,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.187Z","level":"info","message":"resume_classified","requestId":"repeat","jobId":"repeat","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.187Z","level":"info","message":"raw_upload_relocated","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","fromKey":"cv/candidate/repeat/incoming/original.pdf","toKey":"cv/professional_summary/repeat/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.188Z","level":"info","message":"dynamo_initial_record_written","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/professional_summary/repeat/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.188Z","level":"info","message":"upload_metadata_written","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/professional_summary/repeat/logs/log.json","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.188Z","level":"info","message":"session_transition_change_log_removed","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","removedKeys":["cv/candidate/repeat/logs/change-log.json","cv/candidate/repeat/artifacts/changelog.json"],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.189Z","level":"info","message":"job_description_supplied_manually","requestId":"repeat","jobId":"repeat","characters":174,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.189Z","level":"info","message":"job_description_analyzed","requestId":"repeat","jobId":"repeat","jobTitle":"","jobSkills":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.190Z","level":"info","message":"resume_skills_analyzed","requestId":"repeat","jobId":"repeat","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.190Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.191Z","level":"info","message":"process_cv_scoring_completed","requestId":"repeat","jobId":"repeat","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.195Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.196Z","level":"info","message":"generation_section_rewrite_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.197Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.199Z","level":"info","message":"generation_resume_verified","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:08.202Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:08.208Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:08.213Z","level":"info","message":"generation_cover_letters_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","variants":2,"fallbackApplied":true,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.213Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.214Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.214Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.215Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.215Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.215Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.216Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.217Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.217Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.218Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.218Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.219Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.221Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.222Z","level":"info","message":"generation_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","enhancedScore":80,"outputs":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.223Z","level":"info","message":"http_request_completed","requestId":"repeat","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":64,"contentLength":"57353","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.228Z","level":"info","message":"http_request_received","requestId":"5d1949ff-64f3-4299-ba69-36ede1621910","method":"POST","path":"/api/process-cv","template":"unknown","session":"5d1949ff-64f3-4299-ba69-36ede1621910","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d1949ff-64f3-4299-ba69-36ede1621910","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.229Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.230Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.231Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.233Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.235Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/5d1949ff-64f3-4299-ba69-36ede1621910/incoming/original.pdf","chunks":1,"timestamp":1764855908237}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/5d1949ff-64f3-4299-ba69-36ede1621910/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/5d1949ff-64f3-4299-ba69-36ede1621910/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:45:08.239Z","level":"info","message":"process_cv_started","requestId":"5d1949ff-64f3-4299-ba69-36ede1621910","jobId":"24b7a81d-9666-4a14-8ebc-b3a117cf2007","manualJobDescriptionProvided":false,"template":"unknown","session":"24b7a81d-9666-4a14-8ebc-b3a117cf2007","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"24b7a81d-9666-4a14-8ebc-b3a117cf2007","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.239Z","level":"info","message":"template_selection","requestId":"5d1949ff-64f3-4299-ba69-36ede1621910","jobId":"24b7a81d-9666-4a14-8ebc-b3a117cf2007","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"24b7a81d-9666-4a14-8ebc-b3a117cf2007","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"24b7a81d-9666-4a14-8ebc-b3a117cf2007","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:08.240Z","level":"warn","message":"job_description_missing","requestId":"5d1949ff-64f3-4299-ba69-36ede1621910","jobId":"24b7a81d-9666-4a14-8ebc-b3a117cf2007","template":"unknown","session":"24b7a81d-9666-4a14-8ebc-b3a117cf2007","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"24b7a81d-9666-4a14-8ebc-b3a117cf2007","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25096:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T13:45:08.245Z","level":"warn","message":"api_error_response","requestId":"5d1949ff-64f3-4299-ba69-36ede1621910","jobId":"24b7a81d-9666-4a14-8ebc-b3a117cf2007","status":400,"error":{"code":"JOB_DESCRIPTION_REQUIRED","message":"manualJobDescription required","details":{"field":"manualJobDescription"},"requestId":"5d1949ff-64f3-4299-ba69-36ede1621910","jobId":"24b7a81d-9666-4a14-8ebc-b3a117cf2007"},"template":"unknown","session":"24b7a81d-9666-4a14-8ebc-b3a117cf2007","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"24b7a81d-9666-4a14-8ebc-b3a117cf2007","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at sendError (server.js:3964:3)
      at server.js:25097:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:45:08.251Z","level":"info","message":"http_request_completed","requestId":"5d1949ff-64f3-4299-ba69-36ede1621910","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":23,"contentLength":"244","template":"unknown","session":"5d1949ff-64f3-4299-ba69-36ede1621910","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d1949ff-64f3-4299-ba69-36ede1621910","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.254Z","level":"info","message":"http_request_received","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","method":"POST","path":"/api/process-cv","template":"unknown","session":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.255Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.256Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.258Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.259Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.262Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/b4cab518-8a8e-4726-99b9-0a630a00ba0d/incoming/original.pdf","chunks":1,"timestamp":1764855908264}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/b4cab518-8a8e-4726-99b9-0a630a00ba0d/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/b4cab518-8a8e-4726-99b9-0a630a00ba0d/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:45:08.266Z","level":"info","message":"process_cv_started","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","jobId":"66a5603c-418a-441d-b623-8e729e818372","manualJobDescriptionProvided":true,"template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.267Z","level":"info","message":"template_selection","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","jobId":"66a5603c-418a-441d-b623-8e729e818372","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:08.268Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","jobId":"66a5603c-418a-441d-b623-8e729e818372","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:45:08.274Z","level":"info","message":"initial_upload_completed","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","jobId":"66a5603c-418a-441d-b623-8e729e818372","bucket":"test-bucket","key":"cv/candidate/b4cab518-8a8e-4726-99b9-0a630a00ba0d/incoming/original.pdf","template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.276Z","level":"info","message":"resume_text_extracted","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","jobId":"66a5603c-418a-441d-b623-8e729e818372","characters":57,"template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.276Z","level":"info","message":"resume_classified","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","jobId":"66a5603c-418a-441d-b623-8e729e818372","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.276Z","level":"info","message":"raw_upload_relocated","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","jobId":"66a5603c-418a-441d-b623-8e729e818372","bucket":"test-bucket","fromKey":"cv/candidate/b4cab518-8a8e-4726-99b9-0a630a00ba0d/incoming/original.pdf","toKey":"cv/professional_summary/b4cab518-8a8e-4726-99b9-0a630a00ba0d/original.pdf","template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.277Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","jobId":"66a5603c-418a-441d-b623-8e729e818372","bucket":"test-bucket","key":"cv/professional_summary/b4cab518-8a8e-4726-99b9-0a630a00ba0d/original.pdf","template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.277Z","level":"info","message":"dynamo_initial_record_written","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","jobId":"66a5603c-418a-441d-b623-8e729e818372","bucket":"test-bucket","key":"cv/professional_summary/b4cab518-8a8e-4726-99b9-0a630a00ba0d/original.pdf","template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.278Z","level":"info","message":"upload_metadata_written","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","jobId":"66a5603c-418a-441d-b623-8e729e818372","bucket":"test-bucket","key":"cv/professional_summary/b4cab518-8a8e-4726-99b9-0a630a00ba0d/logs/log.json","template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.278Z","level":"info","message":"job_description_supplied_manually","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","jobId":"66a5603c-418a-441d-b623-8e729e818372","characters":59,"template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.278Z","level":"info","message":"job_description_analyzed","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","jobId":"66a5603c-418a-441d-b623-8e729e818372","jobTitle":"","jobSkills":5,"template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.279Z","level":"info","message":"resume_skills_analyzed","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","jobId":"66a5603c-418a-441d-b623-8e729e818372","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.280Z","level":"info","message":"llm_call_metrics","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.280Z","level":"info","message":"process_cv_scoring_completed","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","jobId":"66a5603c-418a-441d-b623-8e729e818372","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.282Z","level":"info","message":"llm_call_metrics","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"ea2430c235b24028819e3e632af324e68724bbc1d27bee61065e3e4452249d1c","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.283Z","level":"info","message":"generation_section_rewrite_completed","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","jobId":"66a5603c-418a-441d-b623-8e729e818372","generationRunId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.283Z","level":"info","message":"llm_call_metrics","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"5ccfe9db3e82fa26357ec9c5a8fa36d7c5cf260bf775e906492a22db0355a609","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.286Z","level":"info","message":"generation_resume_verified","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","jobId":"66a5603c-418a-441d-b623-8e729e818372","generationRunId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:08.288Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","jobId":"66a5603c-418a-441d-b623-8e729e818372","generationRunId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:08.294Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","jobId":"66a5603c-418a-441d-b623-8e729e818372","generationRunId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:08.299Z","level":"info","message":"generation_cover_letters_completed","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","jobId":"66a5603c-418a-441d-b623-8e729e818372","generationRunId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","variants":2,"fallbackApplied":true,"template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.300Z","level":"info","message":"pdf_generation_attempt","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","jobId":"66a5603c-418a-441d-b623-8e729e818372","generationRunId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b4cab518-8a8e-4726-99b9-0a630a00ba0d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/b4cab518-8a8e-4726-99b9-0a630a00ba0d/enhanced_modern.pdf","session":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.300Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","jobId":"66a5603c-418a-441d-b623-8e729e818372","generationRunId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b4cab518-8a8e-4726-99b9-0a630a00ba0d/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.301Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","jobId":"66a5603c-418a-441d-b623-8e729e818372","generationRunId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b4cab518-8a8e-4726-99b9-0a630a00ba0d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/b4cab518-8a8e-4726-99b9-0a630a00ba0d/enhanced_modern.pdf","session":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.301Z","level":"info","message":"pdf_generation_attempt","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","jobId":"66a5603c-418a-441d-b623-8e729e818372","generationRunId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b4cab518-8a8e-4726-99b9-0a630a00ba0d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/b4cab518-8a8e-4726-99b9-0a630a00ba0d/enhanced_professional.pdf","session":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.301Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","jobId":"66a5603c-418a-441d-b623-8e729e818372","generationRunId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b4cab518-8a8e-4726-99b9-0a630a00ba0d/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.302Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","jobId":"66a5603c-418a-441d-b623-8e729e818372","generationRunId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b4cab518-8a8e-4726-99b9-0a630a00ba0d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/b4cab518-8a8e-4726-99b9-0a630a00ba0d/enhanced_professional.pdf","session":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.302Z","level":"info","message":"pdf_generation_attempt","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","jobId":"66a5603c-418a-441d-b623-8e729e818372","generationRunId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b4cab518-8a8e-4726-99b9-0a630a00ba0d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/b4cab518-8a8e-4726-99b9-0a630a00ba0d/cover_letter_cover_modern.pdf","session":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.303Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","jobId":"66a5603c-418a-441d-b623-8e729e818372","generationRunId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b4cab518-8a8e-4726-99b9-0a630a00ba0d/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.303Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","jobId":"66a5603c-418a-441d-b623-8e729e818372","generationRunId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b4cab518-8a8e-4726-99b9-0a630a00ba0d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/b4cab518-8a8e-4726-99b9-0a630a00ba0d/cover_letter_cover_modern.pdf","session":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.304Z","level":"info","message":"pdf_generation_attempt","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","jobId":"66a5603c-418a-441d-b623-8e729e818372","generationRunId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b4cab518-8a8e-4726-99b9-0a630a00ba0d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/b4cab518-8a8e-4726-99b9-0a630a00ba0d/cover_letter_cover_professional.pdf","session":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.304Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","jobId":"66a5603c-418a-441d-b623-8e729e818372","generationRunId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b4cab518-8a8e-4726-99b9-0a630a00ba0d/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.304Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","jobId":"66a5603c-418a-441d-b623-8e729e818372","generationRunId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b4cab518-8a8e-4726-99b9-0a630a00ba0d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/b4cab518-8a8e-4726-99b9-0a630a00ba0d/cover_letter_cover_professional.pdf","session":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.307Z","level":"info","message":"llm_call_metrics","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.308Z","level":"info","message":"generation_completed","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","jobId":"66a5603c-418a-441d-b623-8e729e818372","generationRunId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","enhancedScore":80,"outputs":5,"template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.309Z","level":"info","message":"placeholder_record_deleted","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","jobId":"66a5603c-418a-441d-b623-8e729e818372","placeholderIdentifier":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66a5603c-418a-441d-b623-8e729e818372","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.310Z","level":"info","message":"http_request_completed","requestId":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":56,"contentLength":"55048","template":"unknown","session":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b4cab518-8a8e-4726-99b9-0a630a00ba0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.313Z","level":"info","message":"http_request_received","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","method":"POST","path":"/api/process-cv","template":"unknown","session":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.314Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.315Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.317Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.318Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.320Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/a6527d1f-929e-41d1-8d70-ada4eb8c1aff/incoming/original.pdf","chunks":1,"timestamp":1764855908322}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/a6527d1f-929e-41d1-8d70-ada4eb8c1aff/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/a6527d1f-929e-41d1-8d70-ada4eb8c1aff/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:45:08.323Z","level":"info","message":"process_cv_started","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","jobId":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","manualJobDescriptionProvided":true,"template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.324Z","level":"info","message":"template_selection","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","jobId":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:08.324Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","jobId":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:45:08.330Z","level":"info","message":"initial_upload_completed","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","jobId":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","bucket":"test-bucket","key":"cv/candidate/a6527d1f-929e-41d1-8d70-ada4eb8c1aff/incoming/original.pdf","template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.332Z","level":"info","message":"resume_text_extracted","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","jobId":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","characters":57,"template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.332Z","level":"info","message":"resume_classified","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","jobId":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.332Z","level":"info","message":"raw_upload_relocated","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","jobId":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","bucket":"test-bucket","fromKey":"cv/candidate/a6527d1f-929e-41d1-8d70-ada4eb8c1aff/incoming/original.pdf","toKey":"cv/professional_summary/a6527d1f-929e-41d1-8d70-ada4eb8c1aff/original.pdf","template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.333Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","jobId":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","bucket":"test-bucket","key":"cv/professional_summary/a6527d1f-929e-41d1-8d70-ada4eb8c1aff/original.pdf","template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.333Z","level":"info","message":"dynamo_initial_record_written","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","jobId":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","bucket":"test-bucket","key":"cv/professional_summary/a6527d1f-929e-41d1-8d70-ada4eb8c1aff/original.pdf","template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.333Z","level":"info","message":"upload_metadata_written","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","jobId":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","bucket":"test-bucket","key":"cv/professional_summary/a6527d1f-929e-41d1-8d70-ada4eb8c1aff/logs/log.json","template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.334Z","level":"info","message":"job_description_supplied_manually","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","jobId":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","characters":32,"template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.334Z","level":"info","message":"job_description_analyzed","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","jobId":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","jobTitle":"","jobSkills":5,"template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.334Z","level":"info","message":"resume_skills_analyzed","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","jobId":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.335Z","level":"info","message":"llm_call_metrics","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.335Z","level":"info","message":"process_cv_scoring_completed","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","jobId":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.337Z","level":"info","message":"llm_call_metrics","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"4ee429ea92424e8e19e4720211137d476a19f7274074e1702e9c42fe53b6fed7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.338Z","level":"info","message":"generation_section_rewrite_completed","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","jobId":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","generationRunId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.338Z","level":"info","message":"llm_call_metrics","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"b847d6e14d4cae3ee14cd5dbb7c4a4ca1658d965fe5c0b4564eb95e9b23995e3","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.340Z","level":"info","message":"generation_resume_verified","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","jobId":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","generationRunId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:08.343Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","jobId":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","generationRunId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:08.349Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","jobId":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","generationRunId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:08.355Z","level":"info","message":"generation_cover_letters_completed","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","jobId":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","generationRunId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","variants":2,"fallbackApplied":true,"template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.355Z","level":"info","message":"pdf_generation_attempt","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","jobId":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","generationRunId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a6527d1f-929e-41d1-8d70-ada4eb8c1aff/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/a6527d1f-929e-41d1-8d70-ada4eb8c1aff/enhanced_modern.pdf","session":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.356Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","jobId":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","generationRunId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a6527d1f-929e-41d1-8d70-ada4eb8c1aff/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.356Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","jobId":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","generationRunId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a6527d1f-929e-41d1-8d70-ada4eb8c1aff/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/a6527d1f-929e-41d1-8d70-ada4eb8c1aff/enhanced_modern.pdf","session":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.356Z","level":"info","message":"pdf_generation_attempt","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","jobId":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","generationRunId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a6527d1f-929e-41d1-8d70-ada4eb8c1aff/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/a6527d1f-929e-41d1-8d70-ada4eb8c1aff/enhanced_professional.pdf","session":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.357Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","jobId":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","generationRunId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a6527d1f-929e-41d1-8d70-ada4eb8c1aff/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.357Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","jobId":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","generationRunId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a6527d1f-929e-41d1-8d70-ada4eb8c1aff/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/a6527d1f-929e-41d1-8d70-ada4eb8c1aff/enhanced_professional.pdf","session":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.358Z","level":"info","message":"pdf_generation_attempt","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","jobId":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","generationRunId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a6527d1f-929e-41d1-8d70-ada4eb8c1aff/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/a6527d1f-929e-41d1-8d70-ada4eb8c1aff/cover_letter_cover_modern.pdf","session":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.358Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","jobId":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","generationRunId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a6527d1f-929e-41d1-8d70-ada4eb8c1aff/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.358Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","jobId":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","generationRunId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a6527d1f-929e-41d1-8d70-ada4eb8c1aff/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/a6527d1f-929e-41d1-8d70-ada4eb8c1aff/cover_letter_cover_modern.pdf","session":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.359Z","level":"info","message":"pdf_generation_attempt","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","jobId":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","generationRunId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a6527d1f-929e-41d1-8d70-ada4eb8c1aff/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/a6527d1f-929e-41d1-8d70-ada4eb8c1aff/cover_letter_cover_professional.pdf","session":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.359Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","jobId":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","generationRunId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a6527d1f-929e-41d1-8d70-ada4eb8c1aff/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.359Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","jobId":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","generationRunId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a6527d1f-929e-41d1-8d70-ada4eb8c1aff/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/a6527d1f-929e-41d1-8d70-ada4eb8c1aff/cover_letter_cover_professional.pdf","session":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.361Z","level":"info","message":"llm_call_metrics","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.362Z","level":"info","message":"generation_completed","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","jobId":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","generationRunId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","enhancedScore":80,"outputs":5,"template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.363Z","level":"info","message":"placeholder_record_deleted","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","jobId":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","placeholderIdentifier":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"714f8a75-74d9-4b73-8878-b0a36fd1fc70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.364Z","level":"info","message":"http_request_completed","requestId":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":51,"contentLength":"53771","template":"unknown","session":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a6527d1f-929e-41d1-8d70-ada4eb8c1aff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.367Z","level":"info","message":"http_request_received","requestId":"0a6969da-8747-46ee-a0ea-ba9d1ce8be57","method":"POST","path":"/api/process-cv","template":"unknown","session":"0a6969da-8747-46ee-a0ea-ba9d1ce8be57","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0a6969da-8747-46ee-a0ea-ba9d1ce8be57","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.369Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.370Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.371Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.372Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.374Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/0a6969da-8747-46ee-a0ea-ba9d1ce8be57/incoming/original.pdf","chunks":1,"timestamp":1764855908376}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/0a6969da-8747-46ee-a0ea-ba9d1ce8be57/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/0a6969da-8747-46ee-a0ea-ba9d1ce8be57/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.warn
    {"timestamp":"2025-12-04T13:45:08.378Z","level":"warn","message":"job_description_prohibited_html_detected","requestId":"0a6969da-8747-46ee-a0ea-ba9d1ce8be57","jobId":"29e9fe9b-fa62-4d1c-964a-0e7f7ac1de25","template":"unknown","session":"29e9fe9b-fa62-4d1c-964a-0e7f7ac1de25","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29e9fe9b-fa62-4d1c-964a-0e7f7ac1de25","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:24989:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T13:45:08.383Z","level":"warn","message":"api_error_response","requestId":"0a6969da-8747-46ee-a0ea-ba9d1ce8be57","jobId":"29e9fe9b-fa62-4d1c-964a-0e7f7ac1de25","status":400,"error":{"code":"JOB_DESCRIPTION_PROHIBITED_TAGS","message":"Remove HTML tags like <script> before continuing.","details":{"field":"manualJobDescription"},"requestId":"0a6969da-8747-46ee-a0ea-ba9d1ce8be57","jobId":"29e9fe9b-fa62-4d1c-964a-0e7f7ac1de25"},"template":"unknown","session":"29e9fe9b-fa62-4d1c-964a-0e7f7ac1de25","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"29e9fe9b-fa62-4d1c-964a-0e7f7ac1de25","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at sendError (server.js:3964:3)
      at server.js:24990:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:45:08.389Z","level":"info","message":"http_request_completed","requestId":"0a6969da-8747-46ee-a0ea-ba9d1ce8be57","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":22,"contentLength":"271","template":"unknown","session":"0a6969da-8747-46ee-a0ea-ba9d1ce8be57","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0a6969da-8747-46ee-a0ea-ba9d1ce8be57","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.392Z","level":"info","message":"http_request_received","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","method":"POST","path":"/api/process-cv","template":"unknown","session":"e9a723de-5085-4bfb-b24d-edf41b754f96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e9a723de-5085-4bfb-b24d-edf41b754f96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.393Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.395Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.396Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.397Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.399Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/e9a723de-5085-4bfb-b24d-edf41b754f96/incoming/original.pdf","chunks":1,"timestamp":1764855908401}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/e9a723de-5085-4bfb-b24d-edf41b754f96/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/e9a723de-5085-4bfb-b24d-edf41b754f96/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:45:08.402Z","level":"info","message":"process_cv_started","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","jobId":"591721f5-7d37-4ec2-95f4-80a786445e28","manualJobDescriptionProvided":true,"template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.403Z","level":"info","message":"template_selection","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","jobId":"591721f5-7d37-4ec2-95f4-80a786445e28","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:08.403Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","jobId":"591721f5-7d37-4ec2-95f4-80a786445e28","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:45:08.409Z","level":"info","message":"initial_upload_completed","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","jobId":"591721f5-7d37-4ec2-95f4-80a786445e28","bucket":"test-bucket","key":"cv/candidate/e9a723de-5085-4bfb-b24d-edf41b754f96/incoming/original.pdf","template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.409Z","level":"info","message":"resume_text_extracted","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","jobId":"591721f5-7d37-4ec2-95f4-80a786445e28","characters":57,"template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.410Z","level":"info","message":"resume_classified","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","jobId":"591721f5-7d37-4ec2-95f4-80a786445e28","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.410Z","level":"info","message":"raw_upload_relocated","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","jobId":"591721f5-7d37-4ec2-95f4-80a786445e28","bucket":"test-bucket","fromKey":"cv/candidate/e9a723de-5085-4bfb-b24d-edf41b754f96/incoming/original.pdf","toKey":"cv/professional_summary/e9a723de-5085-4bfb-b24d-edf41b754f96/original.pdf","template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.410Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","jobId":"591721f5-7d37-4ec2-95f4-80a786445e28","bucket":"test-bucket","key":"cv/professional_summary/e9a723de-5085-4bfb-b24d-edf41b754f96/original.pdf","template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.411Z","level":"info","message":"dynamo_initial_record_written","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","jobId":"591721f5-7d37-4ec2-95f4-80a786445e28","bucket":"test-bucket","key":"cv/professional_summary/e9a723de-5085-4bfb-b24d-edf41b754f96/original.pdf","template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.411Z","level":"info","message":"upload_metadata_written","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","jobId":"591721f5-7d37-4ec2-95f4-80a786445e28","bucket":"test-bucket","key":"cv/professional_summary/e9a723de-5085-4bfb-b24d-edf41b754f96/logs/log.json","template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.411Z","level":"info","message":"job_description_supplied_manually","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","jobId":"591721f5-7d37-4ec2-95f4-80a786445e28","characters":31,"template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.411Z","level":"info","message":"job_description_analyzed","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","jobId":"591721f5-7d37-4ec2-95f4-80a786445e28","jobTitle":"","jobSkills":5,"template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.412Z","level":"info","message":"resume_skills_analyzed","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","jobId":"591721f5-7d37-4ec2-95f4-80a786445e28","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.412Z","level":"info","message":"llm_call_metrics","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"e9a723de-5085-4bfb-b24d-edf41b754f96","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e9a723de-5085-4bfb-b24d-edf41b754f96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.413Z","level":"info","message":"process_cv_scoring_completed","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","jobId":"591721f5-7d37-4ec2-95f4-80a786445e28","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.415Z","level":"info","message":"llm_call_metrics","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"3b6fa31427cfe80be95734691ddba88dda63de26496df29477f91bd398cefbfa","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"e9a723de-5085-4bfb-b24d-edf41b754f96","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"e9a723de-5085-4bfb-b24d-edf41b754f96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.416Z","level":"info","message":"generation_section_rewrite_completed","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","jobId":"591721f5-7d37-4ec2-95f4-80a786445e28","generationRunId":"e9a723de-5085-4bfb-b24d-edf41b754f96","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.416Z","level":"info","message":"llm_call_metrics","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"eedd7612e0b87e24dbfb4e165754c9448ec3573f7db56a3242654c71c3ca223b","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"e9a723de-5085-4bfb-b24d-edf41b754f96","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"e9a723de-5085-4bfb-b24d-edf41b754f96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.418Z","level":"info","message":"generation_resume_verified","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","jobId":"591721f5-7d37-4ec2-95f4-80a786445e28","generationRunId":"e9a723de-5085-4bfb-b24d-edf41b754f96","template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:08.421Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","jobId":"591721f5-7d37-4ec2-95f4-80a786445e28","generationRunId":"e9a723de-5085-4bfb-b24d-edf41b754f96","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:08.426Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","jobId":"591721f5-7d37-4ec2-95f4-80a786445e28","generationRunId":"e9a723de-5085-4bfb-b24d-edf41b754f96","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:08.433Z","level":"info","message":"generation_cover_letters_completed","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","jobId":"591721f5-7d37-4ec2-95f4-80a786445e28","generationRunId":"e9a723de-5085-4bfb-b24d-edf41b754f96","variants":2,"fallbackApplied":true,"template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.433Z","level":"info","message":"pdf_generation_attempt","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","jobId":"591721f5-7d37-4ec2-95f4-80a786445e28","generationRunId":"e9a723de-5085-4bfb-b24d-edf41b754f96","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e9a723de-5085-4bfb-b24d-edf41b754f96/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/e9a723de-5085-4bfb-b24d-edf41b754f96/enhanced_modern.pdf","session":"e9a723de-5085-4bfb-b24d-edf41b754f96","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e9a723de-5085-4bfb-b24d-edf41b754f96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.434Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","jobId":"591721f5-7d37-4ec2-95f4-80a786445e28","generationRunId":"e9a723de-5085-4bfb-b24d-edf41b754f96","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e9a723de-5085-4bfb-b24d-edf41b754f96/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e9a723de-5085-4bfb-b24d-edf41b754f96","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e9a723de-5085-4bfb-b24d-edf41b754f96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.434Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","jobId":"591721f5-7d37-4ec2-95f4-80a786445e28","generationRunId":"e9a723de-5085-4bfb-b24d-edf41b754f96","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e9a723de-5085-4bfb-b24d-edf41b754f96/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/e9a723de-5085-4bfb-b24d-edf41b754f96/enhanced_modern.pdf","session":"e9a723de-5085-4bfb-b24d-edf41b754f96","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e9a723de-5085-4bfb-b24d-edf41b754f96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.435Z","level":"info","message":"pdf_generation_attempt","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","jobId":"591721f5-7d37-4ec2-95f4-80a786445e28","generationRunId":"e9a723de-5085-4bfb-b24d-edf41b754f96","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e9a723de-5085-4bfb-b24d-edf41b754f96/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/e9a723de-5085-4bfb-b24d-edf41b754f96/enhanced_professional.pdf","session":"e9a723de-5085-4bfb-b24d-edf41b754f96","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e9a723de-5085-4bfb-b24d-edf41b754f96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.435Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","jobId":"591721f5-7d37-4ec2-95f4-80a786445e28","generationRunId":"e9a723de-5085-4bfb-b24d-edf41b754f96","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e9a723de-5085-4bfb-b24d-edf41b754f96/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e9a723de-5085-4bfb-b24d-edf41b754f96","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e9a723de-5085-4bfb-b24d-edf41b754f96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.435Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","jobId":"591721f5-7d37-4ec2-95f4-80a786445e28","generationRunId":"e9a723de-5085-4bfb-b24d-edf41b754f96","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e9a723de-5085-4bfb-b24d-edf41b754f96/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/e9a723de-5085-4bfb-b24d-edf41b754f96/enhanced_professional.pdf","session":"e9a723de-5085-4bfb-b24d-edf41b754f96","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e9a723de-5085-4bfb-b24d-edf41b754f96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.436Z","level":"info","message":"pdf_generation_attempt","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","jobId":"591721f5-7d37-4ec2-95f4-80a786445e28","generationRunId":"e9a723de-5085-4bfb-b24d-edf41b754f96","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e9a723de-5085-4bfb-b24d-edf41b754f96/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/e9a723de-5085-4bfb-b24d-edf41b754f96/cover_letter_cover_modern.pdf","session":"e9a723de-5085-4bfb-b24d-edf41b754f96","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e9a723de-5085-4bfb-b24d-edf41b754f96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.436Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","jobId":"591721f5-7d37-4ec2-95f4-80a786445e28","generationRunId":"e9a723de-5085-4bfb-b24d-edf41b754f96","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e9a723de-5085-4bfb-b24d-edf41b754f96/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e9a723de-5085-4bfb-b24d-edf41b754f96","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e9a723de-5085-4bfb-b24d-edf41b754f96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.436Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","jobId":"591721f5-7d37-4ec2-95f4-80a786445e28","generationRunId":"e9a723de-5085-4bfb-b24d-edf41b754f96","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e9a723de-5085-4bfb-b24d-edf41b754f96/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/e9a723de-5085-4bfb-b24d-edf41b754f96/cover_letter_cover_modern.pdf","session":"e9a723de-5085-4bfb-b24d-edf41b754f96","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e9a723de-5085-4bfb-b24d-edf41b754f96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.437Z","level":"info","message":"pdf_generation_attempt","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","jobId":"591721f5-7d37-4ec2-95f4-80a786445e28","generationRunId":"e9a723de-5085-4bfb-b24d-edf41b754f96","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e9a723de-5085-4bfb-b24d-edf41b754f96/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/e9a723de-5085-4bfb-b24d-edf41b754f96/cover_letter_cover_professional.pdf","session":"e9a723de-5085-4bfb-b24d-edf41b754f96","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e9a723de-5085-4bfb-b24d-edf41b754f96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.437Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","jobId":"591721f5-7d37-4ec2-95f4-80a786445e28","generationRunId":"e9a723de-5085-4bfb-b24d-edf41b754f96","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e9a723de-5085-4bfb-b24d-edf41b754f96/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e9a723de-5085-4bfb-b24d-edf41b754f96","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e9a723de-5085-4bfb-b24d-edf41b754f96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.438Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","jobId":"591721f5-7d37-4ec2-95f4-80a786445e28","generationRunId":"e9a723de-5085-4bfb-b24d-edf41b754f96","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e9a723de-5085-4bfb-b24d-edf41b754f96/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/e9a723de-5085-4bfb-b24d-edf41b754f96/cover_letter_cover_professional.pdf","session":"e9a723de-5085-4bfb-b24d-edf41b754f96","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e9a723de-5085-4bfb-b24d-edf41b754f96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.440Z","level":"info","message":"llm_call_metrics","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"e9a723de-5085-4bfb-b24d-edf41b754f96","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e9a723de-5085-4bfb-b24d-edf41b754f96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.443Z","level":"info","message":"generation_completed","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","jobId":"591721f5-7d37-4ec2-95f4-80a786445e28","generationRunId":"e9a723de-5085-4bfb-b24d-edf41b754f96","enhancedScore":80,"outputs":5,"template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.444Z","level":"info","message":"placeholder_record_deleted","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","jobId":"591721f5-7d37-4ec2-95f4-80a786445e28","placeholderIdentifier":"e9a723de-5085-4bfb-b24d-edf41b754f96","template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"591721f5-7d37-4ec2-95f4-80a786445e28","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.445Z","level":"info","message":"http_request_completed","requestId":"e9a723de-5085-4bfb-b24d-edf41b754f96","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":53,"contentLength":"53718","template":"unknown","session":"e9a723de-5085-4bfb-b24d-edf41b754f96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e9a723de-5085-4bfb-b24d-edf41b754f96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.450Z","level":"info","message":"http_request_received","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","method":"POST","path":"/api/process-cv","template":"unknown","session":"43a06057-200b-4d9d-bcc9-410494e92445","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"43a06057-200b-4d9d-bcc9-410494e92445","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.452Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.454Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.456Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.459Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.462Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/43a06057-200b-4d9d-bcc9-410494e92445/incoming/original.pdf","chunks":1,"timestamp":1764855908465}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/43a06057-200b-4d9d-bcc9-410494e92445/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/43a06057-200b-4d9d-bcc9-410494e92445/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:45:08.467Z","level":"info","message":"process_cv_started","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","jobId":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","manualJobDescriptionProvided":true,"template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.468Z","level":"info","message":"template_selection","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","jobId":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:08.468Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","jobId":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:45:08.476Z","level":"info","message":"initial_upload_completed","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","jobId":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","bucket":"test-bucket","key":"cv/candidate/43a06057-200b-4d9d-bcc9-410494e92445/incoming/original.pdf","template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.477Z","level":"info","message":"resume_text_extracted","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","jobId":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","characters":57,"template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.477Z","level":"info","message":"resume_classified","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","jobId":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.478Z","level":"info","message":"raw_upload_relocated","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","jobId":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","bucket":"test-bucket","fromKey":"cv/candidate/43a06057-200b-4d9d-bcc9-410494e92445/incoming/original.pdf","toKey":"cv/professional_summary/43a06057-200b-4d9d-bcc9-410494e92445/original.pdf","template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.478Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","jobId":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","bucket":"test-bucket","key":"cv/professional_summary/43a06057-200b-4d9d-bcc9-410494e92445/original.pdf","template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.479Z","level":"info","message":"dynamo_initial_record_written","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","jobId":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","bucket":"test-bucket","key":"cv/professional_summary/43a06057-200b-4d9d-bcc9-410494e92445/original.pdf","template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.479Z","level":"info","message":"upload_metadata_written","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","jobId":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","bucket":"test-bucket","key":"cv/professional_summary/43a06057-200b-4d9d-bcc9-410494e92445/logs/log.json","template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.479Z","level":"info","message":"job_description_supplied_manually","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","jobId":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","characters":174,"template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.480Z","level":"info","message":"job_description_analyzed","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","jobId":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","jobTitle":"","jobSkills":5,"template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.480Z","level":"info","message":"resume_skills_analyzed","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","jobId":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.481Z","level":"info","message":"llm_call_metrics","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"43a06057-200b-4d9d-bcc9-410494e92445","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"43a06057-200b-4d9d-bcc9-410494e92445","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.482Z","level":"info","message":"process_cv_scoring_completed","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","jobId":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.484Z","level":"info","message":"llm_call_metrics","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"43a06057-200b-4d9d-bcc9-410494e92445","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"43a06057-200b-4d9d-bcc9-410494e92445","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.485Z","level":"info","message":"generation_section_rewrite_completed","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","jobId":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","generationRunId":"43a06057-200b-4d9d-bcc9-410494e92445","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.486Z","level":"info","message":"llm_call_metrics","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"43a06057-200b-4d9d-bcc9-410494e92445","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"43a06057-200b-4d9d-bcc9-410494e92445","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.490Z","level":"info","message":"generation_resume_verified","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","jobId":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","generationRunId":"43a06057-200b-4d9d-bcc9-410494e92445","template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:08.494Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","jobId":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","generationRunId":"43a06057-200b-4d9d-bcc9-410494e92445","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:08.501Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","jobId":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","generationRunId":"43a06057-200b-4d9d-bcc9-410494e92445","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:08.508Z","level":"info","message":"generation_cover_letters_completed","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","jobId":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","generationRunId":"43a06057-200b-4d9d-bcc9-410494e92445","variants":2,"fallbackApplied":true,"template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.509Z","level":"info","message":"pdf_generation_attempt","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","jobId":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","generationRunId":"43a06057-200b-4d9d-bcc9-410494e92445","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/43a06057-200b-4d9d-bcc9-410494e92445/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/43a06057-200b-4d9d-bcc9-410494e92445/enhanced_modern.pdf","session":"43a06057-200b-4d9d-bcc9-410494e92445","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"43a06057-200b-4d9d-bcc9-410494e92445","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.510Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","jobId":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","generationRunId":"43a06057-200b-4d9d-bcc9-410494e92445","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/43a06057-200b-4d9d-bcc9-410494e92445/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"43a06057-200b-4d9d-bcc9-410494e92445","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"43a06057-200b-4d9d-bcc9-410494e92445","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.515Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","jobId":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","generationRunId":"43a06057-200b-4d9d-bcc9-410494e92445","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/43a06057-200b-4d9d-bcc9-410494e92445/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/43a06057-200b-4d9d-bcc9-410494e92445/enhanced_modern.pdf","session":"43a06057-200b-4d9d-bcc9-410494e92445","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"43a06057-200b-4d9d-bcc9-410494e92445","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.515Z","level":"info","message":"pdf_generation_attempt","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","jobId":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","generationRunId":"43a06057-200b-4d9d-bcc9-410494e92445","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/43a06057-200b-4d9d-bcc9-410494e92445/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/43a06057-200b-4d9d-bcc9-410494e92445/enhanced_professional.pdf","session":"43a06057-200b-4d9d-bcc9-410494e92445","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"43a06057-200b-4d9d-bcc9-410494e92445","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.516Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","jobId":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","generationRunId":"43a06057-200b-4d9d-bcc9-410494e92445","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/43a06057-200b-4d9d-bcc9-410494e92445/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"43a06057-200b-4d9d-bcc9-410494e92445","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"43a06057-200b-4d9d-bcc9-410494e92445","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.517Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","jobId":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","generationRunId":"43a06057-200b-4d9d-bcc9-410494e92445","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/43a06057-200b-4d9d-bcc9-410494e92445/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/43a06057-200b-4d9d-bcc9-410494e92445/enhanced_professional.pdf","session":"43a06057-200b-4d9d-bcc9-410494e92445","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"43a06057-200b-4d9d-bcc9-410494e92445","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.517Z","level":"info","message":"pdf_generation_attempt","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","jobId":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","generationRunId":"43a06057-200b-4d9d-bcc9-410494e92445","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/43a06057-200b-4d9d-bcc9-410494e92445/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/43a06057-200b-4d9d-bcc9-410494e92445/cover_letter_cover_modern.pdf","session":"43a06057-200b-4d9d-bcc9-410494e92445","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"43a06057-200b-4d9d-bcc9-410494e92445","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.518Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","jobId":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","generationRunId":"43a06057-200b-4d9d-bcc9-410494e92445","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/43a06057-200b-4d9d-bcc9-410494e92445/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"43a06057-200b-4d9d-bcc9-410494e92445","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"43a06057-200b-4d9d-bcc9-410494e92445","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.518Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","jobId":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","generationRunId":"43a06057-200b-4d9d-bcc9-410494e92445","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/43a06057-200b-4d9d-bcc9-410494e92445/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/43a06057-200b-4d9d-bcc9-410494e92445/cover_letter_cover_modern.pdf","session":"43a06057-200b-4d9d-bcc9-410494e92445","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"43a06057-200b-4d9d-bcc9-410494e92445","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.519Z","level":"info","message":"pdf_generation_attempt","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","jobId":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","generationRunId":"43a06057-200b-4d9d-bcc9-410494e92445","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/43a06057-200b-4d9d-bcc9-410494e92445/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/43a06057-200b-4d9d-bcc9-410494e92445/cover_letter_cover_professional.pdf","session":"43a06057-200b-4d9d-bcc9-410494e92445","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"43a06057-200b-4d9d-bcc9-410494e92445","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.519Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","jobId":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","generationRunId":"43a06057-200b-4d9d-bcc9-410494e92445","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/43a06057-200b-4d9d-bcc9-410494e92445/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"43a06057-200b-4d9d-bcc9-410494e92445","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"43a06057-200b-4d9d-bcc9-410494e92445","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.520Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","jobId":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","generationRunId":"43a06057-200b-4d9d-bcc9-410494e92445","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/43a06057-200b-4d9d-bcc9-410494e92445/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/43a06057-200b-4d9d-bcc9-410494e92445/cover_letter_cover_professional.pdf","session":"43a06057-200b-4d9d-bcc9-410494e92445","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"43a06057-200b-4d9d-bcc9-410494e92445","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.524Z","level":"info","message":"llm_call_metrics","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"43a06057-200b-4d9d-bcc9-410494e92445","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"43a06057-200b-4d9d-bcc9-410494e92445","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.524Z","level":"info","message":"generation_completed","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","jobId":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","generationRunId":"43a06057-200b-4d9d-bcc9-410494e92445","enhancedScore":80,"outputs":5,"template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.525Z","level":"info","message":"placeholder_record_deleted","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","jobId":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","placeholderIdentifier":"43a06057-200b-4d9d-bcc9-410494e92445","template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d175ad0a-9875-4632-9a00-4e2bd2243fbb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.527Z","level":"info","message":"http_request_completed","requestId":"43a06057-200b-4d9d-bcc9-410494e92445","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":77,"contentLength":"58133","template":"unknown","session":"43a06057-200b-4d9d-bcc9-410494e92445","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"43a06057-200b-4d9d-bcc9-410494e92445","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.529Z","level":"info","message":"http_request_received","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","method":"POST","path":"/api/process-cv","template":"unknown","session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.530Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.532Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.533Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.534Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.536Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/42965190-c63a-42da-af82-e70d17adf5d7/incoming/original.pdf","chunks":1,"timestamp":1764855908538}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/42965190-c63a-42da-af82-e70d17adf5d7/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/42965190-c63a-42da-af82-e70d17adf5d7/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:45:08.539Z","level":"info","message":"process_cv_started","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","jobId":"3804506d-eeb8-40aa-841d-d4be93a55796","manualJobDescriptionProvided":true,"template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.540Z","level":"info","message":"template_selection","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","jobId":"3804506d-eeb8-40aa-841d-d4be93a55796","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:08.540Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","jobId":"3804506d-eeb8-40aa-841d-d4be93a55796","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:45:08.546Z","level":"info","message":"initial_upload_completed","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","jobId":"3804506d-eeb8-40aa-841d-d4be93a55796","bucket":"test-bucket","key":"cv/candidate/42965190-c63a-42da-af82-e70d17adf5d7/incoming/original.pdf","template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.546Z","level":"info","message":"resume_text_extracted","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","jobId":"3804506d-eeb8-40aa-841d-d4be93a55796","characters":57,"template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.547Z","level":"info","message":"resume_classified","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","jobId":"3804506d-eeb8-40aa-841d-d4be93a55796","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.547Z","level":"info","message":"raw_upload_relocated","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","jobId":"3804506d-eeb8-40aa-841d-d4be93a55796","bucket":"test-bucket","fromKey":"cv/candidate/42965190-c63a-42da-af82-e70d17adf5d7/incoming/original.pdf","toKey":"cv/professional_summary/42965190-c63a-42da-af82-e70d17adf5d7/original.pdf","template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.547Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","jobId":"3804506d-eeb8-40aa-841d-d4be93a55796","bucket":"test-bucket","key":"cv/professional_summary/42965190-c63a-42da-af82-e70d17adf5d7/original.pdf","template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.548Z","level":"info","message":"dynamo_initial_record_written","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","jobId":"3804506d-eeb8-40aa-841d-d4be93a55796","bucket":"test-bucket","key":"cv/professional_summary/42965190-c63a-42da-af82-e70d17adf5d7/original.pdf","template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.548Z","level":"info","message":"upload_metadata_written","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","jobId":"3804506d-eeb8-40aa-841d-d4be93a55796","bucket":"test-bucket","key":"cv/professional_summary/42965190-c63a-42da-af82-e70d17adf5d7/logs/log.json","template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.548Z","level":"info","message":"job_description_supplied_manually","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","jobId":"3804506d-eeb8-40aa-841d-d4be93a55796","characters":174,"template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.548Z","level":"info","message":"job_description_analyzed","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","jobId":"3804506d-eeb8-40aa-841d-d4be93a55796","jobTitle":"","jobSkills":5,"template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.549Z","level":"info","message":"resume_skills_analyzed","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","jobId":"3804506d-eeb8-40aa-841d-d4be93a55796","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.549Z","level":"info","message":"llm_call_metrics","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.550Z","level":"info","message":"process_cv_scoring_completed","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","jobId":"3804506d-eeb8-40aa-841d-d4be93a55796","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:45:08.551Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"42965190-c63a-42da-af82-e70d17adf5d7","sample":"not json","template":"unknown","session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at Object.error (server.js:3476:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8532:20)
      at generateEnhancedDocumentsResponse (server.js:20173:26)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:08.562Z","level":"info","message":"llm_call_metrics","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.562Z","level":"info","message":"llm_call_metrics","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.563Z","level":"info","message":"generation_section_rewrite_completed","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","jobId":"3804506d-eeb8-40aa-841d-d4be93a55796","generationRunId":"42965190-c63a-42da-af82-e70d17adf5d7","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.563Z","level":"info","message":"llm_call_metrics","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"89e63aad97eee35da336c4707bebe46001a38648f790cb26108fe67f8c6eef15","skillCount":5,"template":"project_summary","session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:08.568Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","jobId":"3804506d-eeb8-40aa-841d-d4be93a55796","generationRunId":"42965190-c63a-42da-af82-e70d17adf5d7","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:08.574Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","jobId":"3804506d-eeb8-40aa-841d-d4be93a55796","generationRunId":"42965190-c63a-42da-af82-e70d17adf5d7","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:08.579Z","level":"info","message":"generation_cover_letters_completed","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","jobId":"3804506d-eeb8-40aa-841d-d4be93a55796","generationRunId":"42965190-c63a-42da-af82-e70d17adf5d7","variants":2,"fallbackApplied":true,"template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.580Z","level":"info","message":"pdf_generation_attempt","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","jobId":"3804506d-eeb8-40aa-841d-d4be93a55796","generationRunId":"42965190-c63a-42da-af82-e70d17adf5d7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/42965190-c63a-42da-af82-e70d17adf5d7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/42965190-c63a-42da-af82-e70d17adf5d7/enhanced_modern.pdf","session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.581Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","jobId":"3804506d-eeb8-40aa-841d-d4be93a55796","generationRunId":"42965190-c63a-42da-af82-e70d17adf5d7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/42965190-c63a-42da-af82-e70d17adf5d7/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.581Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","jobId":"3804506d-eeb8-40aa-841d-d4be93a55796","generationRunId":"42965190-c63a-42da-af82-e70d17adf5d7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/42965190-c63a-42da-af82-e70d17adf5d7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/42965190-c63a-42da-af82-e70d17adf5d7/enhanced_modern.pdf","session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.582Z","level":"info","message":"pdf_generation_attempt","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","jobId":"3804506d-eeb8-40aa-841d-d4be93a55796","generationRunId":"42965190-c63a-42da-af82-e70d17adf5d7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/42965190-c63a-42da-af82-e70d17adf5d7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/42965190-c63a-42da-af82-e70d17adf5d7/enhanced_professional.pdf","session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.582Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","jobId":"3804506d-eeb8-40aa-841d-d4be93a55796","generationRunId":"42965190-c63a-42da-af82-e70d17adf5d7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/42965190-c63a-42da-af82-e70d17adf5d7/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.583Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","jobId":"3804506d-eeb8-40aa-841d-d4be93a55796","generationRunId":"42965190-c63a-42da-af82-e70d17adf5d7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/42965190-c63a-42da-af82-e70d17adf5d7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/42965190-c63a-42da-af82-e70d17adf5d7/enhanced_professional.pdf","session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.583Z","level":"info","message":"pdf_generation_attempt","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","jobId":"3804506d-eeb8-40aa-841d-d4be93a55796","generationRunId":"42965190-c63a-42da-af82-e70d17adf5d7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/42965190-c63a-42da-af82-e70d17adf5d7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/42965190-c63a-42da-af82-e70d17adf5d7/cover_letter_cover_modern.pdf","session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.584Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","jobId":"3804506d-eeb8-40aa-841d-d4be93a55796","generationRunId":"42965190-c63a-42da-af82-e70d17adf5d7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/42965190-c63a-42da-af82-e70d17adf5d7/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.584Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","jobId":"3804506d-eeb8-40aa-841d-d4be93a55796","generationRunId":"42965190-c63a-42da-af82-e70d17adf5d7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/42965190-c63a-42da-af82-e70d17adf5d7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/42965190-c63a-42da-af82-e70d17adf5d7/cover_letter_cover_modern.pdf","session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.585Z","level":"info","message":"pdf_generation_attempt","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","jobId":"3804506d-eeb8-40aa-841d-d4be93a55796","generationRunId":"42965190-c63a-42da-af82-e70d17adf5d7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/42965190-c63a-42da-af82-e70d17adf5d7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/42965190-c63a-42da-af82-e70d17adf5d7/cover_letter_cover_professional.pdf","session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.585Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","jobId":"3804506d-eeb8-40aa-841d-d4be93a55796","generationRunId":"42965190-c63a-42da-af82-e70d17adf5d7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/42965190-c63a-42da-af82-e70d17adf5d7/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.586Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","jobId":"3804506d-eeb8-40aa-841d-d4be93a55796","generationRunId":"42965190-c63a-42da-af82-e70d17adf5d7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/42965190-c63a-42da-af82-e70d17adf5d7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/42965190-c63a-42da-af82-e70d17adf5d7/cover_letter_cover_professional.pdf","session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.588Z","level":"info","message":"llm_call_metrics","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.588Z","level":"info","message":"generation_completed","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","jobId":"3804506d-eeb8-40aa-841d-d4be93a55796","generationRunId":"42965190-c63a-42da-af82-e70d17adf5d7","enhancedScore":80,"outputs":5,"template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.590Z","level":"info","message":"placeholder_record_deleted","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","jobId":"3804506d-eeb8-40aa-841d-d4be93a55796","placeholderIdentifier":"42965190-c63a-42da-af82-e70d17adf5d7","template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3804506d-eeb8-40aa-841d-d4be93a55796","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.591Z","level":"info","message":"http_request_completed","requestId":"42965190-c63a-42da-af82-e70d17adf5d7","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":62,"contentLength":"58091","template":"unknown","session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42965190-c63a-42da-af82-e70d17adf5d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.594Z","level":"info","message":"http_request_received","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","method":"POST","path":"/api/process-cv","template":"unknown","session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.595Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.596Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.597Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.598Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.600Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/45448b40-abcb-4ebc-a0b9-4acc1c2905bb/incoming/original.pdf","chunks":1,"timestamp":1764855908602}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/45448b40-abcb-4ebc-a0b9-4acc1c2905bb/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/45448b40-abcb-4ebc-a0b9-4acc1c2905bb/incoming/original.pdf","uploadDurationMs":1,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:45:08.604Z","level":"info","message":"process_cv_started","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","jobId":"fe15933c-546a-49fe-a181-f6a03cf23043","manualJobDescriptionProvided":true,"template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.604Z","level":"info","message":"template_selection","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","jobId":"fe15933c-546a-49fe-a181-f6a03cf23043","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:08.605Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","jobId":"fe15933c-546a-49fe-a181-f6a03cf23043","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:45:08.611Z","level":"info","message":"initial_upload_completed","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","jobId":"fe15933c-546a-49fe-a181-f6a03cf23043","bucket":"test-bucket","key":"cv/candidate/45448b40-abcb-4ebc-a0b9-4acc1c2905bb/incoming/original.pdf","template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.612Z","level":"info","message":"resume_text_extracted","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","jobId":"fe15933c-546a-49fe-a181-f6a03cf23043","characters":57,"template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.612Z","level":"info","message":"resume_classified","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","jobId":"fe15933c-546a-49fe-a181-f6a03cf23043","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.613Z","level":"info","message":"raw_upload_relocated","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","jobId":"fe15933c-546a-49fe-a181-f6a03cf23043","bucket":"test-bucket","fromKey":"cv/candidate/45448b40-abcb-4ebc-a0b9-4acc1c2905bb/incoming/original.pdf","toKey":"cv/professional_summary/45448b40-abcb-4ebc-a0b9-4acc1c2905bb/original.pdf","template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.614Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","jobId":"fe15933c-546a-49fe-a181-f6a03cf23043","bucket":"test-bucket","key":"cv/professional_summary/45448b40-abcb-4ebc-a0b9-4acc1c2905bb/original.pdf","template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.615Z","level":"info","message":"dynamo_initial_record_written","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","jobId":"fe15933c-546a-49fe-a181-f6a03cf23043","bucket":"test-bucket","key":"cv/professional_summary/45448b40-abcb-4ebc-a0b9-4acc1c2905bb/original.pdf","template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.615Z","level":"info","message":"upload_metadata_written","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","jobId":"fe15933c-546a-49fe-a181-f6a03cf23043","bucket":"test-bucket","key":"cv/professional_summary/45448b40-abcb-4ebc-a0b9-4acc1c2905bb/logs/log.json","template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.615Z","level":"info","message":"job_description_supplied_manually","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","jobId":"fe15933c-546a-49fe-a181-f6a03cf23043","characters":174,"template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.616Z","level":"info","message":"job_description_analyzed","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","jobId":"fe15933c-546a-49fe-a181-f6a03cf23043","jobTitle":"","jobSkills":5,"template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.616Z","level":"info","message":"resume_skills_analyzed","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","jobId":"fe15933c-546a-49fe-a181-f6a03cf23043","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.617Z","level":"info","message":"llm_call_metrics","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.617Z","level":"info","message":"process_cv_scoring_completed","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","jobId":"fe15933c-546a-49fe-a181-f6a03cf23043","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.621Z","level":"info","message":"llm_call_metrics","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.621Z","level":"info","message":"generation_section_rewrite_completed","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","jobId":"fe15933c-546a-49fe-a181-f6a03cf23043","generationRunId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.622Z","level":"info","message":"llm_call_metrics","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.622Z","level":"info","message":"llm_call_metrics","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.624Z","level":"info","message":"generation_resume_verified","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","jobId":"fe15933c-546a-49fe-a181-f6a03cf23043","generationRunId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:45:08.626Z","level":"error","message":"ai_response_missing_json","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","jobId":"fe15933c-546a-49fe-a181-f6a03cf23043","generationRunId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at Object.error (server.js:3476:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20455:26)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:08.632Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","jobId":"fe15933c-546a-49fe-a181-f6a03cf23043","generationRunId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","attempt":1,"template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20460:11)
      at server.js:26731:28

  console.error
    {"timestamp":"2025-12-04T13:45:08.638Z","level":"error","message":"ai_response_missing_json","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","jobId":"fe15933c-546a-49fe-a181-f6a03cf23043","generationRunId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at Object.error (server.js:3476:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20455:26)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:08.643Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","jobId":"fe15933c-546a-49fe-a181-f6a03cf23043","generationRunId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","attempt":2,"template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20460:11)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:08.650Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","jobId":"fe15933c-546a-49fe-a181-f6a03cf23043","generationRunId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:08.656Z","level":"info","message":"generation_cover_letters_completed","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","jobId":"fe15933c-546a-49fe-a181-f6a03cf23043","generationRunId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","variants":2,"fallbackApplied":true,"template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.657Z","level":"info","message":"pdf_generation_attempt","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","jobId":"fe15933c-546a-49fe-a181-f6a03cf23043","generationRunId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/45448b40-abcb-4ebc-a0b9-4acc1c2905bb/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/45448b40-abcb-4ebc-a0b9-4acc1c2905bb/enhanced_modern.pdf","session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.657Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","jobId":"fe15933c-546a-49fe-a181-f6a03cf23043","generationRunId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/45448b40-abcb-4ebc-a0b9-4acc1c2905bb/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.658Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","jobId":"fe15933c-546a-49fe-a181-f6a03cf23043","generationRunId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/45448b40-abcb-4ebc-a0b9-4acc1c2905bb/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/45448b40-abcb-4ebc-a0b9-4acc1c2905bb/enhanced_modern.pdf","session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.658Z","level":"info","message":"pdf_generation_attempt","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","jobId":"fe15933c-546a-49fe-a181-f6a03cf23043","generationRunId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/45448b40-abcb-4ebc-a0b9-4acc1c2905bb/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/45448b40-abcb-4ebc-a0b9-4acc1c2905bb/enhanced_professional.pdf","session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.659Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","jobId":"fe15933c-546a-49fe-a181-f6a03cf23043","generationRunId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/45448b40-abcb-4ebc-a0b9-4acc1c2905bb/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.659Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","jobId":"fe15933c-546a-49fe-a181-f6a03cf23043","generationRunId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/45448b40-abcb-4ebc-a0b9-4acc1c2905bb/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/45448b40-abcb-4ebc-a0b9-4acc1c2905bb/enhanced_professional.pdf","session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.660Z","level":"info","message":"pdf_generation_attempt","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","jobId":"fe15933c-546a-49fe-a181-f6a03cf23043","generationRunId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/45448b40-abcb-4ebc-a0b9-4acc1c2905bb/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/45448b40-abcb-4ebc-a0b9-4acc1c2905bb/cover_letter_cover_modern.pdf","session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.660Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","jobId":"fe15933c-546a-49fe-a181-f6a03cf23043","generationRunId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/45448b40-abcb-4ebc-a0b9-4acc1c2905bb/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.661Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","jobId":"fe15933c-546a-49fe-a181-f6a03cf23043","generationRunId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/45448b40-abcb-4ebc-a0b9-4acc1c2905bb/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/45448b40-abcb-4ebc-a0b9-4acc1c2905bb/cover_letter_cover_modern.pdf","session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.661Z","level":"info","message":"pdf_generation_attempt","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","jobId":"fe15933c-546a-49fe-a181-f6a03cf23043","generationRunId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/45448b40-abcb-4ebc-a0b9-4acc1c2905bb/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/45448b40-abcb-4ebc-a0b9-4acc1c2905bb/cover_letter_cover_professional.pdf","session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.662Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","jobId":"fe15933c-546a-49fe-a181-f6a03cf23043","generationRunId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/45448b40-abcb-4ebc-a0b9-4acc1c2905bb/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.662Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","jobId":"fe15933c-546a-49fe-a181-f6a03cf23043","generationRunId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/45448b40-abcb-4ebc-a0b9-4acc1c2905bb/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/45448b40-abcb-4ebc-a0b9-4acc1c2905bb/cover_letter_cover_professional.pdf","session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.666Z","level":"info","message":"llm_call_metrics","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.667Z","level":"info","message":"generation_completed","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","jobId":"fe15933c-546a-49fe-a181-f6a03cf23043","generationRunId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","enhancedScore":80,"outputs":5,"template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.668Z","level":"info","message":"placeholder_record_deleted","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","jobId":"fe15933c-546a-49fe-a181-f6a03cf23043","placeholderIdentifier":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe15933c-546a-49fe-a181-f6a03cf23043","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.669Z","level":"info","message":"http_request_completed","requestId":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":75,"contentLength":"59498","template":"unknown","session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"45448b40-abcb-4ebc-a0b9-4acc1c2905bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.672Z","level":"info","message":"http_request_received","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","method":"POST","path":"/api/process-cv","template":"unknown","session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.673Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.674Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.675Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.677Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.678Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/49575a3a-4119-4ff8-bef1-891d3ca7b00a/incoming/original.pdf","chunks":1,"timestamp":1764855908681}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/49575a3a-4119-4ff8-bef1-891d3ca7b00a/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/49575a3a-4119-4ff8-bef1-891d3ca7b00a/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:45:08.682Z","level":"info","message":"process_cv_started","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","jobId":"d3025b75-1355-4a72-b5cc-3a73574ee460","manualJobDescriptionProvided":true,"template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.683Z","level":"info","message":"template_selection","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","jobId":"d3025b75-1355-4a72-b5cc-3a73574ee460","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:08.683Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","jobId":"d3025b75-1355-4a72-b5cc-3a73574ee460","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:45:08.689Z","level":"info","message":"initial_upload_completed","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","jobId":"d3025b75-1355-4a72-b5cc-3a73574ee460","bucket":"test-bucket","key":"cv/candidate/49575a3a-4119-4ff8-bef1-891d3ca7b00a/incoming/original.pdf","template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.689Z","level":"info","message":"resume_text_extracted","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","jobId":"d3025b75-1355-4a72-b5cc-3a73574ee460","characters":57,"template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.689Z","level":"info","message":"resume_classified","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","jobId":"d3025b75-1355-4a72-b5cc-3a73574ee460","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.689Z","level":"info","message":"raw_upload_relocated","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","jobId":"d3025b75-1355-4a72-b5cc-3a73574ee460","bucket":"test-bucket","fromKey":"cv/candidate/49575a3a-4119-4ff8-bef1-891d3ca7b00a/incoming/original.pdf","toKey":"cv/professional_summary/49575a3a-4119-4ff8-bef1-891d3ca7b00a/original.pdf","template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.690Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","jobId":"d3025b75-1355-4a72-b5cc-3a73574ee460","bucket":"test-bucket","key":"cv/professional_summary/49575a3a-4119-4ff8-bef1-891d3ca7b00a/original.pdf","template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.690Z","level":"info","message":"dynamo_initial_record_written","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","jobId":"d3025b75-1355-4a72-b5cc-3a73574ee460","bucket":"test-bucket","key":"cv/professional_summary/49575a3a-4119-4ff8-bef1-891d3ca7b00a/original.pdf","template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.691Z","level":"info","message":"upload_metadata_written","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","jobId":"d3025b75-1355-4a72-b5cc-3a73574ee460","bucket":"test-bucket","key":"cv/professional_summary/49575a3a-4119-4ff8-bef1-891d3ca7b00a/logs/log.json","template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.691Z","level":"info","message":"job_description_supplied_manually","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","jobId":"d3025b75-1355-4a72-b5cc-3a73574ee460","characters":174,"template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.691Z","level":"info","message":"job_description_analyzed","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","jobId":"d3025b75-1355-4a72-b5cc-3a73574ee460","jobTitle":"","jobSkills":5,"template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.691Z","level":"info","message":"resume_skills_analyzed","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","jobId":"d3025b75-1355-4a72-b5cc-3a73574ee460","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.692Z","level":"info","message":"llm_call_metrics","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.692Z","level":"info","message":"process_cv_scoring_completed","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","jobId":"d3025b75-1355-4a72-b5cc-3a73574ee460","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.695Z","level":"info","message":"llm_call_metrics","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.695Z","level":"info","message":"generation_section_rewrite_completed","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","jobId":"d3025b75-1355-4a72-b5cc-3a73574ee460","generationRunId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.695Z","level":"info","message":"llm_call_metrics","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.696Z","level":"info","message":"llm_call_metrics","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.697Z","level":"info","message":"generation_resume_verified","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","jobId":"d3025b75-1355-4a72-b5cc-3a73574ee460","generationRunId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:45:08.702Z","level":"error","message":"ai_response_missing_json","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","jobId":"d3025b75-1355-4a72-b5cc-3a73574ee460","generationRunId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at Object.error (server.js:3476:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20455:26)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:08.709Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","jobId":"d3025b75-1355-4a72-b5cc-3a73574ee460","generationRunId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","attempt":1,"template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20460:11)
      at server.js:26731:28

  console.error
    {"timestamp":"2025-12-04T13:45:08.714Z","level":"error","message":"ai_response_missing_json","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","jobId":"d3025b75-1355-4a72-b5cc-3a73574ee460","generationRunId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at Object.error (server.js:3476:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20455:26)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:08.720Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","jobId":"d3025b75-1355-4a72-b5cc-3a73574ee460","generationRunId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","attempt":2,"template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20460:11)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:08.727Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","jobId":"d3025b75-1355-4a72-b5cc-3a73574ee460","generationRunId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:08.732Z","level":"info","message":"generation_cover_letters_completed","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","jobId":"d3025b75-1355-4a72-b5cc-3a73574ee460","generationRunId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","variants":2,"fallbackApplied":true,"template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.733Z","level":"info","message":"pdf_generation_attempt","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","jobId":"d3025b75-1355-4a72-b5cc-3a73574ee460","generationRunId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/49575a3a-4119-4ff8-bef1-891d3ca7b00a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/49575a3a-4119-4ff8-bef1-891d3ca7b00a/enhanced_modern.pdf","session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.733Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","jobId":"d3025b75-1355-4a72-b5cc-3a73574ee460","generationRunId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/49575a3a-4119-4ff8-bef1-891d3ca7b00a/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.734Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","jobId":"d3025b75-1355-4a72-b5cc-3a73574ee460","generationRunId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/49575a3a-4119-4ff8-bef1-891d3ca7b00a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/49575a3a-4119-4ff8-bef1-891d3ca7b00a/enhanced_modern.pdf","session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.734Z","level":"info","message":"pdf_generation_attempt","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","jobId":"d3025b75-1355-4a72-b5cc-3a73574ee460","generationRunId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/49575a3a-4119-4ff8-bef1-891d3ca7b00a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/49575a3a-4119-4ff8-bef1-891d3ca7b00a/enhanced_professional.pdf","session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.735Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","jobId":"d3025b75-1355-4a72-b5cc-3a73574ee460","generationRunId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/49575a3a-4119-4ff8-bef1-891d3ca7b00a/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.735Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","jobId":"d3025b75-1355-4a72-b5cc-3a73574ee460","generationRunId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/49575a3a-4119-4ff8-bef1-891d3ca7b00a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/49575a3a-4119-4ff8-bef1-891d3ca7b00a/enhanced_professional.pdf","session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.736Z","level":"info","message":"pdf_generation_attempt","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","jobId":"d3025b75-1355-4a72-b5cc-3a73574ee460","generationRunId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/49575a3a-4119-4ff8-bef1-891d3ca7b00a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/49575a3a-4119-4ff8-bef1-891d3ca7b00a/cover_letter_cover_modern.pdf","session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.736Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","jobId":"d3025b75-1355-4a72-b5cc-3a73574ee460","generationRunId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/49575a3a-4119-4ff8-bef1-891d3ca7b00a/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.737Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","jobId":"d3025b75-1355-4a72-b5cc-3a73574ee460","generationRunId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/49575a3a-4119-4ff8-bef1-891d3ca7b00a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/49575a3a-4119-4ff8-bef1-891d3ca7b00a/cover_letter_cover_modern.pdf","session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.738Z","level":"info","message":"pdf_generation_attempt","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","jobId":"d3025b75-1355-4a72-b5cc-3a73574ee460","generationRunId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/49575a3a-4119-4ff8-bef1-891d3ca7b00a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/49575a3a-4119-4ff8-bef1-891d3ca7b00a/cover_letter_cover_professional.pdf","session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.738Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","jobId":"d3025b75-1355-4a72-b5cc-3a73574ee460","generationRunId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/49575a3a-4119-4ff8-bef1-891d3ca7b00a/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.739Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","jobId":"d3025b75-1355-4a72-b5cc-3a73574ee460","generationRunId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/49575a3a-4119-4ff8-bef1-891d3ca7b00a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/49575a3a-4119-4ff8-bef1-891d3ca7b00a/cover_letter_cover_professional.pdf","session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.741Z","level":"info","message":"llm_call_metrics","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.742Z","level":"info","message":"generation_completed","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","jobId":"d3025b75-1355-4a72-b5cc-3a73574ee460","generationRunId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","enhancedScore":80,"outputs":5,"template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.743Z","level":"info","message":"placeholder_record_deleted","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","jobId":"d3025b75-1355-4a72-b5cc-3a73574ee460","placeholderIdentifier":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d3025b75-1355-4a72-b5cc-3a73574ee460","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.744Z","level":"info","message":"http_request_completed","requestId":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":72,"contentLength":"59498","template":"unknown","session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49575a3a-4119-4ff8-bef1-891d3ca7b00a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.747Z","level":"info","message":"http_request_received","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","method":"POST","path":"/api/process-cv","template":"unknown","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.748Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.749Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.751Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.752Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.754Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/353c2a63-0a27-4a77-b373-0be29613c8af/incoming/original.pdf","chunks":1,"timestamp":1764855908757}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/353c2a63-0a27-4a77-b373-0be29613c8af/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/353c2a63-0a27-4a77-b373-0be29613c8af/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:45:08.759Z","level":"info","message":"process_cv_started","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","jobId":"4bb0e76a-3555-4088-8922-aaf18ac6c037","manualJobDescriptionProvided":true,"template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.760Z","level":"info","message":"template_selection","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","jobId":"4bb0e76a-3555-4088-8922-aaf18ac6c037","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:08.760Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","jobId":"4bb0e76a-3555-4088-8922-aaf18ac6c037","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:45:08.766Z","level":"info","message":"initial_upload_completed","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","jobId":"4bb0e76a-3555-4088-8922-aaf18ac6c037","bucket":"test-bucket","key":"cv/candidate/353c2a63-0a27-4a77-b373-0be29613c8af/incoming/original.pdf","template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.766Z","level":"info","message":"resume_text_extracted","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","jobId":"4bb0e76a-3555-4088-8922-aaf18ac6c037","characters":57,"template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.766Z","level":"info","message":"resume_classified","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","jobId":"4bb0e76a-3555-4088-8922-aaf18ac6c037","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.767Z","level":"info","message":"raw_upload_relocated","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","jobId":"4bb0e76a-3555-4088-8922-aaf18ac6c037","bucket":"test-bucket","fromKey":"cv/candidate/353c2a63-0a27-4a77-b373-0be29613c8af/incoming/original.pdf","toKey":"cv/professional_summary/353c2a63-0a27-4a77-b373-0be29613c8af/original.pdf","template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.767Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","jobId":"4bb0e76a-3555-4088-8922-aaf18ac6c037","bucket":"test-bucket","key":"cv/professional_summary/353c2a63-0a27-4a77-b373-0be29613c8af/original.pdf","template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.767Z","level":"info","message":"dynamo_initial_record_written","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","jobId":"4bb0e76a-3555-4088-8922-aaf18ac6c037","bucket":"test-bucket","key":"cv/professional_summary/353c2a63-0a27-4a77-b373-0be29613c8af/original.pdf","template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.768Z","level":"info","message":"upload_metadata_written","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","jobId":"4bb0e76a-3555-4088-8922-aaf18ac6c037","bucket":"test-bucket","key":"cv/professional_summary/353c2a63-0a27-4a77-b373-0be29613c8af/logs/log.json","template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.768Z","level":"info","message":"job_description_supplied_manually","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","jobId":"4bb0e76a-3555-4088-8922-aaf18ac6c037","characters":174,"template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.768Z","level":"info","message":"job_description_analyzed","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","jobId":"4bb0e76a-3555-4088-8922-aaf18ac6c037","jobTitle":"","jobSkills":5,"template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.769Z","level":"info","message":"resume_skills_analyzed","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","jobId":"4bb0e76a-3555-4088-8922-aaf18ac6c037","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.769Z","level":"info","message":"llm_call_metrics","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.770Z","level":"info","message":"process_cv_scoring_completed","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","jobId":"4bb0e76a-3555-4088-8922-aaf18ac6c037","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:45:08.771Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","template":"unknown","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at Object.error (server.js:3476:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8532:20)
      at generateEnhancedDocumentsResponse (server.js:20173:26)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:08.777Z","level":"info","message":"llm_call_metrics","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.777Z","level":"info","message":"llm_call_metrics","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.778Z","level":"info","message":"generation_section_rewrite_completed","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","jobId":"4bb0e76a-3555-4088-8922-aaf18ac6c037","generationRunId":"353c2a63-0a27-4a77-b373-0be29613c8af","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.778Z","level":"info","message":"llm_call_metrics","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.778Z","level":"info","message":"llm_call_metrics","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:45:08.782Z","level":"error","message":"ai_response_missing_json","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","jobId":"4bb0e76a-3555-4088-8922-aaf18ac6c037","generationRunId":"353c2a63-0a27-4a77-b373-0be29613c8af","template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at Object.error (server.js:3476:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20455:26)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:08.787Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","jobId":"4bb0e76a-3555-4088-8922-aaf18ac6c037","generationRunId":"353c2a63-0a27-4a77-b373-0be29613c8af","attempt":1,"template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20460:11)
      at server.js:26731:28

  console.error
    {"timestamp":"2025-12-04T13:45:08.792Z","level":"error","message":"ai_response_missing_json","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","jobId":"4bb0e76a-3555-4088-8922-aaf18ac6c037","generationRunId":"353c2a63-0a27-4a77-b373-0be29613c8af","template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at Object.error (server.js:3476:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20455:26)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:08.797Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","jobId":"4bb0e76a-3555-4088-8922-aaf18ac6c037","generationRunId":"353c2a63-0a27-4a77-b373-0be29613c8af","attempt":2,"template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20460:11)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:08.803Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","jobId":"4bb0e76a-3555-4088-8922-aaf18ac6c037","generationRunId":"353c2a63-0a27-4a77-b373-0be29613c8af","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:08.809Z","level":"info","message":"generation_cover_letters_completed","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","jobId":"4bb0e76a-3555-4088-8922-aaf18ac6c037","generationRunId":"353c2a63-0a27-4a77-b373-0be29613c8af","variants":2,"fallbackApplied":true,"template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.810Z","level":"info","message":"pdf_generation_attempt","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","jobId":"4bb0e76a-3555-4088-8922-aaf18ac6c037","generationRunId":"353c2a63-0a27-4a77-b373-0be29613c8af","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/353c2a63-0a27-4a77-b373-0be29613c8af/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/353c2a63-0a27-4a77-b373-0be29613c8af/enhanced_modern.pdf","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.810Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","jobId":"4bb0e76a-3555-4088-8922-aaf18ac6c037","generationRunId":"353c2a63-0a27-4a77-b373-0be29613c8af","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/353c2a63-0a27-4a77-b373-0be29613c8af/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.811Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","jobId":"4bb0e76a-3555-4088-8922-aaf18ac6c037","generationRunId":"353c2a63-0a27-4a77-b373-0be29613c8af","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/353c2a63-0a27-4a77-b373-0be29613c8af/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/353c2a63-0a27-4a77-b373-0be29613c8af/enhanced_modern.pdf","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.812Z","level":"info","message":"pdf_generation_attempt","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","jobId":"4bb0e76a-3555-4088-8922-aaf18ac6c037","generationRunId":"353c2a63-0a27-4a77-b373-0be29613c8af","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/353c2a63-0a27-4a77-b373-0be29613c8af/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/353c2a63-0a27-4a77-b373-0be29613c8af/enhanced_professional.pdf","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.812Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","jobId":"4bb0e76a-3555-4088-8922-aaf18ac6c037","generationRunId":"353c2a63-0a27-4a77-b373-0be29613c8af","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/353c2a63-0a27-4a77-b373-0be29613c8af/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.813Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","jobId":"4bb0e76a-3555-4088-8922-aaf18ac6c037","generationRunId":"353c2a63-0a27-4a77-b373-0be29613c8af","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/353c2a63-0a27-4a77-b373-0be29613c8af/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/353c2a63-0a27-4a77-b373-0be29613c8af/enhanced_professional.pdf","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.813Z","level":"info","message":"pdf_generation_attempt","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","jobId":"4bb0e76a-3555-4088-8922-aaf18ac6c037","generationRunId":"353c2a63-0a27-4a77-b373-0be29613c8af","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/353c2a63-0a27-4a77-b373-0be29613c8af/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/353c2a63-0a27-4a77-b373-0be29613c8af/cover_letter_cover_modern.pdf","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.813Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","jobId":"4bb0e76a-3555-4088-8922-aaf18ac6c037","generationRunId":"353c2a63-0a27-4a77-b373-0be29613c8af","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/353c2a63-0a27-4a77-b373-0be29613c8af/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.814Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","jobId":"4bb0e76a-3555-4088-8922-aaf18ac6c037","generationRunId":"353c2a63-0a27-4a77-b373-0be29613c8af","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/353c2a63-0a27-4a77-b373-0be29613c8af/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/353c2a63-0a27-4a77-b373-0be29613c8af/cover_letter_cover_modern.pdf","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.815Z","level":"info","message":"pdf_generation_attempt","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","jobId":"4bb0e76a-3555-4088-8922-aaf18ac6c037","generationRunId":"353c2a63-0a27-4a77-b373-0be29613c8af","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/353c2a63-0a27-4a77-b373-0be29613c8af/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/353c2a63-0a27-4a77-b373-0be29613c8af/cover_letter_cover_professional.pdf","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.815Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","jobId":"4bb0e76a-3555-4088-8922-aaf18ac6c037","generationRunId":"353c2a63-0a27-4a77-b373-0be29613c8af","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/353c2a63-0a27-4a77-b373-0be29613c8af/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.815Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","jobId":"4bb0e76a-3555-4088-8922-aaf18ac6c037","generationRunId":"353c2a63-0a27-4a77-b373-0be29613c8af","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/353c2a63-0a27-4a77-b373-0be29613c8af/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/353c2a63-0a27-4a77-b373-0be29613c8af/cover_letter_cover_professional.pdf","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.817Z","level":"info","message":"llm_call_metrics","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.818Z","level":"info","message":"generation_completed","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","jobId":"4bb0e76a-3555-4088-8922-aaf18ac6c037","generationRunId":"353c2a63-0a27-4a77-b373-0be29613c8af","enhancedScore":80,"outputs":5,"template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.819Z","level":"info","message":"placeholder_record_deleted","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","jobId":"4bb0e76a-3555-4088-8922-aaf18ac6c037","placeholderIdentifier":"353c2a63-0a27-4a77-b373-0be29613c8af","template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4bb0e76a-3555-4088-8922-aaf18ac6c037","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.820Z","level":"info","message":"http_request_completed","requestId":"353c2a63-0a27-4a77-b373-0be29613c8af","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":73,"contentLength":"58301","template":"unknown","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"353c2a63-0a27-4a77-b373-0be29613c8af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.828Z","level":"info","message":"http_request_received","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","method":"POST","path":"/api/process-cv","template":"unknown","session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.829Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.830Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.831Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.833Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.835Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/incoming/original.pdf","chunks":1,"timestamp":1764855908837}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:45:08.838Z","level":"info","message":"process_cv_started","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","manualJobDescriptionProvided":true,"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.839Z","level":"info","message":"template_selection","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:08.839Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:45:08.845Z","level":"info","message":"initial_upload_completed","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","bucket":"test-bucket","key":"cv/candidate/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/incoming/original.pdf","template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.845Z","level":"info","message":"resume_text_extracted","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","characters":57,"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.846Z","level":"info","message":"resume_classified","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.846Z","level":"info","message":"raw_upload_relocated","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","bucket":"test-bucket","fromKey":"cv/candidate/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/incoming/original.pdf","toKey":"cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/original.pdf","template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.846Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","bucket":"test-bucket","key":"cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/original.pdf","template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.847Z","level":"info","message":"dynamo_initial_record_written","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","bucket":"test-bucket","key":"cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/original.pdf","template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.847Z","level":"info","message":"upload_metadata_written","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","bucket":"test-bucket","key":"cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/logs/log.json","template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.847Z","level":"info","message":"job_description_supplied_manually","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","characters":174,"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.848Z","level":"info","message":"job_description_analyzed","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","jobTitle":"","jobSkills":5,"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.848Z","level":"info","message":"resume_skills_analyzed","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.849Z","level":"info","message":"llm_call_metrics","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.849Z","level":"info","message":"process_cv_scoring_completed","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:45:08.851Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","template":"unknown","session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at Object.error (server.js:3476:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8532:20)
      at generateEnhancedDocumentsResponse (server.js:20173:26)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:08.856Z","level":"info","message":"llm_call_metrics","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.857Z","level":"info","message":"llm_call_metrics","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.857Z","level":"info","message":"generation_section_rewrite_completed","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","generationRunId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.858Z","level":"info","message":"llm_call_metrics","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.858Z","level":"info","message":"llm_call_metrics","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:45:08.861Z","level":"error","message":"ai_response_missing_json","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","generationRunId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at Object.error (server.js:3476:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20455:26)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:08.866Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","generationRunId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","attempt":1,"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20460:11)
      at server.js:26731:28

  console.error
    {"timestamp":"2025-12-04T13:45:08.872Z","level":"error","message":"ai_response_missing_json","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","generationRunId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at Object.error (server.js:3476:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20455:26)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:08.878Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","generationRunId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","attempt":2,"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20460:11)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:08.883Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","generationRunId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:08.889Z","level":"info","message":"generation_cover_letters_completed","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","generationRunId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","variants":2,"fallbackApplied":true,"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.890Z","level":"info","message":"pdf_generation_attempt","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","generationRunId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/enhanced_modern.pdf","session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.890Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","generationRunId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.891Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","generationRunId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/enhanced_modern.pdf","session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.891Z","level":"info","message":"pdf_generation_attempt","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","generationRunId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/enhanced_professional.pdf","session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.892Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","generationRunId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.892Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","generationRunId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/enhanced_professional.pdf","session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.893Z","level":"info","message":"pdf_generation_attempt","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","generationRunId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/cover_letter_cover_modern.pdf","session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.893Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","generationRunId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.893Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","generationRunId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/cover_letter_cover_modern.pdf","session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.894Z","level":"info","message":"pdf_generation_attempt","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","generationRunId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/cover_letter_cover_professional.pdf","session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.895Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","generationRunId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.895Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","generationRunId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/cover_letter_cover_professional.pdf","session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:08.896Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","generationRunId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","artifactType":"original_upload","storageKey":"cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/original.pdf","template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","metadata":{"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"original_upload"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:21861:9)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:08.901Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","generationRunId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","artifactType":"version1","storageKey":"cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/modern/version1.pdf","template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","metadata":{"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"version1"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:21861:9)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:08.907Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","generationRunId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","artifactType":"version2","storageKey":"cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/professional/version2.pdf","template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","metadata":{"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"version2"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:21861:9)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:08.912Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","generationRunId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","artifactType":"cover_letter1","storageKey":"cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/cover_modern/cover_letter1.pdf","template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","metadata":{"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"cover_letter1"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:21861:9)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:08.918Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","generationRunId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","artifactType":"cover_letter2","storageKey":"cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/cover_professional/cover_letter2.pdf","template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","metadata":{"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"cover_letter2"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:21861:9)
      at server.js:26731:28

  console.error
    {"timestamp":"2025-12-04T13:45:08.924Z","level":"error","message":"generation_urls_missing","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","generationRunId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","requestedUrlCount":0,"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:21962:7)
      at server.js:26731:28

  console.error
    {"timestamp":"2025-12-04T13:45:08.929Z","level":"error","message":"api_error_response","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","status":500,"error":{"code":"AI_RESPONSE_INVALID","message":"Unable to prepare download links for the generated documents.","details":{"logs":{"s3":{"bucket":"test-bucket","key":"logs/errors/2025-12-04/2025-12-04t13-45-08-929z-e7096ec7-0f53-4210-84ea-5a71ee28d3e3.json","status":"pending"}}},"requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99"},"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at sendError (server.js:3964:3)
      at generateEnhancedDocumentsResponse (server.js:21966:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:08.935Z","level":"warn","message":"generation_artifacts_cleaned_up","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","jobId":"bca7ada8-85a6-45ed-915d-d02fc75dae99","generationRunId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","reason":"no_valid_urls","deletedKeys":["cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/modern/version1.pdf","cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/professional/version2.pdf","cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/cover_modern/cover_letter1.pdf","cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/cover_professional/cover_letter2.pdf","cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/artifacts/original.json","cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/artifacts/version1.json","cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/artifacts/version2.json","cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/artifacts/cover-letter1.json","cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/artifacts/cover-letter2.json","cv/professional_summary/e7096ec7-0f53-4210-84ea-5a71ee28d3e3/artifacts/changelog.json"],"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bca7ada8-85a6-45ed-915d-d02fc75dae99","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:19889:9
      at generateEnhancedDocumentsResponse (server.js:22494:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:08.941Z","level":"info","message":"http_request_completed","requestId":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","method":"POST","path":"/api/process-cv","statusCode":500,"durationMs":113,"contentLength":"396","template":"unknown","session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e7096ec7-0f53-4210-84ea-5a71ee28d3e3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.944Z","level":"info","message":"http_request_received","requestId":"d145ee81-205f-49a3-88c9-46e7c947d674","method":"POST","path":"/api/refresh-download-link","template":"unknown","session":"d145ee81-205f-49a3-88c9-46e7c947d674","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d145ee81-205f-49a3-88c9-46e7c947d674","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.946Z","level":"info","message":"path_restoration_debug","reqPath":"/api/refresh-download-link","reqUrl":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.947Z","level":"info","message":"request_received","path":"/api/refresh-download-link","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.948Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.958Z","level":"info","message":"client_app_routes_entered","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.960Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.962Z","level":"info","message":"http_request_completed","requestId":"d145ee81-205f-49a3-88c9-46e7c947d674","method":"POST","path":"/api/refresh-download-link","statusCode":200,"durationMs":18,"contentLength":"232","template":"unknown","session":"d145ee81-205f-49a3-88c9-46e7c947d674","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d145ee81-205f-49a3-88c9-46e7c947d674","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.966Z","level":"info","message":"http_request_received","requestId":"cd489658-86df-47e4-892e-8aada7cd4b00","method":"POST","path":"/api/refresh-download-link","template":"unknown","session":"cd489658-86df-47e4-892e-8aada7cd4b00","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cd489658-86df-47e4-892e-8aada7cd4b00","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.967Z","level":"info","message":"path_restoration_debug","reqPath":"/api/refresh-download-link","reqUrl":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.968Z","level":"info","message":"request_received","path":"/api/refresh-download-link","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.970Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.971Z","level":"info","message":"client_app_routes_entered","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.972Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:08.973Z","level":"warn","message":"api_error_response","requestId":"cd489658-86df-47e4-892e-8aada7cd4b00","jobId":"job-123","status":404,"error":{"code":"DOWNLOAD_NOT_FOUND","message":"The requested download link is no longer available.","details":{},"requestId":"cd489658-86df-47e4-892e-8aada7cd4b00","jobId":"job-123"},"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at sendError (server.js:3964:3)
      at server.js:24599:12

  console.log
    {"timestamp":"2025-12-04T13:45:08.979Z","level":"info","message":"http_request_completed","requestId":"cd489658-86df-47e4-892e-8aada7cd4b00","method":"POST","path":"/api/refresh-download-link","statusCode":404,"durationMs":13,"contentLength":"201","template":"unknown","session":"cd489658-86df-47e4-892e-8aada7cd4b00","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cd489658-86df-47e4-892e-8aada7cd4b00","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.981Z","level":"info","message":"http_request_received","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","method":"POST","path":"/api/process-cv","template":"unknown","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.982Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.983Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.984Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.986Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.988Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/c9cc7613-51af-472f-b4a0-7ef082d4eeaf/incoming/original.pdf","chunks":1,"timestamp":1764855908990}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/c9cc7613-51af-472f-b4a0-7ef082d4eeaf/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/c9cc7613-51af-472f-b4a0-7ef082d4eeaf/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:45:08.991Z","level":"info","message":"process_cv_started","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","jobId":"68ed89b8-62cd-449d-bb15-402eaf117edd","manualJobDescriptionProvided":true,"template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.992Z","level":"info","message":"template_selection","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","jobId":"68ed89b8-62cd-449d-bb15-402eaf117edd","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:08.992Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","jobId":"68ed89b8-62cd-449d-bb15-402eaf117edd","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:45:08.998Z","level":"info","message":"initial_upload_completed","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","jobId":"68ed89b8-62cd-449d-bb15-402eaf117edd","bucket":"test-bucket","key":"cv/candidate/c9cc7613-51af-472f-b4a0-7ef082d4eeaf/incoming/original.pdf","template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.999Z","level":"info","message":"resume_text_extracted","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","jobId":"68ed89b8-62cd-449d-bb15-402eaf117edd","characters":57,"template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.999Z","level":"info","message":"resume_classified","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","jobId":"68ed89b8-62cd-449d-bb15-402eaf117edd","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:08.999Z","level":"info","message":"raw_upload_relocated","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","jobId":"68ed89b8-62cd-449d-bb15-402eaf117edd","bucket":"test-bucket","fromKey":"cv/candidate/c9cc7613-51af-472f-b4a0-7ef082d4eeaf/incoming/original.pdf","toKey":"cv/professional_summary/c9cc7613-51af-472f-b4a0-7ef082d4eeaf/original.pdf","template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.000Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","jobId":"68ed89b8-62cd-449d-bb15-402eaf117edd","bucket":"test-bucket","key":"cv/professional_summary/c9cc7613-51af-472f-b4a0-7ef082d4eeaf/original.pdf","template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.000Z","level":"info","message":"dynamo_initial_record_written","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","jobId":"68ed89b8-62cd-449d-bb15-402eaf117edd","bucket":"test-bucket","key":"cv/professional_summary/c9cc7613-51af-472f-b4a0-7ef082d4eeaf/original.pdf","template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.000Z","level":"info","message":"upload_metadata_written","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","jobId":"68ed89b8-62cd-449d-bb15-402eaf117edd","bucket":"test-bucket","key":"cv/professional_summary/c9cc7613-51af-472f-b4a0-7ef082d4eeaf/logs/log.json","template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.000Z","level":"info","message":"job_description_supplied_manually","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","jobId":"68ed89b8-62cd-449d-bb15-402eaf117edd","characters":174,"template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.001Z","level":"info","message":"job_description_analyzed","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","jobId":"68ed89b8-62cd-449d-bb15-402eaf117edd","jobTitle":"","jobSkills":5,"template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.001Z","level":"info","message":"resume_skills_analyzed","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","jobId":"68ed89b8-62cd-449d-bb15-402eaf117edd","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.002Z","level":"info","message":"llm_call_metrics","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.002Z","level":"info","message":"process_cv_scoring_completed","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","jobId":"68ed89b8-62cd-449d-bb15-402eaf117edd","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:45:09.004Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","template":"unknown","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at Object.error (server.js:3476:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8532:20)
      at generateEnhancedDocumentsResponse (server.js:20173:26)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:09.012Z","level":"info","message":"llm_call_metrics","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.012Z","level":"info","message":"llm_call_metrics","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.013Z","level":"info","message":"generation_section_rewrite_completed","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","jobId":"68ed89b8-62cd-449d-bb15-402eaf117edd","generationRunId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.013Z","level":"info","message":"llm_call_metrics","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.014Z","level":"info","message":"llm_call_metrics","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:45:09.017Z","level":"error","message":"ai_response_missing_json","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","jobId":"68ed89b8-62cd-449d-bb15-402eaf117edd","generationRunId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at Object.error (server.js:3476:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20455:26)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:09.022Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","jobId":"68ed89b8-62cd-449d-bb15-402eaf117edd","generationRunId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","attempt":1,"template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20460:11)
      at server.js:26731:28

  console.error
    {"timestamp":"2025-12-04T13:45:09.028Z","level":"error","message":"ai_response_missing_json","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","jobId":"68ed89b8-62cd-449d-bb15-402eaf117edd","generationRunId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at Object.error (server.js:3476:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20455:26)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:09.033Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","jobId":"68ed89b8-62cd-449d-bb15-402eaf117edd","generationRunId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","attempt":2,"template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20460:11)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:09.039Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","jobId":"68ed89b8-62cd-449d-bb15-402eaf117edd","generationRunId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:09.047Z","level":"info","message":"generation_cover_letters_completed","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","jobId":"68ed89b8-62cd-449d-bb15-402eaf117edd","generationRunId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","variants":2,"fallbackApplied":true,"template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.047Z","level":"info","message":"pdf_generation_attempt","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","jobId":"68ed89b8-62cd-449d-bb15-402eaf117edd","generationRunId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c9cc7613-51af-472f-b4a0-7ef082d4eeaf/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c9cc7613-51af-472f-b4a0-7ef082d4eeaf/enhanced_modern.pdf","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.048Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","jobId":"68ed89b8-62cd-449d-bb15-402eaf117edd","generationRunId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c9cc7613-51af-472f-b4a0-7ef082d4eeaf/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.048Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","jobId":"68ed89b8-62cd-449d-bb15-402eaf117edd","generationRunId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c9cc7613-51af-472f-b4a0-7ef082d4eeaf/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c9cc7613-51af-472f-b4a0-7ef082d4eeaf/enhanced_modern.pdf","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.049Z","level":"info","message":"pdf_generation_attempt","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","jobId":"68ed89b8-62cd-449d-bb15-402eaf117edd","generationRunId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c9cc7613-51af-472f-b4a0-7ef082d4eeaf/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c9cc7613-51af-472f-b4a0-7ef082d4eeaf/enhanced_professional.pdf","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.049Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","jobId":"68ed89b8-62cd-449d-bb15-402eaf117edd","generationRunId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c9cc7613-51af-472f-b4a0-7ef082d4eeaf/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.050Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","jobId":"68ed89b8-62cd-449d-bb15-402eaf117edd","generationRunId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c9cc7613-51af-472f-b4a0-7ef082d4eeaf/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c9cc7613-51af-472f-b4a0-7ef082d4eeaf/enhanced_professional.pdf","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.050Z","level":"info","message":"pdf_generation_attempt","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","jobId":"68ed89b8-62cd-449d-bb15-402eaf117edd","generationRunId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c9cc7613-51af-472f-b4a0-7ef082d4eeaf/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c9cc7613-51af-472f-b4a0-7ef082d4eeaf/cover_letter_cover_modern.pdf","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.051Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","jobId":"68ed89b8-62cd-449d-bb15-402eaf117edd","generationRunId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c9cc7613-51af-472f-b4a0-7ef082d4eeaf/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.051Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","jobId":"68ed89b8-62cd-449d-bb15-402eaf117edd","generationRunId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c9cc7613-51af-472f-b4a0-7ef082d4eeaf/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c9cc7613-51af-472f-b4a0-7ef082d4eeaf/cover_letter_cover_modern.pdf","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.052Z","level":"info","message":"pdf_generation_attempt","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","jobId":"68ed89b8-62cd-449d-bb15-402eaf117edd","generationRunId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c9cc7613-51af-472f-b4a0-7ef082d4eeaf/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c9cc7613-51af-472f-b4a0-7ef082d4eeaf/cover_letter_cover_professional.pdf","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.053Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","jobId":"68ed89b8-62cd-449d-bb15-402eaf117edd","generationRunId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c9cc7613-51af-472f-b4a0-7ef082d4eeaf/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.053Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","jobId":"68ed89b8-62cd-449d-bb15-402eaf117edd","generationRunId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c9cc7613-51af-472f-b4a0-7ef082d4eeaf/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c9cc7613-51af-472f-b4a0-7ef082d4eeaf/cover_letter_cover_professional.pdf","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.055Z","level":"info","message":"llm_call_metrics","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.056Z","level":"info","message":"generation_completed","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","jobId":"68ed89b8-62cd-449d-bb15-402eaf117edd","generationRunId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","enhancedScore":80,"outputs":5,"template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.057Z","level":"info","message":"placeholder_record_deleted","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","jobId":"68ed89b8-62cd-449d-bb15-402eaf117edd","placeholderIdentifier":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68ed89b8-62cd-449d-bb15-402eaf117edd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.058Z","level":"info","message":"http_request_completed","requestId":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":77,"contentLength":"58301","template":"unknown","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c9cc7613-51af-472f-b4a0-7ef082d4eeaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.063Z","level":"info","message":"http_request_received","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","method":"POST","path":"/api/process-cv","template":"unknown","session":"b9b95f25-7ff4-42b3-9405-58db0da02d39","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b9b95f25-7ff4-42b3-9405-58db0da02d39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.064Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.065Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.067Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.068Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.070Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/b9b95f25-7ff4-42b3-9405-58db0da02d39/incoming/original.pdf","chunks":1,"timestamp":1764855909072}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/b9b95f25-7ff4-42b3-9405-58db0da02d39/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/b9b95f25-7ff4-42b3-9405-58db0da02d39/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:45:09.074Z","level":"info","message":"process_cv_started","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","jobId":"405c3511-4841-4682-9cac-d6943e47b160","manualJobDescriptionProvided":true,"template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.075Z","level":"info","message":"template_selection","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","jobId":"405c3511-4841-4682-9cac-d6943e47b160","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:09.075Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","jobId":"405c3511-4841-4682-9cac-d6943e47b160","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:45:09.081Z","level":"info","message":"initial_upload_completed","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","jobId":"405c3511-4841-4682-9cac-d6943e47b160","bucket":"test-bucket","key":"cv/candidate/b9b95f25-7ff4-42b3-9405-58db0da02d39/incoming/original.pdf","template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.081Z","level":"info","message":"resume_text_extracted","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","jobId":"405c3511-4841-4682-9cac-d6943e47b160","characters":57,"template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.082Z","level":"info","message":"resume_classified","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","jobId":"405c3511-4841-4682-9cac-d6943e47b160","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.082Z","level":"info","message":"raw_upload_relocated","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","jobId":"405c3511-4841-4682-9cac-d6943e47b160","bucket":"test-bucket","fromKey":"cv/candidate/b9b95f25-7ff4-42b3-9405-58db0da02d39/incoming/original.pdf","toKey":"cv/professional_summary/b9b95f25-7ff4-42b3-9405-58db0da02d39/original.pdf","template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.082Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","jobId":"405c3511-4841-4682-9cac-d6943e47b160","bucket":"test-bucket","key":"cv/professional_summary/b9b95f25-7ff4-42b3-9405-58db0da02d39/original.pdf","template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.083Z","level":"info","message":"dynamo_initial_record_written","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","jobId":"405c3511-4841-4682-9cac-d6943e47b160","bucket":"test-bucket","key":"cv/professional_summary/b9b95f25-7ff4-42b3-9405-58db0da02d39/original.pdf","template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.083Z","level":"info","message":"upload_metadata_written","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","jobId":"405c3511-4841-4682-9cac-d6943e47b160","bucket":"test-bucket","key":"cv/professional_summary/b9b95f25-7ff4-42b3-9405-58db0da02d39/logs/log.json","template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.083Z","level":"info","message":"job_description_supplied_manually","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","jobId":"405c3511-4841-4682-9cac-d6943e47b160","characters":174,"template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.084Z","level":"info","message":"job_description_analyzed","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","jobId":"405c3511-4841-4682-9cac-d6943e47b160","jobTitle":"","jobSkills":5,"template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.084Z","level":"info","message":"resume_skills_analyzed","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","jobId":"405c3511-4841-4682-9cac-d6943e47b160","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.085Z","level":"info","message":"llm_call_metrics","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"b9b95f25-7ff4-42b3-9405-58db0da02d39","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b9b95f25-7ff4-42b3-9405-58db0da02d39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.085Z","level":"info","message":"process_cv_scoring_completed","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","jobId":"405c3511-4841-4682-9cac-d6943e47b160","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.087Z","level":"info","message":"llm_call_metrics","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"b9b95f25-7ff4-42b3-9405-58db0da02d39","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"b9b95f25-7ff4-42b3-9405-58db0da02d39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.088Z","level":"info","message":"generation_section_rewrite_completed","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","jobId":"405c3511-4841-4682-9cac-d6943e47b160","generationRunId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.088Z","level":"info","message":"llm_call_metrics","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"b9b95f25-7ff4-42b3-9405-58db0da02d39","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"b9b95f25-7ff4-42b3-9405-58db0da02d39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.090Z","level":"info","message":"generation_resume_verified","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","jobId":"405c3511-4841-4682-9cac-d6943e47b160","generationRunId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:09.093Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","jobId":"405c3511-4841-4682-9cac-d6943e47b160","generationRunId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:09.099Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","jobId":"405c3511-4841-4682-9cac-d6943e47b160","generationRunId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:09.106Z","level":"info","message":"generation_cover_letters_completed","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","jobId":"405c3511-4841-4682-9cac-d6943e47b160","generationRunId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","variants":2,"fallbackApplied":true,"template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.106Z","level":"info","message":"pdf_generation_attempt","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","jobId":"405c3511-4841-4682-9cac-d6943e47b160","generationRunId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b9b95f25-7ff4-42b3-9405-58db0da02d39/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/b9b95f25-7ff4-42b3-9405-58db0da02d39/enhanced_modern.pdf","session":"b9b95f25-7ff4-42b3-9405-58db0da02d39","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b9b95f25-7ff4-42b3-9405-58db0da02d39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.107Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","jobId":"405c3511-4841-4682-9cac-d6943e47b160","generationRunId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b9b95f25-7ff4-42b3-9405-58db0da02d39/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b9b95f25-7ff4-42b3-9405-58db0da02d39","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b9b95f25-7ff4-42b3-9405-58db0da02d39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.107Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","jobId":"405c3511-4841-4682-9cac-d6943e47b160","generationRunId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b9b95f25-7ff4-42b3-9405-58db0da02d39/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/b9b95f25-7ff4-42b3-9405-58db0da02d39/enhanced_modern.pdf","session":"b9b95f25-7ff4-42b3-9405-58db0da02d39","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b9b95f25-7ff4-42b3-9405-58db0da02d39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.108Z","level":"info","message":"pdf_generation_attempt","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","jobId":"405c3511-4841-4682-9cac-d6943e47b160","generationRunId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b9b95f25-7ff4-42b3-9405-58db0da02d39/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/b9b95f25-7ff4-42b3-9405-58db0da02d39/enhanced_professional.pdf","session":"b9b95f25-7ff4-42b3-9405-58db0da02d39","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b9b95f25-7ff4-42b3-9405-58db0da02d39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.108Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","jobId":"405c3511-4841-4682-9cac-d6943e47b160","generationRunId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b9b95f25-7ff4-42b3-9405-58db0da02d39/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b9b95f25-7ff4-42b3-9405-58db0da02d39","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b9b95f25-7ff4-42b3-9405-58db0da02d39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.109Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","jobId":"405c3511-4841-4682-9cac-d6943e47b160","generationRunId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b9b95f25-7ff4-42b3-9405-58db0da02d39/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/b9b95f25-7ff4-42b3-9405-58db0da02d39/enhanced_professional.pdf","session":"b9b95f25-7ff4-42b3-9405-58db0da02d39","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b9b95f25-7ff4-42b3-9405-58db0da02d39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.109Z","level":"info","message":"pdf_generation_attempt","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","jobId":"405c3511-4841-4682-9cac-d6943e47b160","generationRunId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b9b95f25-7ff4-42b3-9405-58db0da02d39/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/b9b95f25-7ff4-42b3-9405-58db0da02d39/cover_letter_cover_modern.pdf","session":"b9b95f25-7ff4-42b3-9405-58db0da02d39","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b9b95f25-7ff4-42b3-9405-58db0da02d39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.109Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","jobId":"405c3511-4841-4682-9cac-d6943e47b160","generationRunId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b9b95f25-7ff4-42b3-9405-58db0da02d39/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b9b95f25-7ff4-42b3-9405-58db0da02d39","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b9b95f25-7ff4-42b3-9405-58db0da02d39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.110Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","jobId":"405c3511-4841-4682-9cac-d6943e47b160","generationRunId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b9b95f25-7ff4-42b3-9405-58db0da02d39/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/b9b95f25-7ff4-42b3-9405-58db0da02d39/cover_letter_cover_modern.pdf","session":"b9b95f25-7ff4-42b3-9405-58db0da02d39","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b9b95f25-7ff4-42b3-9405-58db0da02d39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.110Z","level":"info","message":"pdf_generation_attempt","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","jobId":"405c3511-4841-4682-9cac-d6943e47b160","generationRunId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b9b95f25-7ff4-42b3-9405-58db0da02d39/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/b9b95f25-7ff4-42b3-9405-58db0da02d39/cover_letter_cover_professional.pdf","session":"b9b95f25-7ff4-42b3-9405-58db0da02d39","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b9b95f25-7ff4-42b3-9405-58db0da02d39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.111Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","jobId":"405c3511-4841-4682-9cac-d6943e47b160","generationRunId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b9b95f25-7ff4-42b3-9405-58db0da02d39/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b9b95f25-7ff4-42b3-9405-58db0da02d39","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b9b95f25-7ff4-42b3-9405-58db0da02d39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.111Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","jobId":"405c3511-4841-4682-9cac-d6943e47b160","generationRunId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b9b95f25-7ff4-42b3-9405-58db0da02d39/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/b9b95f25-7ff4-42b3-9405-58db0da02d39/cover_letter_cover_professional.pdf","session":"b9b95f25-7ff4-42b3-9405-58db0da02d39","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b9b95f25-7ff4-42b3-9405-58db0da02d39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.113Z","level":"info","message":"llm_call_metrics","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"b9b95f25-7ff4-42b3-9405-58db0da02d39","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b9b95f25-7ff4-42b3-9405-58db0da02d39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.114Z","level":"info","message":"generation_completed","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","jobId":"405c3511-4841-4682-9cac-d6943e47b160","generationRunId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","enhancedScore":80,"outputs":5,"template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.115Z","level":"info","message":"placeholder_record_deleted","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","jobId":"405c3511-4841-4682-9cac-d6943e47b160","placeholderIdentifier":"b9b95f25-7ff4-42b3-9405-58db0da02d39","template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"405c3511-4841-4682-9cac-d6943e47b160","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.116Z","level":"info","message":"http_request_completed","requestId":"b9b95f25-7ff4-42b3-9405-58db0da02d39","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":53,"contentLength":"58133","template":"unknown","session":"b9b95f25-7ff4-42b3-9405-58db0da02d39","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b9b95f25-7ff4-42b3-9405-58db0da02d39","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.119Z","level":"info","message":"http_request_received","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","method":"POST","path":"/api/process-cv","template":"unknown","session":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.121Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.122Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.123Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.125Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.126Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/70bbfbe9-7721-4b38-a8fc-76e9402e6d8c/incoming/original.pdf","chunks":1,"timestamp":1764855909129}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/70bbfbe9-7721-4b38-a8fc-76e9402e6d8c/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/70bbfbe9-7721-4b38-a8fc-76e9402e6d8c/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:45:09.130Z","level":"info","message":"process_cv_started","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","jobId":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","manualJobDescriptionProvided":true,"template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.130Z","level":"info","message":"template_selection","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","jobId":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","template1":"classic","template2":"ats","coverTemplate1":"cover_classic","coverTemplate2":"cover_ats","availableCvTemplates":["classic","ats","modern","professional","2025"],"availableCoverTemplates":["cover_classic","cover_ats","cover_modern","cover_professional","cover_2025"],"template":"classic","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:09.131Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","jobId":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:45:09.137Z","level":"info","message":"initial_upload_completed","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","jobId":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","bucket":"test-bucket","key":"cv/candidate/70bbfbe9-7721-4b38-a8fc-76e9402e6d8c/incoming/original.pdf","template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.137Z","level":"info","message":"resume_text_extracted","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","jobId":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","characters":57,"template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.138Z","level":"info","message":"resume_classified","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","jobId":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.138Z","level":"info","message":"raw_upload_relocated","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","jobId":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","bucket":"test-bucket","fromKey":"cv/candidate/70bbfbe9-7721-4b38-a8fc-76e9402e6d8c/incoming/original.pdf","toKey":"cv/professional_summary/70bbfbe9-7721-4b38-a8fc-76e9402e6d8c/original.pdf","template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.138Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","jobId":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","bucket":"test-bucket","key":"cv/professional_summary/70bbfbe9-7721-4b38-a8fc-76e9402e6d8c/original.pdf","template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.141Z","level":"info","message":"dynamo_initial_record_written","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","jobId":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","bucket":"test-bucket","key":"cv/professional_summary/70bbfbe9-7721-4b38-a8fc-76e9402e6d8c/original.pdf","template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.141Z","level":"info","message":"upload_metadata_written","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","jobId":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","bucket":"test-bucket","key":"cv/professional_summary/70bbfbe9-7721-4b38-a8fc-76e9402e6d8c/logs/log.json","template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.141Z","level":"info","message":"job_description_supplied_manually","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","jobId":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","characters":174,"template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.142Z","level":"info","message":"job_description_analyzed","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","jobId":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","jobTitle":"","jobSkills":5,"template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.142Z","level":"info","message":"resume_skills_analyzed","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","jobId":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.143Z","level":"info","message":"llm_call_metrics","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.143Z","level":"info","message":"process_cv_scoring_completed","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","jobId":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.146Z","level":"info","message":"llm_call_metrics","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.146Z","level":"info","message":"generation_section_rewrite_completed","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","jobId":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","generationRunId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.147Z","level":"info","message":"llm_call_metrics","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.150Z","level":"info","message":"generation_resume_verified","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","jobId":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","generationRunId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:09.153Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","jobId":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","generationRunId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:09.159Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","jobId":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","generationRunId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:09.164Z","level":"info","message":"generation_cover_letters_completed","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","jobId":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","generationRunId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","variants":2,"fallbackApplied":true,"template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.165Z","level":"info","message":"pdf_generation_attempt","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","jobId":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","generationRunId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/70bbfbe9-7721-4b38-a8fc-76e9402e6d8c/","sessionId":"[REDACTED]","template":"classic","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/70bbfbe9-7721-4b38-a8fc-76e9402e6d8c/enhanced_classic.pdf","session":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.166Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","jobId":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","generationRunId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/70bbfbe9-7721-4b38-a8fc-76e9402e6d8c/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.166Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","jobId":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","generationRunId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/70bbfbe9-7721-4b38-a8fc-76e9402e6d8c/","sessionId":"[REDACTED]","template":"classic","attempt":1,"bytes":3,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/70bbfbe9-7721-4b38-a8fc-76e9402e6d8c/enhanced_classic.pdf","session":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.167Z","level":"info","message":"pdf_generation_attempt","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","jobId":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","generationRunId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/70bbfbe9-7721-4b38-a8fc-76e9402e6d8c/","sessionId":"[REDACTED]","template":"ats","attempt":1,"totalAttempts":1,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/70bbfbe9-7721-4b38-a8fc-76e9402e6d8c/enhanced_ats.pdf","session":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.167Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","jobId":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","generationRunId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/70bbfbe9-7721-4b38-a8fc-76e9402e6d8c/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":["mode","atsMode"],"session":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.167Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","jobId":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","generationRunId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/70bbfbe9-7721-4b38-a8fc-76e9402e6d8c/","sessionId":"[REDACTED]","template":"ats","attempt":1,"bytes":3,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/70bbfbe9-7721-4b38-a8fc-76e9402e6d8c/enhanced_ats.pdf","session":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.168Z","level":"info","message":"pdf_generation_attempt","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","jobId":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","generationRunId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/70bbfbe9-7721-4b38-a8fc-76e9402e6d8c/","sessionId":"[REDACTED]","template":"cover_classic","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/70bbfbe9-7721-4b38-a8fc-76e9402e6d8c/cover_letter_cover_classic.pdf","session":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.168Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","jobId":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","generationRunId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/70bbfbe9-7721-4b38-a8fc-76e9402e6d8c/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.169Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","jobId":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","generationRunId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/70bbfbe9-7721-4b38-a8fc-76e9402e6d8c/","sessionId":"[REDACTED]","template":"cover_classic","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/70bbfbe9-7721-4b38-a8fc-76e9402e6d8c/cover_letter_cover_classic.pdf","session":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.170Z","level":"info","message":"pdf_generation_attempt","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","jobId":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","generationRunId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/70bbfbe9-7721-4b38-a8fc-76e9402e6d8c/","sessionId":"[REDACTED]","template":"cover_ats","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/70bbfbe9-7721-4b38-a8fc-76e9402e6d8c/cover_letter_cover_ats.pdf","session":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.170Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","jobId":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","generationRunId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/70bbfbe9-7721-4b38-a8fc-76e9402e6d8c/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.171Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","jobId":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","generationRunId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/70bbfbe9-7721-4b38-a8fc-76e9402e6d8c/","sessionId":"[REDACTED]","template":"cover_ats","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/70bbfbe9-7721-4b38-a8fc-76e9402e6d8c/cover_letter_cover_ats.pdf","session":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.173Z","level":"info","message":"llm_call_metrics","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.174Z","level":"info","message":"generation_completed","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","jobId":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","generationRunId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","enhancedScore":80,"outputs":5,"template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.175Z","level":"info","message":"placeholder_record_deleted","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","jobId":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","placeholderIdentifier":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c422af5a-56ae-4d35-a945-e8d4538cb5fb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.176Z","level":"info","message":"http_request_completed","requestId":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":57,"contentLength":"57992","template":"unknown","session":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"70bbfbe9-7721-4b38-a8fc-76e9402e6d8c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.179Z","level":"info","message":"http_request_received","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","method":"POST","path":"/api/process-cv","template":"unknown","session":"2a6b2cec-3332-4444-9621-714c07bf7db5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2a6b2cec-3332-4444-9621-714c07bf7db5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.180Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.181Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.182Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.184Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.186Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/2a6b2cec-3332-4444-9621-714c07bf7db5/incoming/original.pdf","chunks":1,"timestamp":1764855909188}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/2a6b2cec-3332-4444-9621-714c07bf7db5/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/2a6b2cec-3332-4444-9621-714c07bf7db5/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:45:09.189Z","level":"info","message":"process_cv_started","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","jobId":"0ea10801-031a-45b0-a450-ce9031b96205","manualJobDescriptionProvided":true,"template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.190Z","level":"info","message":"template_selection","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","jobId":"0ea10801-031a-45b0-a450-ce9031b96205","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:09.190Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","jobId":"0ea10801-031a-45b0-a450-ce9031b96205","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:45:09.197Z","level":"info","message":"initial_upload_completed","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","jobId":"0ea10801-031a-45b0-a450-ce9031b96205","bucket":"test-bucket","key":"cv/candidate/2a6b2cec-3332-4444-9621-714c07bf7db5/incoming/original.pdf","template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.198Z","level":"info","message":"resume_text_extracted","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","jobId":"0ea10801-031a-45b0-a450-ce9031b96205","characters":57,"template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.198Z","level":"info","message":"resume_classified","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","jobId":"0ea10801-031a-45b0-a450-ce9031b96205","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.199Z","level":"info","message":"raw_upload_relocated","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","jobId":"0ea10801-031a-45b0-a450-ce9031b96205","bucket":"test-bucket","fromKey":"cv/candidate/2a6b2cec-3332-4444-9621-714c07bf7db5/incoming/original.pdf","toKey":"cv/professional_summary/2a6b2cec-3332-4444-9621-714c07bf7db5/original.pdf","template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.199Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","jobId":"0ea10801-031a-45b0-a450-ce9031b96205","bucket":"test-bucket","key":"cv/professional_summary/2a6b2cec-3332-4444-9621-714c07bf7db5/original.pdf","template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.199Z","level":"info","message":"dynamo_initial_record_written","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","jobId":"0ea10801-031a-45b0-a450-ce9031b96205","bucket":"test-bucket","key":"cv/professional_summary/2a6b2cec-3332-4444-9621-714c07bf7db5/original.pdf","template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.200Z","level":"info","message":"upload_metadata_written","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","jobId":"0ea10801-031a-45b0-a450-ce9031b96205","bucket":"test-bucket","key":"cv/professional_summary/2a6b2cec-3332-4444-9621-714c07bf7db5/logs/log.json","template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.200Z","level":"info","message":"job_description_supplied_manually","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","jobId":"0ea10801-031a-45b0-a450-ce9031b96205","characters":174,"template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.200Z","level":"info","message":"job_description_analyzed","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","jobId":"0ea10801-031a-45b0-a450-ce9031b96205","jobTitle":"","jobSkills":5,"template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.201Z","level":"info","message":"resume_skills_analyzed","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","jobId":"0ea10801-031a-45b0-a450-ce9031b96205","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.202Z","level":"info","message":"llm_call_metrics","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"2a6b2cec-3332-4444-9621-714c07bf7db5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"2a6b2cec-3332-4444-9621-714c07bf7db5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.203Z","level":"info","message":"process_cv_scoring_completed","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","jobId":"0ea10801-031a-45b0-a450-ce9031b96205","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.206Z","level":"info","message":"llm_call_metrics","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"02d97c4de2dc6045a8d84c10e35b0b09be1fff3da32b47fa5d4c293317deef58","addedSkillCount":0,"template":"resume_rewrite","session":"2a6b2cec-3332-4444-9621-714c07bf7db5","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"2a6b2cec-3332-4444-9621-714c07bf7db5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.207Z","level":"info","message":"generation_section_rewrite_completed","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","jobId":"0ea10801-031a-45b0-a450-ce9031b96205","generationRunId":"2a6b2cec-3332-4444-9621-714c07bf7db5","modifiedTitle":"Lead Engineer","addedSkills":0,"template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.207Z","level":"info","message":"llm_call_metrics","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"3cb5bda2be537250e5bef0d91034f772d9c2c805c99b7e04ba145ecb904d5893","skillCount":5,"template":"project_summary","session":"2a6b2cec-3332-4444-9621-714c07bf7db5","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"2a6b2cec-3332-4444-9621-714c07bf7db5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.209Z","level":"info","message":"generation_resume_verified","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","jobId":"0ea10801-031a-45b0-a450-ce9031b96205","generationRunId":"2a6b2cec-3332-4444-9621-714c07bf7db5","template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:09.213Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","jobId":"0ea10801-031a-45b0-a450-ce9031b96205","generationRunId":"2a6b2cec-3332-4444-9621-714c07bf7db5","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:09.219Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","jobId":"0ea10801-031a-45b0-a450-ce9031b96205","generationRunId":"2a6b2cec-3332-4444-9621-714c07bf7db5","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:09.225Z","level":"info","message":"generation_cover_letters_completed","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","jobId":"0ea10801-031a-45b0-a450-ce9031b96205","generationRunId":"2a6b2cec-3332-4444-9621-714c07bf7db5","variants":2,"fallbackApplied":true,"template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.226Z","level":"info","message":"pdf_generation_attempt","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","jobId":"0ea10801-031a-45b0-a450-ce9031b96205","generationRunId":"2a6b2cec-3332-4444-9621-714c07bf7db5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2a6b2cec-3332-4444-9621-714c07bf7db5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/2a6b2cec-3332-4444-9621-714c07bf7db5/enhanced_modern.pdf","session":"2a6b2cec-3332-4444-9621-714c07bf7db5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2a6b2cec-3332-4444-9621-714c07bf7db5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.226Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","jobId":"0ea10801-031a-45b0-a450-ce9031b96205","generationRunId":"2a6b2cec-3332-4444-9621-714c07bf7db5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2a6b2cec-3332-4444-9621-714c07bf7db5/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2a6b2cec-3332-4444-9621-714c07bf7db5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2a6b2cec-3332-4444-9621-714c07bf7db5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.227Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","jobId":"0ea10801-031a-45b0-a450-ce9031b96205","generationRunId":"2a6b2cec-3332-4444-9621-714c07bf7db5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2a6b2cec-3332-4444-9621-714c07bf7db5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/2a6b2cec-3332-4444-9621-714c07bf7db5/enhanced_modern.pdf","session":"2a6b2cec-3332-4444-9621-714c07bf7db5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2a6b2cec-3332-4444-9621-714c07bf7db5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.227Z","level":"info","message":"pdf_generation_attempt","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","jobId":"0ea10801-031a-45b0-a450-ce9031b96205","generationRunId":"2a6b2cec-3332-4444-9621-714c07bf7db5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2a6b2cec-3332-4444-9621-714c07bf7db5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/2a6b2cec-3332-4444-9621-714c07bf7db5/enhanced_professional.pdf","session":"2a6b2cec-3332-4444-9621-714c07bf7db5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2a6b2cec-3332-4444-9621-714c07bf7db5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.228Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","jobId":"0ea10801-031a-45b0-a450-ce9031b96205","generationRunId":"2a6b2cec-3332-4444-9621-714c07bf7db5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2a6b2cec-3332-4444-9621-714c07bf7db5/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2a6b2cec-3332-4444-9621-714c07bf7db5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2a6b2cec-3332-4444-9621-714c07bf7db5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.228Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","jobId":"0ea10801-031a-45b0-a450-ce9031b96205","generationRunId":"2a6b2cec-3332-4444-9621-714c07bf7db5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2a6b2cec-3332-4444-9621-714c07bf7db5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/2a6b2cec-3332-4444-9621-714c07bf7db5/enhanced_professional.pdf","session":"2a6b2cec-3332-4444-9621-714c07bf7db5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2a6b2cec-3332-4444-9621-714c07bf7db5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.229Z","level":"info","message":"pdf_generation_attempt","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","jobId":"0ea10801-031a-45b0-a450-ce9031b96205","generationRunId":"2a6b2cec-3332-4444-9621-714c07bf7db5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2a6b2cec-3332-4444-9621-714c07bf7db5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/2a6b2cec-3332-4444-9621-714c07bf7db5/cover_letter_cover_modern.pdf","session":"2a6b2cec-3332-4444-9621-714c07bf7db5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2a6b2cec-3332-4444-9621-714c07bf7db5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.230Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","jobId":"0ea10801-031a-45b0-a450-ce9031b96205","generationRunId":"2a6b2cec-3332-4444-9621-714c07bf7db5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2a6b2cec-3332-4444-9621-714c07bf7db5/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2a6b2cec-3332-4444-9621-714c07bf7db5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2a6b2cec-3332-4444-9621-714c07bf7db5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.230Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","jobId":"0ea10801-031a-45b0-a450-ce9031b96205","generationRunId":"2a6b2cec-3332-4444-9621-714c07bf7db5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2a6b2cec-3332-4444-9621-714c07bf7db5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/2a6b2cec-3332-4444-9621-714c07bf7db5/cover_letter_cover_modern.pdf","session":"2a6b2cec-3332-4444-9621-714c07bf7db5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2a6b2cec-3332-4444-9621-714c07bf7db5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.231Z","level":"info","message":"pdf_generation_attempt","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","jobId":"0ea10801-031a-45b0-a450-ce9031b96205","generationRunId":"2a6b2cec-3332-4444-9621-714c07bf7db5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2a6b2cec-3332-4444-9621-714c07bf7db5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/2a6b2cec-3332-4444-9621-714c07bf7db5/cover_letter_cover_professional.pdf","session":"2a6b2cec-3332-4444-9621-714c07bf7db5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2a6b2cec-3332-4444-9621-714c07bf7db5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.231Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","jobId":"0ea10801-031a-45b0-a450-ce9031b96205","generationRunId":"2a6b2cec-3332-4444-9621-714c07bf7db5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2a6b2cec-3332-4444-9621-714c07bf7db5/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2a6b2cec-3332-4444-9621-714c07bf7db5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2a6b2cec-3332-4444-9621-714c07bf7db5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.232Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","jobId":"0ea10801-031a-45b0-a450-ce9031b96205","generationRunId":"2a6b2cec-3332-4444-9621-714c07bf7db5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2a6b2cec-3332-4444-9621-714c07bf7db5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/2a6b2cec-3332-4444-9621-714c07bf7db5/cover_letter_cover_professional.pdf","session":"2a6b2cec-3332-4444-9621-714c07bf7db5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2a6b2cec-3332-4444-9621-714c07bf7db5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.234Z","level":"info","message":"llm_call_metrics","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"aebf306d7fe64238aa9b05fc3798c6e6698d8708e05d8dd31d0cadc8f2f74f38","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"2a6b2cec-3332-4444-9621-714c07bf7db5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"2a6b2cec-3332-4444-9621-714c07bf7db5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.235Z","level":"info","message":"generation_completed","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","jobId":"0ea10801-031a-45b0-a450-ce9031b96205","generationRunId":"2a6b2cec-3332-4444-9621-714c07bf7db5","enhancedScore":80,"outputs":5,"template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.236Z","level":"info","message":"placeholder_record_deleted","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","jobId":"0ea10801-031a-45b0-a450-ce9031b96205","placeholderIdentifier":"2a6b2cec-3332-4444-9621-714c07bf7db5","template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0ea10801-031a-45b0-a450-ce9031b96205","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.238Z","level":"info","message":"http_request_completed","requestId":"2a6b2cec-3332-4444-9621-714c07bf7db5","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":59,"contentLength":"59354","template":"unknown","session":"2a6b2cec-3332-4444-9621-714c07bf7db5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2a6b2cec-3332-4444-9621-714c07bf7db5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.243Z","level":"info","message":"http_request_received","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","method":"POST","path":"/api/process-cv","template":"unknown","session":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.244Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.245Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.246Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.248Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.250Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2/incoming/original.pdf","chunks":1,"timestamp":1764855909252}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:45:09.254Z","level":"info","message":"process_cv_started","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","jobId":"729b84dc-8675-4a74-8866-6aff2d587ad5","manualJobDescriptionProvided":true,"template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.255Z","level":"info","message":"template_selection","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","jobId":"729b84dc-8675-4a74-8866-6aff2d587ad5","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:09.255Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","jobId":"729b84dc-8675-4a74-8866-6aff2d587ad5","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:45:09.261Z","level":"info","message":"initial_upload_completed","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","jobId":"729b84dc-8675-4a74-8866-6aff2d587ad5","bucket":"test-bucket","key":"cv/candidate/4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2/incoming/original.pdf","template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.261Z","level":"info","message":"resume_text_extracted","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","jobId":"729b84dc-8675-4a74-8866-6aff2d587ad5","characters":57,"template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.262Z","level":"info","message":"resume_classified","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","jobId":"729b84dc-8675-4a74-8866-6aff2d587ad5","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.262Z","level":"info","message":"raw_upload_relocated","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","jobId":"729b84dc-8675-4a74-8866-6aff2d587ad5","bucket":"test-bucket","fromKey":"cv/candidate/4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2/incoming/original.pdf","toKey":"cv/professional_summary/4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2/original.pdf","template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.262Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","jobId":"729b84dc-8675-4a74-8866-6aff2d587ad5","bucket":"test-bucket","key":"cv/professional_summary/4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2/original.pdf","template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.263Z","level":"info","message":"dynamo_initial_record_written","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","jobId":"729b84dc-8675-4a74-8866-6aff2d587ad5","bucket":"test-bucket","key":"cv/professional_summary/4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2/original.pdf","template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.263Z","level":"info","message":"upload_metadata_written","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","jobId":"729b84dc-8675-4a74-8866-6aff2d587ad5","bucket":"test-bucket","key":"cv/professional_summary/4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2/logs/log.json","template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.263Z","level":"info","message":"job_description_supplied_manually","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","jobId":"729b84dc-8675-4a74-8866-6aff2d587ad5","characters":174,"template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.264Z","level":"info","message":"job_description_analyzed","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","jobId":"729b84dc-8675-4a74-8866-6aff2d587ad5","jobTitle":"","jobSkills":5,"template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.264Z","level":"info","message":"resume_skills_analyzed","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","jobId":"729b84dc-8675-4a74-8866-6aff2d587ad5","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.265Z","level":"info","message":"llm_call_metrics","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.266Z","level":"info","message":"process_cv_scoring_completed","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","jobId":"729b84dc-8675-4a74-8866-6aff2d587ad5","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.268Z","level":"info","message":"llm_call_metrics","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.269Z","level":"info","message":"generation_section_rewrite_completed","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","jobId":"729b84dc-8675-4a74-8866-6aff2d587ad5","generationRunId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.269Z","level":"info","message":"llm_call_metrics","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"9f21e6c3bcbaef44e0e62da79c13bb8790b57affdb114dc9f59fc273f882540c","skillCount":5,"template":"project_summary","session":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.271Z","level":"info","message":"generation_resume_verified","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","jobId":"729b84dc-8675-4a74-8866-6aff2d587ad5","generationRunId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:09.274Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","jobId":"729b84dc-8675-4a74-8866-6aff2d587ad5","generationRunId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:09.280Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","jobId":"729b84dc-8675-4a74-8866-6aff2d587ad5","generationRunId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:09.287Z","level":"info","message":"generation_cover_letters_completed","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","jobId":"729b84dc-8675-4a74-8866-6aff2d587ad5","generationRunId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","variants":2,"fallbackApplied":true,"template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.288Z","level":"info","message":"pdf_generation_attempt","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","jobId":"729b84dc-8675-4a74-8866-6aff2d587ad5","generationRunId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2/enhanced_modern.pdf","session":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.289Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","jobId":"729b84dc-8675-4a74-8866-6aff2d587ad5","generationRunId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.289Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","jobId":"729b84dc-8675-4a74-8866-6aff2d587ad5","generationRunId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2/enhanced_modern.pdf","session":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.290Z","level":"info","message":"pdf_generation_attempt","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","jobId":"729b84dc-8675-4a74-8866-6aff2d587ad5","generationRunId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2/enhanced_professional.pdf","session":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.291Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","jobId":"729b84dc-8675-4a74-8866-6aff2d587ad5","generationRunId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.291Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","jobId":"729b84dc-8675-4a74-8866-6aff2d587ad5","generationRunId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2/enhanced_professional.pdf","session":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.292Z","level":"info","message":"pdf_generation_attempt","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","jobId":"729b84dc-8675-4a74-8866-6aff2d587ad5","generationRunId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2/cover_letter_cover_modern.pdf","session":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.292Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","jobId":"729b84dc-8675-4a74-8866-6aff2d587ad5","generationRunId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.292Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","jobId":"729b84dc-8675-4a74-8866-6aff2d587ad5","generationRunId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2/cover_letter_cover_modern.pdf","session":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.293Z","level":"info","message":"pdf_generation_attempt","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","jobId":"729b84dc-8675-4a74-8866-6aff2d587ad5","generationRunId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2/cover_letter_cover_professional.pdf","session":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.293Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","jobId":"729b84dc-8675-4a74-8866-6aff2d587ad5","generationRunId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.294Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","jobId":"729b84dc-8675-4a74-8866-6aff2d587ad5","generationRunId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2/cover_letter_cover_professional.pdf","session":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.296Z","level":"info","message":"llm_call_metrics","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.297Z","level":"info","message":"generation_completed","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","jobId":"729b84dc-8675-4a74-8866-6aff2d587ad5","generationRunId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","enhancedScore":80,"outputs":5,"template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.298Z","level":"info","message":"placeholder_record_deleted","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","jobId":"729b84dc-8675-4a74-8866-6aff2d587ad5","placeholderIdentifier":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"729b84dc-8675-4a74-8866-6aff2d587ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.299Z","level":"info","message":"http_request_completed","requestId":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":56,"contentLength":"57968","template":"unknown","session":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4edf15a6-6f26-48ba-a8b6-02aefa8a0ea2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.303Z","level":"info","message":"http_request_received","requestId":"8100456c-88e7-4560-bde7-620010b12037","method":"POST","path":"/api/process-cv","template":"unknown","session":"8100456c-88e7-4560-bde7-620010b12037","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8100456c-88e7-4560-bde7-620010b12037","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.304Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.305Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.307Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.308Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.310Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/8100456c-88e7-4560-bde7-620010b12037/incoming/original.pdf","chunks":1,"timestamp":1764855909312}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/8100456c-88e7-4560-bde7-620010b12037/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/8100456c-88e7-4560-bde7-620010b12037/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:45:09.313Z","level":"info","message":"process_cv_started","requestId":"8100456c-88e7-4560-bde7-620010b12037","jobId":"c27c2bbe-3860-4027-9135-703cd2893a5e","manualJobDescriptionProvided":true,"template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.314Z","level":"info","message":"template_selection","requestId":"8100456c-88e7-4560-bde7-620010b12037","jobId":"c27c2bbe-3860-4027-9135-703cd2893a5e","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:09.314Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"8100456c-88e7-4560-bde7-620010b12037","jobId":"c27c2bbe-3860-4027-9135-703cd2893a5e","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:45:09.320Z","level":"info","message":"initial_upload_completed","requestId":"8100456c-88e7-4560-bde7-620010b12037","jobId":"c27c2bbe-3860-4027-9135-703cd2893a5e","bucket":"test-bucket","key":"cv/candidate/8100456c-88e7-4560-bde7-620010b12037/incoming/original.pdf","template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.320Z","level":"info","message":"resume_text_extracted","requestId":"8100456c-88e7-4560-bde7-620010b12037","jobId":"c27c2bbe-3860-4027-9135-703cd2893a5e","characters":57,"template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.321Z","level":"info","message":"resume_classified","requestId":"8100456c-88e7-4560-bde7-620010b12037","jobId":"c27c2bbe-3860-4027-9135-703cd2893a5e","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.321Z","level":"info","message":"raw_upload_relocated","requestId":"8100456c-88e7-4560-bde7-620010b12037","jobId":"c27c2bbe-3860-4027-9135-703cd2893a5e","bucket":"test-bucket","fromKey":"cv/candidate/8100456c-88e7-4560-bde7-620010b12037/incoming/original.pdf","toKey":"cv/professional_summary/8100456c-88e7-4560-bde7-620010b12037/original.pdf","template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.321Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"8100456c-88e7-4560-bde7-620010b12037","jobId":"c27c2bbe-3860-4027-9135-703cd2893a5e","bucket":"test-bucket","key":"cv/professional_summary/8100456c-88e7-4560-bde7-620010b12037/original.pdf","template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.322Z","level":"info","message":"dynamo_initial_record_written","requestId":"8100456c-88e7-4560-bde7-620010b12037","jobId":"c27c2bbe-3860-4027-9135-703cd2893a5e","bucket":"test-bucket","key":"cv/professional_summary/8100456c-88e7-4560-bde7-620010b12037/original.pdf","template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.322Z","level":"info","message":"upload_metadata_written","requestId":"8100456c-88e7-4560-bde7-620010b12037","jobId":"c27c2bbe-3860-4027-9135-703cd2893a5e","bucket":"test-bucket","key":"cv/professional_summary/8100456c-88e7-4560-bde7-620010b12037/logs/log.json","template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.322Z","level":"info","message":"job_description_supplied_manually","requestId":"8100456c-88e7-4560-bde7-620010b12037","jobId":"c27c2bbe-3860-4027-9135-703cd2893a5e","characters":174,"template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.323Z","level":"info","message":"job_description_analyzed","requestId":"8100456c-88e7-4560-bde7-620010b12037","jobId":"c27c2bbe-3860-4027-9135-703cd2893a5e","jobTitle":"","jobSkills":5,"template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.323Z","level":"info","message":"resume_skills_analyzed","requestId":"8100456c-88e7-4560-bde7-620010b12037","jobId":"c27c2bbe-3860-4027-9135-703cd2893a5e","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.324Z","level":"info","message":"llm_call_metrics","requestId":"8100456c-88e7-4560-bde7-620010b12037","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"8100456c-88e7-4560-bde7-620010b12037","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"8100456c-88e7-4560-bde7-620010b12037","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.324Z","level":"info","message":"process_cv_scoring_completed","requestId":"8100456c-88e7-4560-bde7-620010b12037","jobId":"c27c2bbe-3860-4027-9135-703cd2893a5e","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.326Z","level":"info","message":"llm_call_metrics","requestId":"8100456c-88e7-4560-bde7-620010b12037","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"c32b748981f4e178814e257598e9097dabf82d48f753e111da0149a2ea5fd9aa","addedSkillCount":0,"template":"resume_rewrite","session":"8100456c-88e7-4560-bde7-620010b12037","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"8100456c-88e7-4560-bde7-620010b12037","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.327Z","level":"info","message":"generation_section_rewrite_completed","requestId":"8100456c-88e7-4560-bde7-620010b12037","jobId":"c27c2bbe-3860-4027-9135-703cd2893a5e","generationRunId":"8100456c-88e7-4560-bde7-620010b12037","modifiedTitle":"Name","addedSkills":0,"template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.327Z","level":"info","message":"llm_call_metrics","requestId":"8100456c-88e7-4560-bde7-620010b12037","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"78ddb280a2cb83c23c85b1035eed8b3d5fbcd26529ae4529d14b4e3768cf61d3","skillCount":5,"template":"project_summary","session":"8100456c-88e7-4560-bde7-620010b12037","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"8100456c-88e7-4560-bde7-620010b12037","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.330Z","level":"info","message":"generation_resume_verified","requestId":"8100456c-88e7-4560-bde7-620010b12037","jobId":"c27c2bbe-3860-4027-9135-703cd2893a5e","generationRunId":"8100456c-88e7-4560-bde7-620010b12037","template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:09.333Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"8100456c-88e7-4560-bde7-620010b12037","jobId":"c27c2bbe-3860-4027-9135-703cd2893a5e","generationRunId":"8100456c-88e7-4560-bde7-620010b12037","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:09.339Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"8100456c-88e7-4560-bde7-620010b12037","jobId":"c27c2bbe-3860-4027-9135-703cd2893a5e","generationRunId":"8100456c-88e7-4560-bde7-620010b12037","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:09.344Z","level":"info","message":"generation_cover_letters_completed","requestId":"8100456c-88e7-4560-bde7-620010b12037","jobId":"c27c2bbe-3860-4027-9135-703cd2893a5e","generationRunId":"8100456c-88e7-4560-bde7-620010b12037","variants":2,"fallbackApplied":true,"template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.345Z","level":"info","message":"pdf_generation_attempt","requestId":"8100456c-88e7-4560-bde7-620010b12037","jobId":"c27c2bbe-3860-4027-9135-703cd2893a5e","generationRunId":"8100456c-88e7-4560-bde7-620010b12037","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/8100456c-88e7-4560-bde7-620010b12037/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/8100456c-88e7-4560-bde7-620010b12037/enhanced_modern.pdf","session":"8100456c-88e7-4560-bde7-620010b12037","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8100456c-88e7-4560-bde7-620010b12037","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.345Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8100456c-88e7-4560-bde7-620010b12037","jobId":"c27c2bbe-3860-4027-9135-703cd2893a5e","generationRunId":"8100456c-88e7-4560-bde7-620010b12037","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/8100456c-88e7-4560-bde7-620010b12037/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"8100456c-88e7-4560-bde7-620010b12037","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8100456c-88e7-4560-bde7-620010b12037","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.346Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8100456c-88e7-4560-bde7-620010b12037","jobId":"c27c2bbe-3860-4027-9135-703cd2893a5e","generationRunId":"8100456c-88e7-4560-bde7-620010b12037","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/8100456c-88e7-4560-bde7-620010b12037/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/8100456c-88e7-4560-bde7-620010b12037/enhanced_modern.pdf","session":"8100456c-88e7-4560-bde7-620010b12037","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8100456c-88e7-4560-bde7-620010b12037","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.346Z","level":"info","message":"pdf_generation_attempt","requestId":"8100456c-88e7-4560-bde7-620010b12037","jobId":"c27c2bbe-3860-4027-9135-703cd2893a5e","generationRunId":"8100456c-88e7-4560-bde7-620010b12037","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/8100456c-88e7-4560-bde7-620010b12037/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/8100456c-88e7-4560-bde7-620010b12037/enhanced_professional.pdf","session":"8100456c-88e7-4560-bde7-620010b12037","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8100456c-88e7-4560-bde7-620010b12037","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.346Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8100456c-88e7-4560-bde7-620010b12037","jobId":"c27c2bbe-3860-4027-9135-703cd2893a5e","generationRunId":"8100456c-88e7-4560-bde7-620010b12037","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/8100456c-88e7-4560-bde7-620010b12037/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"8100456c-88e7-4560-bde7-620010b12037","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8100456c-88e7-4560-bde7-620010b12037","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.347Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8100456c-88e7-4560-bde7-620010b12037","jobId":"c27c2bbe-3860-4027-9135-703cd2893a5e","generationRunId":"8100456c-88e7-4560-bde7-620010b12037","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/8100456c-88e7-4560-bde7-620010b12037/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/8100456c-88e7-4560-bde7-620010b12037/enhanced_professional.pdf","session":"8100456c-88e7-4560-bde7-620010b12037","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8100456c-88e7-4560-bde7-620010b12037","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.347Z","level":"info","message":"pdf_generation_attempt","requestId":"8100456c-88e7-4560-bde7-620010b12037","jobId":"c27c2bbe-3860-4027-9135-703cd2893a5e","generationRunId":"8100456c-88e7-4560-bde7-620010b12037","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/8100456c-88e7-4560-bde7-620010b12037/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/8100456c-88e7-4560-bde7-620010b12037/cover_letter_cover_modern.pdf","session":"8100456c-88e7-4560-bde7-620010b12037","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8100456c-88e7-4560-bde7-620010b12037","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.348Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8100456c-88e7-4560-bde7-620010b12037","jobId":"c27c2bbe-3860-4027-9135-703cd2893a5e","generationRunId":"8100456c-88e7-4560-bde7-620010b12037","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/8100456c-88e7-4560-bde7-620010b12037/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"8100456c-88e7-4560-bde7-620010b12037","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8100456c-88e7-4560-bde7-620010b12037","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.348Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8100456c-88e7-4560-bde7-620010b12037","jobId":"c27c2bbe-3860-4027-9135-703cd2893a5e","generationRunId":"8100456c-88e7-4560-bde7-620010b12037","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/8100456c-88e7-4560-bde7-620010b12037/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/8100456c-88e7-4560-bde7-620010b12037/cover_letter_cover_modern.pdf","session":"8100456c-88e7-4560-bde7-620010b12037","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8100456c-88e7-4560-bde7-620010b12037","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.349Z","level":"info","message":"pdf_generation_attempt","requestId":"8100456c-88e7-4560-bde7-620010b12037","jobId":"c27c2bbe-3860-4027-9135-703cd2893a5e","generationRunId":"8100456c-88e7-4560-bde7-620010b12037","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/8100456c-88e7-4560-bde7-620010b12037/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/8100456c-88e7-4560-bde7-620010b12037/cover_letter_cover_professional.pdf","session":"8100456c-88e7-4560-bde7-620010b12037","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8100456c-88e7-4560-bde7-620010b12037","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.349Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8100456c-88e7-4560-bde7-620010b12037","jobId":"c27c2bbe-3860-4027-9135-703cd2893a5e","generationRunId":"8100456c-88e7-4560-bde7-620010b12037","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/8100456c-88e7-4560-bde7-620010b12037/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"8100456c-88e7-4560-bde7-620010b12037","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8100456c-88e7-4560-bde7-620010b12037","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.350Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8100456c-88e7-4560-bde7-620010b12037","jobId":"c27c2bbe-3860-4027-9135-703cd2893a5e","generationRunId":"8100456c-88e7-4560-bde7-620010b12037","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/8100456c-88e7-4560-bde7-620010b12037/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/8100456c-88e7-4560-bde7-620010b12037/cover_letter_cover_professional.pdf","session":"8100456c-88e7-4560-bde7-620010b12037","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8100456c-88e7-4560-bde7-620010b12037","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.352Z","level":"info","message":"llm_call_metrics","requestId":"8100456c-88e7-4560-bde7-620010b12037","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"f00232cc4d88fb824e148aeaa761067d77604cbc2577582275a91ed208cbe5af","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"8100456c-88e7-4560-bde7-620010b12037","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"8100456c-88e7-4560-bde7-620010b12037","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.352Z","level":"info","message":"generation_completed","requestId":"8100456c-88e7-4560-bde7-620010b12037","jobId":"c27c2bbe-3860-4027-9135-703cd2893a5e","generationRunId":"8100456c-88e7-4560-bde7-620010b12037","enhancedScore":80,"outputs":5,"template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.354Z","level":"info","message":"placeholder_record_deleted","requestId":"8100456c-88e7-4560-bde7-620010b12037","jobId":"c27c2bbe-3860-4027-9135-703cd2893a5e","placeholderIdentifier":"8100456c-88e7-4560-bde7-620010b12037","template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c27c2bbe-3860-4027-9135-703cd2893a5e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.355Z","level":"info","message":"http_request_completed","requestId":"8100456c-88e7-4560-bde7-620010b12037","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":52,"contentLength":"59302","template":"unknown","session":"8100456c-88e7-4560-bde7-620010b12037","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8100456c-88e7-4560-bde7-620010b12037","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.358Z","level":"info","message":"http_request_received","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","method":"POST","path":"/api/process-cv","template":"unknown","session":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.359Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.360Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.362Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.363Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.365Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/933c1e9a-a9c0-4acb-a74c-9c77e019b931/incoming/original.pdf","chunks":1,"timestamp":1764855909367}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/933c1e9a-a9c0-4acb-a74c-9c77e019b931/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/933c1e9a-a9c0-4acb-a74c-9c77e019b931/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:45:09.368Z","level":"info","message":"process_cv_started","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","jobId":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","manualJobDescriptionProvided":true,"template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.369Z","level":"info","message":"template_selection","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","jobId":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:09.369Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","jobId":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:45:09.376Z","level":"info","message":"initial_upload_completed","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","jobId":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","bucket":"test-bucket","key":"cv/candidate/933c1e9a-a9c0-4acb-a74c-9c77e019b931/incoming/original.pdf","template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.376Z","level":"info","message":"resume_text_extracted","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","jobId":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","characters":57,"template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.376Z","level":"info","message":"resume_classified","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","jobId":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.377Z","level":"info","message":"raw_upload_relocated","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","jobId":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","bucket":"test-bucket","fromKey":"cv/candidate/933c1e9a-a9c0-4acb-a74c-9c77e019b931/incoming/original.pdf","toKey":"cv/professional_summary/933c1e9a-a9c0-4acb-a74c-9c77e019b931/original.pdf","template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.377Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","jobId":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","bucket":"test-bucket","key":"cv/professional_summary/933c1e9a-a9c0-4acb-a74c-9c77e019b931/original.pdf","template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.377Z","level":"info","message":"dynamo_initial_record_written","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","jobId":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","bucket":"test-bucket","key":"cv/professional_summary/933c1e9a-a9c0-4acb-a74c-9c77e019b931/original.pdf","template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.378Z","level":"info","message":"upload_metadata_written","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","jobId":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","bucket":"test-bucket","key":"cv/professional_summary/933c1e9a-a9c0-4acb-a74c-9c77e019b931/logs/log.json","template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.378Z","level":"info","message":"job_description_supplied_manually","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","jobId":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","characters":174,"template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.378Z","level":"info","message":"job_description_analyzed","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","jobId":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","jobTitle":"","jobSkills":5,"template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.379Z","level":"info","message":"resume_skills_analyzed","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","jobId":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.379Z","level":"info","message":"llm_call_metrics","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.380Z","level":"info","message":"process_cv_scoring_completed","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","jobId":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.382Z","level":"info","message":"llm_call_metrics","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"c32b748981f4e178814e257598e9097dabf82d48f753e111da0149a2ea5fd9aa","addedSkillCount":0,"template":"resume_rewrite","session":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.383Z","level":"info","message":"generation_section_rewrite_completed","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","jobId":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","generationRunId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","modifiedTitle":"Name","addedSkills":0,"template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.383Z","level":"info","message":"llm_call_metrics","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"968eb1ed4b9ef5f26cd87ba7e60f108acaf8c335efc2ef153d4aaa0b022ea8c8","skillCount":5,"template":"project_summary","session":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.385Z","level":"info","message":"generation_resume_verified","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","jobId":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","generationRunId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:09.390Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","jobId":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","generationRunId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:09.395Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","jobId":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","generationRunId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:09.401Z","level":"info","message":"generation_cover_letters_completed","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","jobId":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","generationRunId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","variants":2,"fallbackApplied":true,"template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.401Z","level":"info","message":"pdf_generation_attempt","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","jobId":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","generationRunId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/933c1e9a-a9c0-4acb-a74c-9c77e019b931/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/933c1e9a-a9c0-4acb-a74c-9c77e019b931/enhanced_modern.pdf","session":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.402Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","jobId":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","generationRunId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/933c1e9a-a9c0-4acb-a74c-9c77e019b931/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.402Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","jobId":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","generationRunId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/933c1e9a-a9c0-4acb-a74c-9c77e019b931/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/933c1e9a-a9c0-4acb-a74c-9c77e019b931/enhanced_modern.pdf","session":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.403Z","level":"info","message":"pdf_generation_attempt","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","jobId":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","generationRunId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/933c1e9a-a9c0-4acb-a74c-9c77e019b931/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/933c1e9a-a9c0-4acb-a74c-9c77e019b931/enhanced_professional.pdf","session":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.403Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","jobId":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","generationRunId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/933c1e9a-a9c0-4acb-a74c-9c77e019b931/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.404Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","jobId":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","generationRunId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/933c1e9a-a9c0-4acb-a74c-9c77e019b931/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/933c1e9a-a9c0-4acb-a74c-9c77e019b931/enhanced_professional.pdf","session":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.404Z","level":"info","message":"pdf_generation_attempt","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","jobId":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","generationRunId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/933c1e9a-a9c0-4acb-a74c-9c77e019b931/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/933c1e9a-a9c0-4acb-a74c-9c77e019b931/cover_letter_cover_modern.pdf","session":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.404Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","jobId":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","generationRunId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/933c1e9a-a9c0-4acb-a74c-9c77e019b931/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.405Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","jobId":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","generationRunId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/933c1e9a-a9c0-4acb-a74c-9c77e019b931/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/933c1e9a-a9c0-4acb-a74c-9c77e019b931/cover_letter_cover_modern.pdf","session":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.405Z","level":"info","message":"pdf_generation_attempt","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","jobId":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","generationRunId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/933c1e9a-a9c0-4acb-a74c-9c77e019b931/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/933c1e9a-a9c0-4acb-a74c-9c77e019b931/cover_letter_cover_professional.pdf","session":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.406Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","jobId":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","generationRunId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/933c1e9a-a9c0-4acb-a74c-9c77e019b931/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.406Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","jobId":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","generationRunId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/933c1e9a-a9c0-4acb-a74c-9c77e019b931/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/933c1e9a-a9c0-4acb-a74c-9c77e019b931/cover_letter_cover_professional.pdf","session":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.408Z","level":"info","message":"llm_call_metrics","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"f00232cc4d88fb824e148aeaa761067d77604cbc2577582275a91ed208cbe5af","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.409Z","level":"info","message":"generation_completed","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","jobId":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","generationRunId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","enhancedScore":80,"outputs":5,"template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.410Z","level":"info","message":"placeholder_record_deleted","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","jobId":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","placeholderIdentifier":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4d4d6aa4-df97-41eb-84b2-f744c25c763b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.411Z","level":"info","message":"http_request_completed","requestId":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":53,"contentLength":"59835","template":"unknown","session":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"933c1e9a-a9c0-4acb-a74c-9c77e019b931","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.415Z","level":"info","message":"http_request_received","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","method":"POST","path":"/api/process-cv","template":"unknown","session":"f1289709-d822-436f-a910-0df5e39bcbd7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1289709-d822-436f-a910-0df5e39bcbd7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.416Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.417Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.418Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.420Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.421Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/f1289709-d822-436f-a910-0df5e39bcbd7/incoming/original.pdf","chunks":1,"timestamp":1764855909423}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/f1289709-d822-436f-a910-0df5e39bcbd7/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/f1289709-d822-436f-a910-0df5e39bcbd7/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:45:09.424Z","level":"info","message":"process_cv_started","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","jobId":"3a4ceb29-0d6d-4432-8888-111c62247b7a","manualJobDescriptionProvided":true,"template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.425Z","level":"info","message":"template_selection","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","jobId":"3a4ceb29-0d6d-4432-8888-111c62247b7a","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:09.426Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","jobId":"3a4ceb29-0d6d-4432-8888-111c62247b7a","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:45:09.431Z","level":"info","message":"initial_upload_completed","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","jobId":"3a4ceb29-0d6d-4432-8888-111c62247b7a","bucket":"test-bucket","key":"cv/candidate/f1289709-d822-436f-a910-0df5e39bcbd7/incoming/original.pdf","template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.432Z","level":"info","message":"resume_text_extracted","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","jobId":"3a4ceb29-0d6d-4432-8888-111c62247b7a","characters":57,"template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.432Z","level":"info","message":"resume_classified","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","jobId":"3a4ceb29-0d6d-4432-8888-111c62247b7a","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.432Z","level":"info","message":"raw_upload_relocated","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","jobId":"3a4ceb29-0d6d-4432-8888-111c62247b7a","bucket":"test-bucket","fromKey":"cv/candidate/f1289709-d822-436f-a910-0df5e39bcbd7/incoming/original.pdf","toKey":"cv/professional_summary/f1289709-d822-436f-a910-0df5e39bcbd7/original.pdf","template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.433Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","jobId":"3a4ceb29-0d6d-4432-8888-111c62247b7a","bucket":"test-bucket","key":"cv/professional_summary/f1289709-d822-436f-a910-0df5e39bcbd7/original.pdf","template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.433Z","level":"info","message":"dynamo_initial_record_written","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","jobId":"3a4ceb29-0d6d-4432-8888-111c62247b7a","bucket":"test-bucket","key":"cv/professional_summary/f1289709-d822-436f-a910-0df5e39bcbd7/original.pdf","template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.433Z","level":"info","message":"upload_metadata_written","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","jobId":"3a4ceb29-0d6d-4432-8888-111c62247b7a","bucket":"test-bucket","key":"cv/professional_summary/f1289709-d822-436f-a910-0df5e39bcbd7/logs/log.json","template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.433Z","level":"info","message":"job_description_supplied_manually","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","jobId":"3a4ceb29-0d6d-4432-8888-111c62247b7a","characters":174,"template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.434Z","level":"info","message":"job_description_analyzed","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","jobId":"3a4ceb29-0d6d-4432-8888-111c62247b7a","jobTitle":"","jobSkills":5,"template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.434Z","level":"info","message":"resume_skills_analyzed","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","jobId":"3a4ceb29-0d6d-4432-8888-111c62247b7a","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.435Z","level":"info","message":"llm_call_metrics","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"f1289709-d822-436f-a910-0df5e39bcbd7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f1289709-d822-436f-a910-0df5e39bcbd7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.435Z","level":"info","message":"process_cv_scoring_completed","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","jobId":"3a4ceb29-0d6d-4432-8888-111c62247b7a","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.438Z","level":"info","message":"llm_call_metrics","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"f1289709-d822-436f-a910-0df5e39bcbd7","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"f1289709-d822-436f-a910-0df5e39bcbd7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.438Z","level":"info","message":"generation_section_rewrite_completed","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","jobId":"3a4ceb29-0d6d-4432-8888-111c62247b7a","generationRunId":"f1289709-d822-436f-a910-0df5e39bcbd7","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.438Z","level":"info","message":"llm_call_metrics","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"f1289709-d822-436f-a910-0df5e39bcbd7","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"f1289709-d822-436f-a910-0df5e39bcbd7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.441Z","level":"info","message":"generation_resume_verified","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","jobId":"3a4ceb29-0d6d-4432-8888-111c62247b7a","generationRunId":"f1289709-d822-436f-a910-0df5e39bcbd7","template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:09.443Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","jobId":"3a4ceb29-0d6d-4432-8888-111c62247b7a","generationRunId":"f1289709-d822-436f-a910-0df5e39bcbd7","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:09.449Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","jobId":"3a4ceb29-0d6d-4432-8888-111c62247b7a","generationRunId":"f1289709-d822-436f-a910-0df5e39bcbd7","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:09.455Z","level":"info","message":"generation_cover_letters_completed","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","jobId":"3a4ceb29-0d6d-4432-8888-111c62247b7a","generationRunId":"f1289709-d822-436f-a910-0df5e39bcbd7","variants":2,"fallbackApplied":true,"template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.456Z","level":"info","message":"pdf_generation_attempt","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","jobId":"3a4ceb29-0d6d-4432-8888-111c62247b7a","generationRunId":"f1289709-d822-436f-a910-0df5e39bcbd7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f1289709-d822-436f-a910-0df5e39bcbd7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f1289709-d822-436f-a910-0df5e39bcbd7/enhanced_modern.pdf","session":"f1289709-d822-436f-a910-0df5e39bcbd7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f1289709-d822-436f-a910-0df5e39bcbd7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.457Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","jobId":"3a4ceb29-0d6d-4432-8888-111c62247b7a","generationRunId":"f1289709-d822-436f-a910-0df5e39bcbd7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f1289709-d822-436f-a910-0df5e39bcbd7/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f1289709-d822-436f-a910-0df5e39bcbd7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f1289709-d822-436f-a910-0df5e39bcbd7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.457Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","jobId":"3a4ceb29-0d6d-4432-8888-111c62247b7a","generationRunId":"f1289709-d822-436f-a910-0df5e39bcbd7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f1289709-d822-436f-a910-0df5e39bcbd7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f1289709-d822-436f-a910-0df5e39bcbd7/enhanced_modern.pdf","session":"f1289709-d822-436f-a910-0df5e39bcbd7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f1289709-d822-436f-a910-0df5e39bcbd7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.458Z","level":"info","message":"pdf_generation_attempt","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","jobId":"3a4ceb29-0d6d-4432-8888-111c62247b7a","generationRunId":"f1289709-d822-436f-a910-0df5e39bcbd7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f1289709-d822-436f-a910-0df5e39bcbd7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f1289709-d822-436f-a910-0df5e39bcbd7/enhanced_professional.pdf","session":"f1289709-d822-436f-a910-0df5e39bcbd7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f1289709-d822-436f-a910-0df5e39bcbd7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.458Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","jobId":"3a4ceb29-0d6d-4432-8888-111c62247b7a","generationRunId":"f1289709-d822-436f-a910-0df5e39bcbd7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f1289709-d822-436f-a910-0df5e39bcbd7/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f1289709-d822-436f-a910-0df5e39bcbd7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f1289709-d822-436f-a910-0df5e39bcbd7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.460Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","jobId":"3a4ceb29-0d6d-4432-8888-111c62247b7a","generationRunId":"f1289709-d822-436f-a910-0df5e39bcbd7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f1289709-d822-436f-a910-0df5e39bcbd7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f1289709-d822-436f-a910-0df5e39bcbd7/enhanced_professional.pdf","session":"f1289709-d822-436f-a910-0df5e39bcbd7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f1289709-d822-436f-a910-0df5e39bcbd7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.460Z","level":"info","message":"pdf_generation_attempt","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","jobId":"3a4ceb29-0d6d-4432-8888-111c62247b7a","generationRunId":"f1289709-d822-436f-a910-0df5e39bcbd7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f1289709-d822-436f-a910-0df5e39bcbd7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f1289709-d822-436f-a910-0df5e39bcbd7/cover_letter_cover_modern.pdf","session":"f1289709-d822-436f-a910-0df5e39bcbd7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f1289709-d822-436f-a910-0df5e39bcbd7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.460Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","jobId":"3a4ceb29-0d6d-4432-8888-111c62247b7a","generationRunId":"f1289709-d822-436f-a910-0df5e39bcbd7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f1289709-d822-436f-a910-0df5e39bcbd7/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f1289709-d822-436f-a910-0df5e39bcbd7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f1289709-d822-436f-a910-0df5e39bcbd7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.461Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","jobId":"3a4ceb29-0d6d-4432-8888-111c62247b7a","generationRunId":"f1289709-d822-436f-a910-0df5e39bcbd7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f1289709-d822-436f-a910-0df5e39bcbd7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f1289709-d822-436f-a910-0df5e39bcbd7/cover_letter_cover_modern.pdf","session":"f1289709-d822-436f-a910-0df5e39bcbd7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f1289709-d822-436f-a910-0df5e39bcbd7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.462Z","level":"info","message":"pdf_generation_attempt","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","jobId":"3a4ceb29-0d6d-4432-8888-111c62247b7a","generationRunId":"f1289709-d822-436f-a910-0df5e39bcbd7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f1289709-d822-436f-a910-0df5e39bcbd7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f1289709-d822-436f-a910-0df5e39bcbd7/cover_letter_cover_professional.pdf","session":"f1289709-d822-436f-a910-0df5e39bcbd7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f1289709-d822-436f-a910-0df5e39bcbd7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.462Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","jobId":"3a4ceb29-0d6d-4432-8888-111c62247b7a","generationRunId":"f1289709-d822-436f-a910-0df5e39bcbd7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f1289709-d822-436f-a910-0df5e39bcbd7/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f1289709-d822-436f-a910-0df5e39bcbd7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f1289709-d822-436f-a910-0df5e39bcbd7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.463Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","jobId":"3a4ceb29-0d6d-4432-8888-111c62247b7a","generationRunId":"f1289709-d822-436f-a910-0df5e39bcbd7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f1289709-d822-436f-a910-0df5e39bcbd7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f1289709-d822-436f-a910-0df5e39bcbd7/cover_letter_cover_professional.pdf","session":"f1289709-d822-436f-a910-0df5e39bcbd7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f1289709-d822-436f-a910-0df5e39bcbd7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.465Z","level":"info","message":"llm_call_metrics","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"f1289709-d822-436f-a910-0df5e39bcbd7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f1289709-d822-436f-a910-0df5e39bcbd7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.466Z","level":"info","message":"generation_completed","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","jobId":"3a4ceb29-0d6d-4432-8888-111c62247b7a","generationRunId":"f1289709-d822-436f-a910-0df5e39bcbd7","enhancedScore":80,"outputs":5,"template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.467Z","level":"info","message":"placeholder_record_deleted","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","jobId":"3a4ceb29-0d6d-4432-8888-111c62247b7a","placeholderIdentifier":"f1289709-d822-436f-a910-0df5e39bcbd7","template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3a4ceb29-0d6d-4432-8888-111c62247b7a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.468Z","level":"info","message":"http_request_completed","requestId":"f1289709-d822-436f-a910-0df5e39bcbd7","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":53,"contentLength":"58133","template":"unknown","session":"f1289709-d822-436f-a910-0df5e39bcbd7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1289709-d822-436f-a910-0df5e39bcbd7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.470Z","level":"info","message":"http_request_received","requestId":"def43180-976b-4720-9187-a5729bdfb082","method":"POST","path":"/api/process-cv","template":"unknown","session":"def43180-976b-4720-9187-a5729bdfb082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"def43180-976b-4720-9187-a5729bdfb082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.471Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.473Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.474Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.475Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.477Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/def43180-976b-4720-9187-a5729bdfb082/incoming/original.pdf","chunks":1,"timestamp":1764855909479}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/def43180-976b-4720-9187-a5729bdfb082/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/def43180-976b-4720-9187-a5729bdfb082/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:45:09.480Z","level":"info","message":"process_cv_started","requestId":"def43180-976b-4720-9187-a5729bdfb082","jobId":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","manualJobDescriptionProvided":true,"template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.481Z","level":"info","message":"template_selection","requestId":"def43180-976b-4720-9187-a5729bdfb082","jobId":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:09.481Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"def43180-976b-4720-9187-a5729bdfb082","jobId":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:45:09.487Z","level":"info","message":"initial_upload_completed","requestId":"def43180-976b-4720-9187-a5729bdfb082","jobId":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","bucket":"test-bucket","key":"cv/candidate/def43180-976b-4720-9187-a5729bdfb082/incoming/original.pdf","template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.487Z","level":"info","message":"resume_text_extracted","requestId":"def43180-976b-4720-9187-a5729bdfb082","jobId":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","characters":57,"template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.487Z","level":"info","message":"resume_classified","requestId":"def43180-976b-4720-9187-a5729bdfb082","jobId":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.488Z","level":"info","message":"raw_upload_relocated","requestId":"def43180-976b-4720-9187-a5729bdfb082","jobId":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","bucket":"test-bucket","fromKey":"cv/candidate/def43180-976b-4720-9187-a5729bdfb082/incoming/original.pdf","toKey":"cv/professional_summary/def43180-976b-4720-9187-a5729bdfb082/original.pdf","template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.488Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"def43180-976b-4720-9187-a5729bdfb082","jobId":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","bucket":"test-bucket","key":"cv/professional_summary/def43180-976b-4720-9187-a5729bdfb082/original.pdf","template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.488Z","level":"info","message":"dynamo_initial_record_written","requestId":"def43180-976b-4720-9187-a5729bdfb082","jobId":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","bucket":"test-bucket","key":"cv/professional_summary/def43180-976b-4720-9187-a5729bdfb082/original.pdf","template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.489Z","level":"info","message":"upload_metadata_written","requestId":"def43180-976b-4720-9187-a5729bdfb082","jobId":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","bucket":"test-bucket","key":"cv/professional_summary/def43180-976b-4720-9187-a5729bdfb082/logs/log.json","template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.490Z","level":"info","message":"job_description_supplied_manually","requestId":"def43180-976b-4720-9187-a5729bdfb082","jobId":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","characters":174,"template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.490Z","level":"info","message":"job_description_analyzed","requestId":"def43180-976b-4720-9187-a5729bdfb082","jobId":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","jobTitle":"","jobSkills":5,"template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.491Z","level":"info","message":"resume_skills_analyzed","requestId":"def43180-976b-4720-9187-a5729bdfb082","jobId":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.491Z","level":"info","message":"llm_call_metrics","requestId":"def43180-976b-4720-9187-a5729bdfb082","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"def43180-976b-4720-9187-a5729bdfb082","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"def43180-976b-4720-9187-a5729bdfb082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.492Z","level":"info","message":"process_cv_scoring_completed","requestId":"def43180-976b-4720-9187-a5729bdfb082","jobId":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.494Z","level":"info","message":"llm_call_metrics","requestId":"def43180-976b-4720-9187-a5729bdfb082","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"9a6d2d1a9ce924151b6a4db0f761d85550b399b0c2990ac5bc2d2ac9b952bd0d","addedSkillCount":0,"template":"resume_rewrite","session":"def43180-976b-4720-9187-a5729bdfb082","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"def43180-976b-4720-9187-a5729bdfb082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.494Z","level":"info","message":"generation_section_rewrite_completed","requestId":"def43180-976b-4720-9187-a5729bdfb082","jobId":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","generationRunId":"def43180-976b-4720-9187-a5729bdfb082","modifiedTitle":"Lead Engineer","addedSkills":0,"template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.498Z","level":"info","message":"generation_resume_verified","requestId":"def43180-976b-4720-9187-a5729bdfb082","jobId":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","generationRunId":"def43180-976b-4720-9187-a5729bdfb082","template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.500Z","level":"info","message":"generation_cover_letters_normalized","requestId":"def43180-976b-4720-9187-a5729bdfb082","jobId":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","generationRunId":"def43180-976b-4720-9187-a5729bdfb082","variants":["cover_letter1","cover_letter2"],"template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:09.501Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"def43180-976b-4720-9187-a5729bdfb082","jobId":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","generationRunId":"def43180-976b-4720-9187-a5729bdfb082","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing"]}],"template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:09.507Z","level":"info","message":"generation_cover_letters_confident_closing_applied","requestId":"def43180-976b-4720-9187-a5729bdfb082","jobId":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","generationRunId":"def43180-976b-4720-9187-a5729bdfb082","variants":["cover_letter1"],"template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.507Z","level":"info","message":"generation_cover_letters_completed","requestId":"def43180-976b-4720-9187-a5729bdfb082","jobId":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","generationRunId":"def43180-976b-4720-9187-a5729bdfb082","variants":2,"fallbackApplied":true,"template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.508Z","level":"info","message":"pdf_generation_attempt","requestId":"def43180-976b-4720-9187-a5729bdfb082","jobId":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","generationRunId":"def43180-976b-4720-9187-a5729bdfb082","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/def43180-976b-4720-9187-a5729bdfb082/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/def43180-976b-4720-9187-a5729bdfb082/enhanced_modern.pdf","session":"def43180-976b-4720-9187-a5729bdfb082","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"def43180-976b-4720-9187-a5729bdfb082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.508Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"def43180-976b-4720-9187-a5729bdfb082","jobId":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","generationRunId":"def43180-976b-4720-9187-a5729bdfb082","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/def43180-976b-4720-9187-a5729bdfb082/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"def43180-976b-4720-9187-a5729bdfb082","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"def43180-976b-4720-9187-a5729bdfb082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.509Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"def43180-976b-4720-9187-a5729bdfb082","jobId":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","generationRunId":"def43180-976b-4720-9187-a5729bdfb082","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/def43180-976b-4720-9187-a5729bdfb082/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/def43180-976b-4720-9187-a5729bdfb082/enhanced_modern.pdf","session":"def43180-976b-4720-9187-a5729bdfb082","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"def43180-976b-4720-9187-a5729bdfb082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.509Z","level":"info","message":"pdf_generation_attempt","requestId":"def43180-976b-4720-9187-a5729bdfb082","jobId":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","generationRunId":"def43180-976b-4720-9187-a5729bdfb082","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/def43180-976b-4720-9187-a5729bdfb082/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/def43180-976b-4720-9187-a5729bdfb082/enhanced_professional.pdf","session":"def43180-976b-4720-9187-a5729bdfb082","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"def43180-976b-4720-9187-a5729bdfb082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.509Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"def43180-976b-4720-9187-a5729bdfb082","jobId":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","generationRunId":"def43180-976b-4720-9187-a5729bdfb082","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/def43180-976b-4720-9187-a5729bdfb082/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"def43180-976b-4720-9187-a5729bdfb082","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"def43180-976b-4720-9187-a5729bdfb082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.510Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"def43180-976b-4720-9187-a5729bdfb082","jobId":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","generationRunId":"def43180-976b-4720-9187-a5729bdfb082","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/def43180-976b-4720-9187-a5729bdfb082/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/def43180-976b-4720-9187-a5729bdfb082/enhanced_professional.pdf","session":"def43180-976b-4720-9187-a5729bdfb082","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"def43180-976b-4720-9187-a5729bdfb082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.510Z","level":"info","message":"pdf_generation_attempt","requestId":"def43180-976b-4720-9187-a5729bdfb082","jobId":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","generationRunId":"def43180-976b-4720-9187-a5729bdfb082","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/def43180-976b-4720-9187-a5729bdfb082/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/def43180-976b-4720-9187-a5729bdfb082/cover_letter_cover_modern.pdf","session":"def43180-976b-4720-9187-a5729bdfb082","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"def43180-976b-4720-9187-a5729bdfb082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.511Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"def43180-976b-4720-9187-a5729bdfb082","jobId":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","generationRunId":"def43180-976b-4720-9187-a5729bdfb082","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/def43180-976b-4720-9187-a5729bdfb082/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"def43180-976b-4720-9187-a5729bdfb082","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"def43180-976b-4720-9187-a5729bdfb082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.511Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"def43180-976b-4720-9187-a5729bdfb082","jobId":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","generationRunId":"def43180-976b-4720-9187-a5729bdfb082","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/def43180-976b-4720-9187-a5729bdfb082/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/def43180-976b-4720-9187-a5729bdfb082/cover_letter_cover_modern.pdf","session":"def43180-976b-4720-9187-a5729bdfb082","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"def43180-976b-4720-9187-a5729bdfb082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.512Z","level":"info","message":"pdf_generation_attempt","requestId":"def43180-976b-4720-9187-a5729bdfb082","jobId":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","generationRunId":"def43180-976b-4720-9187-a5729bdfb082","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/def43180-976b-4720-9187-a5729bdfb082/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/def43180-976b-4720-9187-a5729bdfb082/cover_letter_cover_professional.pdf","session":"def43180-976b-4720-9187-a5729bdfb082","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"def43180-976b-4720-9187-a5729bdfb082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.512Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"def43180-976b-4720-9187-a5729bdfb082","jobId":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","generationRunId":"def43180-976b-4720-9187-a5729bdfb082","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/def43180-976b-4720-9187-a5729bdfb082/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"def43180-976b-4720-9187-a5729bdfb082","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"def43180-976b-4720-9187-a5729bdfb082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.512Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"def43180-976b-4720-9187-a5729bdfb082","jobId":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","generationRunId":"def43180-976b-4720-9187-a5729bdfb082","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/def43180-976b-4720-9187-a5729bdfb082/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/def43180-976b-4720-9187-a5729bdfb082/cover_letter_cover_professional.pdf","session":"def43180-976b-4720-9187-a5729bdfb082","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"def43180-976b-4720-9187-a5729bdfb082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.514Z","level":"info","message":"llm_call_metrics","requestId":"def43180-976b-4720-9187-a5729bdfb082","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"aebf306d7fe64238aa9b05fc3798c6e6698d8708e05d8dd31d0cadc8f2f74f38","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"def43180-976b-4720-9187-a5729bdfb082","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"def43180-976b-4720-9187-a5729bdfb082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.514Z","level":"info","message":"generation_completed","requestId":"def43180-976b-4720-9187-a5729bdfb082","jobId":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","generationRunId":"def43180-976b-4720-9187-a5729bdfb082","enhancedScore":80,"outputs":5,"template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.515Z","level":"info","message":"placeholder_record_deleted","requestId":"def43180-976b-4720-9187-a5729bdfb082","jobId":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","placeholderIdentifier":"def43180-976b-4720-9187-a5729bdfb082","template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f76985e0-5ea5-4a7c-9ff1-947cdf008183","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.516Z","level":"info","message":"http_request_completed","requestId":"def43180-976b-4720-9187-a5729bdfb082","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":46,"contentLength":"46262","template":"unknown","session":"def43180-976b-4720-9187-a5729bdfb082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"def43180-976b-4720-9187-a5729bdfb082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.520Z","level":"info","message":"http_request_received","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","method":"POST","path":"/api/process-cv","template":"unknown","session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.521Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.522Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.523Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.525Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.526Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf/incoming/original.pdf","chunks":1,"timestamp":1764855909528}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:45:09.530Z","level":"info","message":"process_cv_started","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","jobId":"6fce450c-116e-4270-a0c2-f065050464ac","manualJobDescriptionProvided":true,"template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.530Z","level":"info","message":"template_selection","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","jobId":"6fce450c-116e-4270-a0c2-f065050464ac","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:09.530Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","jobId":"6fce450c-116e-4270-a0c2-f065050464ac","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:45:09.538Z","level":"info","message":"initial_upload_completed","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","jobId":"6fce450c-116e-4270-a0c2-f065050464ac","bucket":"test-bucket","key":"cv/candidate/f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf/incoming/original.pdf","template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.538Z","level":"info","message":"resume_text_extracted","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","jobId":"6fce450c-116e-4270-a0c2-f065050464ac","characters":57,"template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.539Z","level":"info","message":"resume_classified","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","jobId":"6fce450c-116e-4270-a0c2-f065050464ac","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.539Z","level":"info","message":"raw_upload_relocated","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","jobId":"6fce450c-116e-4270-a0c2-f065050464ac","bucket":"test-bucket","fromKey":"cv/candidate/f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf/incoming/original.pdf","toKey":"cv/professional_summary/f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf/original.pdf","template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.539Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","jobId":"6fce450c-116e-4270-a0c2-f065050464ac","bucket":"test-bucket","key":"cv/professional_summary/f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf/original.pdf","template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.540Z","level":"info","message":"dynamo_initial_record_written","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","jobId":"6fce450c-116e-4270-a0c2-f065050464ac","bucket":"test-bucket","key":"cv/professional_summary/f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf/original.pdf","template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.540Z","level":"info","message":"upload_metadata_written","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","jobId":"6fce450c-116e-4270-a0c2-f065050464ac","bucket":"test-bucket","key":"cv/professional_summary/f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf/logs/log.json","template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.541Z","level":"info","message":"job_description_supplied_manually","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","jobId":"6fce450c-116e-4270-a0c2-f065050464ac","characters":174,"template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.541Z","level":"info","message":"job_description_analyzed","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","jobId":"6fce450c-116e-4270-a0c2-f065050464ac","jobTitle":"","jobSkills":5,"template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.542Z","level":"info","message":"resume_skills_analyzed","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","jobId":"6fce450c-116e-4270-a0c2-f065050464ac","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.543Z","level":"info","message":"llm_call_metrics","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.543Z","level":"info","message":"process_cv_scoring_completed","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","jobId":"6fce450c-116e-4270-a0c2-f065050464ac","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:45:09.545Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","sample":"Here is your revised resume text without JSON formatting.","template":"unknown","session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at Object.error (server.js:3476:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8532:20)
      at generateEnhancedDocumentsResponse (server.js:20173:26)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:09.551Z","level":"info","message":"llm_call_metrics","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.551Z","level":"info","message":"llm_call_metrics","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.551Z","level":"info","message":"generation_section_rewrite_completed","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","jobId":"6fce450c-116e-4270-a0c2-f065050464ac","generationRunId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.552Z","level":"info","message":"llm_call_metrics","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"d230fd9d3c6f4e6f7bb7c385f22b3a147a5c937619c1919bfb6f5e09096df674","skillCount":5,"template":"project_summary","session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:09.555Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","jobId":"6fce450c-116e-4270-a0c2-f065050464ac","generationRunId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:09.561Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","jobId":"6fce450c-116e-4270-a0c2-f065050464ac","generationRunId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:09.566Z","level":"info","message":"generation_cover_letters_completed","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","jobId":"6fce450c-116e-4270-a0c2-f065050464ac","generationRunId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","variants":2,"fallbackApplied":true,"template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.567Z","level":"info","message":"pdf_generation_attempt","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","jobId":"6fce450c-116e-4270-a0c2-f065050464ac","generationRunId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf/enhanced_modern.pdf","session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.568Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","jobId":"6fce450c-116e-4270-a0c2-f065050464ac","generationRunId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.568Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","jobId":"6fce450c-116e-4270-a0c2-f065050464ac","generationRunId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf/enhanced_modern.pdf","session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.569Z","level":"info","message":"pdf_generation_attempt","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","jobId":"6fce450c-116e-4270-a0c2-f065050464ac","generationRunId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf/enhanced_professional.pdf","session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.569Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","jobId":"6fce450c-116e-4270-a0c2-f065050464ac","generationRunId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.570Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","jobId":"6fce450c-116e-4270-a0c2-f065050464ac","generationRunId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf/enhanced_professional.pdf","session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.570Z","level":"info","message":"pdf_generation_attempt","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","jobId":"6fce450c-116e-4270-a0c2-f065050464ac","generationRunId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf/cover_letter_cover_modern.pdf","session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.571Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","jobId":"6fce450c-116e-4270-a0c2-f065050464ac","generationRunId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.571Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","jobId":"6fce450c-116e-4270-a0c2-f065050464ac","generationRunId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf/cover_letter_cover_modern.pdf","session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.572Z","level":"info","message":"pdf_generation_attempt","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","jobId":"6fce450c-116e-4270-a0c2-f065050464ac","generationRunId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf/cover_letter_cover_professional.pdf","session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.572Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","jobId":"6fce450c-116e-4270-a0c2-f065050464ac","generationRunId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.573Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","jobId":"6fce450c-116e-4270-a0c2-f065050464ac","generationRunId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf/cover_letter_cover_professional.pdf","session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.575Z","level":"info","message":"llm_call_metrics","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.576Z","level":"info","message":"generation_completed","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","jobId":"6fce450c-116e-4270-a0c2-f065050464ac","generationRunId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","enhancedScore":80,"outputs":5,"template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.577Z","level":"info","message":"placeholder_record_deleted","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","jobId":"6fce450c-116e-4270-a0c2-f065050464ac","placeholderIdentifier":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6fce450c-116e-4270-a0c2-f065050464ac","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.578Z","level":"info","message":"http_request_completed","requestId":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":58,"contentLength":"57871","template":"unknown","session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f06c41d0-cf8c-4a18-8ea1-6378adb1fbaf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.583Z","level":"info","message":"http_request_received","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","method":"POST","path":"/api/process-cv","template":"unknown","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.584Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.585Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.587Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.588Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.590Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/59acf215-37e4-4b8c-856c-2b07b4002661/incoming/original.pdf","chunks":1,"timestamp":1764855909592}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/59acf215-37e4-4b8c-856c-2b07b4002661/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/59acf215-37e4-4b8c-856c-2b07b4002661/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:45:09.593Z","level":"info","message":"process_cv_started","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","manualJobDescriptionProvided":true,"template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.594Z","level":"info","message":"template_selection","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:09.594Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:45:09.600Z","level":"info","message":"initial_upload_completed","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","bucket":"test-bucket","key":"cv/candidate/59acf215-37e4-4b8c-856c-2b07b4002661/incoming/original.pdf","template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.601Z","level":"info","message":"resume_text_extracted","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","characters":57,"template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.601Z","level":"info","message":"resume_classified","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.602Z","level":"info","message":"raw_upload_relocated","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","bucket":"test-bucket","fromKey":"cv/candidate/59acf215-37e4-4b8c-856c-2b07b4002661/incoming/original.pdf","toKey":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/original.pdf","template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.602Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","bucket":"test-bucket","key":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/original.pdf","template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.602Z","level":"info","message":"dynamo_initial_record_written","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","bucket":"test-bucket","key":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/original.pdf","template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.603Z","level":"info","message":"upload_metadata_written","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","bucket":"test-bucket","key":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/logs/log.json","template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.603Z","level":"info","message":"job_description_supplied_manually","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","characters":174,"template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.603Z","level":"info","message":"job_description_analyzed","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","jobTitle":"","jobSkills":5,"template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.604Z","level":"info","message":"resume_skills_analyzed","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.605Z","level":"info","message":"llm_call_metrics","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.605Z","level":"info","message":"process_cv_scoring_completed","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.608Z","level":"info","message":"llm_call_metrics","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.608Z","level":"info","message":"generation_section_rewrite_completed","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.609Z","level":"info","message":"llm_call_metrics","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.612Z","level":"info","message":"generation_resume_verified","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:09.615Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:09.621Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:09.628Z","level":"info","message":"generation_cover_letters_completed","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","variants":2,"fallbackApplied":true,"template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.629Z","level":"info","message":"pdf_generation_attempt","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/enhanced_modern.pdf","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.629Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:45:09.632Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"modern","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:09.637Z","level":"info","message":"pdf_generation_attempt","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"professional","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/enhanced_professional.pdf","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.638Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:45:09.639Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"professional","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/enhanced_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:09.644Z","level":"info","message":"pdf_generation_attempt","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"classic","attempt":3,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/enhanced_classic.pdf","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.645Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:45:09.645Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"classic","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/enhanced_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:09.651Z","level":"info","message":"pdf_generation_attempt","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"ats","attempt":4,"totalAttempts":5,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/enhanced_ats.pdf","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.651Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:45:09.652Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"ats","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/enhanced_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:09.658Z","level":"info","message":"pdf_generation_attempt","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"2025","attempt":5,"totalAttempts":5,"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/enhanced_2025.pdf","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.658Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:45:09.658Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"2025","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:09.664Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/enhanced_2025.pdf","forcedFallback":true,"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11152:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:09.672Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/enhanced_2025.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"2025","requestedTemplateId":"2025","engine":"pdf-lib","bytes":9,"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.673Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/enhanced_2025.pdf","bytes":9,"forcedFallback":true,"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.673Z","level":"info","message":"pdf_generation_attempt","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/enhanced_professional.pdf","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.674Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:45:09.674Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"professional","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/enhanced_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:09.681Z","level":"info","message":"pdf_generation_attempt","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"modern","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/enhanced_modern.pdf","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.682Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:45:09.682Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"modern","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:09.688Z","level":"info","message":"pdf_generation_attempt","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"2025","attempt":3,"totalAttempts":5,"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/enhanced_2025.pdf","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.688Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:45:09.689Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"2025","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:09.695Z","level":"info","message":"pdf_generation_attempt","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"classic","attempt":4,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/enhanced_classic.pdf","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.695Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:45:09.695Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"classic","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/enhanced_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:09.701Z","level":"info","message":"pdf_generation_attempt","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"ats","attempt":5,"totalAttempts":5,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/enhanced_ats.pdf","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.701Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:45:09.702Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"ats","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/enhanced_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:09.707Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/enhanced_ats.pdf","forcedFallback":true,"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11152:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:09.713Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/enhanced_ats.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"ats","requestedTemplateId":"ats","engine":"pdf-lib","bytes":9,"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.714Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/enhanced_ats.pdf","bytes":9,"forcedFallback":true,"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.714Z","level":"info","message":"pdf_generation_attempt","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/cover_letter_cover_modern.pdf","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.715Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:45:09.715Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:09.722Z","level":"info","message":"pdf_generation_attempt","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"cover_professional","attempt":2,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/cover_letter_cover_professional.pdf","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.723Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:45:09.723Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"cover_professional","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/cover_letter_cover_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:09.729Z","level":"info","message":"pdf_generation_attempt","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"cover_classic","attempt":3,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/cover_letter_cover_classic.pdf","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.729Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:45:09.729Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"cover_classic","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/cover_letter_cover_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:09.735Z","level":"info","message":"pdf_generation_attempt","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"cover_ats","attempt":4,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/cover_letter_cover_ats.pdf","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.735Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:45:09.736Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"cover_ats","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/cover_letter_cover_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:09.741Z","level":"info","message":"pdf_generation_attempt","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"cover_2025","attempt":5,"totalAttempts":5,"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/cover_letter_cover_2025.pdf","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.741Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"cover_2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:45:09.742Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"cover_2025","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/cover_letter_cover_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:09.747Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/cover_letter_cover_2025.pdf","forcedFallback":true,"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11152:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:09.753Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/cover_letter_cover_2025.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"cover_2025","requestedTemplateId":"cover_2025","engine":"pdf-lib","bytes":9,"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.753Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/cover_letter_cover_2025.pdf","bytes":9,"forcedFallback":true,"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.754Z","level":"info","message":"pdf_generation_attempt","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/cover_letter_cover_professional.pdf","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.754Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:45:09.755Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/cover_letter_cover_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:09.760Z","level":"info","message":"pdf_generation_attempt","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"cover_modern","attempt":2,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/cover_letter_cover_modern.pdf","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.760Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:45:09.761Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"cover_modern","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:09.768Z","level":"info","message":"pdf_generation_attempt","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"cover_2025","attempt":3,"totalAttempts":5,"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/cover_letter_cover_2025.pdf","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.768Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"cover_2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:45:09.769Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"cover_2025","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/cover_letter_cover_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:09.774Z","level":"info","message":"pdf_generation_attempt","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"cover_classic","attempt":4,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/cover_letter_cover_classic.pdf","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.775Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:45:09.775Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"cover_classic","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/cover_letter_cover_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:09.780Z","level":"info","message":"pdf_generation_attempt","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"cover_ats","attempt":5,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/cover_letter_cover_ats.pdf","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.781Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:45:09.781Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"cover_ats","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/cover_letter_cover_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:09.787Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/cover_letter_cover_ats.pdf","forcedFallback":true,"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11152:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:09.792Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/cover_letter_cover_ats.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"cover_ats","requestedTemplateId":"cover_ats","engine":"pdf-lib","bytes":9,"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.792Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/59acf215-37e4-4b8c-856c-2b07b4002661/cover_letter_cover_ats.pdf","bytes":9,"forcedFallback":true,"session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.794Z","level":"info","message":"llm_call_metrics","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.795Z","level":"info","message":"generation_completed","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","generationRunId":"59acf215-37e4-4b8c-856c-2b07b4002661","enhancedScore":80,"outputs":5,"template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.796Z","level":"info","message":"placeholder_record_deleted","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","jobId":"87429942-724f-4041-bc86-edbec5ff7338","placeholderIdentifier":"59acf215-37e4-4b8c-856c-2b07b4002661","template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87429942-724f-4041-bc86-edbec5ff7338","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.797Z","level":"info","message":"http_request_completed","requestId":"59acf215-37e4-4b8c-856c-2b07b4002661","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":214,"contentLength":"60620","template":"unknown","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59acf215-37e4-4b8c-856c-2b07b4002661","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.800Z","level":"info","message":"http_request_received","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","method":"POST","path":"/api/process-cv","template":"unknown","session":"e47db958-13ea-4a71-a317-d3e486fdb09d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e47db958-13ea-4a71-a317-d3e486fdb09d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.801Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.802Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.804Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.805Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.807Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/e47db958-13ea-4a71-a317-d3e486fdb09d/incoming/original.pdf","chunks":1,"timestamp":1764855909810}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/e47db958-13ea-4a71-a317-d3e486fdb09d/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/e47db958-13ea-4a71-a317-d3e486fdb09d/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:45:09.811Z","level":"info","message":"process_cv_started","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","jobId":"f1aa6a38-9009-4139-8dc7-262e192bacb2","manualJobDescriptionProvided":true,"template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.812Z","level":"info","message":"template_selection","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","jobId":"f1aa6a38-9009-4139-8dc7-262e192bacb2","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:09.812Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","jobId":"f1aa6a38-9009-4139-8dc7-262e192bacb2","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:45:09.818Z","level":"info","message":"initial_upload_completed","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","jobId":"f1aa6a38-9009-4139-8dc7-262e192bacb2","bucket":"test-bucket","key":"cv/candidate/e47db958-13ea-4a71-a317-d3e486fdb09d/incoming/original.pdf","template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.818Z","level":"info","message":"resume_text_extracted","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","jobId":"f1aa6a38-9009-4139-8dc7-262e192bacb2","characters":57,"template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.818Z","level":"info","message":"resume_classified","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","jobId":"f1aa6a38-9009-4139-8dc7-262e192bacb2","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.819Z","level":"info","message":"raw_upload_relocated","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","jobId":"f1aa6a38-9009-4139-8dc7-262e192bacb2","bucket":"test-bucket","fromKey":"cv/candidate/e47db958-13ea-4a71-a317-d3e486fdb09d/incoming/original.pdf","toKey":"cv/professional_summary/e47db958-13ea-4a71-a317-d3e486fdb09d/original.pdf","template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.819Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","jobId":"f1aa6a38-9009-4139-8dc7-262e192bacb2","bucket":"test-bucket","key":"cv/professional_summary/e47db958-13ea-4a71-a317-d3e486fdb09d/original.pdf","template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.819Z","level":"info","message":"dynamo_initial_record_written","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","jobId":"f1aa6a38-9009-4139-8dc7-262e192bacb2","bucket":"test-bucket","key":"cv/professional_summary/e47db958-13ea-4a71-a317-d3e486fdb09d/original.pdf","template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.820Z","level":"info","message":"upload_metadata_written","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","jobId":"f1aa6a38-9009-4139-8dc7-262e192bacb2","bucket":"test-bucket","key":"cv/professional_summary/e47db958-13ea-4a71-a317-d3e486fdb09d/logs/log.json","template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.820Z","level":"info","message":"job_description_supplied_manually","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","jobId":"f1aa6a38-9009-4139-8dc7-262e192bacb2","characters":174,"template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.820Z","level":"info","message":"job_description_analyzed","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","jobId":"f1aa6a38-9009-4139-8dc7-262e192bacb2","jobTitle":"","jobSkills":5,"template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.821Z","level":"info","message":"resume_skills_analyzed","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","jobId":"f1aa6a38-9009-4139-8dc7-262e192bacb2","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.821Z","level":"info","message":"llm_call_metrics","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"e47db958-13ea-4a71-a317-d3e486fdb09d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e47db958-13ea-4a71-a317-d3e486fdb09d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.822Z","level":"info","message":"process_cv_scoring_completed","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","jobId":"f1aa6a38-9009-4139-8dc7-262e192bacb2","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.824Z","level":"info","message":"llm_call_metrics","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"083bf06ffdad2254495e6ab02d51602dd213ec7860f8066358ba6750acc9f49a","addedSkillCount":1,"template":"resume_rewrite","session":"e47db958-13ea-4a71-a317-d3e486fdb09d","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"e47db958-13ea-4a71-a317-d3e486fdb09d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.824Z","level":"info","message":"generation_section_rewrite_completed","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","jobId":"f1aa6a38-9009-4139-8dc7-262e192bacb2","generationRunId":"e47db958-13ea-4a71-a317-d3e486fdb09d","modifiedTitle":"Revised Title","addedSkills":1,"template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.826Z","level":"info","message":"generation_resume_verified","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","jobId":"f1aa6a38-9009-4139-8dc7-262e192bacb2","generationRunId":"e47db958-13ea-4a71-a317-d3e486fdb09d","template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:09.829Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","jobId":"f1aa6a38-9009-4139-8dc7-262e192bacb2","generationRunId":"e47db958-13ea-4a71-a317-d3e486fdb09d","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:09.835Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","jobId":"f1aa6a38-9009-4139-8dc7-262e192bacb2","generationRunId":"e47db958-13ea-4a71-a317-d3e486fdb09d","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:09.840Z","level":"info","message":"generation_cover_letters_completed","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","jobId":"f1aa6a38-9009-4139-8dc7-262e192bacb2","generationRunId":"e47db958-13ea-4a71-a317-d3e486fdb09d","variants":2,"fallbackApplied":true,"template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.840Z","level":"info","message":"pdf_generation_attempt","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","jobId":"f1aa6a38-9009-4139-8dc7-262e192bacb2","generationRunId":"e47db958-13ea-4a71-a317-d3e486fdb09d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e47db958-13ea-4a71-a317-d3e486fdb09d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/e47db958-13ea-4a71-a317-d3e486fdb09d/enhanced_modern.pdf","session":"e47db958-13ea-4a71-a317-d3e486fdb09d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e47db958-13ea-4a71-a317-d3e486fdb09d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.841Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","jobId":"f1aa6a38-9009-4139-8dc7-262e192bacb2","generationRunId":"e47db958-13ea-4a71-a317-d3e486fdb09d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e47db958-13ea-4a71-a317-d3e486fdb09d/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e47db958-13ea-4a71-a317-d3e486fdb09d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e47db958-13ea-4a71-a317-d3e486fdb09d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.841Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","jobId":"f1aa6a38-9009-4139-8dc7-262e192bacb2","generationRunId":"e47db958-13ea-4a71-a317-d3e486fdb09d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e47db958-13ea-4a71-a317-d3e486fdb09d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/e47db958-13ea-4a71-a317-d3e486fdb09d/enhanced_modern.pdf","session":"e47db958-13ea-4a71-a317-d3e486fdb09d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e47db958-13ea-4a71-a317-d3e486fdb09d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.842Z","level":"info","message":"pdf_generation_attempt","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","jobId":"f1aa6a38-9009-4139-8dc7-262e192bacb2","generationRunId":"e47db958-13ea-4a71-a317-d3e486fdb09d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e47db958-13ea-4a71-a317-d3e486fdb09d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/e47db958-13ea-4a71-a317-d3e486fdb09d/enhanced_professional.pdf","session":"e47db958-13ea-4a71-a317-d3e486fdb09d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e47db958-13ea-4a71-a317-d3e486fdb09d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.842Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","jobId":"f1aa6a38-9009-4139-8dc7-262e192bacb2","generationRunId":"e47db958-13ea-4a71-a317-d3e486fdb09d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e47db958-13ea-4a71-a317-d3e486fdb09d/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e47db958-13ea-4a71-a317-d3e486fdb09d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e47db958-13ea-4a71-a317-d3e486fdb09d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.843Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","jobId":"f1aa6a38-9009-4139-8dc7-262e192bacb2","generationRunId":"e47db958-13ea-4a71-a317-d3e486fdb09d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e47db958-13ea-4a71-a317-d3e486fdb09d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/e47db958-13ea-4a71-a317-d3e486fdb09d/enhanced_professional.pdf","session":"e47db958-13ea-4a71-a317-d3e486fdb09d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e47db958-13ea-4a71-a317-d3e486fdb09d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.843Z","level":"info","message":"pdf_generation_attempt","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","jobId":"f1aa6a38-9009-4139-8dc7-262e192bacb2","generationRunId":"e47db958-13ea-4a71-a317-d3e486fdb09d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e47db958-13ea-4a71-a317-d3e486fdb09d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/e47db958-13ea-4a71-a317-d3e486fdb09d/cover_letter_cover_modern.pdf","session":"e47db958-13ea-4a71-a317-d3e486fdb09d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e47db958-13ea-4a71-a317-d3e486fdb09d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.843Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","jobId":"f1aa6a38-9009-4139-8dc7-262e192bacb2","generationRunId":"e47db958-13ea-4a71-a317-d3e486fdb09d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e47db958-13ea-4a71-a317-d3e486fdb09d/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e47db958-13ea-4a71-a317-d3e486fdb09d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e47db958-13ea-4a71-a317-d3e486fdb09d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.844Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","jobId":"f1aa6a38-9009-4139-8dc7-262e192bacb2","generationRunId":"e47db958-13ea-4a71-a317-d3e486fdb09d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e47db958-13ea-4a71-a317-d3e486fdb09d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/e47db958-13ea-4a71-a317-d3e486fdb09d/cover_letter_cover_modern.pdf","session":"e47db958-13ea-4a71-a317-d3e486fdb09d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e47db958-13ea-4a71-a317-d3e486fdb09d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.844Z","level":"info","message":"pdf_generation_attempt","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","jobId":"f1aa6a38-9009-4139-8dc7-262e192bacb2","generationRunId":"e47db958-13ea-4a71-a317-d3e486fdb09d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e47db958-13ea-4a71-a317-d3e486fdb09d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/e47db958-13ea-4a71-a317-d3e486fdb09d/cover_letter_cover_professional.pdf","session":"e47db958-13ea-4a71-a317-d3e486fdb09d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e47db958-13ea-4a71-a317-d3e486fdb09d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.845Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","jobId":"f1aa6a38-9009-4139-8dc7-262e192bacb2","generationRunId":"e47db958-13ea-4a71-a317-d3e486fdb09d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e47db958-13ea-4a71-a317-d3e486fdb09d/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e47db958-13ea-4a71-a317-d3e486fdb09d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e47db958-13ea-4a71-a317-d3e486fdb09d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.845Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","jobId":"f1aa6a38-9009-4139-8dc7-262e192bacb2","generationRunId":"e47db958-13ea-4a71-a317-d3e486fdb09d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e47db958-13ea-4a71-a317-d3e486fdb09d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/e47db958-13ea-4a71-a317-d3e486fdb09d/cover_letter_cover_professional.pdf","session":"e47db958-13ea-4a71-a317-d3e486fdb09d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e47db958-13ea-4a71-a317-d3e486fdb09d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.847Z","level":"info","message":"llm_call_metrics","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"1075df15bec8b8fc718989e1c7ca31af0c39036b671cabbdfc22628f8e2e250f","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"e47db958-13ea-4a71-a317-d3e486fdb09d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e47db958-13ea-4a71-a317-d3e486fdb09d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.847Z","level":"info","message":"generation_completed","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","jobId":"f1aa6a38-9009-4139-8dc7-262e192bacb2","generationRunId":"e47db958-13ea-4a71-a317-d3e486fdb09d","enhancedScore":80,"outputs":5,"template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.848Z","level":"info","message":"placeholder_record_deleted","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","jobId":"f1aa6a38-9009-4139-8dc7-262e192bacb2","placeholderIdentifier":"e47db958-13ea-4a71-a317-d3e486fdb09d","template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1aa6a38-9009-4139-8dc7-262e192bacb2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.849Z","level":"info","message":"http_request_completed","requestId":"e47db958-13ea-4a71-a317-d3e486fdb09d","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":49,"contentLength":"59251","template":"unknown","session":"e47db958-13ea-4a71-a317-d3e486fdb09d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e47db958-13ea-4a71-a317-d3e486fdb09d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.853Z","level":"info","message":"http_request_received","requestId":"1678aa42-3a52-480e-97f8-96ba7b6a06b2","method":"POST","path":"/api/process-cv","template":"unknown","session":"1678aa42-3a52-480e-97f8-96ba7b6a06b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1678aa42-3a52-480e-97f8-96ba7b6a06b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.854Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.855Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.856Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.858Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.860Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.862Z","level":"info","message":"process_cv_started","requestId":"1678aa42-3a52-480e-97f8-96ba7b6a06b2","jobId":"aff97aef-4fc3-4aa2-8adf-8d82cc0fc9b7","manualJobDescriptionProvided":true,"template":"unknown","session":"aff97aef-4fc3-4aa2-8adf-8d82cc0fc9b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aff97aef-4fc3-4aa2-8adf-8d82cc0fc9b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.862Z","level":"info","message":"template_selection","requestId":"1678aa42-3a52-480e-97f8-96ba7b6a06b2","jobId":"aff97aef-4fc3-4aa2-8adf-8d82cc0fc9b7","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"aff97aef-4fc3-4aa2-8adf-8d82cc0fc9b7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"aff97aef-4fc3-4aa2-8adf-8d82cc0fc9b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:09.863Z","level":"warn","message":"resume_missing","requestId":"1678aa42-3a52-480e-97f8-96ba7b6a06b2","jobId":"aff97aef-4fc3-4aa2-8adf-8d82cc0fc9b7","template":"unknown","session":"aff97aef-4fc3-4aa2-8adf-8d82cc0fc9b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aff97aef-4fc3-4aa2-8adf-8d82cc0fc9b7","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25086:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T13:45:09.868Z","level":"warn","message":"api_error_response","requestId":"1678aa42-3a52-480e-97f8-96ba7b6a06b2","jobId":"aff97aef-4fc3-4aa2-8adf-8d82cc0fc9b7","status":400,"error":{"code":"RESUME_FILE_REQUIRED","message":"resume file required","details":{"field":"resume"},"requestId":"1678aa42-3a52-480e-97f8-96ba7b6a06b2","jobId":"aff97aef-4fc3-4aa2-8adf-8d82cc0fc9b7"},"template":"unknown","session":"aff97aef-4fc3-4aa2-8adf-8d82cc0fc9b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aff97aef-4fc3-4aa2-8adf-8d82cc0fc9b7","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at sendError (server.js:3964:3)
      at server.js:25087:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:45:09.875Z","level":"info","message":"http_request_completed","requestId":"1678aa42-3a52-480e-97f8-96ba7b6a06b2","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":22,"contentLength":"217","template":"unknown","session":"1678aa42-3a52-480e-97f8-96ba7b6a06b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1678aa42-3a52-480e-97f8-96ba7b6a06b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.876Z","level":"info","message":"http_request_received","requestId":"f38ff043-8c17-4cc1-accb-fbdd9e997c7d","method":"POST","path":"/api/process-cv","template":"unknown","session":"f38ff043-8c17-4cc1-accb-fbdd9e997c7d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f38ff043-8c17-4cc1-accb-fbdd9e997c7d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.877Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.879Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.880Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.881Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.883Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:09.887Z","level":"warn","message":"resume_upload_failed","requestId":"f38ff043-8c17-4cc1-accb-fbdd9e997c7d","jobId":"dc6f6763-95c6-4ae2-b460-6be7f6e71972","storageError":false,"error":{"name":"Error","message":"Unsupported resume format. Please upload a PDF, DOC, or DOCX file.","stack":"Error: Unsupported resume format. Please upload a PDF, DOC, or DOCX file.\n    at fileFilter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4986:9)\n    at wrappedFileFilter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/index.js:44:7)\n    at Multipart.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:109:7)\n    at Multipart.emit (node:events:513:28)\n    at HeaderParser.cb (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:358:14)\n    at HeaderParser.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:394:37)\n    at feed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:219:14)\n    at SBMH.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:391:12)\n    at _write (node:internal/streams/writable:332:10)\n    at Multipart.Writable.write (node:internal/streams/writable:336:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:754:22)\n    at IncomingMessage.emit (node:events:513:28)\n    at IncomingMessage.Readable.read (node:internal/streams/readable:527:10)\n    at flow (node:internal/streams/readable:1011:34)\n    at resume_ (node:internal/streams/readable:992:3)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)"},"template":"unknown","session":"dc6f6763-95c6-4ae2-b460-6be7f6e71972","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dc6f6763-95c6-4ae2-b460-6be7f6e71972","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:24780:7
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:5:28)
      at node_modules/multer/lib/make-middleware.js:63:9
      at Counter.onceZero (node_modules/multer/lib/counter.js:23:29)
      at abortWithError (node_modules/multer/lib/make-middleware.js:58:21)
      at node_modules/multer/lib/make-middleware.js:112:18
      at fileFilter (server.js:4985:14)
      at wrappedFileFilter (node_modules/multer/index.js:44:7)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:109:7)
      at HeaderParser.cb (node_modules/busboy/lib/types/multipart.js:358:14)
      at HeaderParser.push (node_modules/busboy/lib/types/multipart.js:162:20)
      at SBMH.ssCb [as _cb] (node_modules/busboy/lib/types/multipart.js:394:37)
      at feed (node_modules/streamsearch/lib/sbmh.js:219:14)
      at SBMH.push (node_modules/streamsearch/lib/sbmh.js:104:16)
      at Multipart._write (node_modules/busboy/lib/types/multipart.js:567:19)

  console.warn
    {"timestamp":"2025-12-04T13:45:09.895Z","level":"warn","message":"api_error_response","requestId":"f38ff043-8c17-4cc1-accb-fbdd9e997c7d","jobId":"dc6f6763-95c6-4ae2-b460-6be7f6e71972","status":400,"error":{"code":"UPLOAD_VALIDATION_FAILED","message":"Unsupported resume format. Please upload a PDF, DOC, or DOCX file.","details":{"field":"resume"},"requestId":"f38ff043-8c17-4cc1-accb-fbdd9e997c7d","jobId":"dc6f6763-95c6-4ae2-b460-6be7f6e71972"},"template":"unknown","session":"dc6f6763-95c6-4ae2-b460-6be7f6e71972","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dc6f6763-95c6-4ae2-b460-6be7f6e71972","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at sendError (server.js:3964:3)
      at respond (server.js:24788:9)
      at server.js:24792:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:5:28)
      at node_modules/multer/lib/make-middleware.js:63:9
      at Counter.onceZero (node_modules/multer/lib/counter.js:23:29)
      at abortWithError (node_modules/multer/lib/make-middleware.js:58:21)
      at node_modules/multer/lib/make-middleware.js:112:18
      at fileFilter (server.js:4985:14)
      at wrappedFileFilter (node_modules/multer/index.js:44:7)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:109:7)
      at HeaderParser.cb (node_modules/busboy/lib/types/multipart.js:358:14)
      at HeaderParser.push (node_modules/busboy/lib/types/multipart.js:162:20)
      at SBMH.ssCb [as _cb] (node_modules/busboy/lib/types/multipart.js:394:37)
      at feed (node_modules/streamsearch/lib/sbmh.js:219:14)
      at SBMH.push (node_modules/streamsearch/lib/sbmh.js:104:16)
      at Multipart._write (node_modules/busboy/lib/types/multipart.js:567:19)

  console.log
    {"timestamp":"2025-12-04T13:45:09.902Z","level":"info","message":"http_request_completed","requestId":"f38ff043-8c17-4cc1-accb-fbdd9e997c7d","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":26,"contentLength":"267","template":"unknown","session":"f38ff043-8c17-4cc1-accb-fbdd9e997c7d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f38ff043-8c17-4cc1-accb-fbdd9e997c7d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.904Z","level":"info","message":"http_request_received","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","method":"POST","path":"/api/process-cv","template":"unknown","session":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.905Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.906Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.907Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.908Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.910Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/b5fdb478-539f-44c7-8a5b-9baacaf4c333/incoming/original.pdf","chunks":1,"timestamp":1764855909912}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":32768}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":32768,"newSize":32768,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/b5fdb478-539f-44c7-8a5b-9baacaf4c333/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/b5fdb478-539f-44c7-8a5b-9baacaf4c333/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:45:09.913Z","level":"info","message":"process_cv_started","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","jobId":"e10d7b13-812f-44d0-9174-a9980a34ad0b","manualJobDescriptionProvided":true,"template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.914Z","level":"info","message":"template_selection","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","jobId":"e10d7b13-812f-44d0-9174-a9980a34ad0b","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:09.914Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","jobId":"e10d7b13-812f-44d0-9174-a9980a34ad0b","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:45:09.919Z","level":"info","message":"initial_upload_completed","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","jobId":"e10d7b13-812f-44d0-9174-a9980a34ad0b","bucket":"test-bucket","key":"cv/candidate/b5fdb478-539f-44c7-8a5b-9baacaf4c333/incoming/original.pdf","template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.920Z","level":"info","message":"resume_text_extracted","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","jobId":"e10d7b13-812f-44d0-9174-a9980a34ad0b","characters":57,"template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.920Z","level":"info","message":"resume_classified","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","jobId":"e10d7b13-812f-44d0-9174-a9980a34ad0b","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.920Z","level":"info","message":"raw_upload_relocated","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","jobId":"e10d7b13-812f-44d0-9174-a9980a34ad0b","bucket":"test-bucket","fromKey":"cv/candidate/b5fdb478-539f-44c7-8a5b-9baacaf4c333/incoming/original.pdf","toKey":"cv/professional_summary/b5fdb478-539f-44c7-8a5b-9baacaf4c333/original.pdf","template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.921Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","jobId":"e10d7b13-812f-44d0-9174-a9980a34ad0b","bucket":"test-bucket","key":"cv/professional_summary/b5fdb478-539f-44c7-8a5b-9baacaf4c333/original.pdf","template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.921Z","level":"info","message":"dynamo_initial_record_written","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","jobId":"e10d7b13-812f-44d0-9174-a9980a34ad0b","bucket":"test-bucket","key":"cv/professional_summary/b5fdb478-539f-44c7-8a5b-9baacaf4c333/original.pdf","template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.921Z","level":"info","message":"upload_metadata_written","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","jobId":"e10d7b13-812f-44d0-9174-a9980a34ad0b","bucket":"test-bucket","key":"cv/professional_summary/b5fdb478-539f-44c7-8a5b-9baacaf4c333/logs/log.json","template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.922Z","level":"info","message":"job_description_supplied_manually","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","jobId":"e10d7b13-812f-44d0-9174-a9980a34ad0b","characters":174,"template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.922Z","level":"info","message":"job_description_analyzed","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","jobId":"e10d7b13-812f-44d0-9174-a9980a34ad0b","jobTitle":"","jobSkills":5,"template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.923Z","level":"info","message":"resume_skills_analyzed","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","jobId":"e10d7b13-812f-44d0-9174-a9980a34ad0b","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.923Z","level":"info","message":"llm_call_metrics","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.924Z","level":"info","message":"process_cv_scoring_completed","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","jobId":"e10d7b13-812f-44d0-9174-a9980a34ad0b","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.926Z","level":"info","message":"llm_call_metrics","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.926Z","level":"info","message":"generation_section_rewrite_completed","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","jobId":"e10d7b13-812f-44d0-9174-a9980a34ad0b","generationRunId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.926Z","level":"info","message":"llm_call_metrics","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.929Z","level":"info","message":"generation_resume_verified","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","jobId":"e10d7b13-812f-44d0-9174-a9980a34ad0b","generationRunId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:09.932Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","jobId":"e10d7b13-812f-44d0-9174-a9980a34ad0b","generationRunId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:09.938Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","jobId":"e10d7b13-812f-44d0-9174-a9980a34ad0b","generationRunId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:09.943Z","level":"info","message":"generation_cover_letters_completed","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","jobId":"e10d7b13-812f-44d0-9174-a9980a34ad0b","generationRunId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","variants":2,"fallbackApplied":true,"template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.943Z","level":"info","message":"pdf_generation_attempt","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","jobId":"e10d7b13-812f-44d0-9174-a9980a34ad0b","generationRunId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b5fdb478-539f-44c7-8a5b-9baacaf4c333/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/b5fdb478-539f-44c7-8a5b-9baacaf4c333/enhanced_modern.pdf","session":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.944Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","jobId":"e10d7b13-812f-44d0-9174-a9980a34ad0b","generationRunId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b5fdb478-539f-44c7-8a5b-9baacaf4c333/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.944Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","jobId":"e10d7b13-812f-44d0-9174-a9980a34ad0b","generationRunId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b5fdb478-539f-44c7-8a5b-9baacaf4c333/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/b5fdb478-539f-44c7-8a5b-9baacaf4c333/enhanced_modern.pdf","session":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.945Z","level":"info","message":"pdf_generation_attempt","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","jobId":"e10d7b13-812f-44d0-9174-a9980a34ad0b","generationRunId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b5fdb478-539f-44c7-8a5b-9baacaf4c333/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/b5fdb478-539f-44c7-8a5b-9baacaf4c333/enhanced_professional.pdf","session":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.945Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","jobId":"e10d7b13-812f-44d0-9174-a9980a34ad0b","generationRunId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b5fdb478-539f-44c7-8a5b-9baacaf4c333/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.945Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","jobId":"e10d7b13-812f-44d0-9174-a9980a34ad0b","generationRunId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b5fdb478-539f-44c7-8a5b-9baacaf4c333/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/b5fdb478-539f-44c7-8a5b-9baacaf4c333/enhanced_professional.pdf","session":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.946Z","level":"info","message":"pdf_generation_attempt","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","jobId":"e10d7b13-812f-44d0-9174-a9980a34ad0b","generationRunId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b5fdb478-539f-44c7-8a5b-9baacaf4c333/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/b5fdb478-539f-44c7-8a5b-9baacaf4c333/cover_letter_cover_modern.pdf","session":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.946Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","jobId":"e10d7b13-812f-44d0-9174-a9980a34ad0b","generationRunId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b5fdb478-539f-44c7-8a5b-9baacaf4c333/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.947Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","jobId":"e10d7b13-812f-44d0-9174-a9980a34ad0b","generationRunId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b5fdb478-539f-44c7-8a5b-9baacaf4c333/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/b5fdb478-539f-44c7-8a5b-9baacaf4c333/cover_letter_cover_modern.pdf","session":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.947Z","level":"info","message":"pdf_generation_attempt","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","jobId":"e10d7b13-812f-44d0-9174-a9980a34ad0b","generationRunId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b5fdb478-539f-44c7-8a5b-9baacaf4c333/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/b5fdb478-539f-44c7-8a5b-9baacaf4c333/cover_letter_cover_professional.pdf","session":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.947Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","jobId":"e10d7b13-812f-44d0-9174-a9980a34ad0b","generationRunId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b5fdb478-539f-44c7-8a5b-9baacaf4c333/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.948Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","jobId":"e10d7b13-812f-44d0-9174-a9980a34ad0b","generationRunId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b5fdb478-539f-44c7-8a5b-9baacaf4c333/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/b5fdb478-539f-44c7-8a5b-9baacaf4c333/cover_letter_cover_professional.pdf","session":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.950Z","level":"info","message":"llm_call_metrics","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.950Z","level":"info","message":"generation_completed","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","jobId":"e10d7b13-812f-44d0-9174-a9980a34ad0b","generationRunId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","enhancedScore":80,"outputs":5,"template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.951Z","level":"info","message":"placeholder_record_deleted","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","jobId":"e10d7b13-812f-44d0-9174-a9980a34ad0b","placeholderIdentifier":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10d7b13-812f-44d0-9174-a9980a34ad0b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.952Z","level":"info","message":"http_request_completed","requestId":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":48,"contentLength":"58133","template":"unknown","session":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b5fdb478-539f-44c7-8a5b-9baacaf4c333","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.956Z","level":"info","message":"http_request_received","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","method":"POST","path":"/api/process-cv","template":"unknown","session":"aa0e1823-2e09-4625-b865-8e064e061f9e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aa0e1823-2e09-4625-b865-8e064e061f9e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.957Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.958Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.959Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.961Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.962Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/aa0e1823-2e09-4625-b865-8e064e061f9e/incoming/original.pdf","chunks":5,"timestamp":1764855909965}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":262144}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":262144,"newSize":262144,"durationMs":7}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/aa0e1823-2e09-4625-b865-8e064e061f9e/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/aa0e1823-2e09-4625-b865-8e064e061f9e/incoming/original.pdf","uploadDurationMs":1,"totalDurationMs":8}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:09.973Z","level":"info","message":"process_cv_started","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","jobId":"9544cc93-ab78-4405-8132-e3902135ee1d","manualJobDescriptionProvided":true,"template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.973Z","level":"info","message":"template_selection","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","jobId":"9544cc93-ab78-4405-8132-e3902135ee1d","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:09.974Z","level":"info","message":"initial_upload_completed","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","jobId":"9544cc93-ab78-4405-8132-e3902135ee1d","bucket":"test-bucket","key":"cv/candidate/aa0e1823-2e09-4625-b865-8e064e061f9e/incoming/original.pdf","template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:09.974Z","level":"info","message":"resume_text_extracted","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","jobId":"9544cc93-ab78-4405-8132-e3902135ee1d","characters":9,"template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:09.975Z","level":"info","message":"document_classification_ai_metrics","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","jobId":"9544cc93-ab78-4405-8132-e3902135ee1d","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"3fb95a90cc3314ffe158e6938082b6242f708ef53653928d4aec2ec0ec66e1aa","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:09.990Z","level":"info","message":"resume_classified","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","jobId":"9544cc93-ab78-4405-8132-e3902135ee1d","isResume":false,"description":"a document starting with \"Docx text\"","confidence":0.3,"accepted":true,"overridden":true,"template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:09.990Z","level":"info","message":"raw_upload_relocated","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","jobId":"9544cc93-ab78-4405-8132-e3902135ee1d","bucket":"test-bucket","fromKey":"cv/candidate/aa0e1823-2e09-4625-b865-8e064e061f9e/incoming/original.pdf","toKey":"cv/docx_text/aa0e1823-2e09-4625-b865-8e064e061f9e/original.docx","template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:09.990Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","jobId":"9544cc93-ab78-4405-8132-e3902135ee1d","bucket":"test-bucket","key":"cv/docx_text/aa0e1823-2e09-4625-b865-8e064e061f9e/original.docx","template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:09.991Z","level":"info","message":"dynamo_initial_record_written","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","jobId":"9544cc93-ab78-4405-8132-e3902135ee1d","bucket":"test-bucket","key":"cv/docx_text/aa0e1823-2e09-4625-b865-8e064e061f9e/original.docx","template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:09.991Z","level":"info","message":"upload_metadata_written","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","jobId":"9544cc93-ab78-4405-8132-e3902135ee1d","bucket":"test-bucket","key":"cv/docx_text/aa0e1823-2e09-4625-b865-8e064e061f9e/logs/log.json","template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:09.991Z","level":"info","message":"job_description_supplied_manually","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","jobId":"9544cc93-ab78-4405-8132-e3902135ee1d","characters":174,"template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:09.992Z","level":"info","message":"job_description_analyzed","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","jobId":"9544cc93-ab78-4405-8132-e3902135ee1d","jobTitle":"","jobSkills":5,"template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:09.992Z","level":"info","message":"resume_skills_analyzed","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","jobId":"9544cc93-ab78-4405-8132-e3902135ee1d","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:09.993Z","level":"info","message":"llm_call_metrics","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"aa0e1823-2e09-4625-b865-8e064e061f9e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"aa0e1823-2e09-4625-b865-8e064e061f9e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:09.994Z","level":"info","message":"process_cv_scoring_completed","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","jobId":"9544cc93-ab78-4405-8132-e3902135ee1d","applicantName":"Docx text","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:09.996Z","level":"info","message":"llm_call_metrics","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"31abd14e21e30560dd0979a805a53ba1e348c7a15b5557d1589a085105e61022","outputDigest":"20c6bad519a1c8c51482632fc36f521f4cdc6c74524ae2a7da48d87e23be89bd","addedSkillCount":0,"template":"resume_rewrite","session":"aa0e1823-2e09-4625-b865-8e064e061f9e","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"aa0e1823-2e09-4625-b865-8e064e061f9e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:09.996Z","level":"info","message":"generation_section_rewrite_completed","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","jobId":"9544cc93-ab78-4405-8132-e3902135ee1d","generationRunId":"aa0e1823-2e09-4625-b865-8e064e061f9e","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:09.997Z","level":"info","message":"llm_call_metrics","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"aa0e1823-2e09-4625-b865-8e064e061f9e","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"aa0e1823-2e09-4625-b865-8e064e061f9e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:09.998Z","level":"info","message":"generation_resume_verified","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","jobId":"9544cc93-ab78-4405-8132-e3902135ee1d","generationRunId":"aa0e1823-2e09-4625-b865-8e064e061f9e","template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:45:10.001Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","jobId":"9544cc93-ab78-4405-8132-e3902135ee1d","generationRunId":"aa0e1823-2e09-4625-b865-8e064e061f9e","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
          at runMicrotasks (<anonymous>)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:10.007Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","jobId":"9544cc93-ab78-4405-8132-e3902135ee1d","generationRunId":"aa0e1823-2e09-4625-b865-8e064e061f9e","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
          at runMicrotasks (<anonymous>)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:10.012Z","level":"info","message":"generation_cover_letters_completed","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","jobId":"9544cc93-ab78-4405-8132-e3902135ee1d","generationRunId":"aa0e1823-2e09-4625-b865-8e064e061f9e","variants":2,"fallbackApplied":true,"template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.013Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","jobId":"9544cc93-ab78-4405-8132-e3902135ee1d","generationRunId":"aa0e1823-2e09-4625-b865-8e064e061f9e","documentType":"resume","outputName":"original_upload","outputKeyPrefix":"cv/docx_text/aa0e1823-2e09-4625-b865-8e064e061f9e/","originalUploadKey":"cv/docx_text/aa0e1823-2e09-4625-b865-8e064e061f9e/original.docx","originalUploadExtension":".docx","templateId":"modern","requestedTemplateId":"modern","engine":"pdf-lib","bytes":9,"template":"modern","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.013Z","level":"info","message":"original_upload_pdf_generated","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","jobId":"9544cc93-ab78-4405-8132-e3902135ee1d","generationRunId":"aa0e1823-2e09-4625-b865-8e064e061f9e","storageKey":"cv/docx_text/aa0e1823-2e09-4625-b865-8e064e061f9e/original/original_upload.pdf","originalUploadKey":"cv/docx_text/aa0e1823-2e09-4625-b865-8e064e061f9e/original.docx","originalUploadExtension":".docx","template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.013Z","level":"info","message":"pdf_generation_attempt","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","jobId":"9544cc93-ab78-4405-8132-e3902135ee1d","generationRunId":"aa0e1823-2e09-4625-b865-8e064e061f9e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/aa0e1823-2e09-4625-b865-8e064e061f9e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/aa0e1823-2e09-4625-b865-8e064e061f9e/enhanced_modern.pdf","session":"aa0e1823-2e09-4625-b865-8e064e061f9e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"aa0e1823-2e09-4625-b865-8e064e061f9e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.014Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","jobId":"9544cc93-ab78-4405-8132-e3902135ee1d","generationRunId":"aa0e1823-2e09-4625-b865-8e064e061f9e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/aa0e1823-2e09-4625-b865-8e064e061f9e/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"aa0e1823-2e09-4625-b865-8e064e061f9e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"aa0e1823-2e09-4625-b865-8e064e061f9e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.014Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","jobId":"9544cc93-ab78-4405-8132-e3902135ee1d","generationRunId":"aa0e1823-2e09-4625-b865-8e064e061f9e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/aa0e1823-2e09-4625-b865-8e064e061f9e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/aa0e1823-2e09-4625-b865-8e064e061f9e/enhanced_modern.pdf","session":"aa0e1823-2e09-4625-b865-8e064e061f9e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"aa0e1823-2e09-4625-b865-8e064e061f9e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.015Z","level":"info","message":"pdf_generation_attempt","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","jobId":"9544cc93-ab78-4405-8132-e3902135ee1d","generationRunId":"aa0e1823-2e09-4625-b865-8e064e061f9e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/aa0e1823-2e09-4625-b865-8e064e061f9e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/aa0e1823-2e09-4625-b865-8e064e061f9e/enhanced_professional.pdf","session":"aa0e1823-2e09-4625-b865-8e064e061f9e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"aa0e1823-2e09-4625-b865-8e064e061f9e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.015Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","jobId":"9544cc93-ab78-4405-8132-e3902135ee1d","generationRunId":"aa0e1823-2e09-4625-b865-8e064e061f9e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/aa0e1823-2e09-4625-b865-8e064e061f9e/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"aa0e1823-2e09-4625-b865-8e064e061f9e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"aa0e1823-2e09-4625-b865-8e064e061f9e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.016Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","jobId":"9544cc93-ab78-4405-8132-e3902135ee1d","generationRunId":"aa0e1823-2e09-4625-b865-8e064e061f9e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/aa0e1823-2e09-4625-b865-8e064e061f9e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/aa0e1823-2e09-4625-b865-8e064e061f9e/enhanced_professional.pdf","session":"aa0e1823-2e09-4625-b865-8e064e061f9e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"aa0e1823-2e09-4625-b865-8e064e061f9e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.016Z","level":"info","message":"pdf_generation_attempt","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","jobId":"9544cc93-ab78-4405-8132-e3902135ee1d","generationRunId":"aa0e1823-2e09-4625-b865-8e064e061f9e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/aa0e1823-2e09-4625-b865-8e064e061f9e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/aa0e1823-2e09-4625-b865-8e064e061f9e/cover_letter_cover_modern.pdf","session":"aa0e1823-2e09-4625-b865-8e064e061f9e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"aa0e1823-2e09-4625-b865-8e064e061f9e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.016Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","jobId":"9544cc93-ab78-4405-8132-e3902135ee1d","generationRunId":"aa0e1823-2e09-4625-b865-8e064e061f9e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/aa0e1823-2e09-4625-b865-8e064e061f9e/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"aa0e1823-2e09-4625-b865-8e064e061f9e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"aa0e1823-2e09-4625-b865-8e064e061f9e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.017Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","jobId":"9544cc93-ab78-4405-8132-e3902135ee1d","generationRunId":"aa0e1823-2e09-4625-b865-8e064e061f9e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/aa0e1823-2e09-4625-b865-8e064e061f9e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/aa0e1823-2e09-4625-b865-8e064e061f9e/cover_letter_cover_modern.pdf","session":"aa0e1823-2e09-4625-b865-8e064e061f9e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"aa0e1823-2e09-4625-b865-8e064e061f9e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.017Z","level":"info","message":"pdf_generation_attempt","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","jobId":"9544cc93-ab78-4405-8132-e3902135ee1d","generationRunId":"aa0e1823-2e09-4625-b865-8e064e061f9e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/aa0e1823-2e09-4625-b865-8e064e061f9e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/aa0e1823-2e09-4625-b865-8e064e061f9e/cover_letter_cover_professional.pdf","session":"aa0e1823-2e09-4625-b865-8e064e061f9e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"aa0e1823-2e09-4625-b865-8e064e061f9e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.018Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","jobId":"9544cc93-ab78-4405-8132-e3902135ee1d","generationRunId":"aa0e1823-2e09-4625-b865-8e064e061f9e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/aa0e1823-2e09-4625-b865-8e064e061f9e/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"aa0e1823-2e09-4625-b865-8e064e061f9e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"aa0e1823-2e09-4625-b865-8e064e061f9e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.018Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","jobId":"9544cc93-ab78-4405-8132-e3902135ee1d","generationRunId":"aa0e1823-2e09-4625-b865-8e064e061f9e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/aa0e1823-2e09-4625-b865-8e064e061f9e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/aa0e1823-2e09-4625-b865-8e064e061f9e/cover_letter_cover_professional.pdf","session":"aa0e1823-2e09-4625-b865-8e064e061f9e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"aa0e1823-2e09-4625-b865-8e064e061f9e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.020Z","level":"info","message":"llm_call_metrics","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"aa0e1823-2e09-4625-b865-8e064e061f9e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"aa0e1823-2e09-4625-b865-8e064e061f9e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.021Z","level":"info","message":"generation_completed","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","jobId":"9544cc93-ab78-4405-8132-e3902135ee1d","generationRunId":"aa0e1823-2e09-4625-b865-8e064e061f9e","enhancedScore":80,"outputs":6,"template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.022Z","level":"info","message":"placeholder_record_deleted","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","jobId":"9544cc93-ab78-4405-8132-e3902135ee1d","placeholderIdentifier":"aa0e1823-2e09-4625-b865-8e064e061f9e","template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9544cc93-ab78-4405-8132-e3902135ee1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.023Z","level":"info","message":"http_request_completed","requestId":"aa0e1823-2e09-4625-b865-8e064e061f9e","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":67,"contentLength":"58696","template":"unknown","session":"aa0e1823-2e09-4625-b865-8e064e061f9e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aa0e1823-2e09-4625-b865-8e064e061f9e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.028Z","level":"info","message":"http_request_received","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","method":"POST","path":"/api/process-cv","template":"unknown","session":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.029Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.030Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.031Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.033Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.035Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/27a6efc8-00b2-4631-98b0-a00180b8d0c2/incoming/original.pdf","chunks":34,"timestamp":1764855910040}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":2097152}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":2097152,"newSize":2097152,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/27a6efc8-00b2-4631-98b0-a00180b8d0c2/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/27a6efc8-00b2-4631-98b0-a00180b8d0c2/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.041Z","level":"info","message":"process_cv_started","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","jobId":"8f121d5f-700c-441a-9837-4a0238d01d5a","manualJobDescriptionProvided":true,"template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.042Z","level":"info","message":"template_selection","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","jobId":"8f121d5f-700c-441a-9837-4a0238d01d5a","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:10.043Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","jobId":"8f121d5f-700c-441a-9837-4a0238d01d5a","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:45:10.048Z","level":"info","message":"initial_upload_completed","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","jobId":"8f121d5f-700c-441a-9837-4a0238d01d5a","bucket":"test-bucket","key":"cv/candidate/27a6efc8-00b2-4631-98b0-a00180b8d0c2/incoming/original.pdf","template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.048Z","level":"info","message":"resume_text_extracted","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","jobId":"8f121d5f-700c-441a-9837-4a0238d01d5a","characters":57,"template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.049Z","level":"info","message":"resume_classified","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","jobId":"8f121d5f-700c-441a-9837-4a0238d01d5a","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.049Z","level":"info","message":"raw_upload_relocated","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","jobId":"8f121d5f-700c-441a-9837-4a0238d01d5a","bucket":"test-bucket","fromKey":"cv/candidate/27a6efc8-00b2-4631-98b0-a00180b8d0c2/incoming/original.pdf","toKey":"cv/professional_summary/27a6efc8-00b2-4631-98b0-a00180b8d0c2/original.pdf","template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.049Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","jobId":"8f121d5f-700c-441a-9837-4a0238d01d5a","bucket":"test-bucket","key":"cv/professional_summary/27a6efc8-00b2-4631-98b0-a00180b8d0c2/original.pdf","template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.050Z","level":"info","message":"dynamo_initial_record_written","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","jobId":"8f121d5f-700c-441a-9837-4a0238d01d5a","bucket":"test-bucket","key":"cv/professional_summary/27a6efc8-00b2-4631-98b0-a00180b8d0c2/original.pdf","template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.050Z","level":"info","message":"upload_metadata_written","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","jobId":"8f121d5f-700c-441a-9837-4a0238d01d5a","bucket":"test-bucket","key":"cv/professional_summary/27a6efc8-00b2-4631-98b0-a00180b8d0c2/logs/log.json","template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.050Z","level":"info","message":"job_description_supplied_manually","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","jobId":"8f121d5f-700c-441a-9837-4a0238d01d5a","characters":174,"template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.051Z","level":"info","message":"job_description_analyzed","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","jobId":"8f121d5f-700c-441a-9837-4a0238d01d5a","jobTitle":"","jobSkills":5,"template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.051Z","level":"info","message":"resume_skills_analyzed","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","jobId":"8f121d5f-700c-441a-9837-4a0238d01d5a","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.052Z","level":"info","message":"llm_call_metrics","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.052Z","level":"info","message":"process_cv_scoring_completed","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","jobId":"8f121d5f-700c-441a-9837-4a0238d01d5a","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.054Z","level":"info","message":"llm_call_metrics","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.055Z","level":"info","message":"generation_section_rewrite_completed","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","jobId":"8f121d5f-700c-441a-9837-4a0238d01d5a","generationRunId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.055Z","level":"info","message":"llm_call_metrics","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.057Z","level":"info","message":"generation_resume_verified","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","jobId":"8f121d5f-700c-441a-9837-4a0238d01d5a","generationRunId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:45:10.059Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","jobId":"8f121d5f-700c-441a-9837-4a0238d01d5a","generationRunId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
          at runMicrotasks (<anonymous>)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:10.066Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","jobId":"8f121d5f-700c-441a-9837-4a0238d01d5a","generationRunId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
          at runMicrotasks (<anonymous>)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:10.072Z","level":"info","message":"generation_cover_letters_completed","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","jobId":"8f121d5f-700c-441a-9837-4a0238d01d5a","generationRunId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","variants":2,"fallbackApplied":true,"template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.072Z","level":"info","message":"pdf_generation_attempt","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","jobId":"8f121d5f-700c-441a-9837-4a0238d01d5a","generationRunId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/27a6efc8-00b2-4631-98b0-a00180b8d0c2/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/27a6efc8-00b2-4631-98b0-a00180b8d0c2/enhanced_modern.pdf","session":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.073Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","jobId":"8f121d5f-700c-441a-9837-4a0238d01d5a","generationRunId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/27a6efc8-00b2-4631-98b0-a00180b8d0c2/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.073Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","jobId":"8f121d5f-700c-441a-9837-4a0238d01d5a","generationRunId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/27a6efc8-00b2-4631-98b0-a00180b8d0c2/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/27a6efc8-00b2-4631-98b0-a00180b8d0c2/enhanced_modern.pdf","session":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.073Z","level":"info","message":"pdf_generation_attempt","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","jobId":"8f121d5f-700c-441a-9837-4a0238d01d5a","generationRunId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/27a6efc8-00b2-4631-98b0-a00180b8d0c2/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/27a6efc8-00b2-4631-98b0-a00180b8d0c2/enhanced_professional.pdf","session":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.074Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","jobId":"8f121d5f-700c-441a-9837-4a0238d01d5a","generationRunId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/27a6efc8-00b2-4631-98b0-a00180b8d0c2/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.074Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","jobId":"8f121d5f-700c-441a-9837-4a0238d01d5a","generationRunId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/27a6efc8-00b2-4631-98b0-a00180b8d0c2/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/27a6efc8-00b2-4631-98b0-a00180b8d0c2/enhanced_professional.pdf","session":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.075Z","level":"info","message":"pdf_generation_attempt","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","jobId":"8f121d5f-700c-441a-9837-4a0238d01d5a","generationRunId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/27a6efc8-00b2-4631-98b0-a00180b8d0c2/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/27a6efc8-00b2-4631-98b0-a00180b8d0c2/cover_letter_cover_modern.pdf","session":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.075Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","jobId":"8f121d5f-700c-441a-9837-4a0238d01d5a","generationRunId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/27a6efc8-00b2-4631-98b0-a00180b8d0c2/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.076Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","jobId":"8f121d5f-700c-441a-9837-4a0238d01d5a","generationRunId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/27a6efc8-00b2-4631-98b0-a00180b8d0c2/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/27a6efc8-00b2-4631-98b0-a00180b8d0c2/cover_letter_cover_modern.pdf","session":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.076Z","level":"info","message":"pdf_generation_attempt","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","jobId":"8f121d5f-700c-441a-9837-4a0238d01d5a","generationRunId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/27a6efc8-00b2-4631-98b0-a00180b8d0c2/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/27a6efc8-00b2-4631-98b0-a00180b8d0c2/cover_letter_cover_professional.pdf","session":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.076Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","jobId":"8f121d5f-700c-441a-9837-4a0238d01d5a","generationRunId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/27a6efc8-00b2-4631-98b0-a00180b8d0c2/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.077Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","jobId":"8f121d5f-700c-441a-9837-4a0238d01d5a","generationRunId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/27a6efc8-00b2-4631-98b0-a00180b8d0c2/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/27a6efc8-00b2-4631-98b0-a00180b8d0c2/cover_letter_cover_professional.pdf","session":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.079Z","level":"info","message":"llm_call_metrics","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.079Z","level":"info","message":"generation_completed","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","jobId":"8f121d5f-700c-441a-9837-4a0238d01d5a","generationRunId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","enhancedScore":80,"outputs":5,"template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.080Z","level":"info","message":"placeholder_record_deleted","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","jobId":"8f121d5f-700c-441a-9837-4a0238d01d5a","placeholderIdentifier":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f121d5f-700c-441a-9837-4a0238d01d5a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.081Z","level":"info","message":"http_request_completed","requestId":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":53,"contentLength":"58133","template":"unknown","session":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27a6efc8-00b2-4631-98b0-a00180b8d0c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.084Z","level":"info","message":"http_request_received","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","method":"POST","path":"/api/process-cv","template":"unknown","session":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.085Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.086Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.088Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.089Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.091Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/cda89d3f-8954-46e9-b6ab-dd6aff3898b3/incoming/original.pdf","chunks":81,"timestamp":1764855910100}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5241856}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5241856,"newSize":5241856,"durationMs":51}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/cda89d3f-8954-46e9-b6ab-dd6aff3898b3/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/cda89d3f-8954-46e9-b6ab-dd6aff3898b3/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":52}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.153Z","level":"info","message":"process_cv_started","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","jobId":"afbb922f-80e7-4fce-9a74-13076b52c0c6","manualJobDescriptionProvided":true,"template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.153Z","level":"info","message":"template_selection","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","jobId":"afbb922f-80e7-4fce-9a74-13076b52c0c6","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.154Z","level":"info","message":"initial_upload_completed","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","jobId":"afbb922f-80e7-4fce-9a74-13076b52c0c6","bucket":"test-bucket","key":"cv/candidate/cda89d3f-8954-46e9-b6ab-dd6aff3898b3/incoming/original.pdf","template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.154Z","level":"info","message":"resume_text_extracted","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","jobId":"afbb922f-80e7-4fce-9a74-13076b52c0c6","characters":9,"template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.154Z","level":"info","message":"document_classification_ai_metrics","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","jobId":"afbb922f-80e7-4fce-9a74-13076b52c0c6","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"3fb95a90cc3314ffe158e6938082b6242f708ef53653928d4aec2ec0ec66e1aa","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.155Z","level":"info","message":"resume_classified","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","jobId":"afbb922f-80e7-4fce-9a74-13076b52c0c6","isResume":false,"description":"a document starting with \"Docx text\"","confidence":0.3,"accepted":true,"overridden":true,"template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.155Z","level":"info","message":"raw_upload_relocated","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","jobId":"afbb922f-80e7-4fce-9a74-13076b52c0c6","bucket":"test-bucket","fromKey":"cv/candidate/cda89d3f-8954-46e9-b6ab-dd6aff3898b3/incoming/original.pdf","toKey":"cv/docx_text/cda89d3f-8954-46e9-b6ab-dd6aff3898b3/original.docx","template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.156Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","jobId":"afbb922f-80e7-4fce-9a74-13076b52c0c6","bucket":"test-bucket","key":"cv/docx_text/cda89d3f-8954-46e9-b6ab-dd6aff3898b3/original.docx","template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.156Z","level":"info","message":"dynamo_initial_record_written","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","jobId":"afbb922f-80e7-4fce-9a74-13076b52c0c6","bucket":"test-bucket","key":"cv/docx_text/cda89d3f-8954-46e9-b6ab-dd6aff3898b3/original.docx","template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.156Z","level":"info","message":"upload_metadata_written","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","jobId":"afbb922f-80e7-4fce-9a74-13076b52c0c6","bucket":"test-bucket","key":"cv/docx_text/cda89d3f-8954-46e9-b6ab-dd6aff3898b3/logs/log.json","template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.157Z","level":"info","message":"job_description_supplied_manually","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","jobId":"afbb922f-80e7-4fce-9a74-13076b52c0c6","characters":174,"template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.157Z","level":"info","message":"job_description_analyzed","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","jobId":"afbb922f-80e7-4fce-9a74-13076b52c0c6","jobTitle":"","jobSkills":5,"template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.157Z","level":"info","message":"resume_skills_analyzed","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","jobId":"afbb922f-80e7-4fce-9a74-13076b52c0c6","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.158Z","level":"info","message":"llm_call_metrics","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.158Z","level":"info","message":"process_cv_scoring_completed","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","jobId":"afbb922f-80e7-4fce-9a74-13076b52c0c6","applicantName":"Docx text","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.160Z","level":"info","message":"llm_call_metrics","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"31abd14e21e30560dd0979a805a53ba1e348c7a15b5557d1589a085105e61022","outputDigest":"20c6bad519a1c8c51482632fc36f521f4cdc6c74524ae2a7da48d87e23be89bd","addedSkillCount":0,"template":"resume_rewrite","session":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.161Z","level":"info","message":"generation_section_rewrite_completed","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","jobId":"afbb922f-80e7-4fce-9a74-13076b52c0c6","generationRunId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.161Z","level":"info","message":"llm_call_metrics","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.163Z","level":"info","message":"generation_resume_verified","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","jobId":"afbb922f-80e7-4fce-9a74-13076b52c0c6","generationRunId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:45:10.165Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","jobId":"afbb922f-80e7-4fce-9a74-13076b52c0c6","generationRunId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
          at runMicrotasks (<anonymous>)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:45:10.171Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","jobId":"afbb922f-80e7-4fce-9a74-13076b52c0c6","generationRunId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
          at runMicrotasks (<anonymous>)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:10.176Z","level":"info","message":"generation_cover_letters_completed","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","jobId":"afbb922f-80e7-4fce-9a74-13076b52c0c6","generationRunId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","variants":2,"fallbackApplied":true,"template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.177Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","jobId":"afbb922f-80e7-4fce-9a74-13076b52c0c6","generationRunId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","documentType":"resume","outputName":"original_upload","outputKeyPrefix":"cv/docx_text/cda89d3f-8954-46e9-b6ab-dd6aff3898b3/","originalUploadKey":"cv/docx_text/cda89d3f-8954-46e9-b6ab-dd6aff3898b3/original.docx","originalUploadExtension":".docx","templateId":"modern","requestedTemplateId":"modern","engine":"pdf-lib","bytes":9,"template":"modern","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.177Z","level":"info","message":"original_upload_pdf_generated","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","jobId":"afbb922f-80e7-4fce-9a74-13076b52c0c6","generationRunId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","storageKey":"cv/docx_text/cda89d3f-8954-46e9-b6ab-dd6aff3898b3/original/original_upload.pdf","originalUploadKey":"cv/docx_text/cda89d3f-8954-46e9-b6ab-dd6aff3898b3/original.docx","originalUploadExtension":".docx","template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.178Z","level":"info","message":"pdf_generation_attempt","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","jobId":"afbb922f-80e7-4fce-9a74-13076b52c0c6","generationRunId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/cda89d3f-8954-46e9-b6ab-dd6aff3898b3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/cda89d3f-8954-46e9-b6ab-dd6aff3898b3/enhanced_modern.pdf","session":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.178Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","jobId":"afbb922f-80e7-4fce-9a74-13076b52c0c6","generationRunId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/cda89d3f-8954-46e9-b6ab-dd6aff3898b3/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.179Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","jobId":"afbb922f-80e7-4fce-9a74-13076b52c0c6","generationRunId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/cda89d3f-8954-46e9-b6ab-dd6aff3898b3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/cda89d3f-8954-46e9-b6ab-dd6aff3898b3/enhanced_modern.pdf","session":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.179Z","level":"info","message":"pdf_generation_attempt","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","jobId":"afbb922f-80e7-4fce-9a74-13076b52c0c6","generationRunId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/cda89d3f-8954-46e9-b6ab-dd6aff3898b3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/cda89d3f-8954-46e9-b6ab-dd6aff3898b3/enhanced_professional.pdf","session":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.179Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","jobId":"afbb922f-80e7-4fce-9a74-13076b52c0c6","generationRunId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/cda89d3f-8954-46e9-b6ab-dd6aff3898b3/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.180Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","jobId":"afbb922f-80e7-4fce-9a74-13076b52c0c6","generationRunId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/cda89d3f-8954-46e9-b6ab-dd6aff3898b3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/cda89d3f-8954-46e9-b6ab-dd6aff3898b3/enhanced_professional.pdf","session":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.180Z","level":"info","message":"pdf_generation_attempt","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","jobId":"afbb922f-80e7-4fce-9a74-13076b52c0c6","generationRunId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/cda89d3f-8954-46e9-b6ab-dd6aff3898b3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/cda89d3f-8954-46e9-b6ab-dd6aff3898b3/cover_letter_cover_modern.pdf","session":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.181Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","jobId":"afbb922f-80e7-4fce-9a74-13076b52c0c6","generationRunId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/cda89d3f-8954-46e9-b6ab-dd6aff3898b3/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.181Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","jobId":"afbb922f-80e7-4fce-9a74-13076b52c0c6","generationRunId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/cda89d3f-8954-46e9-b6ab-dd6aff3898b3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/cda89d3f-8954-46e9-b6ab-dd6aff3898b3/cover_letter_cover_modern.pdf","session":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.182Z","level":"info","message":"pdf_generation_attempt","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","jobId":"afbb922f-80e7-4fce-9a74-13076b52c0c6","generationRunId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/cda89d3f-8954-46e9-b6ab-dd6aff3898b3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/cda89d3f-8954-46e9-b6ab-dd6aff3898b3/cover_letter_cover_professional.pdf","session":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.182Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","jobId":"afbb922f-80e7-4fce-9a74-13076b52c0c6","generationRunId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/cda89d3f-8954-46e9-b6ab-dd6aff3898b3/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.182Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","jobId":"afbb922f-80e7-4fce-9a74-13076b52c0c6","generationRunId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/cda89d3f-8954-46e9-b6ab-dd6aff3898b3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/cda89d3f-8954-46e9-b6ab-dd6aff3898b3/cover_letter_cover_professional.pdf","session":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.184Z","level":"info","message":"llm_call_metrics","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.185Z","level":"info","message":"generation_completed","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","jobId":"afbb922f-80e7-4fce-9a74-13076b52c0c6","generationRunId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","enhancedScore":80,"outputs":6,"template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.186Z","level":"info","message":"placeholder_record_deleted","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","jobId":"afbb922f-80e7-4fce-9a74-13076b52c0c6","placeholderIdentifier":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afbb922f-80e7-4fce-9a74-13076b52c0c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.187Z","level":"info","message":"http_request_completed","requestId":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":103,"contentLength":"58696","template":"unknown","session":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cda89d3f-8954-46e9-b6ab-dd6aff3898b3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.192Z","level":"info","message":"http_request_received","requestId":"5533ddf0-1903-4a75-8a8f-e421edeea73a","method":"POST","path":"/api/process-cv","template":"unknown","session":"5533ddf0-1903-4a75-8a8f-e421edeea73a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5533ddf0-1903-4a75-8a8f-e421edeea73a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.193Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.194Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.196Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.197Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.199Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/5533ddf0-1903-4a75-8a8f-e421edeea73a/incoming/original.pdf","chunks":81,"timestamp":1764855910207}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5242880}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5242880,"newSize":5242880,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/5533ddf0-1903-4a75-8a8f-e421edeea73a/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/5533ddf0-1903-4a75-8a8f-e421edeea73a/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:45:10.209Z","level":"warn","message":"resume_upload_failed","requestId":"5533ddf0-1903-4a75-8a8f-e421edeea73a","jobId":"510654d2-eef8-456f-b874-75f89ac9c7bd","storageError":false,"error":{"name":"MulterError","message":"File too large","code":"LIMIT_FILE_SIZE","stack":"MulterError: File too large\n    at abortWithCode (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:73:22)\n    at FileStream.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:136:11)\n    at FileStream.emit (node:events:513:28)\n    at SBMH.ssCb [as _cb] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:479:32)\n    at feed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:219:14)\n    at SBMH.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:391:12)\n    at _write (node:internal/streams/writable:332:10)\n    at Multipart.Writable.write (node:internal/streams/writable:336:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:754:22)\n    at IncomingMessage.emit (node:events:513:28)\n    at addChunk (node:internal/streams/readable:315:12)\n    at readableAddChunk (node:internal/streams/readable:289:9)\n    at IncomingMessage.Readable.push (node:internal/streams/readable:228:10)\n    at HTTPParser.parserOnBody (node:_http_common:140:24)"},"template":"unknown","session":"510654d2-eef8-456f-b874-75f89ac9c7bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"510654d2-eef8-456f-b874-75f89ac9c7bd","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:24780:7
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at node_modules/multer/lib/remove-uploaded-files.js:20:9
      at Object.cb [as _removeFile] (lib/uploads/s3StreamingStorage.js:166:9)
      at remove (node_modules/multer/lib/make-middleware.js:60:19)
      at handleFile (node_modules/multer/lib/remove-uploaded-files.js:10:5)
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:25:3)
      at Counter.<anonymous> (node_modules/multer/lib/make-middleware.js:63:9)
      at Counter.decrement (node_modules/multer/lib/counter.js:15:32)
      at node_modules/multer/lib/make-middleware.js:143:34
      at cb (lib/uploads/s3StreamingStorage.js:82:9)
      at FileStream.finish (lib/uploads/s3StreamingStorage.js:149:11)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:45:10.215Z","level":"warn","message":"api_error_response","requestId":"5533ddf0-1903-4a75-8a8f-e421edeea73a","jobId":"510654d2-eef8-456f-b874-75f89ac9c7bd","status":400,"error":{"code":"UPLOAD_VALIDATION_FAILED","message":"File too large","details":{"field":"resume"},"requestId":"5533ddf0-1903-4a75-8a8f-e421edeea73a","jobId":"510654d2-eef8-456f-b874-75f89ac9c7bd"},"template":"unknown","session":"510654d2-eef8-456f-b874-75f89ac9c7bd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"510654d2-eef8-456f-b874-75f89ac9c7bd","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at sendError (server.js:3964:3)
      at respond (server.js:24788:9)
      at server.js:24792:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at node_modules/multer/lib/remove-uploaded-files.js:20:9
      at Object.cb [as _removeFile] (lib/uploads/s3StreamingStorage.js:166:9)
      at remove (node_modules/multer/lib/make-middleware.js:60:19)
      at handleFile (node_modules/multer/lib/remove-uploaded-files.js:10:5)
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:25:3)
      at Counter.<anonymous> (node_modules/multer/lib/make-middleware.js:63:9)
      at Counter.decrement (node_modules/multer/lib/counter.js:15:32)
      at node_modules/multer/lib/make-middleware.js:143:34
      at cb (lib/uploads/s3StreamingStorage.js:82:9)
      at FileStream.finish (lib/uploads/s3StreamingStorage.js:149:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.221Z","level":"info","message":"http_request_completed","requestId":"5533ddf0-1903-4a75-8a8f-e421edeea73a","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":29,"contentLength":"215","template":"unknown","session":"5533ddf0-1903-4a75-8a8f-e421edeea73a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5533ddf0-1903-4a75-8a8f-e421edeea73a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.223Z","level":"info","message":"http_request_received","requestId":"cf14a3f8-ff53-4920-a1cf-0df5ef05e89a","method":"POST","path":"/api/process-cv","template":"unknown","session":"cf14a3f8-ff53-4920-a1cf-0df5ef05e89a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf14a3f8-ff53-4920-a1cf-0df5ef05e89a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.224Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.226Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.227Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.229Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.230Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/cf14a3f8-ff53-4920-a1cf-0df5ef05e89a/incoming/original.pdf","chunks":1,"timestamp":1764855910235}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/cf14a3f8-ff53-4920-a1cf-0df5ef05e89a/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/cf14a3f8-ff53-4920-a1cf-0df5ef05e89a/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.236Z","level":"info","message":"process_cv_started","requestId":"cf14a3f8-ff53-4920-a1cf-0df5ef05e89a","jobId":"c37b58c5-20fd-404b-8639-ea1c43e578c9","manualJobDescriptionProvided":true,"template":"unknown","session":"c37b58c5-20fd-404b-8639-ea1c43e578c9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c37b58c5-20fd-404b-8639-ea1c43e578c9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.236Z","level":"info","message":"template_selection","requestId":"cf14a3f8-ff53-4920-a1cf-0df5ef05e89a","jobId":"c37b58c5-20fd-404b-8639-ea1c43e578c9","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"c37b58c5-20fd-404b-8639-ea1c43e578c9","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c37b58c5-20fd-404b-8639-ea1c43e578c9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:10.237Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"cf14a3f8-ff53-4920-a1cf-0df5ef05e89a","jobId":"c37b58c5-20fd-404b-8639-ea1c43e578c9","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"c37b58c5-20fd-404b-8639-ea1c43e578c9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c37b58c5-20fd-404b-8639-ea1c43e578c9","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:45:10.242Z","level":"info","message":"initial_upload_completed","requestId":"cf14a3f8-ff53-4920-a1cf-0df5ef05e89a","jobId":"c37b58c5-20fd-404b-8639-ea1c43e578c9","bucket":"test-bucket","key":"cv/candidate/cf14a3f8-ff53-4920-a1cf-0df5ef05e89a/incoming/original.pdf","template":"unknown","session":"c37b58c5-20fd-404b-8639-ea1c43e578c9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c37b58c5-20fd-404b-8639-ea1c43e578c9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.243Z","level":"info","message":"resume_text_extracted","requestId":"cf14a3f8-ff53-4920-a1cf-0df5ef05e89a","jobId":"c37b58c5-20fd-404b-8639-ea1c43e578c9","characters":70,"template":"unknown","session":"c37b58c5-20fd-404b-8639-ea1c43e578c9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c37b58c5-20fd-404b-8639-ea1c43e578c9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.243Z","level":"info","message":"document_classification_ai_metrics","requestId":"cf14a3f8-ff53-4920-a1cf-0df5ef05e89a","jobId":"c37b58c5-20fd-404b-8639-ea1c43e578c9","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"6e7cfda39efd36ecdd0998d74c5dc8668e761fe838cd589d1b8e87517f67efbf","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"c37b58c5-20fd-404b-8639-ea1c43e578c9","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"c37b58c5-20fd-404b-8639-ea1c43e578c9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.244Z","level":"info","message":"resume_classified","requestId":"cf14a3f8-ff53-4920-a1cf-0df5ef05e89a","jobId":"c37b58c5-20fd-404b-8639-ea1c43e578c9","isResume":false,"description":"an invoice document","confidence":0.4,"accepted":false,"overridden":false,"template":"unknown","session":"c37b58c5-20fd-404b-8639-ea1c43e578c9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c37b58c5-20fd-404b-8639-ea1c43e578c9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:45:10.244Z","level":"warn","message":"resume_validation_failed","requestId":"cf14a3f8-ff53-4920-a1cf-0df5ef05e89a","jobId":"c37b58c5-20fd-404b-8639-ea1c43e578c9","reason":"not_identified_as_resume","description":"an invoice document","confidence":0.4,"wordCount":12,"invalidKey":"invalid/candidate/2025-12-04/cf14a3f8-ff53-4920-a1cf-0df5ef05e89a/an-invoice-4a671c00-b4e2-4f85-95f4-9bcd2ca0b13d.pdf","classification":"an invoice","template":"unknown","session":"c37b58c5-20fd-404b-8639-ea1c43e578c9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c37b58c5-20fd-404b-8639-ea1c43e578c9","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25667:9
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:45:10.249Z","level":"warn","message":"api_error_response","requestId":"cf14a3f8-ff53-4920-a1cf-0df5ef05e89a","jobId":"c37b58c5-20fd-404b-8639-ea1c43e578c9","status":400,"error":{"code":"INVALID_RESUME_CONTENT","message":"You have uploaded an invoice document (classified as \"invoice\"). Detected invoice document keywords such as \"invoice\", \"bill to\", and \"payment terms\". Please upload a correct CV or resume to continue.","details":{"description":"an invoice document","confidence":0.4,"reason":"Detected invoice document keywords such as \"invoice\", \"bill to\", and \"payment terms\".","classification":"an invoice","className":"invoice","storageKey":"invalid/candidate/2025-12-04/cf14a3f8-ff53-4920-a1cf-0df5ef05e89a/an-invoice-4a671c00-b4e2-4f85-95f4-9bcd2ca0b13d.pdf","invalidStorageKey":"invalid/candidate/2025-12-04/cf14a3f8-ff53-4920-a1cf-0df5ef05e89a/an-invoice-4a671c00-b4e2-4f85-95f4-9bcd2ca0b13d.pdf"},"requestId":"cf14a3f8-ff53-4920-a1cf-0df5ef05e89a","jobId":"c37b58c5-20fd-404b-8639-ea1c43e578c9"},"template":"unknown","session":"c37b58c5-20fd-404b-8639-ea1c43e578c9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c37b58c5-20fd-404b-8639-ea1c43e578c9","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at sendError (server.js:3964:3)
      at server.js:25742:14
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.255Z","level":"info","message":"http_request_completed","requestId":"cf14a3f8-ff53-4920-a1cf-0df5ef05e89a","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":32,"contentLength":"871","template":"unknown","session":"cf14a3f8-ff53-4920-a1cf-0df5ef05e89a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf14a3f8-ff53-4920-a1cf-0df5ef05e89a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.257Z","level":"info","message":"http_request_received","requestId":"176d128c-f13c-401b-80ad-2779abdba648","method":"POST","path":"/api/process-cv","template":"unknown","session":"176d128c-f13c-401b-80ad-2779abdba648","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"176d128c-f13c-401b-80ad-2779abdba648","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.258Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.260Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.261Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.262Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.264Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/176d128c-f13c-401b-80ad-2779abdba648/incoming/original.pdf","chunks":1,"timestamp":1764855910268}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":203,"durationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/176d128c-f13c-401b-80ad-2779abdba648/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/176d128c-f13c-401b-80ad-2779abdba648/incoming/original.pdf","uploadDurationMs":1,"totalDurationMs":4}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.272Z","level":"info","message":"process_cv_started","requestId":"176d128c-f13c-401b-80ad-2779abdba648","jobId":"aad854e8-6e23-4fe0-b312-c694b553fb45","manualJobDescriptionProvided":true,"template":"unknown","session":"aad854e8-6e23-4fe0-b312-c694b553fb45","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aad854e8-6e23-4fe0-b312-c694b553fb45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.272Z","level":"info","message":"template_selection","requestId":"176d128c-f13c-401b-80ad-2779abdba648","jobId":"aad854e8-6e23-4fe0-b312-c694b553fb45","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"aad854e8-6e23-4fe0-b312-c694b553fb45","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"aad854e8-6e23-4fe0-b312-c694b553fb45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.273Z","level":"info","message":"initial_upload_completed","requestId":"176d128c-f13c-401b-80ad-2779abdba648","jobId":"aad854e8-6e23-4fe0-b312-c694b553fb45","bucket":"test-bucket","key":"cv/candidate/176d128c-f13c-401b-80ad-2779abdba648/incoming/original.pdf","template":"unknown","session":"aad854e8-6e23-4fe0-b312-c694b553fb45","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aad854e8-6e23-4fe0-b312-c694b553fb45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.273Z","level":"info","message":"resume_text_extracted","requestId":"176d128c-f13c-401b-80ad-2779abdba648","jobId":"aad854e8-6e23-4fe0-b312-c694b553fb45","characters":52,"template":"unknown","session":"aad854e8-6e23-4fe0-b312-c694b553fb45","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aad854e8-6e23-4fe0-b312-c694b553fb45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.274Z","level":"info","message":"document_classification_ai_metrics","requestId":"176d128c-f13c-401b-80ad-2779abdba648","jobId":"aad854e8-6e23-4fe0-b312-c694b553fb45","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"b660b3e8ecbc83aad9e6543dcb4a0d862627f82012d98cdb58b183fb5f0cc539","outputDigest":"ce4b8bd954f55aa4d760051876705884299536b3f182fa6f09cbd2aaee0a6b16","latencyMs":0,"isResume":false,"confidence":0.2,"template":"document_classification","session":"aad854e8-6e23-4fe0-b312-c694b553fb45","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"aad854e8-6e23-4fe0-b312-c694b553fb45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.275Z","level":"info","message":"resume_classified","requestId":"176d128c-f13c-401b-80ad-2779abdba648","jobId":"aad854e8-6e23-4fe0-b312-c694b553fb45","isResume":false,"description":"a short memo","confidence":0.2,"accepted":false,"overridden":false,"template":"unknown","session":"aad854e8-6e23-4fe0-b312-c694b553fb45","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aad854e8-6e23-4fe0-b312-c694b553fb45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:45:10.275Z","level":"warn","message":"resume_validation_failed","requestId":"176d128c-f13c-401b-80ad-2779abdba648","jobId":"aad854e8-6e23-4fe0-b312-c694b553fb45","reason":"not_identified_as_resume","description":"a short memo","confidence":0.2,"wordCount":9,"invalidKey":"invalid/candidate/2025-12-04/176d128c-f13c-401b-80ad-2779abdba648/a-short-memo-e572c39b-6617-4931-9904-246b950109fd.docx","classification":"a short memo","template":"unknown","session":"aad854e8-6e23-4fe0-b312-c694b553fb45","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aad854e8-6e23-4fe0-b312-c694b553fb45","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25667:9
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:45:10.280Z","level":"warn","message":"api_error_response","requestId":"176d128c-f13c-401b-80ad-2779abdba648","jobId":"aad854e8-6e23-4fe0-b312-c694b553fb45","status":400,"error":{"code":"INVALID_RESUME_CONTENT","message":"You have uploaded a short memo document (classified as \"short_memo\"). Missing resume structure. Please upload a correct CV or resume to continue.","details":{"description":"a short memo","confidence":0.2,"reason":"Missing resume structure.","classification":"a short memo","className":"short_memo","storageKey":"invalid/candidate/2025-12-04/176d128c-f13c-401b-80ad-2779abdba648/a-short-memo-e572c39b-6617-4931-9904-246b950109fd.docx","invalidStorageKey":"invalid/candidate/2025-12-04/176d128c-f13c-401b-80ad-2779abdba648/a-short-memo-e572c39b-6617-4931-9904-246b950109fd.docx"},"requestId":"176d128c-f13c-401b-80ad-2779abdba648","jobId":"aad854e8-6e23-4fe0-b312-c694b553fb45"},"template":"unknown","session":"aad854e8-6e23-4fe0-b312-c694b553fb45","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aad854e8-6e23-4fe0-b312-c694b553fb45","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at sendError (server.js:3964:3)
      at server.js:25742:14
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.285Z","level":"info","message":"http_request_completed","requestId":"176d128c-f13c-401b-80ad-2779abdba648","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":28,"contentLength":"748","template":"unknown","session":"176d128c-f13c-401b-80ad-2779abdba648","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"176d128c-f13c-401b-80ad-2779abdba648","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.287Z","level":"info","message":"http_request_received","requestId":"ffaa0366-afaf-46f4-9de7-471f850c825b","method":"POST","path":"/api/process-cv","template":"unknown","session":"ffaa0366-afaf-46f4-9de7-471f850c825b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ffaa0366-afaf-46f4-9de7-471f850c825b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.288Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.289Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.290Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.292Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.294Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/ffaa0366-afaf-46f4-9de7-471f850c825b/incoming/original.pdf","chunks":1,"timestamp":1764855910295}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/ffaa0366-afaf-46f4-9de7-471f850c825b/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/ffaa0366-afaf-46f4-9de7-471f850c825b/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.297Z","level":"info","message":"process_cv_started","requestId":"ffaa0366-afaf-46f4-9de7-471f850c825b","jobId":"504c3682-10d6-4503-af30-9856b9a99d31","manualJobDescriptionProvided":false,"template":"unknown","session":"504c3682-10d6-4503-af30-9856b9a99d31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"504c3682-10d6-4503-af30-9856b9a99d31","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.297Z","level":"info","message":"template_selection","requestId":"ffaa0366-afaf-46f4-9de7-471f850c825b","jobId":"504c3682-10d6-4503-af30-9856b9a99d31","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"504c3682-10d6-4503-af30-9856b9a99d31","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"504c3682-10d6-4503-af30-9856b9a99d31","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:10.297Z","level":"warn","message":"job_description_missing","requestId":"ffaa0366-afaf-46f4-9de7-471f850c825b","jobId":"504c3682-10d6-4503-af30-9856b9a99d31","template":"unknown","session":"504c3682-10d6-4503-af30-9856b9a99d31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"504c3682-10d6-4503-af30-9856b9a99d31","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25096:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T13:45:10.303Z","level":"warn","message":"api_error_response","requestId":"ffaa0366-afaf-46f4-9de7-471f850c825b","jobId":"504c3682-10d6-4503-af30-9856b9a99d31","status":400,"error":{"code":"JOB_DESCRIPTION_REQUIRED","message":"manualJobDescription required","details":{"field":"manualJobDescription"},"requestId":"ffaa0366-afaf-46f4-9de7-471f850c825b","jobId":"504c3682-10d6-4503-af30-9856b9a99d31"},"template":"unknown","session":"504c3682-10d6-4503-af30-9856b9a99d31","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"504c3682-10d6-4503-af30-9856b9a99d31","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at sendError (server.js:3964:3)
      at server.js:25097:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:45:10.309Z","level":"info","message":"http_request_completed","requestId":"ffaa0366-afaf-46f4-9de7-471f850c825b","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":22,"contentLength":"244","template":"unknown","session":"ffaa0366-afaf-46f4-9de7-471f850c825b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ffaa0366-afaf-46f4-9de7-471f850c825b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.312Z","level":"info","message":"http_request_received","requestId":"b7756cf3-b0c9-42bf-933e-9d72add8a1cb","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"b7756cf3-b0c9-42bf-933e-9d72add8a1cb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b7756cf3-b0c9-42bf-933e-9d72add8a1cb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.313Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.314Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.315Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.317Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.317Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:10.319Z","level":"warn","message":"api_error_response","requestId":"b7756cf3-b0c9-42bf-933e-9d72add8a1cb","jobId":"38172f91-09fd-4772-a742-2aa0317b2a68","status":400,"error":{"code":"JOB_ID_REQUIRED","message":"jobId is required to generate enhanced documents.","details":{},"requestId":"b7756cf3-b0c9-42bf-933e-9d72add8a1cb","jobId":"38172f91-09fd-4772-a742-2aa0317b2a68"},"template":"unknown","session":"38172f91-09fd-4772-a742-2aa0317b2a68","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"38172f91-09fd-4772-a742-2aa0317b2a68","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at sendError (server.js:3964:3)
      at server.js:22506:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at assignJobContext (server.js:16417:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at serveStatic (node_modules/serve-static/index.js:75:16)
      at server.js:4952:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at tryServeHashedIndexAssetFromS3 (server.js:1186:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at serveIndexAssetAlias (server.js:1521:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4934:5
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4928:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at urlencodedParser (node_modules/body-parser/lib/types/urlencoded.js:85:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/body-parser/lib/read.js:137:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

  console.log
    {"timestamp":"2025-12-04T13:45:10.328Z","level":"info","message":"http_request_completed","requestId":"b7756cf3-b0c9-42bf-933e-9d72add8a1cb","method":"POST","path":"/api/generate-enhanced-docs","statusCode":400,"durationMs":16,"contentLength":"225","template":"unknown","session":"b7756cf3-b0c9-42bf-933e-9d72add8a1cb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b7756cf3-b0c9-42bf-933e-9d72add8a1cb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.330Z","level":"info","message":"http_request_received","requestId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.331Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.332Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.334Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.335Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.336Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:10.337Z","level":"warn","message":"generation_job_context_missing","requestId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:22698:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.344Z","level":"info","message":"llm_call_metrics","requestId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"7ff1a2fe49f8d71808c8d1fdb99db5320bf5a75739ee80e7efed665ea9588077","outputDigest":"5af248b63fed3c73350376c1d32988fbeb95f6a40181a19b7e450c5651a56ea6","addedSkillCount":0,"template":"resume_rewrite","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.344Z","level":"info","message":"generation_section_rewrite_completed","requestId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.346Z","level":"info","message":"generation_resume_verified","requestId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","template":"unknown","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:45:10.350Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
          at runMicrotasks (<anonymous>)
      at server.js:23001:28

  console.log
    {"timestamp":"2025-12-04T13:45:10.356Z","level":"info","message":"generation_cover_letters_completed","requestId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","variants":2,"fallbackApplied":true,"template":"unknown","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.357Z","level":"info","message":"pdf_generation_attempt","requestId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/ca80ed73-8828-4ccc-95da-ed36ac56a9ca/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jane_doe/ca80ed73-8828-4ccc-95da-ed36ac56a9ca/enhanced_modern.pdf","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.357Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/ca80ed73-8828-4ccc-95da-ed36ac56a9ca/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.358Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/ca80ed73-8828-4ccc-95da-ed36ac56a9ca/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jane_doe/ca80ed73-8828-4ccc-95da-ed36ac56a9ca/enhanced_modern.pdf","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.358Z","level":"info","message":"pdf_generation_attempt","requestId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/ca80ed73-8828-4ccc-95da-ed36ac56a9ca/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jane_doe/ca80ed73-8828-4ccc-95da-ed36ac56a9ca/enhanced_professional.pdf","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.358Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/ca80ed73-8828-4ccc-95da-ed36ac56a9ca/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.359Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/ca80ed73-8828-4ccc-95da-ed36ac56a9ca/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jane_doe/ca80ed73-8828-4ccc-95da-ed36ac56a9ca/enhanced_professional.pdf","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.359Z","level":"info","message":"pdf_generation_attempt","requestId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/ca80ed73-8828-4ccc-95da-ed36ac56a9ca/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jane_doe/ca80ed73-8828-4ccc-95da-ed36ac56a9ca/cover_letter_cover_modern.pdf","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.360Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/ca80ed73-8828-4ccc-95da-ed36ac56a9ca/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.360Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/ca80ed73-8828-4ccc-95da-ed36ac56a9ca/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jane_doe/ca80ed73-8828-4ccc-95da-ed36ac56a9ca/cover_letter_cover_modern.pdf","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.361Z","level":"info","message":"pdf_generation_attempt","requestId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/ca80ed73-8828-4ccc-95da-ed36ac56a9ca/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jane_doe/ca80ed73-8828-4ccc-95da-ed36ac56a9ca/cover_letter_cover_professional.pdf","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.361Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/ca80ed73-8828-4ccc-95da-ed36ac56a9ca/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.361Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/ca80ed73-8828-4ccc-95da-ed36ac56a9ca/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jane_doe/ca80ed73-8828-4ccc-95da-ed36ac56a9ca/cover_letter_cover_professional.pdf","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.363Z","level":"info","message":"llm_call_metrics","requestId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.364Z","level":"info","message":"generation_completed","requestId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","enhancedScore":0,"outputs":4,"template":"unknown","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.365Z","level":"info","message":"http_request_completed","requestId":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":35,"contentLength":"55422","template":"unknown","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca80ed73-8828-4ccc-95da-ed36ac56a9ca","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.368Z","level":"info","message":"http_request_received","requestId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.369Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.370Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.372Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.373Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.374Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:10.375Z","level":"warn","message":"generation_job_context_missing","requestId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:22698:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.385Z","level":"info","message":"llm_call_metrics","requestId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.386Z","level":"info","message":"generation_section_rewrite_completed","requestId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.389Z","level":"info","message":"generation_resume_verified","requestId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","template":"unknown","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:45:10.400Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
          at runMicrotasks (<anonymous>)
      at server.js:23001:28

  console.log
    {"timestamp":"2025-12-04T13:45:10.405Z","level":"info","message":"generation_cover_letters_completed","requestId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","variants":2,"fallbackApplied":true,"template":"unknown","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.406Z","level":"info","message":"pdf_generation_attempt","requestId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/c3108bb5-2fb4-4d53-b51f-4f56b107efa7/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/c3108bb5-2fb4-4d53-b51f-4f56b107efa7/enhanced_modern.pdf","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.406Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/c3108bb5-2fb4-4d53-b51f-4f56b107efa7/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.407Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/c3108bb5-2fb4-4d53-b51f-4f56b107efa7/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/c3108bb5-2fb4-4d53-b51f-4f56b107efa7/enhanced_modern.pdf","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.407Z","level":"info","message":"pdf_generation_attempt","requestId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/c3108bb5-2fb4-4d53-b51f-4f56b107efa7/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/c3108bb5-2fb4-4d53-b51f-4f56b107efa7/enhanced_professional.pdf","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.408Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/c3108bb5-2fb4-4d53-b51f-4f56b107efa7/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.408Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/c3108bb5-2fb4-4d53-b51f-4f56b107efa7/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/c3108bb5-2fb4-4d53-b51f-4f56b107efa7/enhanced_professional.pdf","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.409Z","level":"info","message":"pdf_generation_attempt","requestId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/c3108bb5-2fb4-4d53-b51f-4f56b107efa7/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/c3108bb5-2fb4-4d53-b51f-4f56b107efa7/cover_letter_cover_modern.pdf","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.409Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/c3108bb5-2fb4-4d53-b51f-4f56b107efa7/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.410Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/c3108bb5-2fb4-4d53-b51f-4f56b107efa7/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/c3108bb5-2fb4-4d53-b51f-4f56b107efa7/cover_letter_cover_modern.pdf","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.410Z","level":"info","message":"pdf_generation_attempt","requestId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/c3108bb5-2fb4-4d53-b51f-4f56b107efa7/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/c3108bb5-2fb4-4d53-b51f-4f56b107efa7/cover_letter_cover_professional.pdf","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.410Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/c3108bb5-2fb4-4d53-b51f-4f56b107efa7/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.411Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/c3108bb5-2fb4-4d53-b51f-4f56b107efa7/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/c3108bb5-2fb4-4d53-b51f-4f56b107efa7/cover_letter_cover_professional.pdf","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.415Z","level":"info","message":"llm_call_metrics","requestId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.416Z","level":"info","message":"generation_completed","requestId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","enhancedScore":0,"outputs":4,"template":"unknown","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.418Z","level":"info","message":"http_request_completed","requestId":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":50,"contentLength":"60025","template":"unknown","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c3108bb5-2fb4-4d53-b51f-4f56b107efa7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.421Z","level":"info","message":"http_request_received","requestId":"328d9330-bb94-4821-817a-275f5d279e26","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.422Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.423Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.424Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.426Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.427Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:10.428Z","level":"warn","message":"generation_job_context_missing","requestId":"328d9330-bb94-4821-817a-275f5d279e26","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:22698:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.435Z","level":"info","message":"llm_call_metrics","requestId":"328d9330-bb94-4821-817a-275f5d279e26","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.437Z","level":"info","message":"generation_section_rewrite_completed","requestId":"328d9330-bb94-4821-817a-275f5d279e26","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"328d9330-bb94-4821-817a-275f5d279e26","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.440Z","level":"info","message":"generation_resume_verified","requestId":"328d9330-bb94-4821-817a-275f5d279e26","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"328d9330-bb94-4821-817a-275f5d279e26","template":"unknown","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:45:10.446Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"328d9330-bb94-4821-817a-275f5d279e26","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"328d9330-bb94-4821-817a-275f5d279e26","invalidLetters":[{"key":"cover_letter1","issues":["placeholder_detected","weak_closing","section_heading_without_content"]}],"template":"unknown","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
          at runMicrotasks (<anonymous>)
      at server.js:23001:28

  console.warn
    {"timestamp":"2025-12-04T13:45:10.467Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"328d9330-bb94-4821-817a-275f5d279e26","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"328d9330-bb94-4821-817a-275f5d279e26","missing":["cover_letter1"],"template":"unknown","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
          at runMicrotasks (<anonymous>)
      at server.js:23001:28

  console.log
    {"timestamp":"2025-12-04T13:45:10.474Z","level":"info","message":"generation_cover_letters_completed","requestId":"328d9330-bb94-4821-817a-275f5d279e26","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"328d9330-bb94-4821-817a-275f5d279e26","variants":2,"fallbackApplied":true,"template":"unknown","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.474Z","level":"info","message":"pdf_generation_attempt","requestId":"328d9330-bb94-4821-817a-275f5d279e26","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"328d9330-bb94-4821-817a-275f5d279e26","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/328d9330-bb94-4821-817a-275f5d279e26/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/328d9330-bb94-4821-817a-275f5d279e26/enhanced_modern.pdf","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.475Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"328d9330-bb94-4821-817a-275f5d279e26","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"328d9330-bb94-4821-817a-275f5d279e26","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/328d9330-bb94-4821-817a-275f5d279e26/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.476Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"328d9330-bb94-4821-817a-275f5d279e26","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"328d9330-bb94-4821-817a-275f5d279e26","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/328d9330-bb94-4821-817a-275f5d279e26/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/328d9330-bb94-4821-817a-275f5d279e26/enhanced_modern.pdf","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.476Z","level":"info","message":"pdf_generation_attempt","requestId":"328d9330-bb94-4821-817a-275f5d279e26","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"328d9330-bb94-4821-817a-275f5d279e26","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/328d9330-bb94-4821-817a-275f5d279e26/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/328d9330-bb94-4821-817a-275f5d279e26/enhanced_professional.pdf","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.477Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"328d9330-bb94-4821-817a-275f5d279e26","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"328d9330-bb94-4821-817a-275f5d279e26","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/328d9330-bb94-4821-817a-275f5d279e26/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.477Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"328d9330-bb94-4821-817a-275f5d279e26","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"328d9330-bb94-4821-817a-275f5d279e26","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/328d9330-bb94-4821-817a-275f5d279e26/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/328d9330-bb94-4821-817a-275f5d279e26/enhanced_professional.pdf","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.478Z","level":"info","message":"pdf_generation_attempt","requestId":"328d9330-bb94-4821-817a-275f5d279e26","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"328d9330-bb94-4821-817a-275f5d279e26","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/328d9330-bb94-4821-817a-275f5d279e26/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/328d9330-bb94-4821-817a-275f5d279e26/cover_letter_cover_modern.pdf","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.479Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"328d9330-bb94-4821-817a-275f5d279e26","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"328d9330-bb94-4821-817a-275f5d279e26","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/328d9330-bb94-4821-817a-275f5d279e26/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.479Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"328d9330-bb94-4821-817a-275f5d279e26","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"328d9330-bb94-4821-817a-275f5d279e26","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/328d9330-bb94-4821-817a-275f5d279e26/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/328d9330-bb94-4821-817a-275f5d279e26/cover_letter_cover_modern.pdf","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.480Z","level":"info","message":"pdf_generation_attempt","requestId":"328d9330-bb94-4821-817a-275f5d279e26","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"328d9330-bb94-4821-817a-275f5d279e26","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/328d9330-bb94-4821-817a-275f5d279e26/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/328d9330-bb94-4821-817a-275f5d279e26/cover_letter_cover_professional.pdf","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.480Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"328d9330-bb94-4821-817a-275f5d279e26","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"328d9330-bb94-4821-817a-275f5d279e26","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/328d9330-bb94-4821-817a-275f5d279e26/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.481Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"328d9330-bb94-4821-817a-275f5d279e26","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"328d9330-bb94-4821-817a-275f5d279e26","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/328d9330-bb94-4821-817a-275f5d279e26/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/328d9330-bb94-4821-817a-275f5d279e26/cover_letter_cover_professional.pdf","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.484Z","level":"info","message":"llm_call_metrics","requestId":"328d9330-bb94-4821-817a-275f5d279e26","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.485Z","level":"info","message":"generation_completed","requestId":"328d9330-bb94-4821-817a-275f5d279e26","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"328d9330-bb94-4821-817a-275f5d279e26","enhancedScore":0,"outputs":4,"template":"unknown","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.487Z","level":"info","message":"http_request_completed","requestId":"328d9330-bb94-4821-817a-275f5d279e26","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":66,"contentLength":"52626","template":"unknown","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"328d9330-bb94-4821-817a-275f5d279e26","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.499Z","level":"info","message":"http_request_received","requestId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.500Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.501Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.502Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.504Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.505Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:10.506Z","level":"warn","message":"generation_job_context_missing","requestId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:22698:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.514Z","level":"info","message":"llm_call_metrics","requestId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.515Z","level":"info","message":"generation_section_rewrite_completed","requestId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.518Z","level":"info","message":"generation_resume_verified","requestId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","template":"unknown","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:45:10.522Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing"]}],"template":"unknown","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
          at runMicrotasks (<anonymous>)
      at server.js:23001:28

  console.log
    {"timestamp":"2025-12-04T13:45:10.527Z","level":"info","message":"generation_cover_letters_confident_closing_applied","requestId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","variants":["cover_letter1"],"template":"unknown","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.529Z","level":"info","message":"generation_cover_letters_completed","requestId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","variants":2,"fallbackApplied":true,"template":"unknown","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.529Z","level":"info","message":"pdf_generation_attempt","requestId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/02f036e1-4822-4afa-ac25-5f5cd0e7f27c/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/02f036e1-4822-4afa-ac25-5f5cd0e7f27c/enhanced_modern.pdf","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.530Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/02f036e1-4822-4afa-ac25-5f5cd0e7f27c/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.530Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/02f036e1-4822-4afa-ac25-5f5cd0e7f27c/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/02f036e1-4822-4afa-ac25-5f5cd0e7f27c/enhanced_modern.pdf","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.531Z","level":"info","message":"pdf_generation_attempt","requestId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/02f036e1-4822-4afa-ac25-5f5cd0e7f27c/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/02f036e1-4822-4afa-ac25-5f5cd0e7f27c/enhanced_professional.pdf","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.531Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/02f036e1-4822-4afa-ac25-5f5cd0e7f27c/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.532Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/02f036e1-4822-4afa-ac25-5f5cd0e7f27c/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/02f036e1-4822-4afa-ac25-5f5cd0e7f27c/enhanced_professional.pdf","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.532Z","level":"info","message":"pdf_generation_attempt","requestId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/02f036e1-4822-4afa-ac25-5f5cd0e7f27c/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/02f036e1-4822-4afa-ac25-5f5cd0e7f27c/cover_letter_cover_modern.pdf","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.532Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/02f036e1-4822-4afa-ac25-5f5cd0e7f27c/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.533Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/02f036e1-4822-4afa-ac25-5f5cd0e7f27c/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/02f036e1-4822-4afa-ac25-5f5cd0e7f27c/cover_letter_cover_modern.pdf","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.533Z","level":"info","message":"pdf_generation_attempt","requestId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/02f036e1-4822-4afa-ac25-5f5cd0e7f27c/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/02f036e1-4822-4afa-ac25-5f5cd0e7f27c/cover_letter_cover_professional.pdf","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.534Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/02f036e1-4822-4afa-ac25-5f5cd0e7f27c/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.534Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/02f036e1-4822-4afa-ac25-5f5cd0e7f27c/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/02f036e1-4822-4afa-ac25-5f5cd0e7f27c/cover_letter_cover_professional.pdf","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.537Z","level":"info","message":"llm_call_metrics","requestId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.538Z","level":"info","message":"generation_completed","requestId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","enhancedScore":0,"outputs":4,"template":"unknown","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.539Z","level":"info","message":"http_request_completed","requestId":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":40,"contentLength":"48347","template":"unknown","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"02f036e1-4822-4afa-ac25-5f5cd0e7f27c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.544Z","level":"info","message":"http_request_received","requestId":"88d3b032-3f57-4f11-b611-95e83c273727","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.546Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.547Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.548Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.549Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.550Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:10.551Z","level":"warn","message":"generation_job_context_missing","requestId":"88d3b032-3f57-4f11-b611-95e83c273727","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:22698:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.559Z","level":"info","message":"llm_call_metrics","requestId":"88d3b032-3f57-4f11-b611-95e83c273727","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.559Z","level":"info","message":"generation_section_rewrite_completed","requestId":"88d3b032-3f57-4f11-b611-95e83c273727","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"88d3b032-3f57-4f11-b611-95e83c273727","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.562Z","level":"info","message":"generation_resume_verified","requestId":"88d3b032-3f57-4f11-b611-95e83c273727","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"88d3b032-3f57-4f11-b611-95e83c273727","template":"unknown","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:45:10.577Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"88d3b032-3f57-4f11-b611-95e83c273727","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"88d3b032-3f57-4f11-b611-95e83c273727","invalidLetters":[{"key":"cover_letter1","issues":["exceeds_word_limit"]},{"key":"cover_letter2","issues":["exceeds_word_limit"]}],"template":"unknown","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
          at runMicrotasks (<anonymous>)
      at server.js:23001:28

  console.warn
    {"timestamp":"2025-12-04T13:45:10.583Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"88d3b032-3f57-4f11-b611-95e83c273727","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"88d3b032-3f57-4f11-b611-95e83c273727","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
          at runMicrotasks (<anonymous>)
      at server.js:23001:28

  console.log
    {"timestamp":"2025-12-04T13:45:10.588Z","level":"info","message":"generation_cover_letters_completed","requestId":"88d3b032-3f57-4f11-b611-95e83c273727","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"88d3b032-3f57-4f11-b611-95e83c273727","variants":2,"fallbackApplied":true,"template":"unknown","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.589Z","level":"info","message":"pdf_generation_attempt","requestId":"88d3b032-3f57-4f11-b611-95e83c273727","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"88d3b032-3f57-4f11-b611-95e83c273727","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/88d3b032-3f57-4f11-b611-95e83c273727/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/88d3b032-3f57-4f11-b611-95e83c273727/enhanced_modern.pdf","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.589Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"88d3b032-3f57-4f11-b611-95e83c273727","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"88d3b032-3f57-4f11-b611-95e83c273727","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/88d3b032-3f57-4f11-b611-95e83c273727/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.590Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"88d3b032-3f57-4f11-b611-95e83c273727","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"88d3b032-3f57-4f11-b611-95e83c273727","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/88d3b032-3f57-4f11-b611-95e83c273727/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/88d3b032-3f57-4f11-b611-95e83c273727/enhanced_modern.pdf","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.590Z","level":"info","message":"pdf_generation_attempt","requestId":"88d3b032-3f57-4f11-b611-95e83c273727","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"88d3b032-3f57-4f11-b611-95e83c273727","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/88d3b032-3f57-4f11-b611-95e83c273727/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/88d3b032-3f57-4f11-b611-95e83c273727/enhanced_professional.pdf","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.591Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"88d3b032-3f57-4f11-b611-95e83c273727","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"88d3b032-3f57-4f11-b611-95e83c273727","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/88d3b032-3f57-4f11-b611-95e83c273727/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.592Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"88d3b032-3f57-4f11-b611-95e83c273727","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"88d3b032-3f57-4f11-b611-95e83c273727","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/88d3b032-3f57-4f11-b611-95e83c273727/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/88d3b032-3f57-4f11-b611-95e83c273727/enhanced_professional.pdf","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.592Z","level":"info","message":"pdf_generation_attempt","requestId":"88d3b032-3f57-4f11-b611-95e83c273727","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"88d3b032-3f57-4f11-b611-95e83c273727","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/88d3b032-3f57-4f11-b611-95e83c273727/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/88d3b032-3f57-4f11-b611-95e83c273727/cover_letter_cover_modern.pdf","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.593Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"88d3b032-3f57-4f11-b611-95e83c273727","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"88d3b032-3f57-4f11-b611-95e83c273727","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/88d3b032-3f57-4f11-b611-95e83c273727/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.593Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"88d3b032-3f57-4f11-b611-95e83c273727","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"88d3b032-3f57-4f11-b611-95e83c273727","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/88d3b032-3f57-4f11-b611-95e83c273727/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/88d3b032-3f57-4f11-b611-95e83c273727/cover_letter_cover_modern.pdf","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.594Z","level":"info","message":"pdf_generation_attempt","requestId":"88d3b032-3f57-4f11-b611-95e83c273727","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"88d3b032-3f57-4f11-b611-95e83c273727","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/88d3b032-3f57-4f11-b611-95e83c273727/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/88d3b032-3f57-4f11-b611-95e83c273727/cover_letter_cover_professional.pdf","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.594Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"88d3b032-3f57-4f11-b611-95e83c273727","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"88d3b032-3f57-4f11-b611-95e83c273727","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/88d3b032-3f57-4f11-b611-95e83c273727/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.595Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"88d3b032-3f57-4f11-b611-95e83c273727","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"88d3b032-3f57-4f11-b611-95e83c273727","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/88d3b032-3f57-4f11-b611-95e83c273727/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/88d3b032-3f57-4f11-b611-95e83c273727/cover_letter_cover_professional.pdf","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.601Z","level":"info","message":"llm_call_metrics","requestId":"88d3b032-3f57-4f11-b611-95e83c273727","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.602Z","level":"info","message":"generation_completed","requestId":"88d3b032-3f57-4f11-b611-95e83c273727","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"88d3b032-3f57-4f11-b611-95e83c273727","enhancedScore":0,"outputs":4,"template":"unknown","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.603Z","level":"info","message":"http_request_completed","requestId":"88d3b032-3f57-4f11-b611-95e83c273727","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":59,"contentLength":"60025","template":"unknown","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"88d3b032-3f57-4f11-b611-95e83c273727","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.607Z","level":"info","message":"http_request_received","requestId":"5143a142-5b22-4cd9-9027-38c7a6c9111e","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"5143a142-5b22-4cd9-9027-38c7a6c9111e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5143a142-5b22-4cd9-9027-38c7a6c9111e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.608Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.609Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.610Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.612Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.612Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:10.613Z","level":"warn","message":"generation_job_context_missing","requestId":"5143a142-5b22-4cd9-9027-38c7a6c9111e","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"5143a142-5b22-4cd9-9027-38c7a6c9111e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5143a142-5b22-4cd9-9027-38c7a6c9111e","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:22698:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.620Z","level":"info","message":"llm_call_metrics","requestId":"5143a142-5b22-4cd9-9027-38c7a6c9111e","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d49fc3c9f3e6b68c516d8ed2277f352be0cdf73d24dc9159a6ddd8d2156f86c9","outputDigest":"df45602e27dd18441258611754779b1df94aaddbe2a7ac6965c12432f6053bc4","addedSkillCount":0,"template":"resume_rewrite","session":"5143a142-5b22-4cd9-9027-38c7a6c9111e","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"5143a142-5b22-4cd9-9027-38c7a6c9111e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.621Z","level":"info","message":"generation_section_rewrite_completed","requestId":"5143a142-5b22-4cd9-9027-38c7a6c9111e","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5143a142-5b22-4cd9-9027-38c7a6c9111e","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"5143a142-5b22-4cd9-9027-38c7a6c9111e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5143a142-5b22-4cd9-9027-38c7a6c9111e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.622Z","level":"info","message":"generation_resume_verified","requestId":"5143a142-5b22-4cd9-9027-38c7a6c9111e","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5143a142-5b22-4cd9-9027-38c7a6c9111e","template":"unknown","session":"5143a142-5b22-4cd9-9027-38c7a6c9111e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5143a142-5b22-4cd9-9027-38c7a6c9111e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:45:10.625Z","level":"warn","message":"generation_cover_letters_unavailable","requestId":"5143a142-5b22-4cd9-9027-38c7a6c9111e","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5143a142-5b22-4cd9-9027-38c7a6c9111e","unavailable":["cover_letter1","cover_letter2"],"template":"unknown","session":"5143a142-5b22-4cd9-9027-38c7a6c9111e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5143a142-5b22-4cd9-9027-38c7a6c9111e","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20741:7)
          at runMicrotasks (<anonymous>)
      at server.js:23001:28

  console.log
    {"timestamp":"2025-12-04T13:45:10.630Z","level":"info","message":"generation_cover_letters_completed","requestId":"5143a142-5b22-4cd9-9027-38c7a6c9111e","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5143a142-5b22-4cd9-9027-38c7a6c9111e","variants":0,"fallbackApplied":false,"template":"unknown","session":"5143a142-5b22-4cd9-9027-38c7a6c9111e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5143a142-5b22-4cd9-9027-38c7a6c9111e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.631Z","level":"info","message":"pdf_generation_attempt","requestId":"5143a142-5b22-4cd9-9027-38c7a6c9111e","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5143a142-5b22-4cd9-9027-38c7a6c9111e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/5143a142-5b22-4cd9-9027-38c7a6c9111e/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jamie_doe/5143a142-5b22-4cd9-9027-38c7a6c9111e/enhanced_modern.pdf","session":"5143a142-5b22-4cd9-9027-38c7a6c9111e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5143a142-5b22-4cd9-9027-38c7a6c9111e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.631Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5143a142-5b22-4cd9-9027-38c7a6c9111e","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5143a142-5b22-4cd9-9027-38c7a6c9111e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/5143a142-5b22-4cd9-9027-38c7a6c9111e/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5143a142-5b22-4cd9-9027-38c7a6c9111e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5143a142-5b22-4cd9-9027-38c7a6c9111e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.632Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5143a142-5b22-4cd9-9027-38c7a6c9111e","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5143a142-5b22-4cd9-9027-38c7a6c9111e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/5143a142-5b22-4cd9-9027-38c7a6c9111e/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jamie_doe/5143a142-5b22-4cd9-9027-38c7a6c9111e/enhanced_modern.pdf","session":"5143a142-5b22-4cd9-9027-38c7a6c9111e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5143a142-5b22-4cd9-9027-38c7a6c9111e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.632Z","level":"info","message":"pdf_generation_attempt","requestId":"5143a142-5b22-4cd9-9027-38c7a6c9111e","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5143a142-5b22-4cd9-9027-38c7a6c9111e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/5143a142-5b22-4cd9-9027-38c7a6c9111e/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jamie_doe/5143a142-5b22-4cd9-9027-38c7a6c9111e/enhanced_professional.pdf","session":"5143a142-5b22-4cd9-9027-38c7a6c9111e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5143a142-5b22-4cd9-9027-38c7a6c9111e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.632Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5143a142-5b22-4cd9-9027-38c7a6c9111e","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5143a142-5b22-4cd9-9027-38c7a6c9111e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/5143a142-5b22-4cd9-9027-38c7a6c9111e/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5143a142-5b22-4cd9-9027-38c7a6c9111e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5143a142-5b22-4cd9-9027-38c7a6c9111e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.633Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5143a142-5b22-4cd9-9027-38c7a6c9111e","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5143a142-5b22-4cd9-9027-38c7a6c9111e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/5143a142-5b22-4cd9-9027-38c7a6c9111e/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jamie_doe/5143a142-5b22-4cd9-9027-38c7a6c9111e/enhanced_professional.pdf","session":"5143a142-5b22-4cd9-9027-38c7a6c9111e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5143a142-5b22-4cd9-9027-38c7a6c9111e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.634Z","level":"info","message":"llm_call_metrics","requestId":"5143a142-5b22-4cd9-9027-38c7a6c9111e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"5143a142-5b22-4cd9-9027-38c7a6c9111e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"5143a142-5b22-4cd9-9027-38c7a6c9111e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.635Z","level":"info","message":"generation_completed","requestId":"5143a142-5b22-4cd9-9027-38c7a6c9111e","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5143a142-5b22-4cd9-9027-38c7a6c9111e","enhancedScore":0,"outputs":2,"template":"unknown","session":"5143a142-5b22-4cd9-9027-38c7a6c9111e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5143a142-5b22-4cd9-9027-38c7a6c9111e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.636Z","level":"info","message":"http_request_completed","requestId":"5143a142-5b22-4cd9-9027-38c7a6c9111e","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":29,"contentLength":"32129","template":"unknown","session":"5143a142-5b22-4cd9-9027-38c7a6c9111e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5143a142-5b22-4cd9-9027-38c7a6c9111e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.639Z","level":"info","message":"http_request_received","requestId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.640Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.642Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.643Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.644Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.645Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:10.648Z","level":"warn","message":"generation_change_log_load_failed","requestId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","bucket":"test-bucket","key":"cv/candidate/session/logs/change-log.json","error":{"name":"ReferenceError","message":"sessionScoreSnapshot is not defined","stack":"ReferenceError: sessionScoreSnapshot is not defined\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:22764:34\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:22766:13
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.653Z","level":"info","message":"generation_session_artifacts_refreshed","requestId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","reason":"job_description_changed","template":"unknown","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.655Z","level":"info","message":"llm_call_metrics","requestId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"acf1b9378acb575b229122bd0509d239fb40292b5a2de638f8974b10630dddf9","outputDigest":"d38deb915a9824cbd24a0a21322f3421cffa08850deba8b630d4c012e36accc6","addedSkillCount":0,"template":"resume_rewrite","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.655Z","level":"info","message":"generation_section_rewrite_completed","requestId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.656Z","level":"info","message":"llm_call_metrics","requestId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"a89c45c951abfe25af2671eb78aaf142165e3f6bd78d4b83089b4f9a78e64f20","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":1,"template":"project_summary","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.658Z","level":"info","message":"generation_resume_verified","requestId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","template":"unknown","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:45:10.660Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
          at runMicrotasks (<anonymous>)
      at server.js:23001:28

  console.warn
    {"timestamp":"2025-12-04T13:45:10.666Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
          at runMicrotasks (<anonymous>)
      at server.js:23001:28

  console.log
    {"timestamp":"2025-12-04T13:45:10.671Z","level":"info","message":"generation_cover_letters_completed","requestId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","variants":2,"fallbackApplied":true,"template":"unknown","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.672Z","level":"info","message":"pdf_generation_attempt","requestId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.672Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.673Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.673Z","level":"info","message":"pdf_generation_attempt","requestId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.673Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.674Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.674Z","level":"info","message":"pdf_generation_attempt","requestId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.675Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.675Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.676Z","level":"info","message":"pdf_generation_attempt","requestId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.676Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.676Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.678Z","level":"info","message":"llm_call_metrics","requestId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"6daad81d53ca29e2440dbdfd5e7ac149ac9bc677f5bd5a926b958a85793be6c1","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.679Z","level":"info","message":"generation_completed","requestId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","enhancedScore":0,"outputs":5,"template":"unknown","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.682Z","level":"info","message":"http_request_completed","requestId":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":43,"contentLength":"52667","template":"unknown","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59bf5f24-db14-4ccf-b09b-d10fb90a90fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.685Z","level":"info","message":"http_request_received","requestId":"8a098436-9c12-41e3-89e4-5c2638249c59","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.686Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.688Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.689Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.691Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.692Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:10.693Z","level":"warn","message":"generation_change_log_load_failed","requestId":"8a098436-9c12-41e3-89e4-5c2638249c59","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","bucket":"test-bucket","key":"cv/candidate/session/logs/change-log.json","error":{"name":"ReferenceError","message":"sessionScoreSnapshot is not defined","stack":"ReferenceError: sessionScoreSnapshot is not defined\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:22764:34\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:22766:13
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.698Z","level":"info","message":"generation_session_artifacts_refreshed","requestId":"8a098436-9c12-41e3-89e4-5c2638249c59","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","reason":"job_description_changed","template":"unknown","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.700Z","level":"info","message":"llm_call_metrics","requestId":"8a098436-9c12-41e3-89e4-5c2638249c59","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"fc71d2d7420045c9674c39d1bc893139670e4554452723b0b8930f14ae74efd1","outputDigest":"994365ee088ebf4da994d91479825476737b8633f45dc9441cf82f317f739457","addedSkillCount":0,"template":"resume_rewrite","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.701Z","level":"info","message":"generation_section_rewrite_completed","requestId":"8a098436-9c12-41e3-89e4-5c2638249c59","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8a098436-9c12-41e3-89e4-5c2638249c59","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.701Z","level":"info","message":"llm_call_metrics","requestId":"8a098436-9c12-41e3-89e4-5c2638249c59","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"2941229673895ce87f4eb2dd47c041b77270273e0250170302676d5a10351fbf","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":1,"template":"project_summary","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.703Z","level":"info","message":"generation_resume_verified","requestId":"8a098436-9c12-41e3-89e4-5c2638249c59","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8a098436-9c12-41e3-89e4-5c2638249c59","template":"unknown","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:45:10.707Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"8a098436-9c12-41e3-89e4-5c2638249c59","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8a098436-9c12-41e3-89e4-5c2638249c59","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
          at runMicrotasks (<anonymous>)
      at server.js:23001:28

  console.warn
    {"timestamp":"2025-12-04T13:45:10.713Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"8a098436-9c12-41e3-89e4-5c2638249c59","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8a098436-9c12-41e3-89e4-5c2638249c59","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
          at runMicrotasks (<anonymous>)
      at server.js:23001:28

  console.log
    {"timestamp":"2025-12-04T13:45:10.718Z","level":"info","message":"generation_cover_letters_completed","requestId":"8a098436-9c12-41e3-89e4-5c2638249c59","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8a098436-9c12-41e3-89e4-5c2638249c59","variants":2,"fallbackApplied":true,"template":"unknown","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.719Z","level":"info","message":"pdf_generation_attempt","requestId":"8a098436-9c12-41e3-89e4-5c2638249c59","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8a098436-9c12-41e3-89e4-5c2638249c59","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.719Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8a098436-9c12-41e3-89e4-5c2638249c59","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8a098436-9c12-41e3-89e4-5c2638249c59","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.720Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8a098436-9c12-41e3-89e4-5c2638249c59","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8a098436-9c12-41e3-89e4-5c2638249c59","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.720Z","level":"info","message":"pdf_generation_attempt","requestId":"8a098436-9c12-41e3-89e4-5c2638249c59","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8a098436-9c12-41e3-89e4-5c2638249c59","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.721Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8a098436-9c12-41e3-89e4-5c2638249c59","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8a098436-9c12-41e3-89e4-5c2638249c59","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.722Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8a098436-9c12-41e3-89e4-5c2638249c59","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8a098436-9c12-41e3-89e4-5c2638249c59","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.723Z","level":"info","message":"pdf_generation_attempt","requestId":"8a098436-9c12-41e3-89e4-5c2638249c59","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8a098436-9c12-41e3-89e4-5c2638249c59","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.723Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8a098436-9c12-41e3-89e4-5c2638249c59","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8a098436-9c12-41e3-89e4-5c2638249c59","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.724Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8a098436-9c12-41e3-89e4-5c2638249c59","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8a098436-9c12-41e3-89e4-5c2638249c59","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.725Z","level":"info","message":"pdf_generation_attempt","requestId":"8a098436-9c12-41e3-89e4-5c2638249c59","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8a098436-9c12-41e3-89e4-5c2638249c59","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.726Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8a098436-9c12-41e3-89e4-5c2638249c59","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8a098436-9c12-41e3-89e4-5c2638249c59","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.726Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8a098436-9c12-41e3-89e4-5c2638249c59","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8a098436-9c12-41e3-89e4-5c2638249c59","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.728Z","level":"info","message":"llm_call_metrics","requestId":"8a098436-9c12-41e3-89e4-5c2638249c59","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"bb70bada40357e7ad85703e98908783ac38c79f83207e1ee038136c2f4863594","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.729Z","level":"info","message":"generation_completed","requestId":"8a098436-9c12-41e3-89e4-5c2638249c59","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8a098436-9c12-41e3-89e4-5c2638249c59","enhancedScore":0,"outputs":5,"template":"unknown","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.730Z","level":"info","message":"http_request_completed","requestId":"8a098436-9c12-41e3-89e4-5c2638249c59","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":45,"contentLength":"50998","template":"unknown","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a098436-9c12-41e3-89e4-5c2638249c59","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.734Z","level":"info","message":"http_request_received","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","method":"POST","path":"/api/process-cv","template":"unknown","session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.735Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.737Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.738Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.739Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.741Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/6c4326dd-7ff6-43da-bb6c-1e384051cb4c/incoming/original.pdf","chunks":1,"timestamp":1764855910743}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/6c4326dd-7ff6-43da-bb6c-1e384051cb4c/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/6c4326dd-7ff6-43da-bb6c-1e384051cb4c/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.750Z","level":"info","message":"process_cv_started","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","jobId":"35072894-a46b-44c2-be69-df222e98ea6f","manualJobDescriptionProvided":true,"template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.751Z","level":"info","message":"template_selection","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","jobId":"35072894-a46b-44c2-be69-df222e98ea6f","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:10.752Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","jobId":"35072894-a46b-44c2-be69-df222e98ea6f","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:45:10.757Z","level":"info","message":"initial_upload_completed","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","jobId":"35072894-a46b-44c2-be69-df222e98ea6f","bucket":"test-bucket","key":"cv/candidate/6c4326dd-7ff6-43da-bb6c-1e384051cb4c/incoming/original.pdf","template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.758Z","level":"info","message":"resume_text_extracted","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","jobId":"35072894-a46b-44c2-be69-df222e98ea6f","characters":57,"template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.758Z","level":"info","message":"resume_classified","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","jobId":"35072894-a46b-44c2-be69-df222e98ea6f","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.759Z","level":"info","message":"raw_upload_relocated","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","jobId":"35072894-a46b-44c2-be69-df222e98ea6f","bucket":"test-bucket","fromKey":"cv/candidate/6c4326dd-7ff6-43da-bb6c-1e384051cb4c/incoming/original.pdf","toKey":"cv/professional_summary/6c4326dd-7ff6-43da-bb6c-1e384051cb4c/original.pdf","template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.759Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","jobId":"35072894-a46b-44c2-be69-df222e98ea6f","bucket":"test-bucket","key":"cv/professional_summary/6c4326dd-7ff6-43da-bb6c-1e384051cb4c/original.pdf","template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.759Z","level":"info","message":"dynamo_initial_record_written","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","jobId":"35072894-a46b-44c2-be69-df222e98ea6f","bucket":"test-bucket","key":"cv/professional_summary/6c4326dd-7ff6-43da-bb6c-1e384051cb4c/original.pdf","template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.760Z","level":"info","message":"upload_metadata_written","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","jobId":"35072894-a46b-44c2-be69-df222e98ea6f","bucket":"test-bucket","key":"cv/professional_summary/6c4326dd-7ff6-43da-bb6c-1e384051cb4c/logs/log.json","template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.760Z","level":"info","message":"job_description_supplied_manually","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","jobId":"35072894-a46b-44c2-be69-df222e98ea6f","characters":174,"template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.760Z","level":"info","message":"job_description_analyzed","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","jobId":"35072894-a46b-44c2-be69-df222e98ea6f","jobTitle":"","jobSkills":5,"template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.761Z","level":"info","message":"resume_skills_analyzed","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","jobId":"35072894-a46b-44c2-be69-df222e98ea6f","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.762Z","level":"info","message":"llm_call_metrics","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.762Z","level":"info","message":"process_cv_scoring_completed","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","jobId":"35072894-a46b-44c2-be69-df222e98ea6f","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.767Z","level":"info","message":"llm_call_metrics","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"e0b0f289a004a53fc90e2f086b7a8368b36f3cb57e330732da1cad386d479cd5","addedSkillCount":0,"template":"resume_rewrite","session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.767Z","level":"info","message":"generation_section_rewrite_completed","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","jobId":"35072894-a46b-44c2-be69-df222e98ea6f","generationRunId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.770Z","level":"info","message":"generation_resume_verified","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","jobId":"35072894-a46b-44c2-be69-df222e98ea6f","generationRunId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:45:10.773Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","jobId":"35072894-a46b-44c2-be69-df222e98ea6f","generationRunId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
          at runMicrotasks (<anonymous>)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:10.780Z","level":"info","message":"generation_cover_letters_completed","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","jobId":"35072894-a46b-44c2-be69-df222e98ea6f","generationRunId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","variants":2,"fallbackApplied":true,"template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.780Z","level":"info","message":"pdf_generation_attempt","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","jobId":"35072894-a46b-44c2-be69-df222e98ea6f","generationRunId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6c4326dd-7ff6-43da-bb6c-1e384051cb4c/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/6c4326dd-7ff6-43da-bb6c-1e384051cb4c/enhanced_modern.pdf","session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.781Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","jobId":"35072894-a46b-44c2-be69-df222e98ea6f","generationRunId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6c4326dd-7ff6-43da-bb6c-1e384051cb4c/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T13:45:10.782Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","jobId":"35072894-a46b-44c2-be69-df222e98ea6f","generationRunId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6c4326dd-7ff6-43da-bb6c-1e384051cb4c/","sessionId":"[REDACTED]","template":"modern","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3364:27)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/6c4326dd-7ff6-43da-bb6c-1e384051cb4c/enhanced_modern.pdf","environment":{"nodeEnv":"development","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
          at runMicrotasks (<anonymous>)
      at generateEnhancedDocumentsResponse (server.js:21302:11)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:45:10.787Z","level":"info","message":"pdf_generation_attempt","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","jobId":"35072894-a46b-44c2-be69-df222e98ea6f","generationRunId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6c4326dd-7ff6-43da-bb6c-1e384051cb4c/","sessionId":"[REDACTED]","template":"professional","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/6c4326dd-7ff6-43da-bb6c-1e384051cb4c/enhanced_professional.pdf","session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.788Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","jobId":"35072894-a46b-44c2-be69-df222e98ea6f","generationRunId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6c4326dd-7ff6-43da-bb6c-1e384051cb4c/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.788Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","jobId":"35072894-a46b-44c2-be69-df222e98ea6f","generationRunId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6c4326dd-7ff6-43da-bb6c-1e384051cb4c/","sessionId":"[REDACTED]","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/6c4326dd-7ff6-43da-bb6c-1e384051cb4c/enhanced_professional.pdf","session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.788Z","level":"info","message":"pdf_generation_attempt","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","jobId":"35072894-a46b-44c2-be69-df222e98ea6f","generationRunId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6c4326dd-7ff6-43da-bb6c-1e384051cb4c/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/6c4326dd-7ff6-43da-bb6c-1e384051cb4c/enhanced_professional.pdf","session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.789Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","jobId":"35072894-a46b-44c2-be69-df222e98ea6f","generationRunId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6c4326dd-7ff6-43da-bb6c-1e384051cb4c/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.789Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","jobId":"35072894-a46b-44c2-be69-df222e98ea6f","generationRunId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6c4326dd-7ff6-43da-bb6c-1e384051cb4c/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/6c4326dd-7ff6-43da-bb6c-1e384051cb4c/enhanced_professional.pdf","session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.790Z","level":"info","message":"pdf_generation_attempt","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","jobId":"35072894-a46b-44c2-be69-df222e98ea6f","generationRunId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6c4326dd-7ff6-43da-bb6c-1e384051cb4c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/6c4326dd-7ff6-43da-bb6c-1e384051cb4c/cover_letter_cover_modern.pdf","session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.790Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","jobId":"35072894-a46b-44c2-be69-df222e98ea6f","generationRunId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6c4326dd-7ff6-43da-bb6c-1e384051cb4c/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.791Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","jobId":"35072894-a46b-44c2-be69-df222e98ea6f","generationRunId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6c4326dd-7ff6-43da-bb6c-1e384051cb4c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":16,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/6c4326dd-7ff6-43da-bb6c-1e384051cb4c/cover_letter_cover_modern.pdf","session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.791Z","level":"info","message":"pdf_generation_attempt","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","jobId":"35072894-a46b-44c2-be69-df222e98ea6f","generationRunId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6c4326dd-7ff6-43da-bb6c-1e384051cb4c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/6c4326dd-7ff6-43da-bb6c-1e384051cb4c/cover_letter_cover_professional.pdf","session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.792Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","jobId":"35072894-a46b-44c2-be69-df222e98ea6f","generationRunId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6c4326dd-7ff6-43da-bb6c-1e384051cb4c/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.792Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","jobId":"35072894-a46b-44c2-be69-df222e98ea6f","generationRunId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6c4326dd-7ff6-43da-bb6c-1e384051cb4c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":22,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/6c4326dd-7ff6-43da-bb6c-1e384051cb4c/cover_letter_cover_professional.pdf","session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.794Z","level":"info","message":"llm_call_metrics","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"b81624598eca82514b81f4fd0ef858c4f8eda9605bf4a3b33ed31144fa2daed3","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.795Z","level":"info","message":"generation_completed","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","jobId":"35072894-a46b-44c2-be69-df222e98ea6f","generationRunId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","enhancedScore":80,"outputs":5,"template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.796Z","level":"info","message":"placeholder_record_deleted","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","jobId":"35072894-a46b-44c2-be69-df222e98ea6f","placeholderIdentifier":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"35072894-a46b-44c2-be69-df222e98ea6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.798Z","level":"info","message":"http_request_completed","requestId":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":64,"contentLength":"59519","template":"unknown","session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6c4326dd-7ff6-43da-bb6c-1e384051cb4c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.800Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"2025","attempt":1,"totalAttempts":2,"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.803Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"2025","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T13:45:10.804Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"2025","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","code":"TEMPLATE_RENDER_FAILED","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3469:25)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3483:20)

  console.log
    {"timestamp":"2025-12-04T13:45:10.809Z","level":"info","message":"pdf_generation_backstop_succeeded","documentType":"resume","template":"2025","templatesBackstopped":["2025"],"backstopResults":[{"templateId":"2025","bytes":1024}],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.810Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"modern","attempt":2,"totalAttempts":2,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.810Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.811Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"modern","attempt":2,"bytes":10,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.812Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"modern","attempt":1,"totalAttempts":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.813Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T13:45:10.813Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"modern","attempt":1,"error":{"name":"Error","message":"Modern renderer unavailable","stack":"Error: Modern renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3508:30)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3512:20)

  console.log
    {"timestamp":"2025-12-04T13:45:10.818Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"professional","attempt":2,"totalAttempts":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.819Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"professional","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.819Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.820Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"2025","attempt":1,"totalAttempts":3,"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.821Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"2025","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T13:45:10.821Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"2025","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","code":"TEMPLATE_RENDER_FAILED","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3530:25)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3543:20)

  console.log
    {"timestamp":"2025-12-04T13:45:10.829Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"professional","attempt":2,"totalAttempts":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.829Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"professional","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.829Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.830Z","level":"info","message":"pdf_generation_attempt","documentType":"cover_letter","template":"cover_modern","attempt":1,"totalAttempts":1,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cover_letter_cover_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.831Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"cover_letter","template":"cover_modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T13:45:10.832Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"cover_letter","template":"cover_modern","attempt":1,"error":{"name":"Error","message":"Primary renderer offline","stack":"Error: Primary renderer offline\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3561:48)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3598:5)

  console.warn
    {"timestamp":"2025-12-04T13:45:10.837Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","forcedFallback":false,"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11152:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3598:5)

  console.error
    {"timestamp":"2025-12-04T13:45:10.842Z","level":"error","message":"pdf_generation_plain_fallback_failed","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","error":{"name":"Error","message":"Plain fallback offline","stack":"Error: Plain fallback offline\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3563:13\n    at generatePlainPdfFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9788:12)\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11156:36)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3598:5)"},"forcedFallback":false,"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11201:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3598:5)

  console.error
    {"timestamp":"2025-12-04T13:45:10.847Z","level":"error","message":"pdf_generation_minimal_fallback_failed","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","forcedFallback":false,"error":{"name":"Error","message":"Minimal fallback unavailable","stack":"Error: Minimal fallback unavailable\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3566:13\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11222:29)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3598:5)"},"previousError":{"name":"Error","message":"Plain fallback offline","stack":"Error: Plain fallback offline\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3563:13\n    at generatePlainPdfFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9788:12)\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11156:36)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3598:5)"},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11245:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3598:5)

  console.error
    {"timestamp":"2025-12-04T13:45:10.853Z","level":"error","message":"pdf_generation_all_attempts_failed","documentType":"cover_letter","templates":["cover_modern"],"error":{"name":"Error","message":"Minimal fallback unavailable","stack":"Error: Minimal fallback unavailable\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3566:13\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11222:29)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3598:5)"},"targetFilePath":"cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"summary":"Unable to generate cover letter PDF. Tried templates: Modern Cover Letter. Last error: Minimal fallback unavailable","messages":["Unable to generate cover letter PDF. Tried templates: Modern Cover Letter. Last error: Minimal fallback unavailable"],"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11267:3)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3598:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.888Z","level":"info","message":"http_request_received","requestId":"16a8f518-0f41-4ea2-99ee-ebb20b541f11","method":"POST","path":"/api/change-log","template":"unknown","session":"16a8f518-0f41-4ea2-99ee-ebb20b541f11","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"16a8f518-0f41-4ea2-99ee-ebb20b541f11","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.889Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.890Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.892Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.894Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.894Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.897Z","level":"info","message":"change_log_updated","requestId":"16a8f518-0f41-4ea2-99ee-ebb20b541f11","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.898Z","level":"info","message":"http_request_completed","requestId":"16a8f518-0f41-4ea2-99ee-ebb20b541f11","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":10,"contentLength":"48197","template":"unknown","session":"16a8f518-0f41-4ea2-99ee-ebb20b541f11","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"16a8f518-0f41-4ea2-99ee-ebb20b541f11","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.902Z","level":"info","message":"http_request_received","requestId":"fb7b4226-2a0b-45b0-ac16-9a59770c4239","method":"POST","path":"/api/change-log","template":"unknown","session":"fb7b4226-2a0b-45b0-ac16-9a59770c4239","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb7b4226-2a0b-45b0-ac16-9a59770c4239","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.903Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.904Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.905Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.907Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.908Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.910Z","level":"info","message":"change_log_updated","requestId":"fb7b4226-2a0b-45b0-ac16-9a59770c4239","jobId":"job-321","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-321","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-321","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.911Z","level":"info","message":"http_request_completed","requestId":"fb7b4226-2a0b-45b0-ac16-9a59770c4239","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":9,"contentLength":"1958","template":"unknown","session":"fb7b4226-2a0b-45b0-ac16-9a59770c4239","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb7b4226-2a0b-45b0-ac16-9a59770c4239","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.914Z","level":"info","message":"http_request_received","requestId":"197727b3-bc63-4580-9358-f58e82335989","method":"POST","path":"/api/change-log","template":"unknown","session":"197727b3-bc63-4580-9358-f58e82335989","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"197727b3-bc63-4580-9358-f58e82335989","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.916Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.917Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.918Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.920Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.921Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.924Z","level":"info","message":"change_log_updated","requestId":"197727b3-bc63-4580-9358-f58e82335989","jobId":"job-789","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-789","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-789","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.925Z","level":"info","message":"http_request_completed","requestId":"197727b3-bc63-4580-9358-f58e82335989","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":11,"contentLength":"6061","template":"unknown","session":"197727b3-bc63-4580-9358-f58e82335989","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"197727b3-bc63-4580-9358-f58e82335989","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.927Z","level":"info","message":"http_request_received","requestId":"e5ca263b-a6d5-4d07-9d8a-86d8f438b8d8","method":"POST","path":"/api/change-log","template":"unknown","session":"e5ca263b-a6d5-4d07-9d8a-86d8f438b8d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e5ca263b-a6d5-4d07-9d8a-86d8f438b8d8","build":"local-dev","artifactType":"none"},"userId":"user-789"}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.928Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.929Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.931Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.932Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.933Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.935Z","level":"info","message":"change_log_updated","requestId":"e5ca263b-a6d5-4d07-9d8a-86d8f438b8d8","jobId":"job-session","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-session","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-session","build":"local-dev","artifactType":"none"},"userId":"user-789"}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.935Z","level":"info","message":"http_request_completed","requestId":"e5ca263b-a6d5-4d07-9d8a-86d8f438b8d8","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":8,"contentLength":"1213","template":"unknown","session":"e5ca263b-a6d5-4d07-9d8a-86d8f438b8d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e5ca263b-a6d5-4d07-9d8a-86d8f438b8d8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.937Z","level":"info","message":"http_request_received","requestId":"3aff3c13-05e3-449c-9384-9bd8f47eea7c","method":"POST","path":"/api/change-log","template":"unknown","session":"3aff3c13-05e3-449c-9384-9bd8f47eea7c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3aff3c13-05e3-449c-9384-9bd8f47eea7c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.938Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.939Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.940Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.942Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.942Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.945Z","level":"info","message":"change_log_updated","requestId":"3aff3c13-05e3-449c-9384-9bd8f47eea7c","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.945Z","level":"info","message":"http_request_completed","requestId":"3aff3c13-05e3-449c-9384-9bd8f47eea7c","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":8,"contentLength":"789","template":"unknown","session":"3aff3c13-05e3-449c-9384-9bd8f47eea7c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3aff3c13-05e3-449c-9384-9bd8f47eea7c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.948Z","level":"info","message":"http_request_received","requestId":"c1f27588-b452-485a-870e-3ec037b987cf","method":"POST","path":"/api/change-log","template":"unknown","session":"c1f27588-b452-485a-870e-3ec037b987cf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1f27588-b452-485a-870e-3ec037b987cf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.949Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.951Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.952Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.954Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.954Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.956Z","level":"info","message":"change_log_updated","requestId":"c1f27588-b452-485a-870e-3ec037b987cf","jobId":"job-123","route":"change-log","entries":0,"action":"remove","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.956Z","level":"info","message":"http_request_completed","requestId":"c1f27588-b452-485a-870e-3ec037b987cf","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":8,"contentLength":"350","template":"unknown","session":"c1f27588-b452-485a-870e-3ec037b987cf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1f27588-b452-485a-870e-3ec037b987cf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.959Z","level":"info","message":"http_request_received","requestId":"b75e53f9-7317-4914-a755-9793c83eafa7","method":"POST","path":"/api/change-log","template":"unknown","session":"b75e53f9-7317-4914-a755-9793c83eafa7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b75e53f9-7317-4914-a755-9793c83eafa7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.959Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.961Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.962Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.963Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.964Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.966Z","level":"info","message":"change_log_updated","requestId":"b75e53f9-7317-4914-a755-9793c83eafa7","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.967Z","level":"info","message":"http_request_completed","requestId":"b75e53f9-7317-4914-a755-9793c83eafa7","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":8,"contentLength":"1151","template":"unknown","session":"b75e53f9-7317-4914-a755-9793c83eafa7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b75e53f9-7317-4914-a755-9793c83eafa7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.969Z","level":"info","message":"http_request_received","requestId":"301156b9-f0b1-4b5f-b309-e416835700bf","method":"POST","path":"/api/change-log","template":"unknown","session":"301156b9-f0b1-4b5f-b309-e416835700bf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"301156b9-f0b1-4b5f-b309-e416835700bf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.970Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.971Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.973Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.975Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.976Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.978Z","level":"info","message":"change_log_updated","requestId":"301156b9-f0b1-4b5f-b309-e416835700bf","jobId":"job-123","route":"change-log","entries":0,"action":"remove","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.979Z","level":"info","message":"http_request_completed","requestId":"301156b9-f0b1-4b5f-b309-e416835700bf","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":10,"contentLength":"596","template":"unknown","session":"301156b9-f0b1-4b5f-b309-e416835700bf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"301156b9-f0b1-4b5f-b309-e416835700bf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.984Z","level":"info","message":"http_request_received","requestId":"0dadcb84-334f-47f6-bcec-239601859a84","method":"POST","path":"/api/change-log","template":"unknown","session":"0dadcb84-334f-47f6-bcec-239601859a84","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0dadcb84-334f-47f6-bcec-239601859a84","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.985Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.987Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.988Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.990Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.991Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:45:10.995Z","level":"info","message":"change_log_updated","requestId":"0dadcb84-334f-47f6-bcec-239601859a84","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:45:10.997Z","level":"info","message":"http_request_completed","requestId":"0dadcb84-334f-47f6-bcec-239601859a84","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":13,"contentLength":"2337","template":"unknown","session":"0dadcb84-334f-47f6-bcec-239601859a84","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0dadcb84-334f-47f6-bcec-239601859a84","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

FAIL tests/server.test.mjs (158.344 s)
  health check
     GET /healthz (119 ms)
  static asset fallbacks
     GET /favicon.ico returns 204 (35 ms)
     serves hashed index asset from S3 when local file is missing (69 ms)
     serves hashed index asset directly from the bundled client when available (166 ms)
     strips API Gateway stage prefixes before resolving static index aliases (97 ms)
     performs HEAD lookup against S3 for hashed index asset metadata (420 ms)
     serves the latest index asset alias via S3 when local files are unavailable (30063 ms)
     serves the index asset alias via the S3 manifest when the local manifest is missing (30003 ms)
     serves the index asset alias when the manifest contains prefixed S3 keys (30249 ms)
     serves the index asset alias via manifest fallback when the primary bundle is missing from S3 (30014 ms)
  static asset proxy endpoint
     serves the index alias via the local build (119 ms)
     normalizes stray punctuation in proxy asset queries (344 ms)
     strips inline alias annotations from hashed proxy asset queries (136 ms)
     falls back to S3 when the hashed bundle is unavailable locally (30002 ms)
     degrades hashed proxy requests to the index alias when upstream assets are missing (63 ms)
     degrades direct hashed asset requests to the index alias when upstream bundles are missing (41 ms)
     rejects invalid asset paths (34 ms)
  static asset manifest endpoint
     returns manifest data when available (15 ms)
     allows forcing a manifest refresh via query parameter (24 ms)
     returns 503 when manifest is unavailable (28 ms)
  /api/process-cv
     handles DynamoDB table lifecycle (240 ms)
     removes stale session change logs when starting a new upload session (92 ms)
     removes session change log data when the session prefix is reused (70 ms)
     requires manual job description input (85 ms)
     sanitizes manual job description input before analysis (54 ms)
     rejects manual job description input containing prohibited HTML tags (25 ms)
     stores sanitized job description as session input metadata (57 ms)
     accepts uploads without a LinkedIn profile URL (80 ms)
     malformed AI response (65 ms)
     handles code-fenced JSON with extra text (77 ms)
     handles JSON surrounded by text (75 ms)
     returns presigned PDF URLs with labeled asset types (80 ms)
     returns a structured error when download URLs cannot be generated (116 ms)
     cover letter urls include structured metadata (82 ms)
     uses provided templates in preferred order (56 ms)
     uses templates array (59 ms)
     filters AI guidance lines (64 ms)
     resume prompt asks for a project matching job skills (60 ms)
     inserts project into resume text (55 ms)
     adds project section when job description provided (56 ms)
     cover letters omit placeholder sections (55 ms)
     normalizes structured cover letter responses into text (49 ms)
     uses sanitized resume fallback when AI returns plain text for versions (63 ms)
     falls back to plain PDFs when template rendering fails (218 ms)
     final CV includes updated title, project, and skills (53 ms)
     missing file (23 ms)
     unsupported file type (27 ms)
     rejects non-resume content with descriptive feedback (34 ms)
     requires re-upload when classification does not identify a CV (29 ms)
     missing job description text (25 ms)
    download link refresh
       resigns an existing artifact key for the active job (22 ms)
       returns not found when the storage key does not match the job context (15 ms)
    resume size handling
       accepts tiny PDF (32 KB) uploads up to 5 MB (51 ms)
       accepts small DOCX (256 KB) uploads up to 5 MB (70 ms)
       accepts mid-sized PDF (2 MB) uploads up to 5 MB (57 ms)
       accepts near-limit DOCX (just under 5 MB) uploads up to 5 MB (107 ms)
       rejects resumes larger than 5 MB (32 ms)
  /api/generate-enhanced-docs
     responds with structured details when jobId is missing (18 ms)
     queues message when fallback cover letters are used (38 ms)
     replaces whitespace cover letters with fallback copy (53 ms)
     audits cover letters for placeholders and applies fallback (76 ms)
     replaces weak closing cover letters with confident fallback copy (46 ms)
     replaces cover letters exceeding the word limit with confident fallback copy (63 ms)
     surfaces message when cover letters remain unavailable (32 ms)
     refreshes session artifacts when job description changes for a new enhancement (46 ms)
     refreshes session artifacts automatically when job description changes (48 ms)
     persists template vs population errors in stage metadata (67 ms)
  generatePdfWithFallback
     records retry message when 2025 renderer fails (12 ms)
     announces next template when fallback occurs for non-2025 resume (8 ms)
     announces actual next template when 2025 fallback prefers contrast option (10 ms)
     throws explicit PdfGenerationError with summary when all strategies fail (29 ms)
  classifyDocument
     identifies resumes by section structure
     detects cover letters (1 ms)
     rejects job descriptions that mimic resume sections
  extractText
     extracts text from pdf
     extracts text from docx
     guides user when pdf parsing fails (17 ms)
     guides user when docx parsing fails (1 ms)
     extracts text from doc (4 ms)
     rejects plain text files
  client download labels
     App displays correct labels for each file type (3 ms)
  change log persistence safeguards
     truncates oversized change log fields before persisting (15 ms)
     persists category changelog details for ATS, skills, and related sections (12 ms)
     captures rescore summary and updates session score snapshot (13 ms)
     stores session change logs under a user session prefix when no prior key exists (10 ms)
  change log session visibility
     persists reverted entries when updating the change log (11 ms)
     stores rejected entries in the session change log dismissed list (11 ms)
     persists cover letter change log payloads to S3 (10 ms)
     removing a cover letter entry records dismissal state in S3 (14 ms)
     persists activity logs from nested payloads into the session change log (19 ms)

   static asset fallbacks  serves the latest index asset alias via S3 when local files are unavailable

    ReferenceError: metadataConfig is not defined

      1419 |   if (await serveHashedIndexAssetFromS3({
      1420 |     assetPath: remoteHashedAssetPath,
    > 1421 |     bucket: metadataConfig.bucket,
           |             ^
      1422 |     prefix: metadataConfig.prefix,
      1423 |     res,
      1424 |     logContext: { ...logContext, ...logLabels },

      at handleIndexAssetAliasRequest (server.js:1421:13)
      at serveIndexAssetAlias (server.js:1530:3)

   static asset fallbacks  serves the latest index asset alias via S3 when local files are unavailable

    thrown: "Exceeded timeout of 30000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      311 |   });
      312 |
    > 313 |   test('serves the latest index asset alias via S3 when local files are unavailable', async () => {
          |   ^
      314 |     const cssAliasName = 'index-test-alias.css';
      315 |     const jsAliasName = 'index-test-alias.js';
      316 |     const manifestHtml = `<!doctype html><html><head><link rel="stylesheet" href="./assets/${cssAliasName}"><script type="module" src="./assets/${jsAliasName}"></script></head><body></body></html>`;

      at tests/server.test.mjs:313:3
      at tests/server.test.mjs:238:1

   static asset fallbacks  serves the index asset alias via the S3 manifest when the local manifest is missing

    ReferenceError: metadataConfig is not defined

      1419 |   if (await serveHashedIndexAssetFromS3({
      1420 |     assetPath: remoteHashedAssetPath,
    > 1421 |     bucket: metadataConfig.bucket,
           |             ^
      1422 |     prefix: metadataConfig.prefix,
      1423 |     res,
      1424 |     logContext: { ...logContext, ...logLabels },

      at handleIndexAssetAliasRequest (server.js:1421:13)
      at serveIndexAssetAlias (server.js:1530:3)

   static asset fallbacks  serves the index asset alias via the S3 manifest when the local manifest is missing

    thrown: "Exceeded timeout of 30000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      381 |   });
      382 |
    > 383 |   test('serves the index asset alias via the S3 manifest when the local manifest is missing', async () => {
          |   ^
      384 |     const cssAliasName = 'index-manifest-only.css';
      385 |     const cssBody = '.manifest-only { color: #09f; }';
      386 |

      at tests/server.test.mjs:383:3
      at tests/server.test.mjs:238:1

   static asset fallbacks  serves the index asset alias when the manifest contains prefixed S3 keys

    ReferenceError: metadataConfig is not defined

      1419 |   if (await serveHashedIndexAssetFromS3({
      1420 |     assetPath: remoteHashedAssetPath,
    > 1421 |     bucket: metadataConfig.bucket,
           |             ^
      1422 |     prefix: metadataConfig.prefix,
      1423 |     res,
      1424 |     logContext: { ...logContext, ...logLabels },

      at handleIndexAssetAliasRequest (server.js:1421:13)
      at serveIndexAssetAlias (server.js:1530:3)

   static asset fallbacks  serves the index asset alias when the manifest contains prefixed S3 keys

    thrown: "Exceeded timeout of 30000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      449 |   });
      450 |
    > 451 |   test('serves the index asset alias when the manifest contains prefixed S3 keys', async () => {
          |   ^
      452 |     const cssAliasName = 'index-prefixed.css';
      453 |     const cssBody = '.prefixed { color: #0c0; }';
      454 |

      at tests/server.test.mjs:451:3
      at tests/server.test.mjs:238:1

   static asset fallbacks  serves the index asset alias via manifest fallback when the primary bundle is missing from S3

    ReferenceError: metadataConfig is not defined

      1419 |   if (await serveHashedIndexAssetFromS3({
      1420 |     assetPath: remoteHashedAssetPath,
    > 1421 |     bucket: metadataConfig.bucket,
           |             ^
      1422 |     prefix: metadataConfig.prefix,
      1423 |     res,
      1424 |     logContext: { ...logContext, ...logLabels },

      at handleIndexAssetAliasRequest (server.js:1421:13)
      at serveIndexAssetAlias (server.js:1530:3)

   static asset fallbacks  serves the index asset alias via manifest fallback when the primary bundle is missing from S3

    thrown: "Exceeded timeout of 30000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      519 |   });
      520 |
    > 521 |   test('serves the index asset alias via manifest fallback when the primary bundle is missing from S3', async () => {
          |   ^
      522 |     const cssAliasName = 'index-missing.css';
      523 |     const fallbackCssName = 'index-existing.css';
      524 |     const manifestHtml = `<!doctype html><html><head><link rel="stylesheet" href="./assets/${cssAliasName}"></head><body></body></html>`;

      at tests/server.test.mjs:521:3
      at tests/server.test.mjs:238:1

   static asset proxy endpoint  falls back to S3 when the hashed bundle is unavailable locally

    ReferenceError: metadataConfig is not defined

      1419 |   if (await serveHashedIndexAssetFromS3({
      1420 |     assetPath: remoteHashedAssetPath,
    > 1421 |     bucket: metadataConfig.bucket,
           |             ^
      1422 |     prefix: metadataConfig.prefix,
      1423 |     res,
      1424 |     logContext: { ...logContext, ...logLabels },

      at handleIndexAssetAliasRequest (server.js:1421:13)
      at server.js:19103:20

   static asset proxy endpoint  falls back to S3 when the hashed bundle is unavailable locally

    thrown: "Exceeded timeout of 30000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      666 |   });
      667 |
    > 668 |   test('falls back to S3 when the hashed bundle is unavailable locally', async () => {
          |   ^
      669 |     const originalReadFile = fsPromises.readFile;
      670 |     const readFileSpy = jest
      671 |       .spyOn(fsPromises, 'readFile')

      at tests/server.test.mjs:668:3
      at tests/server.test.mjs:611:1

Test Suites: 1 failed, 1 total
Tests:       5 failed, 85 passed, 90 total
Snapshots:   0 total
Time:        158.423 s, estimated 159 s
Ran all test suites matching /tests\/server.test.mjs/i.
Test Suites: 1 failed, 1 total
Tests:       5 failed, 85 passed, 90 total
Snapshots:   0 total
Time:        158.429 s, estimated 159 s
Ran all test suites matching /tests\/server.test.mjs/i.
Force exiting Jest: Have you considered using `--detectOpenHandles` to detect async operations that kept running after all tests finished?
