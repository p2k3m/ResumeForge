
> resumeforge@1.0.0 test
> node --experimental-vm-modules node_modules/jest/bin/jest.js tests/server.test.mjs

[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`
(node:11854) ExperimentalWarning: VM Modules is an experimental feature. This feature could change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
  console.log
    {"timestamp":"2025-12-04T14:03:38.172Z","level":"info","message":"http_request_received","requestId":"9e1d7fe4-07c8-46bd-a933-5d522aacbb13","method":"GET","path":"/healthz","template":"unknown","session":"9e1d7fe4-07c8-46bd-a933-5d522aacbb13","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9e1d7fe4-07c8-46bd-a933-5d522aacbb13","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.216Z","level":"info","message":"path_restoration_debug","reqPath":"/healthz","reqUrl":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.222Z","level":"info","message":"request_received","path":"/healthz","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.229Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.234Z","level":"info","message":"client_app_routes_entered","path":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.241Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.254Z","level":"info","message":"http_request_completed","requestId":"9e1d7fe4-07c8-46bd-a933-5d522aacbb13","method":"GET","path":"/healthz","statusCode":200,"durationMs":83,"contentLength":"15","template":"unknown","session":"9e1d7fe4-07c8-46bd-a933-5d522aacbb13","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9e1d7fe4-07c8-46bd-a933-5d522aacbb13","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.273Z","level":"info","message":"http_request_received","requestId":"db76d38c-f8d5-40b7-9ecd-00cf7ad55491","method":"GET","path":"/favicon.ico","template":"unknown","session":"db76d38c-f8d5-40b7-9ecd-00cf7ad55491","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db76d38c-f8d5-40b7-9ecd-00cf7ad55491","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.276Z","level":"info","message":"path_restoration_debug","reqPath":"/favicon.ico","reqUrl":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.280Z","level":"info","message":"request_received","path":"/favicon.ico","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.284Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.289Z","level":"info","message":"client_app_routes_entered","path":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.294Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.302Z","level":"info","message":"http_request_completed","requestId":"db76d38c-f8d5-40b7-9ecd-00cf7ad55491","method":"GET","path":"/favicon.ico","statusCode":204,"durationMs":29,"template":"unknown","session":"db76d38c-f8d5-40b7-9ecd-00cf7ad55491","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db76d38c-f8d5-40b7-9ecd-00cf7ad55491","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.307Z","level":"info","message":"http_request_received","requestId":"27daba2d-2715-4a1e-a884-5c16002a5fb0","method":"GET","path":"/assets/index-missing.css","template":"unknown","session":"27daba2d-2715-4a1e-a884-5c16002a5fb0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27daba2d-2715-4a1e-a884-5c16002a5fb0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.310Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-missing.css","reqUrl":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.313Z","level":"info","message":"request_received","path":"/assets/index-missing.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.316Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.319Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.329Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 calling S3 {
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest',
      assetPath: '/assets/index-missing.css'
    }

      at serveHashedIndexAssetFromS3 (server.js:1153:13)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 S3 returned

      at serveHashedIndexAssetFromS3 (server.js:1160:13)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60","ETag":"\"etag-css\""}

      at applyS3ResponseHeaders (server.js:618:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 streaming body

      at serveHashedIndexAssetFromS3 (server.js:1169:13)

  console.log
    DEBUG: streamS3BodyToResponse start

      at streamS3BodyToResponse (server.js:460:11)

  console.log
    DEBUG: streamS3BodyToResponse data chunk length=18

      at Readable.<anonymous> (server.js:506:17)

  console.log
    DEBUG: streamS3BodyToResponse end fullBody length=18

      at Readable.<anonymous> (server.js:514:19)

  console.log
    {"timestamp":"2025-12-04T14:03:38.354Z","level":"info","message":"http_request_completed","requestId":"27daba2d-2715-4a1e-a884-5c16002a5fb0","method":"GET","path":"/assets/index-missing.css","statusCode":200,"durationMs":47,"contentLength":"18","template":"unknown","session":"27daba2d-2715-4a1e-a884-5c16002a5fb0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"27daba2d-2715-4a1e-a884-5c16002a5fb0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 streaming done

      at serveHashedIndexAssetFromS3 (server.js:1172:13)

  console.log
    {"timestamp":"2025-12-04T14:03:38.356Z","level":"info","message":"client_asset_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-missing.css","path":"/assets/index-missing.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.382Z","level":"info","message":"http_request_received","requestId":"315d0e20-cbd7-4894-beb4-b536c8a0a65f","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"315d0e20-cbd7-4894-beb4-b536c8a0a65f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"315d0e20-cbd7-4894-beb4-b536c8a0a65f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.385Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.387Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.393Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.396Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1289:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    {"timestamp":"2025-12-04T14:03:38.442Z","level":"info","message":"http_request_completed","requestId":"315d0e20-cbd7-4894-beb4-b536c8a0a65f","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":60,"contentLength":"106285","template":"unknown","session":"315d0e20-cbd7-4894-beb4-b536c8a0a65f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"315d0e20-cbd7-4894-beb4-b536c8a0a65f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.444Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.449Z","level":"info","message":"http_request_received","requestId":"50b870dc-10b5-4b72-9a10-933aaf6defde","method":"GET","path":"/prod/assets/index-latest.css","template":"unknown","session":"50b870dc-10b5-4b72-9a10-933aaf6defde","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"50b870dc-10b5-4b72-9a10-933aaf6defde","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.451Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.453Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.456Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.458Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1289:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    {"timestamp":"2025-12-04T14:03:38.484Z","level":"info","message":"http_request_completed","requestId":"50b870dc-10b5-4b72-9a10-933aaf6defde","method":"GET","path":"/prod/assets/index-latest.css","statusCode":200,"durationMs":35,"contentLength":"106285","template":"unknown","session":"50b870dc-10b5-4b72-9a10-933aaf6defde","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"50b870dc-10b5-4b72-9a10-933aaf6defde","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.487Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.491Z","level":"info","message":"http_request_received","requestId":"7a876078-6807-4d0f-b39b-87a506736fc5","method":"HEAD","path":"/assets/index-meta.js","template":"unknown","session":"7a876078-6807-4d0f-b39b-87a506736fc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7a876078-6807-4d0f-b39b-87a506736fc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.493Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-meta.js","reqUrl":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.496Z","level":"info","message":"request_received","path":"/assets/index-meta.js","method":"HEAD","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.498Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.501Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.504Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-meta.js'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-meta.js'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-meta.js'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=1234 resolved=1234 metadata={"ContentType":"application/javascript","ContentLength":1234,"CacheControl":"public, max-age=31536000, immutable","ETag":"\"etag-js\"","LastModified":"2024-05-01T00:00:00.000Z"}

      at applyS3ResponseHeaders (server.js:618:11)

  console.log
    {"timestamp":"2025-12-04T14:03:38.523Z","level":"info","message":"client_asset_s3_head_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-meta.js","path":"/assets/index-meta.js","method":"HEAD","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.531Z","level":"info","message":"http_request_completed","requestId":"7a876078-6807-4d0f-b39b-87a506736fc5","method":"HEAD","path":"/assets/index-meta.js","statusCode":200,"durationMs":40,"contentLength":"1234","template":"unknown","session":"7a876078-6807-4d0f-b39b-87a506736fc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7a876078-6807-4d0f-b39b-87a506736fc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.552Z","level":"info","message":"http_request_received","requestId":"3017a093-9878-44b0-90a8-f0a49f807f6d","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"3017a093-9878-44b0-90a8-f0a49f807f6d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3017a093-9878-44b0-90a8-f0a49f807f6d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.554Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.558Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.561Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.565Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1289:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-test-alias.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-test-alias.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-test-alias.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 calling S3 {
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest',
      assetPath: 'assets/index-test-alias.css'
    }

      at serveHashedIndexAssetFromS3 (server.js:1153:13)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 S3 returned

      at serveHashedIndexAssetFromS3 (server.js:1160:13)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60"}

      at applyS3ResponseHeaders (server.js:618:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 streaming body

      at serveHashedIndexAssetFromS3 (server.js:1169:13)

  console.log
    DEBUG: streamS3BodyToResponse start

      at streamS3BodyToResponse (server.js:460:11)

  console.log
    DEBUG: streamS3BodyToResponse data chunk length=23

      at Readable.<anonymous> (server.js:506:17)

  console.log
    DEBUG: streamS3BodyToResponse end fullBody length=23

      at Readable.<anonymous> (server.js:514:19)

  console.log
    {"timestamp":"2025-12-04T14:03:38.596Z","level":"info","message":"http_request_completed","requestId":"3017a093-9878-44b0-90a8-f0a49f807f6d","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":44,"contentLength":"23","template":"unknown","session":"3017a093-9878-44b0-90a8-f0a49f807f6d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3017a093-9878-44b0-90a8-f0a49f807f6d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 streaming done

      at serveHashedIndexAssetFromS3 (server.js:1172:13)

  console.log
    {"timestamp":"2025-12-04T14:03:38.598Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-test-alias.css","path":"assets/index-test-alias.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-test-alias.css","s3Key":"assets/index-test-alias.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest success

      at handleIndexAssetAliasRequest (server.js:1435:13)

  console.log
    {"timestamp":"2025-12-04T14:03:38.606Z","level":"info","message":"http_request_received","requestId":"4c1ca69a-5fc1-44f9-b41f-a1833c6d5e77","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"4c1ca69a-5fc1-44f9-b41f-a1833c6d5e77","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c1ca69a-5fc1-44f9-b41f-a1833c6d5e77","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.608Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.610Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.613Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.615Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1289:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-manifest-only.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-manifest-only.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-manifest-only.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 calling S3 {
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest',
      assetPath: 'assets/index-manifest-only.css'
    }

      at serveHashedIndexAssetFromS3 (server.js:1153:13)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 S3 returned

      at serveHashedIndexAssetFromS3 (server.js:1160:13)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60"}

      at applyS3ResponseHeaders (server.js:618:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 streaming body

      at serveHashedIndexAssetFromS3 (server.js:1169:13)

  console.log
    DEBUG: streamS3BodyToResponse start

      at streamS3BodyToResponse (server.js:460:11)

  console.log
    DEBUG: streamS3BodyToResponse data chunk length=31

      at Readable.<anonymous> (server.js:506:17)

  console.log
    DEBUG: streamS3BodyToResponse end fullBody length=31

      at Readable.<anonymous> (server.js:514:19)

  console.log
    {"timestamp":"2025-12-04T14:03:38.643Z","level":"info","message":"http_request_completed","requestId":"4c1ca69a-5fc1-44f9-b41f-a1833c6d5e77","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":37,"contentLength":"31","template":"unknown","session":"4c1ca69a-5fc1-44f9-b41f-a1833c6d5e77","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c1ca69a-5fc1-44f9-b41f-a1833c6d5e77","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 streaming done

      at serveHashedIndexAssetFromS3 (server.js:1172:13)

  console.log
    {"timestamp":"2025-12-04T14:03:38.644Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-manifest-only.css","path":"assets/index-manifest-only.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-manifest-only.css","s3Key":"assets/index-manifest-only.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest success

      at handleIndexAssetAliasRequest (server.js:1435:13)

  console.log
    {"timestamp":"2025-12-04T14:03:38.649Z","level":"info","message":"http_request_received","requestId":"b1550ab2-4751-485f-86d9-23113c76098c","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"b1550ab2-4751-485f-86d9-23113c76098c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b1550ab2-4751-485f-86d9-23113c76098c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.651Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.653Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.655Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.657Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1289:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-prefixed.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-prefixed.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-prefixed.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 calling S3 {
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest',
      assetPath: 'static/client/prod/latest/assets/index-prefixed.css'
    }

      at serveHashedIndexAssetFromS3 (server.js:1153:13)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 S3 returned

      at serveHashedIndexAssetFromS3 (server.js:1160:13)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60"}

      at applyS3ResponseHeaders (server.js:618:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 streaming body

      at serveHashedIndexAssetFromS3 (server.js:1169:13)

  console.log
    DEBUG: streamS3BodyToResponse start

      at streamS3BodyToResponse (server.js:460:11)

  console.log
    DEBUG: streamS3BodyToResponse data chunk length=26

      at Readable.<anonymous> (server.js:506:17)

  console.log
    DEBUG: streamS3BodyToResponse end fullBody length=26

      at Readable.<anonymous> (server.js:514:19)

  console.log
    {"timestamp":"2025-12-04T14:03:38.693Z","level":"info","message":"http_request_completed","requestId":"b1550ab2-4751-485f-86d9-23113c76098c","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":44,"contentLength":"26","template":"unknown","session":"b1550ab2-4751-485f-86d9-23113c76098c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b1550ab2-4751-485f-86d9-23113c76098c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 streaming done

      at serveHashedIndexAssetFromS3 (server.js:1172:13)

  console.log
    {"timestamp":"2025-12-04T14:03:38.695Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/prod/latest/assets/index-prefixed.css","path":"static/client/prod/latest/assets/index-prefixed.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-prefixed.css","s3Key":"static/client/prod/latest/assets/index-prefixed.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest success

      at handleIndexAssetAliasRequest (server.js:1435:13)

  console.log
    {"timestamp":"2025-12-04T14:03:38.703Z","level":"info","message":"http_request_received","requestId":"37ef5774-9352-461a-a7d0-5033a247b438","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"37ef5774-9352-461a-a7d0-5033a247b438","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37ef5774-9352-461a-a7d0-5033a247b438","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.706Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.709Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.712Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.714Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1289:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 calling S3 {
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest',
      assetPath: 'assets/index-missing.css'
    }

      at serveHashedIndexAssetFromS3 (server.js:1153:13)

  console.warn
    {"timestamp":"2025-12-04T14:03:38.741Z","level":"warn","message":"client_asset_alias_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-missing.css","path":"assets/index-missing.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-missing.css","s3Key":"assets/index-missing.css","error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:582:23)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1154:41)\n    at handleIndexAssetAliasRequest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1426:13)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at serveIndexAssetAlias (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1537:3)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at serveHashedIndexAssetFromS3 (server.js:1177:5)
      at handleIndexAssetAliasRequest (server.js:1426:7)
      at serveIndexAssetAlias (server.js:1537:3)

  console.log
    DEBUG: handleIndexAssetAliasRequest failed at serveHashedIndexAssetFromS3

      at handleIndexAssetAliasRequest (server.js:1438:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-existing.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-existing.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-existing.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 calling S3 {
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest',
      assetPath: 'assets/index-existing.css'
    }

      at serveHashedIndexAssetFromS3 (server.js:1153:13)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 S3 returned

      at serveHashedIndexAssetFromS3 (server.js:1160:13)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60"}

      at applyS3ResponseHeaders (server.js:618:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 streaming body

      at serveHashedIndexAssetFromS3 (server.js:1169:13)

  console.log
    DEBUG: streamS3BodyToResponse start

      at streamS3BodyToResponse (server.js:460:11)

  console.log
    DEBUG: streamS3BodyToResponse data chunk length=26

      at Readable.<anonymous> (server.js:506:17)

  console.log
    DEBUG: streamS3BodyToResponse end fullBody length=26

      at Readable.<anonymous> (server.js:514:19)

  console.log
    {"timestamp":"2025-12-04T14:03:38.759Z","level":"info","message":"http_request_completed","requestId":"37ef5774-9352-461a-a7d0-5033a247b438","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":56,"contentLength":"26","template":"unknown","session":"37ef5774-9352-461a-a7d0-5033a247b438","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37ef5774-9352-461a-a7d0-5033a247b438","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 streaming done

      at serveHashedIndexAssetFromS3 (server.js:1172:13)

  console.log
    {"timestamp":"2025-12-04T14:03:38.760Z","level":"info","message":"client_asset_alias_fallback_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-existing.css","path":"assets/index-existing.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-existing.css","s3Key":"assets/index-existing.css","manifestFallback":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.767Z","level":"info","message":"http_request_received","requestId":"ff3dcb3f-4c8e-41d0-b77e-06245d0ea05c","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"ff3dcb3f-4c8e-41d0-b77e-06245d0ea05c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ff3dcb3f-4c8e-41d0-b77e-06245d0ea05c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.769Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.772Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.774Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.777Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.783Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-latest.css' candidate='assets/index-latest.css'

      at normalizeStaticProxyAssetPath (server.js:1614:11)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1289:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    {"timestamp":"2025-12-04T14:03:38.799Z","level":"info","message":"http_request_completed","requestId":"ff3dcb3f-4c8e-41d0-b77e-06245d0ea05c","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","statusCode":200,"durationMs":32,"contentLength":"106285","template":"unknown","session":"ff3dcb3f-4c8e-41d0-b77e-06245d0ea05c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ff3dcb3f-4c8e-41d0-b77e-06245d0ea05c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.800Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.807Z","level":"info","message":"http_request_received","requestId":"63a0e81f-46ed-4053-a704-d0cda888d8fa","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","template":"unknown","session":"63a0e81f-46ed-4053-a704-d0cda888d8fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63a0e81f-46ed-4053-a704-d0cda888d8fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.810Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.814Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.818Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.837Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.842Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-latest.css,,' candidate='assets/index-latest.css,,'

      at normalizeStaticProxyAssetPath (server.js:1614:11)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1289:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    {"timestamp":"2025-12-04T14:03:38.866Z","level":"info","message":"http_request_completed","requestId":"63a0e81f-46ed-4053-a704-d0cda888d8fa","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","statusCode":200,"durationMs":59,"contentLength":"106285","template":"unknown","session":"63a0e81f-46ed-4053-a704-d0cda888d8fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63a0e81f-46ed-4053-a704-d0cda888d8fa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.868Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.886Z","level":"info","message":"http_request_received","requestId":"08d7ed8b-4bf6-408b-8e3d-6117e40f8398","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","template":"unknown","session":"08d7ed8b-4bf6-408b-8e3d-6117e40f8398","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"08d7ed8b-4bf6-408b-8e3d-6117e40f8398","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.888Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.891Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.893Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.899Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.903Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='/assets/index-latest.css' candidate='/assets/index-latest.css'

      at normalizeStaticProxyAssetPath (server.js:1614:11)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-0da4b4af.css,, {"alias":"/assets/index-latest.css"}' candidate='assets/index-0da4b4af.css,, {"alias":"/assets/index-latest.css"}'

      at normalizeStaticProxyAssetPath (server.js:1614:11)

  console.log
    DEBUG: proxy handler { normalizedAssetPath: '/assets/index-0da4b4af.css' }

      at server.js:19152:11

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    {"timestamp":"2025-12-04T14:03:38.919Z","level":"info","message":"http_request_completed","requestId":"08d7ed8b-4bf6-408b-8e3d-6117e40f8398","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","statusCode":200,"durationMs":33,"contentLength":"106285","template":"unknown","session":"08d7ed8b-4bf6-408b-8e3d-6117e40f8398","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"08d7ed8b-4bf6-408b-8e3d-6117e40f8398","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.921Z","level":"info","message":"client_asset_alias_local_served","path":"/assets/index-0da4b4af.css","method":"GET","proxy":true,"aliasPath":"/assets/index-latest.css","annotatedAlias":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.927Z","level":"info","message":"http_request_received","requestId":"017981b6-9473-4ccc-ac06-02838d6d2fd8","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"017981b6-9473-4ccc-ac06-02838d6d2fd8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"017981b6-9473-4ccc-ac06-02838d6d2fd8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.929Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.931Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.934Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.936Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.941Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-latest.css' candidate='assets/index-latest.css'

      at normalizeStaticProxyAssetPath (server.js:1614:11)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1289:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 calling S3 {
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest',
      assetPath: 'assets/index-0da4b4af.css'
    }

      at serveHashedIndexAssetFromS3 (server.js:1153:13)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 S3 returned

      at serveHashedIndexAssetFromS3 (server.js:1160:13)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60"}

      at applyS3ResponseHeaders (server.js:618:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 streaming body

      at serveHashedIndexAssetFromS3 (server.js:1169:13)

  console.log
    DEBUG: streamS3BodyToResponse start

      at streamS3BodyToResponse (server.js:460:11)

  console.log
    DEBUG: streamS3BodyToResponse data chunk length=32

      at Readable.<anonymous> (server.js:506:17)

  console.log
    DEBUG: streamS3BodyToResponse end fullBody length=32

      at Readable.<anonymous> (server.js:514:19)

  console.log
    {"timestamp":"2025-12-04T14:03:38.959Z","level":"info","message":"http_request_completed","requestId":"017981b6-9473-4ccc-ac06-02838d6d2fd8","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","statusCode":200,"durationMs":32,"contentLength":"32","template":"unknown","session":"017981b6-9473-4ccc-ac06-02838d6d2fd8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"017981b6-9473-4ccc-ac06-02838d6d2fd8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 streaming done

      at serveHashedIndexAssetFromS3 (server.js:1172:13)

  console.log
    {"timestamp":"2025-12-04T14:03:38.962Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-0da4b4af.css","path":"assets/index-0da4b4af.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-0da4b4af.css","s3Key":"assets/index-0da4b4af.css","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest success

      at handleIndexAssetAliasRequest (server.js:1435:13)

  console.log
    {"timestamp":"2025-12-04T14:03:38.967Z","level":"info","message":"http_request_received","requestId":"31096df1-aaaf-4a2e-a248-02b1185f7745","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css","template":"unknown","session":"31096df1-aaaf-4a2e-a248-02b1185f7745","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"31096df1-aaaf-4a2e-a248-02b1185f7745","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.969Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.972Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.975Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.978Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:38.981Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-0da4b4af.css' candidate='assets/index-0da4b4af.css'

      at normalizeStaticProxyAssetPath (server.js:1614:11)

  console.log
    DEBUG: proxy handler { normalizedAssetPath: '/assets/index-0da4b4af.css' }

      at server.js:19152:11

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 calling S3 {
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest',
      assetPath: '/assets/index-0da4b4af.css'
    }

      at serveHashedIndexAssetFromS3 (server.js:1153:13)

  console.warn
    {"timestamp":"2025-12-04T14:03:38.994Z","level":"warn","message":"client_asset_proxy_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-0da4b4af.css","path":"/assets/index-0da4b4af.css","method":"GET","proxy":true,"error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:762:21)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1154:41)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:19165:30\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at serveHashedIndexAssetFromS3 (server.js:1177:5)
      at server.js:19165:30

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1289:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.warn
    {"timestamp":"2025-12-04T14:03:39.018Z","level":"warn","message":"client_asset_alias_local_failed","aliasPath":"/assets/index-latest.css","method":"GET","path":"/assets/index-0da4b4af.css","proxy":true,"degradedFrom":"/assets/index-0da4b4af.css","error":{"code":"ERR_STREAM_PREMATURE_CLOSE"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at serveClientDistAsset (server.js:1078:7)
      at handleIndexAssetAliasRequest (server.js:1310:5)
      at server.js:19196:27

  console.warn
    {"timestamp":"2025-12-04T14:03:39.032Z","level":"warn","message":"client_asset_manifest_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/manifest.json","error":{"name":"Error","message":"Static asset manifest was empty.","stack":"Error: Static asset manifest was empty.\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:884:15\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at loadStaticAssetManifestFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:959:12)\n    at loadHashedIndexAssetManifest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:739:20)\n    at handleIndexAssetAliasRequest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1324:20)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:19196:27"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:944:7
      at loadStaticAssetManifestFromS3 (server.js:959:12)
      at loadHashedIndexAssetManifest (server.js:739:20)
      at handleIndexAssetAliasRequest (server.js:1324:20)
      at server.js:19196:27

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-123.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-123.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-123.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    {"timestamp":"2025-12-04T14:03:39.067Z","level":"info","message":"http_request_received","requestId":"922f5770-c7ef-4eae-b7ea-0411c76536a9","method":"GET","path":"/assets/index-0da4b4af.css","template":"unknown","session":"922f5770-c7ef-4eae-b7ea-0411c76536a9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"922f5770-c7ef-4eae-b7ea-0411c76536a9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.070Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-0da4b4af.css","reqUrl":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.072Z","level":"info","message":"request_received","path":"/assets/index-0da4b4af.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.075Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.077Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.080Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 calling S3 {
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest',
      assetPath: '/assets/index-0da4b4af.css'
    }

      at serveHashedIndexAssetFromS3 (server.js:1153:13)

  console.warn
    {"timestamp":"2025-12-04T14:03:39.111Z","level":"warn","message":"client_asset_s3_fallback_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-0da4b4af.css","path":"/assets/index-0da4b4af.css","method":"GET","error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:808:21)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1154:41)\n    at tryServeHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1218:24)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at serveHashedIndexAssetFromS3 (server.js:1177:5)
      at tryServeHashedIndexAssetFromS3 (server.js:1218:24)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1289:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    {"timestamp":"2025-12-04T14:03:39.139Z","level":"info","message":"http_request_completed","requestId":"922f5770-c7ef-4eae-b7ea-0411c76536a9","method":"GET","path":"/assets/index-0da4b4af.css","statusCode":200,"durationMs":72,"contentLength":"106285","template":"unknown","session":"922f5770-c7ef-4eae-b7ea-0411c76536a9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"922f5770-c7ef-4eae-b7ea-0411c76536a9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.141Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","hashedPath":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:39.143Z","level":"warn","message":"hashed_index_asset_degraded_to_alias","hashedPath":"/assets/index-0da4b4af.css","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at tryServeHashedIndexAssetFromS3 (server.js:1270:7)

  console.log
    {"timestamp":"2025-12-04T14:03:39.169Z","level":"info","message":"http_request_received","requestId":"25d4fb4d-32dd-4c6a-9a24-f621becebf46","method":"GET","path":"/api/static-proxy?asset=..%2Fsecrets.txt","template":"unknown","session":"25d4fb4d-32dd-4c6a-9a24-f621becebf46","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"25d4fb4d-32dd-4c6a-9a24-f621becebf46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.171Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=..%2Fsecrets.txt","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.173Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.176Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.182Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.187Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='../secrets.txt' candidate='../secrets.txt'

      at normalizeStaticProxyAssetPath (server.js:1614:11)

  console.warn
    {"timestamp":"2025-12-04T14:03:39.194Z","level":"warn","message":"api_error_response","requestId":"25d4fb4d-32dd-4c6a-9a24-f621becebf46","status":400,"error":{"code":"INVALID_STATIC_ASSET_PATH","message":"Provide a valid static asset path to proxy.","details":{},"requestId":"25d4fb4d-32dd-4c6a-9a24-f621becebf46"},"template":"unknown","session":"25d4fb4d-32dd-4c6a-9a24-f621becebf46","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"25d4fb4d-32dd-4c6a-9a24-f621becebf46","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at sendError (server.js:3975:3)
      at server.js:19091:12
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at SendStream.error (node_modules/serve-static/index.js:121:7)
      at SendStream.error (node_modules/send/index.js:270:17)
      at SendStream.onStatError (node_modules/send/index.js:417:12)
      at next (node_modules/send/index.js:730:16)
      at onstat (node_modules/send/index.js:719:14)

  console.log
    {"timestamp":"2025-12-04T14:03:39.233Z","level":"info","message":"http_request_completed","requestId":"25d4fb4d-32dd-4c6a-9a24-f621becebf46","method":"GET","path":"/api/static-proxy?asset=..%2Fsecrets.txt","statusCode":400,"durationMs":64,"contentLength":"182","template":"unknown","session":"25d4fb4d-32dd-4c6a-9a24-f621becebf46","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"25d4fb4d-32dd-4c6a-9a24-f621becebf46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.244Z","level":"info","message":"http_request_received","requestId":"f6c031e5-0278-4426-a9c7-5b4e6c0b382e","method":"GET","path":"/api/static-manifest","template":"unknown","session":"f6c031e5-0278-4426-a9c7-5b4e6c0b382e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f6c031e5-0278-4426-a9c7-5b4e6c0b382e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.247Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.255Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.270Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.286Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.309Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.320Z","level":"info","message":"http_request_completed","requestId":"f6c031e5-0278-4426-a9c7-5b4e6c0b382e","method":"GET","path":"/api/static-manifest","statusCode":200,"durationMs":76,"contentLength":"301","template":"unknown","session":"f6c031e5-0278-4426-a9c7-5b4e6c0b382e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f6c031e5-0278-4426-a9c7-5b4e6c0b382e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.326Z","level":"info","message":"http_request_received","requestId":"f281c218-3d43-48d0-baac-1730a7eec110","method":"GET","path":"/api/static-manifest","template":"unknown","session":"f281c218-3d43-48d0-baac-1730a7eec110","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f281c218-3d43-48d0-baac-1730a7eec110","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.328Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.330Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.332Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.335Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.354Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.366Z","level":"info","message":"http_request_completed","requestId":"f281c218-3d43-48d0-baac-1730a7eec110","method":"GET","path":"/api/static-manifest","statusCode":200,"durationMs":40,"contentLength":"195","template":"unknown","session":"f281c218-3d43-48d0-baac-1730a7eec110","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f281c218-3d43-48d0-baac-1730a7eec110","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.370Z","level":"info","message":"http_request_received","requestId":"9f4a1d4c-c545-4f43-ac4c-98e7ccde76f8","method":"GET","path":"/api/static-manifest?refresh=1","template":"unknown","session":"9f4a1d4c-c545-4f43-ac4c-98e7ccde76f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9f4a1d4c-c545-4f43-ac4c-98e7ccde76f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.373Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest?refresh=1","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.375Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.384Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.391Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.396Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.413Z","level":"info","message":"http_request_completed","requestId":"9f4a1d4c-c545-4f43-ac4c-98e7ccde76f8","method":"GET","path":"/api/static-manifest?refresh=1","statusCode":200,"durationMs":43,"contentLength":"195","template":"unknown","session":"9f4a1d4c-c545-4f43-ac4c-98e7ccde76f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9f4a1d4c-c545-4f43-ac4c-98e7ccde76f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.433Z","level":"info","message":"http_request_received","requestId":"52b4ea62-25c6-45d9-884d-1841a32951a4","method":"GET","path":"/api/static-manifest","template":"unknown","session":"52b4ea62-25c6-45d9-884d-1841a32951a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"52b4ea62-25c6-45d9-884d-1841a32951a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.449Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.463Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.467Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.471Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.476Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:39.500Z","level":"warn","message":"client_asset_manifest_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/manifest.json","error":{"name":"Error","message":"manifest not found","stack":"Error: manifest not found\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:906:22)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7819:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7822:16)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:869:30\n    at loadStaticAssetManifestFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:952:5)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:19237:28\n    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/serve-static/index.js:121:7)\n    at SendStream.emit (node:events:513:28)\n    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:270:17)\n    at SendStream.onStatError (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:417:12)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:730:16)\n    at onstat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:719:14)\n    at FSReqCallback.oncomplete (node:fs:206:21)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:944:7
      at loadStaticAssetManifestFromS3 (server.js:959:12)
      at server.js:19237:22

  console.error
    {"timestamp":"2025-12-04T14:03:39.511Z","level":"error","message":"api_error_response","requestId":"52b4ea62-25c6-45d9-884d-1841a32951a4","status":503,"error":{"code":"STATIC_MANIFEST_UNAVAILABLE","message":"Static asset manifest is not currently available. Please try again shortly.","details":{},"requestId":"52b4ea62-25c6-45d9-884d-1841a32951a4"},"template":"unknown","session":"52b4ea62-25c6-45d9-884d-1841a32951a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"52b4ea62-25c6-45d9-884d-1841a32951a4","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at sendError (server.js:3975:3)
      at server.js:19242:14

  console.log
    {"timestamp":"2025-12-04T14:03:39.528Z","level":"info","message":"http_request_completed","requestId":"52b4ea62-25c6-45d9-884d-1841a32951a4","method":"GET","path":"/api/static-manifest","statusCode":503,"durationMs":95,"contentLength":"216","template":"unknown","session":"52b4ea62-25c6-45d9-884d-1841a32951a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"52b4ea62-25c6-45d9-884d-1841a32951a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.555Z","level":"info","message":"http_request_received","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","method":"POST","path":"/api/process-cv","template":"unknown","session":"5614221b-6830-48dc-b56a-ab09f02c6531","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5614221b-6830-48dc-b56a-ab09f02c6531","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.575Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.581Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.585Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.591Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.599Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/5614221b-6830-48dc-b56a-ab09f02c6531/incoming/original.pdf","chunks":1,"timestamp":1764857019610}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/5614221b-6830-48dc-b56a-ab09f02c6531/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/5614221b-6830-48dc-b56a-ab09f02c6531/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":96}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:03:39.732Z","level":"info","message":"process_cv_started","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","jobId":"357e4d72-ec33-46ef-950f-704e89d0450c","manualJobDescriptionProvided":true,"template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.739Z","level":"info","message":"template_selection","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","jobId":"357e4d72-ec33-46ef-950f-704e89d0450c","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:39.748Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","jobId":"357e4d72-ec33-46ef-950f-704e89d0450c","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25147:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:03:39.764Z","level":"info","message":"initial_upload_completed","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","jobId":"357e4d72-ec33-46ef-950f-704e89d0450c","bucket":"test-bucket","key":"cv/candidate/5614221b-6830-48dc-b56a-ab09f02c6531/incoming/original.pdf","template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.801Z","level":"info","message":"resume_text_extracted","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","jobId":"357e4d72-ec33-46ef-950f-704e89d0450c","characters":57,"template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.805Z","level":"info","message":"resume_classified","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","jobId":"357e4d72-ec33-46ef-950f-704e89d0450c","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.813Z","level":"info","message":"raw_upload_relocated","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","jobId":"357e4d72-ec33-46ef-950f-704e89d0450c","bucket":"test-bucket","fromKey":"cv/candidate/5614221b-6830-48dc-b56a-ab09f02c6531/incoming/original.pdf","toKey":"cv/professional_summary/5614221b-6830-48dc-b56a-ab09f02c6531/original.pdf","template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.815Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","jobId":"357e4d72-ec33-46ef-950f-704e89d0450c","bucket":"test-bucket","key":"cv/professional_summary/5614221b-6830-48dc-b56a-ab09f02c6531/original.pdf","template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.816Z","level":"info","message":"dynamo_initial_record_written","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","jobId":"357e4d72-ec33-46ef-950f-704e89d0450c","bucket":"test-bucket","key":"cv/professional_summary/5614221b-6830-48dc-b56a-ab09f02c6531/original.pdf","template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.818Z","level":"info","message":"upload_metadata_written","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","jobId":"357e4d72-ec33-46ef-950f-704e89d0450c","bucket":"test-bucket","key":"cv/professional_summary/5614221b-6830-48dc-b56a-ab09f02c6531/logs/log.json","template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.819Z","level":"info","message":"job_description_supplied_manually","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","jobId":"357e4d72-ec33-46ef-950f-704e89d0450c","characters":174,"template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.825Z","level":"info","message":"job_description_analyzed","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","jobId":"357e4d72-ec33-46ef-950f-704e89d0450c","jobTitle":"","jobSkills":5,"template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.834Z","level":"info","message":"resume_skills_analyzed","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","jobId":"357e4d72-ec33-46ef-950f-704e89d0450c","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.847Z","level":"info","message":"llm_call_metrics","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"5614221b-6830-48dc-b56a-ab09f02c6531","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"5614221b-6830-48dc-b56a-ab09f02c6531","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.852Z","level":"info","message":"process_cv_scoring_completed","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","jobId":"357e4d72-ec33-46ef-950f-704e89d0450c","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.896Z","level":"info","message":"llm_call_metrics","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"5614221b-6830-48dc-b56a-ab09f02c6531","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"5614221b-6830-48dc-b56a-ab09f02c6531","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.897Z","level":"info","message":"generation_section_rewrite_completed","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","jobId":"357e4d72-ec33-46ef-950f-704e89d0450c","generationRunId":"5614221b-6830-48dc-b56a-ab09f02c6531","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.899Z","level":"info","message":"llm_call_metrics","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"5614221b-6830-48dc-b56a-ab09f02c6531","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"5614221b-6830-48dc-b56a-ab09f02c6531","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.911Z","level":"info","message":"generation_resume_verified","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","jobId":"357e4d72-ec33-46ef-950f-704e89d0450c","generationRunId":"5614221b-6830-48dc-b56a-ab09f02c6531","template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:39.943Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","jobId":"357e4d72-ec33-46ef-950f-704e89d0450c","generationRunId":"5614221b-6830-48dc-b56a-ab09f02c6531","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20550:7)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:39.962Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","jobId":"357e4d72-ec33-46ef-950f-704e89d0450c","generationRunId":"5614221b-6830-48dc-b56a-ab09f02c6531","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20739:7)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:39.973Z","level":"info","message":"generation_cover_letters_completed","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","jobId":"357e4d72-ec33-46ef-950f-704e89d0450c","generationRunId":"5614221b-6830-48dc-b56a-ab09f02c6531","variants":2,"fallbackApplied":true,"template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.980Z","level":"info","message":"pdf_generation_attempt","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","jobId":"357e4d72-ec33-46ef-950f-704e89d0450c","generationRunId":"5614221b-6830-48dc-b56a-ab09f02c6531","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5614221b-6830-48dc-b56a-ab09f02c6531/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/5614221b-6830-48dc-b56a-ab09f02c6531/enhanced_modern.pdf","session":"5614221b-6830-48dc-b56a-ab09f02c6531","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5614221b-6830-48dc-b56a-ab09f02c6531","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.982Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","jobId":"357e4d72-ec33-46ef-950f-704e89d0450c","generationRunId":"5614221b-6830-48dc-b56a-ab09f02c6531","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5614221b-6830-48dc-b56a-ab09f02c6531/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5614221b-6830-48dc-b56a-ab09f02c6531","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5614221b-6830-48dc-b56a-ab09f02c6531","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.984Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","jobId":"357e4d72-ec33-46ef-950f-704e89d0450c","generationRunId":"5614221b-6830-48dc-b56a-ab09f02c6531","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5614221b-6830-48dc-b56a-ab09f02c6531/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/5614221b-6830-48dc-b56a-ab09f02c6531/enhanced_modern.pdf","session":"5614221b-6830-48dc-b56a-ab09f02c6531","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5614221b-6830-48dc-b56a-ab09f02c6531","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.987Z","level":"info","message":"pdf_generation_attempt","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","jobId":"357e4d72-ec33-46ef-950f-704e89d0450c","generationRunId":"5614221b-6830-48dc-b56a-ab09f02c6531","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5614221b-6830-48dc-b56a-ab09f02c6531/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/5614221b-6830-48dc-b56a-ab09f02c6531/enhanced_professional.pdf","session":"5614221b-6830-48dc-b56a-ab09f02c6531","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5614221b-6830-48dc-b56a-ab09f02c6531","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.988Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","jobId":"357e4d72-ec33-46ef-950f-704e89d0450c","generationRunId":"5614221b-6830-48dc-b56a-ab09f02c6531","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5614221b-6830-48dc-b56a-ab09f02c6531/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5614221b-6830-48dc-b56a-ab09f02c6531","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5614221b-6830-48dc-b56a-ab09f02c6531","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.989Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","jobId":"357e4d72-ec33-46ef-950f-704e89d0450c","generationRunId":"5614221b-6830-48dc-b56a-ab09f02c6531","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5614221b-6830-48dc-b56a-ab09f02c6531/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/5614221b-6830-48dc-b56a-ab09f02c6531/enhanced_professional.pdf","session":"5614221b-6830-48dc-b56a-ab09f02c6531","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5614221b-6830-48dc-b56a-ab09f02c6531","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.990Z","level":"info","message":"pdf_generation_attempt","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","jobId":"357e4d72-ec33-46ef-950f-704e89d0450c","generationRunId":"5614221b-6830-48dc-b56a-ab09f02c6531","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5614221b-6830-48dc-b56a-ab09f02c6531/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/5614221b-6830-48dc-b56a-ab09f02c6531/cover_letter_cover_modern.pdf","session":"5614221b-6830-48dc-b56a-ab09f02c6531","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5614221b-6830-48dc-b56a-ab09f02c6531","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.991Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","jobId":"357e4d72-ec33-46ef-950f-704e89d0450c","generationRunId":"5614221b-6830-48dc-b56a-ab09f02c6531","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5614221b-6830-48dc-b56a-ab09f02c6531/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"5614221b-6830-48dc-b56a-ab09f02c6531","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5614221b-6830-48dc-b56a-ab09f02c6531","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.992Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","jobId":"357e4d72-ec33-46ef-950f-704e89d0450c","generationRunId":"5614221b-6830-48dc-b56a-ab09f02c6531","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5614221b-6830-48dc-b56a-ab09f02c6531/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/5614221b-6830-48dc-b56a-ab09f02c6531/cover_letter_cover_modern.pdf","session":"5614221b-6830-48dc-b56a-ab09f02c6531","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5614221b-6830-48dc-b56a-ab09f02c6531","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.994Z","level":"info","message":"pdf_generation_attempt","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","jobId":"357e4d72-ec33-46ef-950f-704e89d0450c","generationRunId":"5614221b-6830-48dc-b56a-ab09f02c6531","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5614221b-6830-48dc-b56a-ab09f02c6531/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/5614221b-6830-48dc-b56a-ab09f02c6531/cover_letter_cover_professional.pdf","session":"5614221b-6830-48dc-b56a-ab09f02c6531","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5614221b-6830-48dc-b56a-ab09f02c6531","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.995Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","jobId":"357e4d72-ec33-46ef-950f-704e89d0450c","generationRunId":"5614221b-6830-48dc-b56a-ab09f02c6531","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5614221b-6830-48dc-b56a-ab09f02c6531/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"5614221b-6830-48dc-b56a-ab09f02c6531","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5614221b-6830-48dc-b56a-ab09f02c6531","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:39.996Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","jobId":"357e4d72-ec33-46ef-950f-704e89d0450c","generationRunId":"5614221b-6830-48dc-b56a-ab09f02c6531","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5614221b-6830-48dc-b56a-ab09f02c6531/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/5614221b-6830-48dc-b56a-ab09f02c6531/cover_letter_cover_professional.pdf","session":"5614221b-6830-48dc-b56a-ab09f02c6531","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5614221b-6830-48dc-b56a-ab09f02c6531","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.008Z","level":"info","message":"llm_call_metrics","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"5614221b-6830-48dc-b56a-ab09f02c6531","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"5614221b-6830-48dc-b56a-ab09f02c6531","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.010Z","level":"info","message":"generation_completed","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","jobId":"357e4d72-ec33-46ef-950f-704e89d0450c","generationRunId":"5614221b-6830-48dc-b56a-ab09f02c6531","enhancedScore":80,"outputs":5,"template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.014Z","level":"info","message":"placeholder_record_deleted","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","jobId":"357e4d72-ec33-46ef-950f-704e89d0450c","placeholderIdentifier":"5614221b-6830-48dc-b56a-ab09f02c6531","template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"357e4d72-ec33-46ef-950f-704e89d0450c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.016Z","level":"info","message":"http_request_completed","requestId":"5614221b-6830-48dc-b56a-ab09f02c6531","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":461,"contentLength":"58133","template":"unknown","session":"5614221b-6830-48dc-b56a-ab09f02c6531","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5614221b-6830-48dc-b56a-ab09f02c6531","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.024Z","level":"info","message":"http_request_received","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","method":"POST","path":"/api/process-cv","template":"unknown","session":"3a63068b-1ef5-43d6-8e23-0d90604891de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3a63068b-1ef5-43d6-8e23-0d90604891de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.026Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.028Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.031Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.035Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.039Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/3a63068b-1ef5-43d6-8e23-0d90604891de/incoming/original.pdf","chunks":1,"timestamp":1764857020045}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/3a63068b-1ef5-43d6-8e23-0d90604891de/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/3a63068b-1ef5-43d6-8e23-0d90604891de/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:03:40.061Z","level":"info","message":"process_cv_started","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","jobId":"1a9c803e-c849-4950-a86f-b9614b2b7331","manualJobDescriptionProvided":true,"template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.063Z","level":"info","message":"template_selection","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","jobId":"1a9c803e-c849-4950-a86f-b9614b2b7331","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:40.064Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","jobId":"1a9c803e-c849-4950-a86f-b9614b2b7331","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25147:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:03:40.074Z","level":"info","message":"initial_upload_completed","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","jobId":"1a9c803e-c849-4950-a86f-b9614b2b7331","bucket":"test-bucket","key":"cv/candidate/3a63068b-1ef5-43d6-8e23-0d90604891de/incoming/original.pdf","template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.082Z","level":"info","message":"resume_text_extracted","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","jobId":"1a9c803e-c849-4950-a86f-b9614b2b7331","characters":57,"template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.100Z","level":"info","message":"resume_classified","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","jobId":"1a9c803e-c849-4950-a86f-b9614b2b7331","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.112Z","level":"info","message":"raw_upload_relocated","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","jobId":"1a9c803e-c849-4950-a86f-b9614b2b7331","bucket":"test-bucket","fromKey":"cv/candidate/3a63068b-1ef5-43d6-8e23-0d90604891de/incoming/original.pdf","toKey":"cv/professional_summary/3a63068b-1ef5-43d6-8e23-0d90604891de/original.pdf","template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.129Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","jobId":"1a9c803e-c849-4950-a86f-b9614b2b7331","bucket":"test-bucket","key":"cv/professional_summary/3a63068b-1ef5-43d6-8e23-0d90604891de/original.pdf","template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.130Z","level":"info","message":"dynamo_initial_record_written","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","jobId":"1a9c803e-c849-4950-a86f-b9614b2b7331","bucket":"test-bucket","key":"cv/professional_summary/3a63068b-1ef5-43d6-8e23-0d90604891de/original.pdf","template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.131Z","level":"info","message":"upload_metadata_written","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","jobId":"1a9c803e-c849-4950-a86f-b9614b2b7331","bucket":"test-bucket","key":"cv/professional_summary/3a63068b-1ef5-43d6-8e23-0d90604891de/logs/log.json","template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.132Z","level":"info","message":"job_description_supplied_manually","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","jobId":"1a9c803e-c849-4950-a86f-b9614b2b7331","characters":174,"template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.133Z","level":"info","message":"job_description_analyzed","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","jobId":"1a9c803e-c849-4950-a86f-b9614b2b7331","jobTitle":"","jobSkills":5,"template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.135Z","level":"info","message":"resume_skills_analyzed","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","jobId":"1a9c803e-c849-4950-a86f-b9614b2b7331","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.136Z","level":"info","message":"llm_call_metrics","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"3a63068b-1ef5-43d6-8e23-0d90604891de","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"3a63068b-1ef5-43d6-8e23-0d90604891de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.139Z","level":"info","message":"process_cv_scoring_completed","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","jobId":"1a9c803e-c849-4950-a86f-b9614b2b7331","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.150Z","level":"info","message":"llm_call_metrics","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"3a63068b-1ef5-43d6-8e23-0d90604891de","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"3a63068b-1ef5-43d6-8e23-0d90604891de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.151Z","level":"info","message":"generation_section_rewrite_completed","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","jobId":"1a9c803e-c849-4950-a86f-b9614b2b7331","generationRunId":"3a63068b-1ef5-43d6-8e23-0d90604891de","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.153Z","level":"info","message":"llm_call_metrics","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"3a63068b-1ef5-43d6-8e23-0d90604891de","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"3a63068b-1ef5-43d6-8e23-0d90604891de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.165Z","level":"info","message":"generation_resume_verified","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","jobId":"1a9c803e-c849-4950-a86f-b9614b2b7331","generationRunId":"3a63068b-1ef5-43d6-8e23-0d90604891de","template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:40.175Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","jobId":"1a9c803e-c849-4950-a86f-b9614b2b7331","generationRunId":"3a63068b-1ef5-43d6-8e23-0d90604891de","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20550:7)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:40.251Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","jobId":"1a9c803e-c849-4950-a86f-b9614b2b7331","generationRunId":"3a63068b-1ef5-43d6-8e23-0d90604891de","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20739:7)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:40.369Z","level":"info","message":"generation_cover_letters_completed","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","jobId":"1a9c803e-c849-4950-a86f-b9614b2b7331","generationRunId":"3a63068b-1ef5-43d6-8e23-0d90604891de","variants":2,"fallbackApplied":true,"template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.380Z","level":"info","message":"pdf_generation_attempt","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","jobId":"1a9c803e-c849-4950-a86f-b9614b2b7331","generationRunId":"3a63068b-1ef5-43d6-8e23-0d90604891de","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/3a63068b-1ef5-43d6-8e23-0d90604891de/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/3a63068b-1ef5-43d6-8e23-0d90604891de/enhanced_modern.pdf","session":"3a63068b-1ef5-43d6-8e23-0d90604891de","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3a63068b-1ef5-43d6-8e23-0d90604891de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.383Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","jobId":"1a9c803e-c849-4950-a86f-b9614b2b7331","generationRunId":"3a63068b-1ef5-43d6-8e23-0d90604891de","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/3a63068b-1ef5-43d6-8e23-0d90604891de/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"3a63068b-1ef5-43d6-8e23-0d90604891de","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3a63068b-1ef5-43d6-8e23-0d90604891de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.385Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","jobId":"1a9c803e-c849-4950-a86f-b9614b2b7331","generationRunId":"3a63068b-1ef5-43d6-8e23-0d90604891de","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/3a63068b-1ef5-43d6-8e23-0d90604891de/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/3a63068b-1ef5-43d6-8e23-0d90604891de/enhanced_modern.pdf","session":"3a63068b-1ef5-43d6-8e23-0d90604891de","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3a63068b-1ef5-43d6-8e23-0d90604891de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.387Z","level":"info","message":"pdf_generation_attempt","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","jobId":"1a9c803e-c849-4950-a86f-b9614b2b7331","generationRunId":"3a63068b-1ef5-43d6-8e23-0d90604891de","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/3a63068b-1ef5-43d6-8e23-0d90604891de/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/3a63068b-1ef5-43d6-8e23-0d90604891de/enhanced_professional.pdf","session":"3a63068b-1ef5-43d6-8e23-0d90604891de","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3a63068b-1ef5-43d6-8e23-0d90604891de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.390Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","jobId":"1a9c803e-c849-4950-a86f-b9614b2b7331","generationRunId":"3a63068b-1ef5-43d6-8e23-0d90604891de","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/3a63068b-1ef5-43d6-8e23-0d90604891de/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"3a63068b-1ef5-43d6-8e23-0d90604891de","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3a63068b-1ef5-43d6-8e23-0d90604891de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.395Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","jobId":"1a9c803e-c849-4950-a86f-b9614b2b7331","generationRunId":"3a63068b-1ef5-43d6-8e23-0d90604891de","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/3a63068b-1ef5-43d6-8e23-0d90604891de/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/3a63068b-1ef5-43d6-8e23-0d90604891de/enhanced_professional.pdf","session":"3a63068b-1ef5-43d6-8e23-0d90604891de","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3a63068b-1ef5-43d6-8e23-0d90604891de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.398Z","level":"info","message":"pdf_generation_attempt","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","jobId":"1a9c803e-c849-4950-a86f-b9614b2b7331","generationRunId":"3a63068b-1ef5-43d6-8e23-0d90604891de","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/3a63068b-1ef5-43d6-8e23-0d90604891de/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/3a63068b-1ef5-43d6-8e23-0d90604891de/cover_letter_cover_modern.pdf","session":"3a63068b-1ef5-43d6-8e23-0d90604891de","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"3a63068b-1ef5-43d6-8e23-0d90604891de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.401Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","jobId":"1a9c803e-c849-4950-a86f-b9614b2b7331","generationRunId":"3a63068b-1ef5-43d6-8e23-0d90604891de","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/3a63068b-1ef5-43d6-8e23-0d90604891de/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"3a63068b-1ef5-43d6-8e23-0d90604891de","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"3a63068b-1ef5-43d6-8e23-0d90604891de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.404Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","jobId":"1a9c803e-c849-4950-a86f-b9614b2b7331","generationRunId":"3a63068b-1ef5-43d6-8e23-0d90604891de","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/3a63068b-1ef5-43d6-8e23-0d90604891de/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/3a63068b-1ef5-43d6-8e23-0d90604891de/cover_letter_cover_modern.pdf","session":"3a63068b-1ef5-43d6-8e23-0d90604891de","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"3a63068b-1ef5-43d6-8e23-0d90604891de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.408Z","level":"info","message":"pdf_generation_attempt","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","jobId":"1a9c803e-c849-4950-a86f-b9614b2b7331","generationRunId":"3a63068b-1ef5-43d6-8e23-0d90604891de","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/3a63068b-1ef5-43d6-8e23-0d90604891de/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/3a63068b-1ef5-43d6-8e23-0d90604891de/cover_letter_cover_professional.pdf","session":"3a63068b-1ef5-43d6-8e23-0d90604891de","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"3a63068b-1ef5-43d6-8e23-0d90604891de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.409Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","jobId":"1a9c803e-c849-4950-a86f-b9614b2b7331","generationRunId":"3a63068b-1ef5-43d6-8e23-0d90604891de","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/3a63068b-1ef5-43d6-8e23-0d90604891de/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"3a63068b-1ef5-43d6-8e23-0d90604891de","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"3a63068b-1ef5-43d6-8e23-0d90604891de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.413Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","jobId":"1a9c803e-c849-4950-a86f-b9614b2b7331","generationRunId":"3a63068b-1ef5-43d6-8e23-0d90604891de","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/3a63068b-1ef5-43d6-8e23-0d90604891de/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/3a63068b-1ef5-43d6-8e23-0d90604891de/cover_letter_cover_professional.pdf","session":"3a63068b-1ef5-43d6-8e23-0d90604891de","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"3a63068b-1ef5-43d6-8e23-0d90604891de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.427Z","level":"info","message":"llm_call_metrics","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"3a63068b-1ef5-43d6-8e23-0d90604891de","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"3a63068b-1ef5-43d6-8e23-0d90604891de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.428Z","level":"info","message":"generation_completed","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","jobId":"1a9c803e-c849-4950-a86f-b9614b2b7331","generationRunId":"3a63068b-1ef5-43d6-8e23-0d90604891de","enhancedScore":80,"outputs":5,"template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.434Z","level":"info","message":"placeholder_record_deleted","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","jobId":"1a9c803e-c849-4950-a86f-b9614b2b7331","placeholderIdentifier":"3a63068b-1ef5-43d6-8e23-0d90604891de","template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1a9c803e-c849-4950-a86f-b9614b2b7331","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.474Z","level":"info","message":"http_request_completed","requestId":"3a63068b-1ef5-43d6-8e23-0d90604891de","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":450,"contentLength":"58133","template":"unknown","session":"3a63068b-1ef5-43d6-8e23-0d90604891de","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3a63068b-1ef5-43d6-8e23-0d90604891de","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.507Z","level":"info","message":"http_request_received","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","method":"POST","path":"/api/process-cv","template":"unknown","session":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.510Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.512Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.514Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.516Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.519Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/dd459cc8-2fcc-4173-8b97-70550b8f95b4/incoming/original.pdf","chunks":1,"timestamp":1764857020523}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/dd459cc8-2fcc-4173-8b97-70550b8f95b4/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/dd459cc8-2fcc-4173-8b97-70550b8f95b4/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":3}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:03:40.528Z","level":"info","message":"process_cv_started","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","jobId":"93afd8da-7d03-4d2e-99d4-1856559591f5","manualJobDescriptionProvided":true,"template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.529Z","level":"info","message":"template_selection","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","jobId":"93afd8da-7d03-4d2e-99d4-1856559591f5","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:40.530Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","jobId":"93afd8da-7d03-4d2e-99d4-1856559591f5","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25147:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:03:40.541Z","level":"info","message":"initial_upload_completed","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","jobId":"93afd8da-7d03-4d2e-99d4-1856559591f5","bucket":"test-bucket","key":"cv/candidate/dd459cc8-2fcc-4173-8b97-70550b8f95b4/incoming/original.pdf","template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.543Z","level":"info","message":"resume_text_extracted","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","jobId":"93afd8da-7d03-4d2e-99d4-1856559591f5","characters":57,"template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.544Z","level":"info","message":"resume_classified","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","jobId":"93afd8da-7d03-4d2e-99d4-1856559591f5","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.545Z","level":"info","message":"raw_upload_relocated","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","jobId":"93afd8da-7d03-4d2e-99d4-1856559591f5","bucket":"test-bucket","fromKey":"cv/candidate/dd459cc8-2fcc-4173-8b97-70550b8f95b4/incoming/original.pdf","toKey":"cv/professional_summary/dd459cc8-2fcc-4173-8b97-70550b8f95b4/original.pdf","template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.545Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","jobId":"93afd8da-7d03-4d2e-99d4-1856559591f5","bucket":"test-bucket","key":"cv/professional_summary/dd459cc8-2fcc-4173-8b97-70550b8f95b4/original.pdf","template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.546Z","level":"info","message":"dynamo_initial_record_written","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","jobId":"93afd8da-7d03-4d2e-99d4-1856559591f5","bucket":"test-bucket","key":"cv/professional_summary/dd459cc8-2fcc-4173-8b97-70550b8f95b4/original.pdf","template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.547Z","level":"info","message":"upload_metadata_written","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","jobId":"93afd8da-7d03-4d2e-99d4-1856559591f5","bucket":"test-bucket","key":"cv/professional_summary/dd459cc8-2fcc-4173-8b97-70550b8f95b4/logs/log.json","template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.547Z","level":"info","message":"session_transition_change_log_removed","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","jobId":"93afd8da-7d03-4d2e-99d4-1856559591f5","bucket":"test-bucket","removedKeys":["cv/candidate/session-old/logs/change-log.json","cv/candidate/session-old/artifacts/changelog.json"],"template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.550Z","level":"info","message":"job_description_supplied_manually","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","jobId":"93afd8da-7d03-4d2e-99d4-1856559591f5","characters":174,"template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.551Z","level":"info","message":"job_description_analyzed","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","jobId":"93afd8da-7d03-4d2e-99d4-1856559591f5","jobTitle":"","jobSkills":5,"template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.552Z","level":"info","message":"resume_skills_analyzed","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","jobId":"93afd8da-7d03-4d2e-99d4-1856559591f5","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.553Z","level":"info","message":"llm_call_metrics","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.554Z","level":"info","message":"process_cv_scoring_completed","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","jobId":"93afd8da-7d03-4d2e-99d4-1856559591f5","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.561Z","level":"info","message":"llm_call_metrics","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.562Z","level":"info","message":"generation_section_rewrite_completed","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","jobId":"93afd8da-7d03-4d2e-99d4-1856559591f5","generationRunId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.562Z","level":"info","message":"llm_call_metrics","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.567Z","level":"info","message":"generation_resume_verified","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","jobId":"93afd8da-7d03-4d2e-99d4-1856559591f5","generationRunId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:40.572Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","jobId":"93afd8da-7d03-4d2e-99d4-1856559591f5","generationRunId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20550:7)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:40.589Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","jobId":"93afd8da-7d03-4d2e-99d4-1856559591f5","generationRunId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20739:7)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:40.598Z","level":"info","message":"generation_cover_letters_completed","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","jobId":"93afd8da-7d03-4d2e-99d4-1856559591f5","generationRunId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","variants":2,"fallbackApplied":true,"template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.599Z","level":"info","message":"pdf_generation_attempt","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","jobId":"93afd8da-7d03-4d2e-99d4-1856559591f5","generationRunId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/dd459cc8-2fcc-4173-8b97-70550b8f95b4/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/dd459cc8-2fcc-4173-8b97-70550b8f95b4/enhanced_modern.pdf","session":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.603Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","jobId":"93afd8da-7d03-4d2e-99d4-1856559591f5","generationRunId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/dd459cc8-2fcc-4173-8b97-70550b8f95b4/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.604Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","jobId":"93afd8da-7d03-4d2e-99d4-1856559591f5","generationRunId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/dd459cc8-2fcc-4173-8b97-70550b8f95b4/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/dd459cc8-2fcc-4173-8b97-70550b8f95b4/enhanced_modern.pdf","session":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.605Z","level":"info","message":"pdf_generation_attempt","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","jobId":"93afd8da-7d03-4d2e-99d4-1856559591f5","generationRunId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/dd459cc8-2fcc-4173-8b97-70550b8f95b4/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/dd459cc8-2fcc-4173-8b97-70550b8f95b4/enhanced_professional.pdf","session":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.606Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","jobId":"93afd8da-7d03-4d2e-99d4-1856559591f5","generationRunId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/dd459cc8-2fcc-4173-8b97-70550b8f95b4/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.607Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","jobId":"93afd8da-7d03-4d2e-99d4-1856559591f5","generationRunId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/dd459cc8-2fcc-4173-8b97-70550b8f95b4/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/dd459cc8-2fcc-4173-8b97-70550b8f95b4/enhanced_professional.pdf","session":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.608Z","level":"info","message":"pdf_generation_attempt","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","jobId":"93afd8da-7d03-4d2e-99d4-1856559591f5","generationRunId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/dd459cc8-2fcc-4173-8b97-70550b8f95b4/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/dd459cc8-2fcc-4173-8b97-70550b8f95b4/cover_letter_cover_modern.pdf","session":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.609Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","jobId":"93afd8da-7d03-4d2e-99d4-1856559591f5","generationRunId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/dd459cc8-2fcc-4173-8b97-70550b8f95b4/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.610Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","jobId":"93afd8da-7d03-4d2e-99d4-1856559591f5","generationRunId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/dd459cc8-2fcc-4173-8b97-70550b8f95b4/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/dd459cc8-2fcc-4173-8b97-70550b8f95b4/cover_letter_cover_modern.pdf","session":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.612Z","level":"info","message":"pdf_generation_attempt","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","jobId":"93afd8da-7d03-4d2e-99d4-1856559591f5","generationRunId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/dd459cc8-2fcc-4173-8b97-70550b8f95b4/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/dd459cc8-2fcc-4173-8b97-70550b8f95b4/cover_letter_cover_professional.pdf","session":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.613Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","jobId":"93afd8da-7d03-4d2e-99d4-1856559591f5","generationRunId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/dd459cc8-2fcc-4173-8b97-70550b8f95b4/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.613Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","jobId":"93afd8da-7d03-4d2e-99d4-1856559591f5","generationRunId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/dd459cc8-2fcc-4173-8b97-70550b8f95b4/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/dd459cc8-2fcc-4173-8b97-70550b8f95b4/cover_letter_cover_professional.pdf","session":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.618Z","level":"info","message":"llm_call_metrics","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.619Z","level":"info","message":"generation_completed","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","jobId":"93afd8da-7d03-4d2e-99d4-1856559591f5","generationRunId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","enhancedScore":80,"outputs":5,"template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.625Z","level":"info","message":"placeholder_record_deleted","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","jobId":"93afd8da-7d03-4d2e-99d4-1856559591f5","placeholderIdentifier":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"93afd8da-7d03-4d2e-99d4-1856559591f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.627Z","level":"info","message":"http_request_completed","requestId":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":120,"contentLength":"58133","template":"unknown","session":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dd459cc8-2fcc-4173-8b97-70550b8f95b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.633Z","level":"info","message":"http_request_received","requestId":"repeat","method":"POST","path":"/api/process-cv","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.635Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.637Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.639Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.642Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.646Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","chunks":1,"timestamp":1764857020651}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:03:40.654Z","level":"info","message":"process_cv_started","requestId":"repeat","jobId":"repeat","manualJobDescriptionProvided":true,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.656Z","level":"info","message":"template_selection","requestId":"repeat","jobId":"repeat","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:40.659Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"repeat","jobId":"repeat","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25147:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:03:40.679Z","level":"info","message":"initial_upload_completed","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.680Z","level":"info","message":"resume_text_extracted","requestId":"repeat","jobId":"repeat","characters":57,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.681Z","level":"info","message":"resume_classified","requestId":"repeat","jobId":"repeat","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.682Z","level":"info","message":"raw_upload_relocated","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","fromKey":"cv/candidate/repeat/incoming/original.pdf","toKey":"cv/professional_summary/repeat/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.683Z","level":"info","message":"dynamo_initial_record_written","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/professional_summary/repeat/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.683Z","level":"info","message":"upload_metadata_written","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/professional_summary/repeat/logs/log.json","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.684Z","level":"info","message":"session_transition_change_log_removed","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","removedKeys":["cv/candidate/repeat/logs/change-log.json","cv/candidate/repeat/artifacts/changelog.json"],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.685Z","level":"info","message":"job_description_supplied_manually","requestId":"repeat","jobId":"repeat","characters":174,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.687Z","level":"info","message":"job_description_analyzed","requestId":"repeat","jobId":"repeat","jobTitle":"","jobSkills":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.690Z","level":"info","message":"resume_skills_analyzed","requestId":"repeat","jobId":"repeat","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.695Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.700Z","level":"info","message":"process_cv_scoring_completed","requestId":"repeat","jobId":"repeat","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.705Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.706Z","level":"info","message":"generation_section_rewrite_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.707Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.773Z","level":"info","message":"generation_resume_verified","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:40.783Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20550:7)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:40.866Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20739:7)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:40.899Z","level":"info","message":"generation_cover_letters_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","variants":2,"fallbackApplied":true,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.901Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.905Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.906Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.907Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.907Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.908Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.912Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.918Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.919Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.921Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.922Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.924Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.930Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.931Z","level":"info","message":"generation_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","enhancedScore":80,"outputs":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.934Z","level":"info","message":"http_request_completed","requestId":"repeat","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":301,"contentLength":"57353","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:40.960Z","level":"info","message":"http_request_received","requestId":"6999804f-2713-4c7d-a6d6-c5140cb0fa15","method":"POST","path":"/api/process-cv","template":"unknown","session":"6999804f-2713-4c7d-a6d6-c5140cb0fa15","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6999804f-2713-4c7d-a6d6-c5140cb0fa15","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.018Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.021Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.024Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.027Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.036Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/6999804f-2713-4c7d-a6d6-c5140cb0fa15/incoming/original.pdf","chunks":1,"timestamp":1764857021047}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/6999804f-2713-4c7d-a6d6-c5140cb0fa15/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/6999804f-2713-4c7d-a6d6-c5140cb0fa15/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":3}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:03:41.051Z","level":"info","message":"process_cv_started","requestId":"6999804f-2713-4c7d-a6d6-c5140cb0fa15","jobId":"5a2d83fc-4701-4de5-9964-3975a14bd8fc","manualJobDescriptionProvided":false,"template":"unknown","session":"5a2d83fc-4701-4de5-9964-3975a14bd8fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5a2d83fc-4701-4de5-9964-3975a14bd8fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.053Z","level":"info","message":"template_selection","requestId":"6999804f-2713-4c7d-a6d6-c5140cb0fa15","jobId":"5a2d83fc-4701-4de5-9964-3975a14bd8fc","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"5a2d83fc-4701-4de5-9964-3975a14bd8fc","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5a2d83fc-4701-4de5-9964-3975a14bd8fc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:41.057Z","level":"warn","message":"job_description_missing","requestId":"6999804f-2713-4c7d-a6d6-c5140cb0fa15","jobId":"5a2d83fc-4701-4de5-9964-3975a14bd8fc","template":"unknown","session":"5a2d83fc-4701-4de5-9964-3975a14bd8fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5a2d83fc-4701-4de5-9964-3975a14bd8fc","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25111:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T14:03:41.082Z","level":"warn","message":"api_error_response","requestId":"6999804f-2713-4c7d-a6d6-c5140cb0fa15","jobId":"5a2d83fc-4701-4de5-9964-3975a14bd8fc","status":400,"error":{"code":"JOB_DESCRIPTION_REQUIRED","message":"manualJobDescription required","details":{"field":"manualJobDescription"},"requestId":"6999804f-2713-4c7d-a6d6-c5140cb0fa15","jobId":"5a2d83fc-4701-4de5-9964-3975a14bd8fc"},"template":"unknown","session":"5a2d83fc-4701-4de5-9964-3975a14bd8fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5a2d83fc-4701-4de5-9964-3975a14bd8fc","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at sendError (server.js:3975:3)
      at server.js:25112:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:03:41.094Z","level":"info","message":"http_request_completed","requestId":"6999804f-2713-4c7d-a6d6-c5140cb0fa15","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":134,"contentLength":"244","template":"unknown","session":"6999804f-2713-4c7d-a6d6-c5140cb0fa15","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6999804f-2713-4c7d-a6d6-c5140cb0fa15","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.098Z","level":"info","message":"http_request_received","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","method":"POST","path":"/api/process-cv","template":"unknown","session":"777714a9-f4b6-47a1-8e69-40b70086e707","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"777714a9-f4b6-47a1-8e69-40b70086e707","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.100Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.102Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.104Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.107Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.110Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/777714a9-f4b6-47a1-8e69-40b70086e707/incoming/original.pdf","chunks":1,"timestamp":1764857021116}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/777714a9-f4b6-47a1-8e69-40b70086e707/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/777714a9-f4b6-47a1-8e69-40b70086e707/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:03:41.118Z","level":"info","message":"process_cv_started","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","jobId":"73f79163-27f5-4f6b-8340-5192df2bc4b1","manualJobDescriptionProvided":true,"template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.119Z","level":"info","message":"template_selection","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","jobId":"73f79163-27f5-4f6b-8340-5192df2bc4b1","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:41.120Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","jobId":"73f79163-27f5-4f6b-8340-5192df2bc4b1","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25147:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:03:41.129Z","level":"info","message":"initial_upload_completed","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","jobId":"73f79163-27f5-4f6b-8340-5192df2bc4b1","bucket":"test-bucket","key":"cv/candidate/777714a9-f4b6-47a1-8e69-40b70086e707/incoming/original.pdf","template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.132Z","level":"info","message":"resume_text_extracted","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","jobId":"73f79163-27f5-4f6b-8340-5192df2bc4b1","characters":57,"template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.133Z","level":"info","message":"resume_classified","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","jobId":"73f79163-27f5-4f6b-8340-5192df2bc4b1","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.134Z","level":"info","message":"raw_upload_relocated","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","jobId":"73f79163-27f5-4f6b-8340-5192df2bc4b1","bucket":"test-bucket","fromKey":"cv/candidate/777714a9-f4b6-47a1-8e69-40b70086e707/incoming/original.pdf","toKey":"cv/professional_summary/777714a9-f4b6-47a1-8e69-40b70086e707/original.pdf","template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.135Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","jobId":"73f79163-27f5-4f6b-8340-5192df2bc4b1","bucket":"test-bucket","key":"cv/professional_summary/777714a9-f4b6-47a1-8e69-40b70086e707/original.pdf","template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.137Z","level":"info","message":"dynamo_initial_record_written","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","jobId":"73f79163-27f5-4f6b-8340-5192df2bc4b1","bucket":"test-bucket","key":"cv/professional_summary/777714a9-f4b6-47a1-8e69-40b70086e707/original.pdf","template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.138Z","level":"info","message":"upload_metadata_written","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","jobId":"73f79163-27f5-4f6b-8340-5192df2bc4b1","bucket":"test-bucket","key":"cv/professional_summary/777714a9-f4b6-47a1-8e69-40b70086e707/logs/log.json","template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.139Z","level":"info","message":"job_description_supplied_manually","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","jobId":"73f79163-27f5-4f6b-8340-5192df2bc4b1","characters":59,"template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.139Z","level":"info","message":"job_description_analyzed","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","jobId":"73f79163-27f5-4f6b-8340-5192df2bc4b1","jobTitle":"","jobSkills":5,"template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.141Z","level":"info","message":"resume_skills_analyzed","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","jobId":"73f79163-27f5-4f6b-8340-5192df2bc4b1","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.142Z","level":"info","message":"llm_call_metrics","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"777714a9-f4b6-47a1-8e69-40b70086e707","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"777714a9-f4b6-47a1-8e69-40b70086e707","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.144Z","level":"info","message":"process_cv_scoring_completed","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","jobId":"73f79163-27f5-4f6b-8340-5192df2bc4b1","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.149Z","level":"info","message":"llm_call_metrics","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"ea2430c235b24028819e3e632af324e68724bbc1d27bee61065e3e4452249d1c","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"777714a9-f4b6-47a1-8e69-40b70086e707","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"777714a9-f4b6-47a1-8e69-40b70086e707","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.151Z","level":"info","message":"generation_section_rewrite_completed","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","jobId":"73f79163-27f5-4f6b-8340-5192df2bc4b1","generationRunId":"777714a9-f4b6-47a1-8e69-40b70086e707","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.152Z","level":"info","message":"llm_call_metrics","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"5ccfe9db3e82fa26357ec9c5a8fa36d7c5cf260bf775e906492a22db0355a609","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"777714a9-f4b6-47a1-8e69-40b70086e707","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"777714a9-f4b6-47a1-8e69-40b70086e707","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.156Z","level":"info","message":"generation_resume_verified","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","jobId":"73f79163-27f5-4f6b-8340-5192df2bc4b1","generationRunId":"777714a9-f4b6-47a1-8e69-40b70086e707","template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:41.163Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","jobId":"73f79163-27f5-4f6b-8340-5192df2bc4b1","generationRunId":"777714a9-f4b6-47a1-8e69-40b70086e707","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20550:7)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:41.173Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","jobId":"73f79163-27f5-4f6b-8340-5192df2bc4b1","generationRunId":"777714a9-f4b6-47a1-8e69-40b70086e707","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20739:7)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:41.182Z","level":"info","message":"generation_cover_letters_completed","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","jobId":"73f79163-27f5-4f6b-8340-5192df2bc4b1","generationRunId":"777714a9-f4b6-47a1-8e69-40b70086e707","variants":2,"fallbackApplied":true,"template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.183Z","level":"info","message":"pdf_generation_attempt","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","jobId":"73f79163-27f5-4f6b-8340-5192df2bc4b1","generationRunId":"777714a9-f4b6-47a1-8e69-40b70086e707","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/777714a9-f4b6-47a1-8e69-40b70086e707/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/777714a9-f4b6-47a1-8e69-40b70086e707/enhanced_modern.pdf","session":"777714a9-f4b6-47a1-8e69-40b70086e707","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"777714a9-f4b6-47a1-8e69-40b70086e707","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.184Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","jobId":"73f79163-27f5-4f6b-8340-5192df2bc4b1","generationRunId":"777714a9-f4b6-47a1-8e69-40b70086e707","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/777714a9-f4b6-47a1-8e69-40b70086e707/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"777714a9-f4b6-47a1-8e69-40b70086e707","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"777714a9-f4b6-47a1-8e69-40b70086e707","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.185Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","jobId":"73f79163-27f5-4f6b-8340-5192df2bc4b1","generationRunId":"777714a9-f4b6-47a1-8e69-40b70086e707","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/777714a9-f4b6-47a1-8e69-40b70086e707/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/777714a9-f4b6-47a1-8e69-40b70086e707/enhanced_modern.pdf","session":"777714a9-f4b6-47a1-8e69-40b70086e707","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"777714a9-f4b6-47a1-8e69-40b70086e707","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.186Z","level":"info","message":"pdf_generation_attempt","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","jobId":"73f79163-27f5-4f6b-8340-5192df2bc4b1","generationRunId":"777714a9-f4b6-47a1-8e69-40b70086e707","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/777714a9-f4b6-47a1-8e69-40b70086e707/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/777714a9-f4b6-47a1-8e69-40b70086e707/enhanced_professional.pdf","session":"777714a9-f4b6-47a1-8e69-40b70086e707","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"777714a9-f4b6-47a1-8e69-40b70086e707","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.187Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","jobId":"73f79163-27f5-4f6b-8340-5192df2bc4b1","generationRunId":"777714a9-f4b6-47a1-8e69-40b70086e707","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/777714a9-f4b6-47a1-8e69-40b70086e707/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"777714a9-f4b6-47a1-8e69-40b70086e707","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"777714a9-f4b6-47a1-8e69-40b70086e707","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.188Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","jobId":"73f79163-27f5-4f6b-8340-5192df2bc4b1","generationRunId":"777714a9-f4b6-47a1-8e69-40b70086e707","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/777714a9-f4b6-47a1-8e69-40b70086e707/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/777714a9-f4b6-47a1-8e69-40b70086e707/enhanced_professional.pdf","session":"777714a9-f4b6-47a1-8e69-40b70086e707","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"777714a9-f4b6-47a1-8e69-40b70086e707","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.189Z","level":"info","message":"pdf_generation_attempt","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","jobId":"73f79163-27f5-4f6b-8340-5192df2bc4b1","generationRunId":"777714a9-f4b6-47a1-8e69-40b70086e707","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/777714a9-f4b6-47a1-8e69-40b70086e707/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/777714a9-f4b6-47a1-8e69-40b70086e707/cover_letter_cover_modern.pdf","session":"777714a9-f4b6-47a1-8e69-40b70086e707","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"777714a9-f4b6-47a1-8e69-40b70086e707","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.190Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","jobId":"73f79163-27f5-4f6b-8340-5192df2bc4b1","generationRunId":"777714a9-f4b6-47a1-8e69-40b70086e707","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/777714a9-f4b6-47a1-8e69-40b70086e707/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"777714a9-f4b6-47a1-8e69-40b70086e707","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"777714a9-f4b6-47a1-8e69-40b70086e707","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.191Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","jobId":"73f79163-27f5-4f6b-8340-5192df2bc4b1","generationRunId":"777714a9-f4b6-47a1-8e69-40b70086e707","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/777714a9-f4b6-47a1-8e69-40b70086e707/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/777714a9-f4b6-47a1-8e69-40b70086e707/cover_letter_cover_modern.pdf","session":"777714a9-f4b6-47a1-8e69-40b70086e707","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"777714a9-f4b6-47a1-8e69-40b70086e707","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.193Z","level":"info","message":"pdf_generation_attempt","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","jobId":"73f79163-27f5-4f6b-8340-5192df2bc4b1","generationRunId":"777714a9-f4b6-47a1-8e69-40b70086e707","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/777714a9-f4b6-47a1-8e69-40b70086e707/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/777714a9-f4b6-47a1-8e69-40b70086e707/cover_letter_cover_professional.pdf","session":"777714a9-f4b6-47a1-8e69-40b70086e707","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"777714a9-f4b6-47a1-8e69-40b70086e707","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.195Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","jobId":"73f79163-27f5-4f6b-8340-5192df2bc4b1","generationRunId":"777714a9-f4b6-47a1-8e69-40b70086e707","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/777714a9-f4b6-47a1-8e69-40b70086e707/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"777714a9-f4b6-47a1-8e69-40b70086e707","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"777714a9-f4b6-47a1-8e69-40b70086e707","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.196Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","jobId":"73f79163-27f5-4f6b-8340-5192df2bc4b1","generationRunId":"777714a9-f4b6-47a1-8e69-40b70086e707","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/777714a9-f4b6-47a1-8e69-40b70086e707/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/777714a9-f4b6-47a1-8e69-40b70086e707/cover_letter_cover_professional.pdf","session":"777714a9-f4b6-47a1-8e69-40b70086e707","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"777714a9-f4b6-47a1-8e69-40b70086e707","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.203Z","level":"info","message":"llm_call_metrics","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"777714a9-f4b6-47a1-8e69-40b70086e707","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"777714a9-f4b6-47a1-8e69-40b70086e707","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.205Z","level":"info","message":"generation_completed","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","jobId":"73f79163-27f5-4f6b-8340-5192df2bc4b1","generationRunId":"777714a9-f4b6-47a1-8e69-40b70086e707","enhancedScore":80,"outputs":5,"template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.207Z","level":"info","message":"placeholder_record_deleted","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","jobId":"73f79163-27f5-4f6b-8340-5192df2bc4b1","placeholderIdentifier":"777714a9-f4b6-47a1-8e69-40b70086e707","template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"73f79163-27f5-4f6b-8340-5192df2bc4b1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.210Z","level":"info","message":"http_request_completed","requestId":"777714a9-f4b6-47a1-8e69-40b70086e707","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":112,"contentLength":"55048","template":"unknown","session":"777714a9-f4b6-47a1-8e69-40b70086e707","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"777714a9-f4b6-47a1-8e69-40b70086e707","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.218Z","level":"info","message":"http_request_received","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","method":"POST","path":"/api/process-cv","template":"unknown","session":"da425352-feb9-4c98-b77e-ec0641ea9e79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"da425352-feb9-4c98-b77e-ec0641ea9e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.221Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.223Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.225Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.228Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.231Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/da425352-feb9-4c98-b77e-ec0641ea9e79/incoming/original.pdf","chunks":1,"timestamp":1764857021237}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/da425352-feb9-4c98-b77e-ec0641ea9e79/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/da425352-feb9-4c98-b77e-ec0641ea9e79/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":3}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:03:41.241Z","level":"info","message":"process_cv_started","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","jobId":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","manualJobDescriptionProvided":true,"template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.242Z","level":"info","message":"template_selection","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","jobId":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:41.243Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","jobId":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25147:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:03:41.253Z","level":"info","message":"initial_upload_completed","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","jobId":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","bucket":"test-bucket","key":"cv/candidate/da425352-feb9-4c98-b77e-ec0641ea9e79/incoming/original.pdf","template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.257Z","level":"info","message":"resume_text_extracted","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","jobId":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","characters":57,"template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.261Z","level":"info","message":"resume_classified","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","jobId":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.263Z","level":"info","message":"raw_upload_relocated","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","jobId":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","bucket":"test-bucket","fromKey":"cv/candidate/da425352-feb9-4c98-b77e-ec0641ea9e79/incoming/original.pdf","toKey":"cv/professional_summary/da425352-feb9-4c98-b77e-ec0641ea9e79/original.pdf","template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.263Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","jobId":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","bucket":"test-bucket","key":"cv/professional_summary/da425352-feb9-4c98-b77e-ec0641ea9e79/original.pdf","template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.264Z","level":"info","message":"dynamo_initial_record_written","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","jobId":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","bucket":"test-bucket","key":"cv/professional_summary/da425352-feb9-4c98-b77e-ec0641ea9e79/original.pdf","template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.265Z","level":"info","message":"upload_metadata_written","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","jobId":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","bucket":"test-bucket","key":"cv/professional_summary/da425352-feb9-4c98-b77e-ec0641ea9e79/logs/log.json","template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.266Z","level":"info","message":"job_description_supplied_manually","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","jobId":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","characters":32,"template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.267Z","level":"info","message":"job_description_analyzed","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","jobId":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","jobTitle":"","jobSkills":5,"template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.268Z","level":"info","message":"resume_skills_analyzed","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","jobId":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.269Z","level":"info","message":"llm_call_metrics","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"da425352-feb9-4c98-b77e-ec0641ea9e79","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"da425352-feb9-4c98-b77e-ec0641ea9e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.271Z","level":"info","message":"process_cv_scoring_completed","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","jobId":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.276Z","level":"info","message":"llm_call_metrics","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"4ee429ea92424e8e19e4720211137d476a19f7274074e1702e9c42fe53b6fed7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"da425352-feb9-4c98-b77e-ec0641ea9e79","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"da425352-feb9-4c98-b77e-ec0641ea9e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.277Z","level":"info","message":"generation_section_rewrite_completed","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","jobId":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","generationRunId":"da425352-feb9-4c98-b77e-ec0641ea9e79","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.278Z","level":"info","message":"llm_call_metrics","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"b847d6e14d4cae3ee14cd5dbb7c4a4ca1658d965fe5c0b4564eb95e9b23995e3","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"da425352-feb9-4c98-b77e-ec0641ea9e79","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"da425352-feb9-4c98-b77e-ec0641ea9e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.282Z","level":"info","message":"generation_resume_verified","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","jobId":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","generationRunId":"da425352-feb9-4c98-b77e-ec0641ea9e79","template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:41.288Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","jobId":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","generationRunId":"da425352-feb9-4c98-b77e-ec0641ea9e79","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20550:7)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:41.298Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","jobId":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","generationRunId":"da425352-feb9-4c98-b77e-ec0641ea9e79","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20739:7)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:41.307Z","level":"info","message":"generation_cover_letters_completed","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","jobId":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","generationRunId":"da425352-feb9-4c98-b77e-ec0641ea9e79","variants":2,"fallbackApplied":true,"template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.309Z","level":"info","message":"pdf_generation_attempt","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","jobId":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","generationRunId":"da425352-feb9-4c98-b77e-ec0641ea9e79","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/da425352-feb9-4c98-b77e-ec0641ea9e79/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/da425352-feb9-4c98-b77e-ec0641ea9e79/enhanced_modern.pdf","session":"da425352-feb9-4c98-b77e-ec0641ea9e79","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"da425352-feb9-4c98-b77e-ec0641ea9e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.309Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","jobId":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","generationRunId":"da425352-feb9-4c98-b77e-ec0641ea9e79","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/da425352-feb9-4c98-b77e-ec0641ea9e79/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"da425352-feb9-4c98-b77e-ec0641ea9e79","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"da425352-feb9-4c98-b77e-ec0641ea9e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.311Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","jobId":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","generationRunId":"da425352-feb9-4c98-b77e-ec0641ea9e79","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/da425352-feb9-4c98-b77e-ec0641ea9e79/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/da425352-feb9-4c98-b77e-ec0641ea9e79/enhanced_modern.pdf","session":"da425352-feb9-4c98-b77e-ec0641ea9e79","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"da425352-feb9-4c98-b77e-ec0641ea9e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.312Z","level":"info","message":"pdf_generation_attempt","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","jobId":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","generationRunId":"da425352-feb9-4c98-b77e-ec0641ea9e79","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/da425352-feb9-4c98-b77e-ec0641ea9e79/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/da425352-feb9-4c98-b77e-ec0641ea9e79/enhanced_professional.pdf","session":"da425352-feb9-4c98-b77e-ec0641ea9e79","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"da425352-feb9-4c98-b77e-ec0641ea9e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.313Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","jobId":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","generationRunId":"da425352-feb9-4c98-b77e-ec0641ea9e79","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/da425352-feb9-4c98-b77e-ec0641ea9e79/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"da425352-feb9-4c98-b77e-ec0641ea9e79","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"da425352-feb9-4c98-b77e-ec0641ea9e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.314Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","jobId":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","generationRunId":"da425352-feb9-4c98-b77e-ec0641ea9e79","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/da425352-feb9-4c98-b77e-ec0641ea9e79/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/da425352-feb9-4c98-b77e-ec0641ea9e79/enhanced_professional.pdf","session":"da425352-feb9-4c98-b77e-ec0641ea9e79","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"da425352-feb9-4c98-b77e-ec0641ea9e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.315Z","level":"info","message":"pdf_generation_attempt","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","jobId":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","generationRunId":"da425352-feb9-4c98-b77e-ec0641ea9e79","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/da425352-feb9-4c98-b77e-ec0641ea9e79/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/da425352-feb9-4c98-b77e-ec0641ea9e79/cover_letter_cover_modern.pdf","session":"da425352-feb9-4c98-b77e-ec0641ea9e79","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"da425352-feb9-4c98-b77e-ec0641ea9e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.316Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","jobId":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","generationRunId":"da425352-feb9-4c98-b77e-ec0641ea9e79","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/da425352-feb9-4c98-b77e-ec0641ea9e79/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"da425352-feb9-4c98-b77e-ec0641ea9e79","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"da425352-feb9-4c98-b77e-ec0641ea9e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.317Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","jobId":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","generationRunId":"da425352-feb9-4c98-b77e-ec0641ea9e79","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/da425352-feb9-4c98-b77e-ec0641ea9e79/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/da425352-feb9-4c98-b77e-ec0641ea9e79/cover_letter_cover_modern.pdf","session":"da425352-feb9-4c98-b77e-ec0641ea9e79","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"da425352-feb9-4c98-b77e-ec0641ea9e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.318Z","level":"info","message":"pdf_generation_attempt","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","jobId":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","generationRunId":"da425352-feb9-4c98-b77e-ec0641ea9e79","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/da425352-feb9-4c98-b77e-ec0641ea9e79/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/da425352-feb9-4c98-b77e-ec0641ea9e79/cover_letter_cover_professional.pdf","session":"da425352-feb9-4c98-b77e-ec0641ea9e79","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"da425352-feb9-4c98-b77e-ec0641ea9e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.319Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","jobId":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","generationRunId":"da425352-feb9-4c98-b77e-ec0641ea9e79","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/da425352-feb9-4c98-b77e-ec0641ea9e79/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"da425352-feb9-4c98-b77e-ec0641ea9e79","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"da425352-feb9-4c98-b77e-ec0641ea9e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.320Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","jobId":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","generationRunId":"da425352-feb9-4c98-b77e-ec0641ea9e79","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/da425352-feb9-4c98-b77e-ec0641ea9e79/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/da425352-feb9-4c98-b77e-ec0641ea9e79/cover_letter_cover_professional.pdf","session":"da425352-feb9-4c98-b77e-ec0641ea9e79","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"da425352-feb9-4c98-b77e-ec0641ea9e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.325Z","level":"info","message":"llm_call_metrics","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"da425352-feb9-4c98-b77e-ec0641ea9e79","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"da425352-feb9-4c98-b77e-ec0641ea9e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.328Z","level":"info","message":"generation_completed","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","jobId":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","generationRunId":"da425352-feb9-4c98-b77e-ec0641ea9e79","enhancedScore":80,"outputs":5,"template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.330Z","level":"info","message":"placeholder_record_deleted","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","jobId":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","placeholderIdentifier":"da425352-feb9-4c98-b77e-ec0641ea9e79","template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ae8edc6-e371-489d-a2ca-b9fe08608de4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.331Z","level":"info","message":"http_request_completed","requestId":"da425352-feb9-4c98-b77e-ec0641ea9e79","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":113,"contentLength":"53771","template":"unknown","session":"da425352-feb9-4c98-b77e-ec0641ea9e79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"da425352-feb9-4c98-b77e-ec0641ea9e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.337Z","level":"info","message":"http_request_received","requestId":"0909b312-c2f1-4a7d-8302-70d470da4ee7","method":"POST","path":"/api/process-cv","template":"unknown","session":"0909b312-c2f1-4a7d-8302-70d470da4ee7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0909b312-c2f1-4a7d-8302-70d470da4ee7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.339Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.340Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.342Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.344Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.346Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/0909b312-c2f1-4a7d-8302-70d470da4ee7/incoming/original.pdf","chunks":1,"timestamp":1764857021349}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/0909b312-c2f1-4a7d-8302-70d470da4ee7/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/0909b312-c2f1-4a7d-8302-70d470da4ee7/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.warn
    {"timestamp":"2025-12-04T14:03:41.350Z","level":"warn","message":"job_description_prohibited_html_detected","requestId":"0909b312-c2f1-4a7d-8302-70d470da4ee7","jobId":"30decb55-3ce7-4fd8-89fa-58dafe1ce5ee","template":"unknown","session":"30decb55-3ce7-4fd8-89fa-58dafe1ce5ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"30decb55-3ce7-4fd8-89fa-58dafe1ce5ee","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25004:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T14:03:41.357Z","level":"warn","message":"api_error_response","requestId":"0909b312-c2f1-4a7d-8302-70d470da4ee7","jobId":"30decb55-3ce7-4fd8-89fa-58dafe1ce5ee","status":400,"error":{"code":"JOB_DESCRIPTION_PROHIBITED_TAGS","message":"Remove HTML tags like <script> before continuing.","details":{"field":"manualJobDescription"},"requestId":"0909b312-c2f1-4a7d-8302-70d470da4ee7","jobId":"30decb55-3ce7-4fd8-89fa-58dafe1ce5ee"},"template":"unknown","session":"30decb55-3ce7-4fd8-89fa-58dafe1ce5ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"30decb55-3ce7-4fd8-89fa-58dafe1ce5ee","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at sendError (server.js:3975:3)
      at server.js:25005:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:03:41.364Z","level":"info","message":"http_request_completed","requestId":"0909b312-c2f1-4a7d-8302-70d470da4ee7","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":27,"contentLength":"271","template":"unknown","session":"0909b312-c2f1-4a7d-8302-70d470da4ee7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0909b312-c2f1-4a7d-8302-70d470da4ee7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.367Z","level":"info","message":"http_request_received","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","method":"POST","path":"/api/process-cv","template":"unknown","session":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.368Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.369Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.370Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.372Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.374Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/0bfb7a47-afcb-4c25-9594-d7724f4e2f8e/incoming/original.pdf","chunks":1,"timestamp":1764857021377}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/0bfb7a47-afcb-4c25-9594-d7724f4e2f8e/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/0bfb7a47-afcb-4c25-9594-d7724f4e2f8e/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:03:41.378Z","level":"info","message":"process_cv_started","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","jobId":"e5a73922-5074-419d-8b95-14df40d80897","manualJobDescriptionProvided":true,"template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.379Z","level":"info","message":"template_selection","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","jobId":"e5a73922-5074-419d-8b95-14df40d80897","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:41.379Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","jobId":"e5a73922-5074-419d-8b95-14df40d80897","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25147:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:03:41.387Z","level":"info","message":"initial_upload_completed","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","jobId":"e5a73922-5074-419d-8b95-14df40d80897","bucket":"test-bucket","key":"cv/candidate/0bfb7a47-afcb-4c25-9594-d7724f4e2f8e/incoming/original.pdf","template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.388Z","level":"info","message":"resume_text_extracted","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","jobId":"e5a73922-5074-419d-8b95-14df40d80897","characters":57,"template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.388Z","level":"info","message":"resume_classified","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","jobId":"e5a73922-5074-419d-8b95-14df40d80897","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.389Z","level":"info","message":"raw_upload_relocated","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","jobId":"e5a73922-5074-419d-8b95-14df40d80897","bucket":"test-bucket","fromKey":"cv/candidate/0bfb7a47-afcb-4c25-9594-d7724f4e2f8e/incoming/original.pdf","toKey":"cv/professional_summary/0bfb7a47-afcb-4c25-9594-d7724f4e2f8e/original.pdf","template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.389Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","jobId":"e5a73922-5074-419d-8b95-14df40d80897","bucket":"test-bucket","key":"cv/professional_summary/0bfb7a47-afcb-4c25-9594-d7724f4e2f8e/original.pdf","template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.389Z","level":"info","message":"dynamo_initial_record_written","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","jobId":"e5a73922-5074-419d-8b95-14df40d80897","bucket":"test-bucket","key":"cv/professional_summary/0bfb7a47-afcb-4c25-9594-d7724f4e2f8e/original.pdf","template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.390Z","level":"info","message":"upload_metadata_written","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","jobId":"e5a73922-5074-419d-8b95-14df40d80897","bucket":"test-bucket","key":"cv/professional_summary/0bfb7a47-afcb-4c25-9594-d7724f4e2f8e/logs/log.json","template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.390Z","level":"info","message":"job_description_supplied_manually","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","jobId":"e5a73922-5074-419d-8b95-14df40d80897","characters":31,"template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.390Z","level":"info","message":"job_description_analyzed","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","jobId":"e5a73922-5074-419d-8b95-14df40d80897","jobTitle":"","jobSkills":5,"template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.391Z","level":"info","message":"resume_skills_analyzed","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","jobId":"e5a73922-5074-419d-8b95-14df40d80897","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.391Z","level":"info","message":"llm_call_metrics","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.393Z","level":"info","message":"process_cv_scoring_completed","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","jobId":"e5a73922-5074-419d-8b95-14df40d80897","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.395Z","level":"info","message":"llm_call_metrics","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"3b6fa31427cfe80be95734691ddba88dda63de26496df29477f91bd398cefbfa","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.396Z","level":"info","message":"generation_section_rewrite_completed","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","jobId":"e5a73922-5074-419d-8b95-14df40d80897","generationRunId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.396Z","level":"info","message":"llm_call_metrics","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"eedd7612e0b87e24dbfb4e165754c9448ec3573f7db56a3242654c71c3ca223b","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.398Z","level":"info","message":"generation_resume_verified","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","jobId":"e5a73922-5074-419d-8b95-14df40d80897","generationRunId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:41.401Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","jobId":"e5a73922-5074-419d-8b95-14df40d80897","generationRunId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20550:7)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:41.408Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","jobId":"e5a73922-5074-419d-8b95-14df40d80897","generationRunId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20739:7)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:41.414Z","level":"info","message":"generation_cover_letters_completed","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","jobId":"e5a73922-5074-419d-8b95-14df40d80897","generationRunId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","variants":2,"fallbackApplied":true,"template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.415Z","level":"info","message":"pdf_generation_attempt","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","jobId":"e5a73922-5074-419d-8b95-14df40d80897","generationRunId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/0bfb7a47-afcb-4c25-9594-d7724f4e2f8e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/0bfb7a47-afcb-4c25-9594-d7724f4e2f8e/enhanced_modern.pdf","session":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.415Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","jobId":"e5a73922-5074-419d-8b95-14df40d80897","generationRunId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/0bfb7a47-afcb-4c25-9594-d7724f4e2f8e/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.415Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","jobId":"e5a73922-5074-419d-8b95-14df40d80897","generationRunId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/0bfb7a47-afcb-4c25-9594-d7724f4e2f8e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/0bfb7a47-afcb-4c25-9594-d7724f4e2f8e/enhanced_modern.pdf","session":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.416Z","level":"info","message":"pdf_generation_attempt","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","jobId":"e5a73922-5074-419d-8b95-14df40d80897","generationRunId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/0bfb7a47-afcb-4c25-9594-d7724f4e2f8e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/0bfb7a47-afcb-4c25-9594-d7724f4e2f8e/enhanced_professional.pdf","session":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.416Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","jobId":"e5a73922-5074-419d-8b95-14df40d80897","generationRunId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/0bfb7a47-afcb-4c25-9594-d7724f4e2f8e/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.417Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","jobId":"e5a73922-5074-419d-8b95-14df40d80897","generationRunId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/0bfb7a47-afcb-4c25-9594-d7724f4e2f8e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/0bfb7a47-afcb-4c25-9594-d7724f4e2f8e/enhanced_professional.pdf","session":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.417Z","level":"info","message":"pdf_generation_attempt","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","jobId":"e5a73922-5074-419d-8b95-14df40d80897","generationRunId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/0bfb7a47-afcb-4c25-9594-d7724f4e2f8e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/0bfb7a47-afcb-4c25-9594-d7724f4e2f8e/cover_letter_cover_modern.pdf","session":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.418Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","jobId":"e5a73922-5074-419d-8b95-14df40d80897","generationRunId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/0bfb7a47-afcb-4c25-9594-d7724f4e2f8e/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.418Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","jobId":"e5a73922-5074-419d-8b95-14df40d80897","generationRunId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/0bfb7a47-afcb-4c25-9594-d7724f4e2f8e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/0bfb7a47-afcb-4c25-9594-d7724f4e2f8e/cover_letter_cover_modern.pdf","session":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.419Z","level":"info","message":"pdf_generation_attempt","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","jobId":"e5a73922-5074-419d-8b95-14df40d80897","generationRunId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/0bfb7a47-afcb-4c25-9594-d7724f4e2f8e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/0bfb7a47-afcb-4c25-9594-d7724f4e2f8e/cover_letter_cover_professional.pdf","session":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.419Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","jobId":"e5a73922-5074-419d-8b95-14df40d80897","generationRunId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/0bfb7a47-afcb-4c25-9594-d7724f4e2f8e/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.419Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","jobId":"e5a73922-5074-419d-8b95-14df40d80897","generationRunId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/0bfb7a47-afcb-4c25-9594-d7724f4e2f8e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/0bfb7a47-afcb-4c25-9594-d7724f4e2f8e/cover_letter_cover_professional.pdf","session":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.422Z","level":"info","message":"llm_call_metrics","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.425Z","level":"info","message":"generation_completed","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","jobId":"e5a73922-5074-419d-8b95-14df40d80897","generationRunId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","enhancedScore":80,"outputs":5,"template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.426Z","level":"info","message":"placeholder_record_deleted","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","jobId":"e5a73922-5074-419d-8b95-14df40d80897","placeholderIdentifier":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e5a73922-5074-419d-8b95-14df40d80897","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.427Z","level":"info","message":"http_request_completed","requestId":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":60,"contentLength":"53718","template":"unknown","session":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0bfb7a47-afcb-4c25-9594-d7724f4e2f8e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.432Z","level":"info","message":"http_request_received","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","method":"POST","path":"/api/process-cv","template":"unknown","session":"f00fbe9d-87c5-436a-88f1-68f9531ff648","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f00fbe9d-87c5-436a-88f1-68f9531ff648","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.433Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.435Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.436Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.438Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.440Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/f00fbe9d-87c5-436a-88f1-68f9531ff648/incoming/original.pdf","chunks":1,"timestamp":1764857021442}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/f00fbe9d-87c5-436a-88f1-68f9531ff648/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/f00fbe9d-87c5-436a-88f1-68f9531ff648/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:03:41.443Z","level":"info","message":"process_cv_started","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","jobId":"cb3f1db1-d7c3-4866-a6ed-a08717785770","manualJobDescriptionProvided":true,"template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.444Z","level":"info","message":"template_selection","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","jobId":"cb3f1db1-d7c3-4866-a6ed-a08717785770","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:41.445Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","jobId":"cb3f1db1-d7c3-4866-a6ed-a08717785770","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25147:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:03:41.451Z","level":"info","message":"initial_upload_completed","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","jobId":"cb3f1db1-d7c3-4866-a6ed-a08717785770","bucket":"test-bucket","key":"cv/candidate/f00fbe9d-87c5-436a-88f1-68f9531ff648/incoming/original.pdf","template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.451Z","level":"info","message":"resume_text_extracted","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","jobId":"cb3f1db1-d7c3-4866-a6ed-a08717785770","characters":57,"template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.452Z","level":"info","message":"resume_classified","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","jobId":"cb3f1db1-d7c3-4866-a6ed-a08717785770","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.452Z","level":"info","message":"raw_upload_relocated","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","jobId":"cb3f1db1-d7c3-4866-a6ed-a08717785770","bucket":"test-bucket","fromKey":"cv/candidate/f00fbe9d-87c5-436a-88f1-68f9531ff648/incoming/original.pdf","toKey":"cv/professional_summary/f00fbe9d-87c5-436a-88f1-68f9531ff648/original.pdf","template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.452Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","jobId":"cb3f1db1-d7c3-4866-a6ed-a08717785770","bucket":"test-bucket","key":"cv/professional_summary/f00fbe9d-87c5-436a-88f1-68f9531ff648/original.pdf","template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.453Z","level":"info","message":"dynamo_initial_record_written","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","jobId":"cb3f1db1-d7c3-4866-a6ed-a08717785770","bucket":"test-bucket","key":"cv/professional_summary/f00fbe9d-87c5-436a-88f1-68f9531ff648/original.pdf","template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.453Z","level":"info","message":"upload_metadata_written","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","jobId":"cb3f1db1-d7c3-4866-a6ed-a08717785770","bucket":"test-bucket","key":"cv/professional_summary/f00fbe9d-87c5-436a-88f1-68f9531ff648/logs/log.json","template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.453Z","level":"info","message":"job_description_supplied_manually","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","jobId":"cb3f1db1-d7c3-4866-a6ed-a08717785770","characters":174,"template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.454Z","level":"info","message":"job_description_analyzed","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","jobId":"cb3f1db1-d7c3-4866-a6ed-a08717785770","jobTitle":"","jobSkills":5,"template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.454Z","level":"info","message":"resume_skills_analyzed","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","jobId":"cb3f1db1-d7c3-4866-a6ed-a08717785770","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.455Z","level":"info","message":"llm_call_metrics","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"f00fbe9d-87c5-436a-88f1-68f9531ff648","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f00fbe9d-87c5-436a-88f1-68f9531ff648","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.455Z","level":"info","message":"process_cv_scoring_completed","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","jobId":"cb3f1db1-d7c3-4866-a6ed-a08717785770","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.457Z","level":"info","message":"llm_call_metrics","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"f00fbe9d-87c5-436a-88f1-68f9531ff648","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"f00fbe9d-87c5-436a-88f1-68f9531ff648","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.458Z","level":"info","message":"generation_section_rewrite_completed","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","jobId":"cb3f1db1-d7c3-4866-a6ed-a08717785770","generationRunId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.458Z","level":"info","message":"llm_call_metrics","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"f00fbe9d-87c5-436a-88f1-68f9531ff648","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"f00fbe9d-87c5-436a-88f1-68f9531ff648","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.460Z","level":"info","message":"generation_resume_verified","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","jobId":"cb3f1db1-d7c3-4866-a6ed-a08717785770","generationRunId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:41.464Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","jobId":"cb3f1db1-d7c3-4866-a6ed-a08717785770","generationRunId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20550:7)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:41.472Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","jobId":"cb3f1db1-d7c3-4866-a6ed-a08717785770","generationRunId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20739:7)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:41.481Z","level":"info","message":"generation_cover_letters_completed","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","jobId":"cb3f1db1-d7c3-4866-a6ed-a08717785770","generationRunId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","variants":2,"fallbackApplied":true,"template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.482Z","level":"info","message":"pdf_generation_attempt","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","jobId":"cb3f1db1-d7c3-4866-a6ed-a08717785770","generationRunId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f00fbe9d-87c5-436a-88f1-68f9531ff648/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f00fbe9d-87c5-436a-88f1-68f9531ff648/enhanced_modern.pdf","session":"f00fbe9d-87c5-436a-88f1-68f9531ff648","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f00fbe9d-87c5-436a-88f1-68f9531ff648","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.483Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","jobId":"cb3f1db1-d7c3-4866-a6ed-a08717785770","generationRunId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f00fbe9d-87c5-436a-88f1-68f9531ff648/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f00fbe9d-87c5-436a-88f1-68f9531ff648","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f00fbe9d-87c5-436a-88f1-68f9531ff648","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.483Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","jobId":"cb3f1db1-d7c3-4866-a6ed-a08717785770","generationRunId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f00fbe9d-87c5-436a-88f1-68f9531ff648/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f00fbe9d-87c5-436a-88f1-68f9531ff648/enhanced_modern.pdf","session":"f00fbe9d-87c5-436a-88f1-68f9531ff648","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f00fbe9d-87c5-436a-88f1-68f9531ff648","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.484Z","level":"info","message":"pdf_generation_attempt","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","jobId":"cb3f1db1-d7c3-4866-a6ed-a08717785770","generationRunId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f00fbe9d-87c5-436a-88f1-68f9531ff648/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f00fbe9d-87c5-436a-88f1-68f9531ff648/enhanced_professional.pdf","session":"f00fbe9d-87c5-436a-88f1-68f9531ff648","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f00fbe9d-87c5-436a-88f1-68f9531ff648","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.485Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","jobId":"cb3f1db1-d7c3-4866-a6ed-a08717785770","generationRunId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f00fbe9d-87c5-436a-88f1-68f9531ff648/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f00fbe9d-87c5-436a-88f1-68f9531ff648","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f00fbe9d-87c5-436a-88f1-68f9531ff648","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.486Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","jobId":"cb3f1db1-d7c3-4866-a6ed-a08717785770","generationRunId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f00fbe9d-87c5-436a-88f1-68f9531ff648/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f00fbe9d-87c5-436a-88f1-68f9531ff648/enhanced_professional.pdf","session":"f00fbe9d-87c5-436a-88f1-68f9531ff648","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f00fbe9d-87c5-436a-88f1-68f9531ff648","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.487Z","level":"info","message":"pdf_generation_attempt","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","jobId":"cb3f1db1-d7c3-4866-a6ed-a08717785770","generationRunId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f00fbe9d-87c5-436a-88f1-68f9531ff648/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f00fbe9d-87c5-436a-88f1-68f9531ff648/cover_letter_cover_modern.pdf","session":"f00fbe9d-87c5-436a-88f1-68f9531ff648","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f00fbe9d-87c5-436a-88f1-68f9531ff648","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.487Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","jobId":"cb3f1db1-d7c3-4866-a6ed-a08717785770","generationRunId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f00fbe9d-87c5-436a-88f1-68f9531ff648/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f00fbe9d-87c5-436a-88f1-68f9531ff648","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f00fbe9d-87c5-436a-88f1-68f9531ff648","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.488Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","jobId":"cb3f1db1-d7c3-4866-a6ed-a08717785770","generationRunId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f00fbe9d-87c5-436a-88f1-68f9531ff648/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f00fbe9d-87c5-436a-88f1-68f9531ff648/cover_letter_cover_modern.pdf","session":"f00fbe9d-87c5-436a-88f1-68f9531ff648","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f00fbe9d-87c5-436a-88f1-68f9531ff648","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.489Z","level":"info","message":"pdf_generation_attempt","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","jobId":"cb3f1db1-d7c3-4866-a6ed-a08717785770","generationRunId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f00fbe9d-87c5-436a-88f1-68f9531ff648/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f00fbe9d-87c5-436a-88f1-68f9531ff648/cover_letter_cover_professional.pdf","session":"f00fbe9d-87c5-436a-88f1-68f9531ff648","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f00fbe9d-87c5-436a-88f1-68f9531ff648","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.489Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","jobId":"cb3f1db1-d7c3-4866-a6ed-a08717785770","generationRunId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f00fbe9d-87c5-436a-88f1-68f9531ff648/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f00fbe9d-87c5-436a-88f1-68f9531ff648","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f00fbe9d-87c5-436a-88f1-68f9531ff648","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.490Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","jobId":"cb3f1db1-d7c3-4866-a6ed-a08717785770","generationRunId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f00fbe9d-87c5-436a-88f1-68f9531ff648/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f00fbe9d-87c5-436a-88f1-68f9531ff648/cover_letter_cover_professional.pdf","session":"f00fbe9d-87c5-436a-88f1-68f9531ff648","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f00fbe9d-87c5-436a-88f1-68f9531ff648","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.492Z","level":"info","message":"llm_call_metrics","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"f00fbe9d-87c5-436a-88f1-68f9531ff648","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f00fbe9d-87c5-436a-88f1-68f9531ff648","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.493Z","level":"info","message":"generation_completed","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","jobId":"cb3f1db1-d7c3-4866-a6ed-a08717785770","generationRunId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","enhancedScore":80,"outputs":5,"template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.495Z","level":"info","message":"placeholder_record_deleted","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","jobId":"cb3f1db1-d7c3-4866-a6ed-a08717785770","placeholderIdentifier":"f00fbe9d-87c5-436a-88f1-68f9531ff648","template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb3f1db1-d7c3-4866-a6ed-a08717785770","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.496Z","level":"info","message":"http_request_completed","requestId":"f00fbe9d-87c5-436a-88f1-68f9531ff648","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":64,"contentLength":"58133","template":"unknown","session":"f00fbe9d-87c5-436a-88f1-68f9531ff648","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f00fbe9d-87c5-436a-88f1-68f9531ff648","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.499Z","level":"info","message":"http_request_received","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","method":"POST","path":"/api/process-cv","template":"unknown","session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.501Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.502Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.504Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.506Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.508Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/2f6184cb-17a1-495e-9a7c-88c0ef10fb66/incoming/original.pdf","chunks":1,"timestamp":1764857021511}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/2f6184cb-17a1-495e-9a7c-88c0ef10fb66/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/2f6184cb-17a1-495e-9a7c-88c0ef10fb66/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:03:41.512Z","level":"info","message":"process_cv_started","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","jobId":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","manualJobDescriptionProvided":true,"template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.514Z","level":"info","message":"template_selection","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","jobId":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:41.514Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","jobId":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25147:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:03:41.523Z","level":"info","message":"initial_upload_completed","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","jobId":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","bucket":"test-bucket","key":"cv/candidate/2f6184cb-17a1-495e-9a7c-88c0ef10fb66/incoming/original.pdf","template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.524Z","level":"info","message":"resume_text_extracted","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","jobId":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","characters":57,"template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.524Z","level":"info","message":"resume_classified","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","jobId":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.525Z","level":"info","message":"raw_upload_relocated","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","jobId":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","bucket":"test-bucket","fromKey":"cv/candidate/2f6184cb-17a1-495e-9a7c-88c0ef10fb66/incoming/original.pdf","toKey":"cv/professional_summary/2f6184cb-17a1-495e-9a7c-88c0ef10fb66/original.pdf","template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.525Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","jobId":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","bucket":"test-bucket","key":"cv/professional_summary/2f6184cb-17a1-495e-9a7c-88c0ef10fb66/original.pdf","template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.526Z","level":"info","message":"dynamo_initial_record_written","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","jobId":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","bucket":"test-bucket","key":"cv/professional_summary/2f6184cb-17a1-495e-9a7c-88c0ef10fb66/original.pdf","template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.526Z","level":"info","message":"upload_metadata_written","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","jobId":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","bucket":"test-bucket","key":"cv/professional_summary/2f6184cb-17a1-495e-9a7c-88c0ef10fb66/logs/log.json","template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.527Z","level":"info","message":"job_description_supplied_manually","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","jobId":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","characters":174,"template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.527Z","level":"info","message":"job_description_analyzed","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","jobId":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","jobTitle":"","jobSkills":5,"template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.528Z","level":"info","message":"resume_skills_analyzed","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","jobId":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.528Z","level":"info","message":"llm_call_metrics","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.529Z","level":"info","message":"process_cv_scoring_completed","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","jobId":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:03:41.536Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","sample":"not json","template":"unknown","session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at Object.error (server.js:3487:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8543:20)
      at generateEnhancedDocumentsResponse (server.js:20188:26)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:41.553Z","level":"info","message":"llm_call_metrics","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.554Z","level":"info","message":"llm_call_metrics","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.554Z","level":"info","message":"generation_section_rewrite_completed","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","jobId":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","generationRunId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.555Z","level":"info","message":"llm_call_metrics","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"89e63aad97eee35da336c4707bebe46001a38648f790cb26108fe67f8c6eef15","skillCount":5,"template":"project_summary","session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:41.560Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","jobId":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","generationRunId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20550:7)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:41.570Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","jobId":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","generationRunId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20739:7)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:41.579Z","level":"info","message":"generation_cover_letters_completed","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","jobId":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","generationRunId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","variants":2,"fallbackApplied":true,"template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.580Z","level":"info","message":"pdf_generation_attempt","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","jobId":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","generationRunId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2f6184cb-17a1-495e-9a7c-88c0ef10fb66/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/2f6184cb-17a1-495e-9a7c-88c0ef10fb66/enhanced_modern.pdf","session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.581Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","jobId":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","generationRunId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2f6184cb-17a1-495e-9a7c-88c0ef10fb66/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.582Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","jobId":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","generationRunId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2f6184cb-17a1-495e-9a7c-88c0ef10fb66/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/2f6184cb-17a1-495e-9a7c-88c0ef10fb66/enhanced_modern.pdf","session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.583Z","level":"info","message":"pdf_generation_attempt","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","jobId":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","generationRunId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2f6184cb-17a1-495e-9a7c-88c0ef10fb66/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/2f6184cb-17a1-495e-9a7c-88c0ef10fb66/enhanced_professional.pdf","session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.583Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","jobId":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","generationRunId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2f6184cb-17a1-495e-9a7c-88c0ef10fb66/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.584Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","jobId":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","generationRunId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2f6184cb-17a1-495e-9a7c-88c0ef10fb66/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/2f6184cb-17a1-495e-9a7c-88c0ef10fb66/enhanced_professional.pdf","session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.585Z","level":"info","message":"pdf_generation_attempt","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","jobId":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","generationRunId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2f6184cb-17a1-495e-9a7c-88c0ef10fb66/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/2f6184cb-17a1-495e-9a7c-88c0ef10fb66/cover_letter_cover_modern.pdf","session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.585Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","jobId":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","generationRunId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2f6184cb-17a1-495e-9a7c-88c0ef10fb66/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.586Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","jobId":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","generationRunId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2f6184cb-17a1-495e-9a7c-88c0ef10fb66/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/2f6184cb-17a1-495e-9a7c-88c0ef10fb66/cover_letter_cover_modern.pdf","session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.587Z","level":"info","message":"pdf_generation_attempt","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","jobId":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","generationRunId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2f6184cb-17a1-495e-9a7c-88c0ef10fb66/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/2f6184cb-17a1-495e-9a7c-88c0ef10fb66/cover_letter_cover_professional.pdf","session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.588Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","jobId":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","generationRunId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2f6184cb-17a1-495e-9a7c-88c0ef10fb66/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.588Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","jobId":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","generationRunId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2f6184cb-17a1-495e-9a7c-88c0ef10fb66/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/2f6184cb-17a1-495e-9a7c-88c0ef10fb66/cover_letter_cover_professional.pdf","session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.592Z","level":"info","message":"llm_call_metrics","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.593Z","level":"info","message":"generation_completed","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","jobId":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","generationRunId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","enhancedScore":80,"outputs":5,"template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.596Z","level":"info","message":"placeholder_record_deleted","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","jobId":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","placeholderIdentifier":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ddd8ee9f-4262-40d2-a575-2bf8ed8d9a46","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.597Z","level":"info","message":"http_request_completed","requestId":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":98,"contentLength":"58091","template":"unknown","session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2f6184cb-17a1-495e-9a7c-88c0ef10fb66","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.602Z","level":"info","message":"http_request_received","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","method":"POST","path":"/api/process-cv","template":"unknown","session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.604Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.606Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.608Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.611Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.614Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb/incoming/original.pdf","chunks":1,"timestamp":1764857021619}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":3}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:03:41.623Z","level":"info","message":"process_cv_started","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","jobId":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","manualJobDescriptionProvided":true,"template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.624Z","level":"info","message":"template_selection","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","jobId":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:41.625Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","jobId":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25147:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:03:41.634Z","level":"info","message":"initial_upload_completed","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","jobId":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","bucket":"test-bucket","key":"cv/candidate/38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb/incoming/original.pdf","template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.634Z","level":"info","message":"resume_text_extracted","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","jobId":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","characters":57,"template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.635Z","level":"info","message":"resume_classified","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","jobId":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.636Z","level":"info","message":"raw_upload_relocated","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","jobId":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","bucket":"test-bucket","fromKey":"cv/candidate/38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb/incoming/original.pdf","toKey":"cv/professional_summary/38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb/original.pdf","template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.637Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","jobId":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","bucket":"test-bucket","key":"cv/professional_summary/38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb/original.pdf","template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.638Z","level":"info","message":"dynamo_initial_record_written","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","jobId":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","bucket":"test-bucket","key":"cv/professional_summary/38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb/original.pdf","template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.638Z","level":"info","message":"upload_metadata_written","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","jobId":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","bucket":"test-bucket","key":"cv/professional_summary/38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb/logs/log.json","template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.639Z","level":"info","message":"job_description_supplied_manually","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","jobId":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","characters":174,"template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.640Z","level":"info","message":"job_description_analyzed","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","jobId":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","jobTitle":"","jobSkills":5,"template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.640Z","level":"info","message":"resume_skills_analyzed","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","jobId":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.641Z","level":"info","message":"llm_call_metrics","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.643Z","level":"info","message":"process_cv_scoring_completed","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","jobId":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.647Z","level":"info","message":"llm_call_metrics","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.648Z","level":"info","message":"generation_section_rewrite_completed","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","jobId":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","generationRunId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.649Z","level":"info","message":"llm_call_metrics","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.650Z","level":"info","message":"llm_call_metrics","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.653Z","level":"info","message":"generation_resume_verified","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","jobId":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","generationRunId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:03:41.658Z","level":"error","message":"ai_response_missing_json","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","jobId":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","generationRunId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at Object.error (server.js:3487:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20470:26)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:41.666Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","jobId":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","generationRunId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","attempt":1,"template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20475:11)
      at server.js:26746:28

  console.error
    {"timestamp":"2025-12-04T14:03:41.674Z","level":"error","message":"ai_response_missing_json","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","jobId":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","generationRunId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at Object.error (server.js:3487:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20470:26)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:41.682Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","jobId":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","generationRunId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","attempt":2,"template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20475:11)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:41.692Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","jobId":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","generationRunId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20739:7)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:41.703Z","level":"info","message":"generation_cover_letters_completed","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","jobId":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","generationRunId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","variants":2,"fallbackApplied":true,"template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.705Z","level":"info","message":"pdf_generation_attempt","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","jobId":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","generationRunId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb/enhanced_modern.pdf","session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.706Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","jobId":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","generationRunId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.707Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","jobId":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","generationRunId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb/enhanced_modern.pdf","session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.708Z","level":"info","message":"pdf_generation_attempt","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","jobId":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","generationRunId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb/enhanced_professional.pdf","session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.709Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","jobId":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","generationRunId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.710Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","jobId":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","generationRunId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb/enhanced_professional.pdf","session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.711Z","level":"info","message":"pdf_generation_attempt","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","jobId":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","generationRunId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb/cover_letter_cover_modern.pdf","session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.712Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","jobId":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","generationRunId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.714Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","jobId":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","generationRunId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb/cover_letter_cover_modern.pdf","session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.715Z","level":"info","message":"pdf_generation_attempt","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","jobId":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","generationRunId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb/cover_letter_cover_professional.pdf","session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.717Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","jobId":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","generationRunId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.718Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","jobId":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","generationRunId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb/cover_letter_cover_professional.pdf","session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.723Z","level":"info","message":"llm_call_metrics","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.725Z","level":"info","message":"generation_completed","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","jobId":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","generationRunId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","enhancedScore":80,"outputs":5,"template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.727Z","level":"info","message":"placeholder_record_deleted","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","jobId":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","placeholderIdentifier":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"32ce0b81-a626-41b2-9eac-3e6599ab3db2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.729Z","level":"info","message":"http_request_completed","requestId":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":127,"contentLength":"59498","template":"unknown","session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"38ea95a3-059c-46d6-ac06-dcfdfb5ac8eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.735Z","level":"info","message":"http_request_received","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","method":"POST","path":"/api/process-cv","template":"unknown","session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.737Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.739Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.742Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.745Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.748Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/95993040-dce6-4daf-9863-52668faa7cdb/incoming/original.pdf","chunks":1,"timestamp":1764857021753}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/95993040-dce6-4daf-9863-52668faa7cdb/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/95993040-dce6-4daf-9863-52668faa7cdb/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":4}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:03:41.759Z","level":"info","message":"process_cv_started","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","jobId":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","manualJobDescriptionProvided":true,"template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.760Z","level":"info","message":"template_selection","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","jobId":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:41.761Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","jobId":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25147:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:03:41.770Z","level":"info","message":"initial_upload_completed","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","jobId":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","bucket":"test-bucket","key":"cv/candidate/95993040-dce6-4daf-9863-52668faa7cdb/incoming/original.pdf","template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.771Z","level":"info","message":"resume_text_extracted","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","jobId":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","characters":57,"template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.772Z","level":"info","message":"resume_classified","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","jobId":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.773Z","level":"info","message":"raw_upload_relocated","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","jobId":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","bucket":"test-bucket","fromKey":"cv/candidate/95993040-dce6-4daf-9863-52668faa7cdb/incoming/original.pdf","toKey":"cv/professional_summary/95993040-dce6-4daf-9863-52668faa7cdb/original.pdf","template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.774Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","jobId":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","bucket":"test-bucket","key":"cv/professional_summary/95993040-dce6-4daf-9863-52668faa7cdb/original.pdf","template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.775Z","level":"info","message":"dynamo_initial_record_written","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","jobId":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","bucket":"test-bucket","key":"cv/professional_summary/95993040-dce6-4daf-9863-52668faa7cdb/original.pdf","template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.776Z","level":"info","message":"upload_metadata_written","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","jobId":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","bucket":"test-bucket","key":"cv/professional_summary/95993040-dce6-4daf-9863-52668faa7cdb/logs/log.json","template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.777Z","level":"info","message":"job_description_supplied_manually","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","jobId":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","characters":174,"template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.778Z","level":"info","message":"job_description_analyzed","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","jobId":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","jobTitle":"","jobSkills":5,"template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.780Z","level":"info","message":"resume_skills_analyzed","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","jobId":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.781Z","level":"info","message":"llm_call_metrics","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.783Z","level":"info","message":"process_cv_scoring_completed","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","jobId":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.788Z","level":"info","message":"llm_call_metrics","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.789Z","level":"info","message":"generation_section_rewrite_completed","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","jobId":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","generationRunId":"95993040-dce6-4daf-9863-52668faa7cdb","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.790Z","level":"info","message":"llm_call_metrics","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.791Z","level":"info","message":"llm_call_metrics","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.797Z","level":"info","message":"generation_resume_verified","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","jobId":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","generationRunId":"95993040-dce6-4daf-9863-52668faa7cdb","template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:03:41.801Z","level":"error","message":"ai_response_missing_json","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","jobId":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","generationRunId":"95993040-dce6-4daf-9863-52668faa7cdb","template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at Object.error (server.js:3487:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20470:26)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:41.810Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","jobId":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","generationRunId":"95993040-dce6-4daf-9863-52668faa7cdb","attempt":1,"template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20475:11)
      at server.js:26746:28

  console.error
    {"timestamp":"2025-12-04T14:03:41.818Z","level":"error","message":"ai_response_missing_json","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","jobId":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","generationRunId":"95993040-dce6-4daf-9863-52668faa7cdb","template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at Object.error (server.js:3487:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20470:26)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:41.827Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","jobId":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","generationRunId":"95993040-dce6-4daf-9863-52668faa7cdb","attempt":2,"template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20475:11)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:41.837Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","jobId":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","generationRunId":"95993040-dce6-4daf-9863-52668faa7cdb","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20739:7)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:41.846Z","level":"info","message":"generation_cover_letters_completed","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","jobId":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","generationRunId":"95993040-dce6-4daf-9863-52668faa7cdb","variants":2,"fallbackApplied":true,"template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.847Z","level":"info","message":"pdf_generation_attempt","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","jobId":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","generationRunId":"95993040-dce6-4daf-9863-52668faa7cdb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/95993040-dce6-4daf-9863-52668faa7cdb/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/95993040-dce6-4daf-9863-52668faa7cdb/enhanced_modern.pdf","session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.847Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","jobId":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","generationRunId":"95993040-dce6-4daf-9863-52668faa7cdb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/95993040-dce6-4daf-9863-52668faa7cdb/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.848Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","jobId":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","generationRunId":"95993040-dce6-4daf-9863-52668faa7cdb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/95993040-dce6-4daf-9863-52668faa7cdb/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/95993040-dce6-4daf-9863-52668faa7cdb/enhanced_modern.pdf","session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.849Z","level":"info","message":"pdf_generation_attempt","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","jobId":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","generationRunId":"95993040-dce6-4daf-9863-52668faa7cdb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/95993040-dce6-4daf-9863-52668faa7cdb/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/95993040-dce6-4daf-9863-52668faa7cdb/enhanced_professional.pdf","session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.850Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","jobId":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","generationRunId":"95993040-dce6-4daf-9863-52668faa7cdb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/95993040-dce6-4daf-9863-52668faa7cdb/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.850Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","jobId":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","generationRunId":"95993040-dce6-4daf-9863-52668faa7cdb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/95993040-dce6-4daf-9863-52668faa7cdb/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/95993040-dce6-4daf-9863-52668faa7cdb/enhanced_professional.pdf","session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.851Z","level":"info","message":"pdf_generation_attempt","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","jobId":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","generationRunId":"95993040-dce6-4daf-9863-52668faa7cdb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/95993040-dce6-4daf-9863-52668faa7cdb/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/95993040-dce6-4daf-9863-52668faa7cdb/cover_letter_cover_modern.pdf","session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.852Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","jobId":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","generationRunId":"95993040-dce6-4daf-9863-52668faa7cdb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/95993040-dce6-4daf-9863-52668faa7cdb/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.852Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","jobId":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","generationRunId":"95993040-dce6-4daf-9863-52668faa7cdb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/95993040-dce6-4daf-9863-52668faa7cdb/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/95993040-dce6-4daf-9863-52668faa7cdb/cover_letter_cover_modern.pdf","session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.853Z","level":"info","message":"pdf_generation_attempt","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","jobId":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","generationRunId":"95993040-dce6-4daf-9863-52668faa7cdb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/95993040-dce6-4daf-9863-52668faa7cdb/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/95993040-dce6-4daf-9863-52668faa7cdb/cover_letter_cover_professional.pdf","session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.854Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","jobId":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","generationRunId":"95993040-dce6-4daf-9863-52668faa7cdb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/95993040-dce6-4daf-9863-52668faa7cdb/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.855Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","jobId":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","generationRunId":"95993040-dce6-4daf-9863-52668faa7cdb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/95993040-dce6-4daf-9863-52668faa7cdb/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/95993040-dce6-4daf-9863-52668faa7cdb/cover_letter_cover_professional.pdf","session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.859Z","level":"info","message":"llm_call_metrics","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.860Z","level":"info","message":"generation_completed","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","jobId":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","generationRunId":"95993040-dce6-4daf-9863-52668faa7cdb","enhancedScore":80,"outputs":5,"template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.861Z","level":"info","message":"placeholder_record_deleted","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","jobId":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","placeholderIdentifier":"95993040-dce6-4daf-9863-52668faa7cdb","template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cd4e23a7-54b9-4aad-83f1-cb774f429dde","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.863Z","level":"info","message":"http_request_completed","requestId":"95993040-dce6-4daf-9863-52668faa7cdb","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":128,"contentLength":"59498","template":"unknown","session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"95993040-dce6-4daf-9863-52668faa7cdb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.869Z","level":"info","message":"http_request_received","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","method":"POST","path":"/api/process-cv","template":"unknown","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.871Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.873Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.875Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.876Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.879Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/6bd52d6c-b192-4200-9e93-726394cc974c/incoming/original.pdf","chunks":1,"timestamp":1764857021882}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/6bd52d6c-b192-4200-9e93-726394cc974c/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/6bd52d6c-b192-4200-9e93-726394cc974c/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:03:41.884Z","level":"info","message":"process_cv_started","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","jobId":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","manualJobDescriptionProvided":true,"template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.884Z","level":"info","message":"template_selection","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","jobId":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:41.885Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","jobId":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25147:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:03:41.893Z","level":"info","message":"initial_upload_completed","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","jobId":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","bucket":"test-bucket","key":"cv/candidate/6bd52d6c-b192-4200-9e93-726394cc974c/incoming/original.pdf","template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.894Z","level":"info","message":"resume_text_extracted","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","jobId":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","characters":57,"template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.894Z","level":"info","message":"resume_classified","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","jobId":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.895Z","level":"info","message":"raw_upload_relocated","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","jobId":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","bucket":"test-bucket","fromKey":"cv/candidate/6bd52d6c-b192-4200-9e93-726394cc974c/incoming/original.pdf","toKey":"cv/professional_summary/6bd52d6c-b192-4200-9e93-726394cc974c/original.pdf","template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.895Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","jobId":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","bucket":"test-bucket","key":"cv/professional_summary/6bd52d6c-b192-4200-9e93-726394cc974c/original.pdf","template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.896Z","level":"info","message":"dynamo_initial_record_written","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","jobId":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","bucket":"test-bucket","key":"cv/professional_summary/6bd52d6c-b192-4200-9e93-726394cc974c/original.pdf","template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.896Z","level":"info","message":"upload_metadata_written","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","jobId":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","bucket":"test-bucket","key":"cv/professional_summary/6bd52d6c-b192-4200-9e93-726394cc974c/logs/log.json","template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.896Z","level":"info","message":"job_description_supplied_manually","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","jobId":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","characters":174,"template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.897Z","level":"info","message":"job_description_analyzed","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","jobId":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","jobTitle":"","jobSkills":5,"template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.897Z","level":"info","message":"resume_skills_analyzed","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","jobId":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.898Z","level":"info","message":"llm_call_metrics","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.898Z","level":"info","message":"process_cv_scoring_completed","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","jobId":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:03:41.900Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","template":"unknown","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at Object.error (server.js:3487:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8543:20)
      at generateEnhancedDocumentsResponse (server.js:20188:26)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:41.908Z","level":"info","message":"llm_call_metrics","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.908Z","level":"info","message":"llm_call_metrics","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.909Z","level":"info","message":"generation_section_rewrite_completed","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","jobId":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","generationRunId":"6bd52d6c-b192-4200-9e93-726394cc974c","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.909Z","level":"info","message":"llm_call_metrics","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.910Z","level":"info","message":"llm_call_metrics","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:03:41.914Z","level":"error","message":"ai_response_missing_json","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","jobId":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","generationRunId":"6bd52d6c-b192-4200-9e93-726394cc974c","template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at Object.error (server.js:3487:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20470:26)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:41.921Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","jobId":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","generationRunId":"6bd52d6c-b192-4200-9e93-726394cc974c","attempt":1,"template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20475:11)
      at server.js:26746:28

  console.error
    {"timestamp":"2025-12-04T14:03:41.930Z","level":"error","message":"ai_response_missing_json","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","jobId":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","generationRunId":"6bd52d6c-b192-4200-9e93-726394cc974c","template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at Object.error (server.js:3487:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20470:26)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:41.937Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","jobId":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","generationRunId":"6bd52d6c-b192-4200-9e93-726394cc974c","attempt":2,"template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20475:11)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:41.945Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","jobId":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","generationRunId":"6bd52d6c-b192-4200-9e93-726394cc974c","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20739:7)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:41.952Z","level":"info","message":"generation_cover_letters_completed","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","jobId":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","generationRunId":"6bd52d6c-b192-4200-9e93-726394cc974c","variants":2,"fallbackApplied":true,"template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.953Z","level":"info","message":"pdf_generation_attempt","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","jobId":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","generationRunId":"6bd52d6c-b192-4200-9e93-726394cc974c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6bd52d6c-b192-4200-9e93-726394cc974c/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/6bd52d6c-b192-4200-9e93-726394cc974c/enhanced_modern.pdf","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.953Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","jobId":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","generationRunId":"6bd52d6c-b192-4200-9e93-726394cc974c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6bd52d6c-b192-4200-9e93-726394cc974c/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.954Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","jobId":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","generationRunId":"6bd52d6c-b192-4200-9e93-726394cc974c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6bd52d6c-b192-4200-9e93-726394cc974c/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/6bd52d6c-b192-4200-9e93-726394cc974c/enhanced_modern.pdf","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.955Z","level":"info","message":"pdf_generation_attempt","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","jobId":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","generationRunId":"6bd52d6c-b192-4200-9e93-726394cc974c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6bd52d6c-b192-4200-9e93-726394cc974c/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/6bd52d6c-b192-4200-9e93-726394cc974c/enhanced_professional.pdf","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.955Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","jobId":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","generationRunId":"6bd52d6c-b192-4200-9e93-726394cc974c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6bd52d6c-b192-4200-9e93-726394cc974c/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.956Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","jobId":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","generationRunId":"6bd52d6c-b192-4200-9e93-726394cc974c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6bd52d6c-b192-4200-9e93-726394cc974c/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/6bd52d6c-b192-4200-9e93-726394cc974c/enhanced_professional.pdf","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.956Z","level":"info","message":"pdf_generation_attempt","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","jobId":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","generationRunId":"6bd52d6c-b192-4200-9e93-726394cc974c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6bd52d6c-b192-4200-9e93-726394cc974c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/6bd52d6c-b192-4200-9e93-726394cc974c/cover_letter_cover_modern.pdf","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.957Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","jobId":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","generationRunId":"6bd52d6c-b192-4200-9e93-726394cc974c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6bd52d6c-b192-4200-9e93-726394cc974c/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.957Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","jobId":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","generationRunId":"6bd52d6c-b192-4200-9e93-726394cc974c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6bd52d6c-b192-4200-9e93-726394cc974c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/6bd52d6c-b192-4200-9e93-726394cc974c/cover_letter_cover_modern.pdf","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.958Z","level":"info","message":"pdf_generation_attempt","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","jobId":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","generationRunId":"6bd52d6c-b192-4200-9e93-726394cc974c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6bd52d6c-b192-4200-9e93-726394cc974c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/6bd52d6c-b192-4200-9e93-726394cc974c/cover_letter_cover_professional.pdf","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.959Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","jobId":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","generationRunId":"6bd52d6c-b192-4200-9e93-726394cc974c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6bd52d6c-b192-4200-9e93-726394cc974c/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.959Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","jobId":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","generationRunId":"6bd52d6c-b192-4200-9e93-726394cc974c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6bd52d6c-b192-4200-9e93-726394cc974c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/6bd52d6c-b192-4200-9e93-726394cc974c/cover_letter_cover_professional.pdf","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.962Z","level":"info","message":"llm_call_metrics","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.963Z","level":"info","message":"generation_completed","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","jobId":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","generationRunId":"6bd52d6c-b192-4200-9e93-726394cc974c","enhancedScore":80,"outputs":5,"template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.964Z","level":"info","message":"placeholder_record_deleted","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","jobId":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","placeholderIdentifier":"6bd52d6c-b192-4200-9e93-726394cc974c","template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ec120c77-d3a3-45f0-88c5-c8333c50da2c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.965Z","level":"info","message":"http_request_completed","requestId":"6bd52d6c-b192-4200-9e93-726394cc974c","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":96,"contentLength":"58301","template":"unknown","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6bd52d6c-b192-4200-9e93-726394cc974c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.976Z","level":"info","message":"http_request_received","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","method":"POST","path":"/api/process-cv","template":"unknown","session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.977Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.979Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.980Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.982Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.984Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/c343a237-1b5a-4576-9f15-874c9d299ee0/incoming/original.pdf","chunks":1,"timestamp":1764857021986}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/c343a237-1b5a-4576-9f15-874c9d299ee0/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/c343a237-1b5a-4576-9f15-874c9d299ee0/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:03:41.988Z","level":"info","message":"process_cv_started","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","manualJobDescriptionProvided":true,"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.988Z","level":"info","message":"template_selection","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:41.989Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25147:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:03:41.997Z","level":"info","message":"initial_upload_completed","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","bucket":"test-bucket","key":"cv/candidate/c343a237-1b5a-4576-9f15-874c9d299ee0/incoming/original.pdf","template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.998Z","level":"info","message":"resume_text_extracted","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","characters":57,"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.998Z","level":"info","message":"resume_classified","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.999Z","level":"info","message":"raw_upload_relocated","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","bucket":"test-bucket","fromKey":"cv/candidate/c343a237-1b5a-4576-9f15-874c9d299ee0/incoming/original.pdf","toKey":"cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/original.pdf","template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:41.999Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","bucket":"test-bucket","key":"cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/original.pdf","template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.000Z","level":"info","message":"dynamo_initial_record_written","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","bucket":"test-bucket","key":"cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/original.pdf","template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.000Z","level":"info","message":"upload_metadata_written","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","bucket":"test-bucket","key":"cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/logs/log.json","template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.000Z","level":"info","message":"job_description_supplied_manually","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","characters":174,"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.001Z","level":"info","message":"job_description_analyzed","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","jobTitle":"","jobSkills":5,"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.001Z","level":"info","message":"resume_skills_analyzed","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.001Z","level":"info","message":"llm_call_metrics","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.002Z","level":"info","message":"process_cv_scoring_completed","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:03:42.004Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","template":"unknown","session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at Object.error (server.js:3487:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8543:20)
      at generateEnhancedDocumentsResponse (server.js:20188:26)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:42.012Z","level":"info","message":"llm_call_metrics","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.012Z","level":"info","message":"llm_call_metrics","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.013Z","level":"info","message":"generation_section_rewrite_completed","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","generationRunId":"c343a237-1b5a-4576-9f15-874c9d299ee0","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.013Z","level":"info","message":"llm_call_metrics","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.014Z","level":"info","message":"llm_call_metrics","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:03:42.020Z","level":"error","message":"ai_response_missing_json","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","generationRunId":"c343a237-1b5a-4576-9f15-874c9d299ee0","template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at Object.error (server.js:3487:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20470:26)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:42.031Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","generationRunId":"c343a237-1b5a-4576-9f15-874c9d299ee0","attempt":1,"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20475:11)
      at server.js:26746:28

  console.error
    {"timestamp":"2025-12-04T14:03:42.043Z","level":"error","message":"ai_response_missing_json","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","generationRunId":"c343a237-1b5a-4576-9f15-874c9d299ee0","template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at Object.error (server.js:3487:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20470:26)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:42.054Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","generationRunId":"c343a237-1b5a-4576-9f15-874c9d299ee0","attempt":2,"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20475:11)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:42.065Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","generationRunId":"c343a237-1b5a-4576-9f15-874c9d299ee0","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20739:7)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:42.074Z","level":"info","message":"generation_cover_letters_completed","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","generationRunId":"c343a237-1b5a-4576-9f15-874c9d299ee0","variants":2,"fallbackApplied":true,"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.076Z","level":"info","message":"pdf_generation_attempt","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","generationRunId":"c343a237-1b5a-4576-9f15-874c9d299ee0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/enhanced_modern.pdf","session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.077Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","generationRunId":"c343a237-1b5a-4576-9f15-874c9d299ee0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.078Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","generationRunId":"c343a237-1b5a-4576-9f15-874c9d299ee0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/enhanced_modern.pdf","session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.079Z","level":"info","message":"pdf_generation_attempt","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","generationRunId":"c343a237-1b5a-4576-9f15-874c9d299ee0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/enhanced_professional.pdf","session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.080Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","generationRunId":"c343a237-1b5a-4576-9f15-874c9d299ee0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.081Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","generationRunId":"c343a237-1b5a-4576-9f15-874c9d299ee0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/enhanced_professional.pdf","session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.082Z","level":"info","message":"pdf_generation_attempt","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","generationRunId":"c343a237-1b5a-4576-9f15-874c9d299ee0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/cover_letter_cover_modern.pdf","session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.083Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","generationRunId":"c343a237-1b5a-4576-9f15-874c9d299ee0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.084Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","generationRunId":"c343a237-1b5a-4576-9f15-874c9d299ee0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/cover_letter_cover_modern.pdf","session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.084Z","level":"info","message":"pdf_generation_attempt","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","generationRunId":"c343a237-1b5a-4576-9f15-874c9d299ee0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/cover_letter_cover_professional.pdf","session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.085Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","generationRunId":"c343a237-1b5a-4576-9f15-874c9d299ee0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.086Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","generationRunId":"c343a237-1b5a-4576-9f15-874c9d299ee0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/cover_letter_cover_professional.pdf","session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:42.088Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","generationRunId":"c343a237-1b5a-4576-9f15-874c9d299ee0","artifactType":"original_upload","storageKey":"cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/original.pdf","template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","metadata":{"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"original_upload"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:21876:9)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:42.106Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","generationRunId":"c343a237-1b5a-4576-9f15-874c9d299ee0","artifactType":"version1","storageKey":"cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/modern/version1.pdf","template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","metadata":{"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"version1"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:21876:9)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:42.120Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","generationRunId":"c343a237-1b5a-4576-9f15-874c9d299ee0","artifactType":"version2","storageKey":"cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/professional/version2.pdf","template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","metadata":{"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"version2"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:21876:9)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:42.135Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","generationRunId":"c343a237-1b5a-4576-9f15-874c9d299ee0","artifactType":"cover_letter1","storageKey":"cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/cover_modern/cover_letter1.pdf","template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","metadata":{"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"cover_letter1"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:21876:9)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:42.142Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","generationRunId":"c343a237-1b5a-4576-9f15-874c9d299ee0","artifactType":"cover_letter2","storageKey":"cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/cover_professional/cover_letter2.pdf","template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","metadata":{"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"cover_letter2"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:21876:9)
      at server.js:26746:28

  console.error
    {"timestamp":"2025-12-04T14:03:42.150Z","level":"error","message":"generation_urls_missing","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","generationRunId":"c343a237-1b5a-4576-9f15-874c9d299ee0","requestedUrlCount":0,"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:21977:7)
      at server.js:26746:28

  console.error
    {"timestamp":"2025-12-04T14:03:42.158Z","level":"error","message":"api_error_response","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","status":500,"error":{"code":"AI_RESPONSE_INVALID","message":"Unable to prepare download links for the generated documents.","details":{"logs":{"s3":{"bucket":"test-bucket","key":"logs/errors/2025-12-04/2025-12-04t14-03-42-158z-c343a237-1b5a-4576-9f15-874c9d299ee0.json","status":"pending"}}},"requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6"},"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at sendError (server.js:3975:3)
      at generateEnhancedDocumentsResponse (server.js:21981:7)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:42.168Z","level":"warn","message":"generation_artifacts_cleaned_up","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","jobId":"004df0a0-143d-4001-b7f7-37877b2689d6","generationRunId":"c343a237-1b5a-4576-9f15-874c9d299ee0","reason":"no_valid_urls","deletedKeys":["cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/modern/version1.pdf","cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/professional/version2.pdf","cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/cover_modern/cover_letter1.pdf","cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/cover_professional/cover_letter2.pdf","cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/artifacts/original.json","cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/artifacts/version1.json","cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/artifacts/version2.json","cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/artifacts/cover-letter1.json","cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/artifacts/cover-letter2.json","cv/professional_summary/c343a237-1b5a-4576-9f15-874c9d299ee0/artifacts/changelog.json"],"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"004df0a0-143d-4001-b7f7-37877b2689d6","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:19904:9
      at generateEnhancedDocumentsResponse (server.js:22509:7)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:42.177Z","level":"info","message":"http_request_completed","requestId":"c343a237-1b5a-4576-9f15-874c9d299ee0","method":"POST","path":"/api/process-cv","statusCode":500,"durationMs":201,"contentLength":"396","template":"unknown","session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c343a237-1b5a-4576-9f15-874c9d299ee0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.190Z","level":"info","message":"http_request_received","requestId":"afe15a89-f3df-492e-8e17-c52d98e20131","method":"POST","path":"/api/refresh-download-link","template":"unknown","session":"afe15a89-f3df-492e-8e17-c52d98e20131","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afe15a89-f3df-492e-8e17-c52d98e20131","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.192Z","level":"info","message":"path_restoration_debug","reqPath":"/api/refresh-download-link","reqUrl":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.196Z","level":"info","message":"request_received","path":"/api/refresh-download-link","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.206Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.237Z","level":"info","message":"client_app_routes_entered","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.246Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.268Z","level":"info","message":"http_request_completed","requestId":"afe15a89-f3df-492e-8e17-c52d98e20131","method":"POST","path":"/api/refresh-download-link","statusCode":200,"durationMs":78,"contentLength":"232","template":"unknown","session":"afe15a89-f3df-492e-8e17-c52d98e20131","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"afe15a89-f3df-492e-8e17-c52d98e20131","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.287Z","level":"info","message":"http_request_received","requestId":"2594770f-5447-414e-a928-e150ea29217f","method":"POST","path":"/api/refresh-download-link","template":"unknown","session":"2594770f-5447-414e-a928-e150ea29217f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2594770f-5447-414e-a928-e150ea29217f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.289Z","level":"info","message":"path_restoration_debug","reqPath":"/api/refresh-download-link","reqUrl":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.291Z","level":"info","message":"request_received","path":"/api/refresh-download-link","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.293Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.296Z","level":"info","message":"client_app_routes_entered","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.297Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:42.299Z","level":"warn","message":"api_error_response","requestId":"2594770f-5447-414e-a928-e150ea29217f","jobId":"job-123","status":404,"error":{"code":"DOWNLOAD_NOT_FOUND","message":"The requested download link is no longer available.","details":{},"requestId":"2594770f-5447-414e-a928-e150ea29217f","jobId":"job-123"},"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at sendError (server.js:3975:3)
      at server.js:24614:12

  console.log
    {"timestamp":"2025-12-04T14:03:42.308Z","level":"info","message":"http_request_completed","requestId":"2594770f-5447-414e-a928-e150ea29217f","method":"POST","path":"/api/refresh-download-link","statusCode":404,"durationMs":21,"contentLength":"201","template":"unknown","session":"2594770f-5447-414e-a928-e150ea29217f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2594770f-5447-414e-a928-e150ea29217f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.312Z","level":"info","message":"http_request_received","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","method":"POST","path":"/api/process-cv","template":"unknown","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.313Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.315Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.318Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.320Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.323Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/41540fa2-d6fb-48fb-a261-a5c5c2105b98/incoming/original.pdf","chunks":1,"timestamp":1764857022327}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/41540fa2-d6fb-48fb-a261-a5c5c2105b98/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/41540fa2-d6fb-48fb-a261-a5c5c2105b98/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:03:42.338Z","level":"info","message":"process_cv_started","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","jobId":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","manualJobDescriptionProvided":true,"template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.339Z","level":"info","message":"template_selection","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","jobId":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:42.340Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","jobId":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25147:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:03:42.349Z","level":"info","message":"initial_upload_completed","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","jobId":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","bucket":"test-bucket","key":"cv/candidate/41540fa2-d6fb-48fb-a261-a5c5c2105b98/incoming/original.pdf","template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.350Z","level":"info","message":"resume_text_extracted","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","jobId":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","characters":57,"template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.351Z","level":"info","message":"resume_classified","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","jobId":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.351Z","level":"info","message":"raw_upload_relocated","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","jobId":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","bucket":"test-bucket","fromKey":"cv/candidate/41540fa2-d6fb-48fb-a261-a5c5c2105b98/incoming/original.pdf","toKey":"cv/professional_summary/41540fa2-d6fb-48fb-a261-a5c5c2105b98/original.pdf","template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.352Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","jobId":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","bucket":"test-bucket","key":"cv/professional_summary/41540fa2-d6fb-48fb-a261-a5c5c2105b98/original.pdf","template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.353Z","level":"info","message":"dynamo_initial_record_written","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","jobId":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","bucket":"test-bucket","key":"cv/professional_summary/41540fa2-d6fb-48fb-a261-a5c5c2105b98/original.pdf","template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.353Z","level":"info","message":"upload_metadata_written","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","jobId":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","bucket":"test-bucket","key":"cv/professional_summary/41540fa2-d6fb-48fb-a261-a5c5c2105b98/logs/log.json","template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.354Z","level":"info","message":"job_description_supplied_manually","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","jobId":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","characters":174,"template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.355Z","level":"info","message":"job_description_analyzed","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","jobId":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","jobTitle":"","jobSkills":5,"template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.358Z","level":"info","message":"resume_skills_analyzed","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","jobId":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.359Z","level":"info","message":"llm_call_metrics","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.360Z","level":"info","message":"process_cv_scoring_completed","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","jobId":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:03:42.364Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","template":"unknown","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at Object.error (server.js:3487:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8543:20)
      at generateEnhancedDocumentsResponse (server.js:20188:26)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:42.376Z","level":"info","message":"llm_call_metrics","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.377Z","level":"info","message":"llm_call_metrics","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.378Z","level":"info","message":"generation_section_rewrite_completed","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","jobId":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","generationRunId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.380Z","level":"info","message":"llm_call_metrics","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.380Z","level":"info","message":"llm_call_metrics","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:03:42.387Z","level":"error","message":"ai_response_missing_json","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","jobId":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","generationRunId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at Object.error (server.js:3487:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20470:26)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:42.395Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","jobId":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","generationRunId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","attempt":1,"template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20475:11)
      at server.js:26746:28

  console.error
    {"timestamp":"2025-12-04T14:03:42.402Z","level":"error","message":"ai_response_missing_json","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","jobId":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","generationRunId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at Object.error (server.js:3487:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20470:26)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:42.414Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","jobId":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","generationRunId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","attempt":2,"template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20475:11)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:42.425Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","jobId":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","generationRunId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20739:7)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:42.438Z","level":"info","message":"generation_cover_letters_completed","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","jobId":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","generationRunId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","variants":2,"fallbackApplied":true,"template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.439Z","level":"info","message":"pdf_generation_attempt","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","jobId":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","generationRunId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/41540fa2-d6fb-48fb-a261-a5c5c2105b98/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/41540fa2-d6fb-48fb-a261-a5c5c2105b98/enhanced_modern.pdf","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.440Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","jobId":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","generationRunId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/41540fa2-d6fb-48fb-a261-a5c5c2105b98/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.441Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","jobId":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","generationRunId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/41540fa2-d6fb-48fb-a261-a5c5c2105b98/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/41540fa2-d6fb-48fb-a261-a5c5c2105b98/enhanced_modern.pdf","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.442Z","level":"info","message":"pdf_generation_attempt","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","jobId":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","generationRunId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/41540fa2-d6fb-48fb-a261-a5c5c2105b98/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/41540fa2-d6fb-48fb-a261-a5c5c2105b98/enhanced_professional.pdf","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.443Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","jobId":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","generationRunId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/41540fa2-d6fb-48fb-a261-a5c5c2105b98/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.444Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","jobId":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","generationRunId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/41540fa2-d6fb-48fb-a261-a5c5c2105b98/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/41540fa2-d6fb-48fb-a261-a5c5c2105b98/enhanced_professional.pdf","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.445Z","level":"info","message":"pdf_generation_attempt","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","jobId":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","generationRunId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/41540fa2-d6fb-48fb-a261-a5c5c2105b98/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/41540fa2-d6fb-48fb-a261-a5c5c2105b98/cover_letter_cover_modern.pdf","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.446Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","jobId":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","generationRunId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/41540fa2-d6fb-48fb-a261-a5c5c2105b98/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.447Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","jobId":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","generationRunId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/41540fa2-d6fb-48fb-a261-a5c5c2105b98/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/41540fa2-d6fb-48fb-a261-a5c5c2105b98/cover_letter_cover_modern.pdf","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.448Z","level":"info","message":"pdf_generation_attempt","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","jobId":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","generationRunId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/41540fa2-d6fb-48fb-a261-a5c5c2105b98/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/41540fa2-d6fb-48fb-a261-a5c5c2105b98/cover_letter_cover_professional.pdf","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.449Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","jobId":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","generationRunId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/41540fa2-d6fb-48fb-a261-a5c5c2105b98/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.450Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","jobId":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","generationRunId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/41540fa2-d6fb-48fb-a261-a5c5c2105b98/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/41540fa2-d6fb-48fb-a261-a5c5c2105b98/cover_letter_cover_professional.pdf","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.455Z","level":"info","message":"llm_call_metrics","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.457Z","level":"info","message":"generation_completed","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","jobId":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","generationRunId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","enhancedScore":80,"outputs":5,"template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.459Z","level":"info","message":"placeholder_record_deleted","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","jobId":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","placeholderIdentifier":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49b2fc75-d8e4-4d60-ac3f-4fd39455626c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.462Z","level":"info","message":"http_request_completed","requestId":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":150,"contentLength":"58301","template":"unknown","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"41540fa2-d6fb-48fb-a261-a5c5c2105b98","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.474Z","level":"info","message":"http_request_received","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","method":"POST","path":"/api/process-cv","template":"unknown","session":"66b43a06-0371-4983-92a2-fc6fb769d63e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66b43a06-0371-4983-92a2-fc6fb769d63e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.476Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.478Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.481Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.484Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.487Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/66b43a06-0371-4983-92a2-fc6fb769d63e/incoming/original.pdf","chunks":1,"timestamp":1764857022491}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/66b43a06-0371-4983-92a2-fc6fb769d63e/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/66b43a06-0371-4983-92a2-fc6fb769d63e/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":3}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:03:42.519Z","level":"info","message":"process_cv_started","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","jobId":"5342abe2-2676-4f1f-95c4-1e19309df794","manualJobDescriptionProvided":true,"template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.521Z","level":"info","message":"template_selection","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","jobId":"5342abe2-2676-4f1f-95c4-1e19309df794","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:42.522Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","jobId":"5342abe2-2676-4f1f-95c4-1e19309df794","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25147:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:03:42.532Z","level":"info","message":"initial_upload_completed","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","jobId":"5342abe2-2676-4f1f-95c4-1e19309df794","bucket":"test-bucket","key":"cv/candidate/66b43a06-0371-4983-92a2-fc6fb769d63e/incoming/original.pdf","template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.532Z","level":"info","message":"resume_text_extracted","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","jobId":"5342abe2-2676-4f1f-95c4-1e19309df794","characters":57,"template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.533Z","level":"info","message":"resume_classified","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","jobId":"5342abe2-2676-4f1f-95c4-1e19309df794","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.534Z","level":"info","message":"raw_upload_relocated","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","jobId":"5342abe2-2676-4f1f-95c4-1e19309df794","bucket":"test-bucket","fromKey":"cv/candidate/66b43a06-0371-4983-92a2-fc6fb769d63e/incoming/original.pdf","toKey":"cv/professional_summary/66b43a06-0371-4983-92a2-fc6fb769d63e/original.pdf","template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.534Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","jobId":"5342abe2-2676-4f1f-95c4-1e19309df794","bucket":"test-bucket","key":"cv/professional_summary/66b43a06-0371-4983-92a2-fc6fb769d63e/original.pdf","template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.535Z","level":"info","message":"dynamo_initial_record_written","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","jobId":"5342abe2-2676-4f1f-95c4-1e19309df794","bucket":"test-bucket","key":"cv/professional_summary/66b43a06-0371-4983-92a2-fc6fb769d63e/original.pdf","template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.535Z","level":"info","message":"upload_metadata_written","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","jobId":"5342abe2-2676-4f1f-95c4-1e19309df794","bucket":"test-bucket","key":"cv/professional_summary/66b43a06-0371-4983-92a2-fc6fb769d63e/logs/log.json","template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.535Z","level":"info","message":"job_description_supplied_manually","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","jobId":"5342abe2-2676-4f1f-95c4-1e19309df794","characters":174,"template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.536Z","level":"info","message":"job_description_analyzed","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","jobId":"5342abe2-2676-4f1f-95c4-1e19309df794","jobTitle":"","jobSkills":5,"template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.537Z","level":"info","message":"resume_skills_analyzed","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","jobId":"5342abe2-2676-4f1f-95c4-1e19309df794","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.537Z","level":"info","message":"llm_call_metrics","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"66b43a06-0371-4983-92a2-fc6fb769d63e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"66b43a06-0371-4983-92a2-fc6fb769d63e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.538Z","level":"info","message":"process_cv_scoring_completed","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","jobId":"5342abe2-2676-4f1f-95c4-1e19309df794","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.541Z","level":"info","message":"llm_call_metrics","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"66b43a06-0371-4983-92a2-fc6fb769d63e","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"66b43a06-0371-4983-92a2-fc6fb769d63e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.542Z","level":"info","message":"generation_section_rewrite_completed","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","jobId":"5342abe2-2676-4f1f-95c4-1e19309df794","generationRunId":"66b43a06-0371-4983-92a2-fc6fb769d63e","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.543Z","level":"info","message":"llm_call_metrics","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"66b43a06-0371-4983-92a2-fc6fb769d63e","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"66b43a06-0371-4983-92a2-fc6fb769d63e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.547Z","level":"info","message":"generation_resume_verified","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","jobId":"5342abe2-2676-4f1f-95c4-1e19309df794","generationRunId":"66b43a06-0371-4983-92a2-fc6fb769d63e","template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:42.552Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","jobId":"5342abe2-2676-4f1f-95c4-1e19309df794","generationRunId":"66b43a06-0371-4983-92a2-fc6fb769d63e","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20550:7)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:42.562Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","jobId":"5342abe2-2676-4f1f-95c4-1e19309df794","generationRunId":"66b43a06-0371-4983-92a2-fc6fb769d63e","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20739:7)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:42.571Z","level":"info","message":"generation_cover_letters_completed","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","jobId":"5342abe2-2676-4f1f-95c4-1e19309df794","generationRunId":"66b43a06-0371-4983-92a2-fc6fb769d63e","variants":2,"fallbackApplied":true,"template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.572Z","level":"info","message":"pdf_generation_attempt","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","jobId":"5342abe2-2676-4f1f-95c4-1e19309df794","generationRunId":"66b43a06-0371-4983-92a2-fc6fb769d63e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/66b43a06-0371-4983-92a2-fc6fb769d63e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/66b43a06-0371-4983-92a2-fc6fb769d63e/enhanced_modern.pdf","session":"66b43a06-0371-4983-92a2-fc6fb769d63e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"66b43a06-0371-4983-92a2-fc6fb769d63e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.573Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","jobId":"5342abe2-2676-4f1f-95c4-1e19309df794","generationRunId":"66b43a06-0371-4983-92a2-fc6fb769d63e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/66b43a06-0371-4983-92a2-fc6fb769d63e/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"66b43a06-0371-4983-92a2-fc6fb769d63e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"66b43a06-0371-4983-92a2-fc6fb769d63e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.574Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","jobId":"5342abe2-2676-4f1f-95c4-1e19309df794","generationRunId":"66b43a06-0371-4983-92a2-fc6fb769d63e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/66b43a06-0371-4983-92a2-fc6fb769d63e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/66b43a06-0371-4983-92a2-fc6fb769d63e/enhanced_modern.pdf","session":"66b43a06-0371-4983-92a2-fc6fb769d63e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"66b43a06-0371-4983-92a2-fc6fb769d63e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.575Z","level":"info","message":"pdf_generation_attempt","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","jobId":"5342abe2-2676-4f1f-95c4-1e19309df794","generationRunId":"66b43a06-0371-4983-92a2-fc6fb769d63e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/66b43a06-0371-4983-92a2-fc6fb769d63e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/66b43a06-0371-4983-92a2-fc6fb769d63e/enhanced_professional.pdf","session":"66b43a06-0371-4983-92a2-fc6fb769d63e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"66b43a06-0371-4983-92a2-fc6fb769d63e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.576Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","jobId":"5342abe2-2676-4f1f-95c4-1e19309df794","generationRunId":"66b43a06-0371-4983-92a2-fc6fb769d63e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/66b43a06-0371-4983-92a2-fc6fb769d63e/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"66b43a06-0371-4983-92a2-fc6fb769d63e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"66b43a06-0371-4983-92a2-fc6fb769d63e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.577Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","jobId":"5342abe2-2676-4f1f-95c4-1e19309df794","generationRunId":"66b43a06-0371-4983-92a2-fc6fb769d63e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/66b43a06-0371-4983-92a2-fc6fb769d63e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/66b43a06-0371-4983-92a2-fc6fb769d63e/enhanced_professional.pdf","session":"66b43a06-0371-4983-92a2-fc6fb769d63e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"66b43a06-0371-4983-92a2-fc6fb769d63e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.578Z","level":"info","message":"pdf_generation_attempt","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","jobId":"5342abe2-2676-4f1f-95c4-1e19309df794","generationRunId":"66b43a06-0371-4983-92a2-fc6fb769d63e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/66b43a06-0371-4983-92a2-fc6fb769d63e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/66b43a06-0371-4983-92a2-fc6fb769d63e/cover_letter_cover_modern.pdf","session":"66b43a06-0371-4983-92a2-fc6fb769d63e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"66b43a06-0371-4983-92a2-fc6fb769d63e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.578Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","jobId":"5342abe2-2676-4f1f-95c4-1e19309df794","generationRunId":"66b43a06-0371-4983-92a2-fc6fb769d63e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/66b43a06-0371-4983-92a2-fc6fb769d63e/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"66b43a06-0371-4983-92a2-fc6fb769d63e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"66b43a06-0371-4983-92a2-fc6fb769d63e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.579Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","jobId":"5342abe2-2676-4f1f-95c4-1e19309df794","generationRunId":"66b43a06-0371-4983-92a2-fc6fb769d63e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/66b43a06-0371-4983-92a2-fc6fb769d63e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/66b43a06-0371-4983-92a2-fc6fb769d63e/cover_letter_cover_modern.pdf","session":"66b43a06-0371-4983-92a2-fc6fb769d63e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"66b43a06-0371-4983-92a2-fc6fb769d63e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.580Z","level":"info","message":"pdf_generation_attempt","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","jobId":"5342abe2-2676-4f1f-95c4-1e19309df794","generationRunId":"66b43a06-0371-4983-92a2-fc6fb769d63e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/66b43a06-0371-4983-92a2-fc6fb769d63e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/66b43a06-0371-4983-92a2-fc6fb769d63e/cover_letter_cover_professional.pdf","session":"66b43a06-0371-4983-92a2-fc6fb769d63e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"66b43a06-0371-4983-92a2-fc6fb769d63e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.581Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","jobId":"5342abe2-2676-4f1f-95c4-1e19309df794","generationRunId":"66b43a06-0371-4983-92a2-fc6fb769d63e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/66b43a06-0371-4983-92a2-fc6fb769d63e/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"66b43a06-0371-4983-92a2-fc6fb769d63e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"66b43a06-0371-4983-92a2-fc6fb769d63e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.582Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","jobId":"5342abe2-2676-4f1f-95c4-1e19309df794","generationRunId":"66b43a06-0371-4983-92a2-fc6fb769d63e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/66b43a06-0371-4983-92a2-fc6fb769d63e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/66b43a06-0371-4983-92a2-fc6fb769d63e/cover_letter_cover_professional.pdf","session":"66b43a06-0371-4983-92a2-fc6fb769d63e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"66b43a06-0371-4983-92a2-fc6fb769d63e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.587Z","level":"info","message":"llm_call_metrics","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"66b43a06-0371-4983-92a2-fc6fb769d63e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"66b43a06-0371-4983-92a2-fc6fb769d63e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.588Z","level":"info","message":"generation_completed","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","jobId":"5342abe2-2676-4f1f-95c4-1e19309df794","generationRunId":"66b43a06-0371-4983-92a2-fc6fb769d63e","enhancedScore":80,"outputs":5,"template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.590Z","level":"info","message":"placeholder_record_deleted","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","jobId":"5342abe2-2676-4f1f-95c4-1e19309df794","placeholderIdentifier":"66b43a06-0371-4983-92a2-fc6fb769d63e","template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5342abe2-2676-4f1f-95c4-1e19309df794","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.592Z","level":"info","message":"http_request_completed","requestId":"66b43a06-0371-4983-92a2-fc6fb769d63e","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":118,"contentLength":"58133","template":"unknown","session":"66b43a06-0371-4983-92a2-fc6fb769d63e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66b43a06-0371-4983-92a2-fc6fb769d63e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.598Z","level":"info","message":"http_request_received","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","method":"POST","path":"/api/process-cv","template":"unknown","session":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.599Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.601Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.604Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.606Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.610Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/d9ea2bcf-cd20-47e3-bf30-c133db22253b/incoming/original.pdf","chunks":1,"timestamp":1764857022615}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/d9ea2bcf-cd20-47e3-bf30-c133db22253b/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/d9ea2bcf-cd20-47e3-bf30-c133db22253b/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:03:42.618Z","level":"info","message":"process_cv_started","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","jobId":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","manualJobDescriptionProvided":true,"template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.619Z","level":"info","message":"template_selection","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","jobId":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","template1":"classic","template2":"ats","coverTemplate1":"cover_classic","coverTemplate2":"cover_ats","availableCvTemplates":["classic","ats","modern","professional","2025"],"availableCoverTemplates":["cover_classic","cover_ats","cover_modern","cover_professional","cover_2025"],"template":"classic","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:42.620Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","jobId":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25147:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:03:42.629Z","level":"info","message":"initial_upload_completed","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","jobId":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","bucket":"test-bucket","key":"cv/candidate/d9ea2bcf-cd20-47e3-bf30-c133db22253b/incoming/original.pdf","template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.631Z","level":"info","message":"resume_text_extracted","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","jobId":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","characters":57,"template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.631Z","level":"info","message":"resume_classified","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","jobId":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.632Z","level":"info","message":"raw_upload_relocated","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","jobId":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","bucket":"test-bucket","fromKey":"cv/candidate/d9ea2bcf-cd20-47e3-bf30-c133db22253b/incoming/original.pdf","toKey":"cv/professional_summary/d9ea2bcf-cd20-47e3-bf30-c133db22253b/original.pdf","template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.633Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","jobId":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","bucket":"test-bucket","key":"cv/professional_summary/d9ea2bcf-cd20-47e3-bf30-c133db22253b/original.pdf","template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.637Z","level":"info","message":"dynamo_initial_record_written","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","jobId":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","bucket":"test-bucket","key":"cv/professional_summary/d9ea2bcf-cd20-47e3-bf30-c133db22253b/original.pdf","template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.638Z","level":"info","message":"upload_metadata_written","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","jobId":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","bucket":"test-bucket","key":"cv/professional_summary/d9ea2bcf-cd20-47e3-bf30-c133db22253b/logs/log.json","template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.639Z","level":"info","message":"job_description_supplied_manually","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","jobId":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","characters":174,"template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.640Z","level":"info","message":"job_description_analyzed","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","jobId":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","jobTitle":"","jobSkills":5,"template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.641Z","level":"info","message":"resume_skills_analyzed","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","jobId":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.642Z","level":"info","message":"llm_call_metrics","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.643Z","level":"info","message":"process_cv_scoring_completed","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","jobId":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.647Z","level":"info","message":"llm_call_metrics","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.648Z","level":"info","message":"generation_section_rewrite_completed","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","jobId":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","generationRunId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.649Z","level":"info","message":"llm_call_metrics","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.656Z","level":"info","message":"generation_resume_verified","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","jobId":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","generationRunId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:42.662Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","jobId":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","generationRunId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20550:7)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:42.671Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","jobId":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","generationRunId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20739:7)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:42.680Z","level":"info","message":"generation_cover_letters_completed","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","jobId":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","generationRunId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","variants":2,"fallbackApplied":true,"template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.682Z","level":"info","message":"pdf_generation_attempt","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","jobId":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","generationRunId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d9ea2bcf-cd20-47e3-bf30-c133db22253b/","sessionId":"[REDACTED]","template":"classic","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/d9ea2bcf-cd20-47e3-bf30-c133db22253b/enhanced_classic.pdf","session":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.683Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","jobId":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","generationRunId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d9ea2bcf-cd20-47e3-bf30-c133db22253b/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.684Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","jobId":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","generationRunId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d9ea2bcf-cd20-47e3-bf30-c133db22253b/","sessionId":"[REDACTED]","template":"classic","attempt":1,"bytes":3,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/d9ea2bcf-cd20-47e3-bf30-c133db22253b/enhanced_classic.pdf","session":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.685Z","level":"info","message":"pdf_generation_attempt","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","jobId":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","generationRunId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d9ea2bcf-cd20-47e3-bf30-c133db22253b/","sessionId":"[REDACTED]","template":"ats","attempt":1,"totalAttempts":1,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/d9ea2bcf-cd20-47e3-bf30-c133db22253b/enhanced_ats.pdf","session":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.686Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","jobId":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","generationRunId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d9ea2bcf-cd20-47e3-bf30-c133db22253b/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":["mode","atsMode"],"session":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.687Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","jobId":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","generationRunId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d9ea2bcf-cd20-47e3-bf30-c133db22253b/","sessionId":"[REDACTED]","template":"ats","attempt":1,"bytes":3,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/d9ea2bcf-cd20-47e3-bf30-c133db22253b/enhanced_ats.pdf","session":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.688Z","level":"info","message":"pdf_generation_attempt","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","jobId":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","generationRunId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d9ea2bcf-cd20-47e3-bf30-c133db22253b/","sessionId":"[REDACTED]","template":"cover_classic","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/d9ea2bcf-cd20-47e3-bf30-c133db22253b/cover_letter_cover_classic.pdf","session":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.689Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","jobId":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","generationRunId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d9ea2bcf-cd20-47e3-bf30-c133db22253b/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.690Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","jobId":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","generationRunId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d9ea2bcf-cd20-47e3-bf30-c133db22253b/","sessionId":"[REDACTED]","template":"cover_classic","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/d9ea2bcf-cd20-47e3-bf30-c133db22253b/cover_letter_cover_classic.pdf","session":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.691Z","level":"info","message":"pdf_generation_attempt","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","jobId":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","generationRunId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d9ea2bcf-cd20-47e3-bf30-c133db22253b/","sessionId":"[REDACTED]","template":"cover_ats","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/d9ea2bcf-cd20-47e3-bf30-c133db22253b/cover_letter_cover_ats.pdf","session":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.692Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","jobId":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","generationRunId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d9ea2bcf-cd20-47e3-bf30-c133db22253b/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.693Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","jobId":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","generationRunId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d9ea2bcf-cd20-47e3-bf30-c133db22253b/","sessionId":"[REDACTED]","template":"cover_ats","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/d9ea2bcf-cd20-47e3-bf30-c133db22253b/cover_letter_cover_ats.pdf","session":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.699Z","level":"info","message":"llm_call_metrics","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.700Z","level":"info","message":"generation_completed","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","jobId":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","generationRunId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","enhancedScore":80,"outputs":5,"template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.705Z","level":"info","message":"placeholder_record_deleted","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","jobId":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","placeholderIdentifier":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ba90c4b-b10a-4d62-aaf3-33f6ad582ff3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.708Z","level":"info","message":"http_request_completed","requestId":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":110,"contentLength":"57992","template":"unknown","session":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9ea2bcf-cd20-47e3-bf30-c133db22253b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.718Z","level":"info","message":"http_request_received","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","method":"POST","path":"/api/process-cv","template":"unknown","session":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.721Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.723Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.726Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.729Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.733Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/c7655096-0d2f-4dbb-9b16-ec215dfbcf6b/incoming/original.pdf","chunks":1,"timestamp":1764857022738}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/c7655096-0d2f-4dbb-9b16-ec215dfbcf6b/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/c7655096-0d2f-4dbb-9b16-ec215dfbcf6b/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":3}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:03:42.743Z","level":"info","message":"process_cv_started","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","jobId":"184189be-6c90-429c-932f-a1225820c689","manualJobDescriptionProvided":true,"template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.744Z","level":"info","message":"template_selection","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","jobId":"184189be-6c90-429c-932f-a1225820c689","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:42.745Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","jobId":"184189be-6c90-429c-932f-a1225820c689","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25147:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:03:42.758Z","level":"info","message":"initial_upload_completed","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","jobId":"184189be-6c90-429c-932f-a1225820c689","bucket":"test-bucket","key":"cv/candidate/c7655096-0d2f-4dbb-9b16-ec215dfbcf6b/incoming/original.pdf","template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.760Z","level":"info","message":"resume_text_extracted","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","jobId":"184189be-6c90-429c-932f-a1225820c689","characters":57,"template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.761Z","level":"info","message":"resume_classified","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","jobId":"184189be-6c90-429c-932f-a1225820c689","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.762Z","level":"info","message":"raw_upload_relocated","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","jobId":"184189be-6c90-429c-932f-a1225820c689","bucket":"test-bucket","fromKey":"cv/candidate/c7655096-0d2f-4dbb-9b16-ec215dfbcf6b/incoming/original.pdf","toKey":"cv/professional_summary/c7655096-0d2f-4dbb-9b16-ec215dfbcf6b/original.pdf","template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.763Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","jobId":"184189be-6c90-429c-932f-a1225820c689","bucket":"test-bucket","key":"cv/professional_summary/c7655096-0d2f-4dbb-9b16-ec215dfbcf6b/original.pdf","template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.764Z","level":"info","message":"dynamo_initial_record_written","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","jobId":"184189be-6c90-429c-932f-a1225820c689","bucket":"test-bucket","key":"cv/professional_summary/c7655096-0d2f-4dbb-9b16-ec215dfbcf6b/original.pdf","template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.765Z","level":"info","message":"upload_metadata_written","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","jobId":"184189be-6c90-429c-932f-a1225820c689","bucket":"test-bucket","key":"cv/professional_summary/c7655096-0d2f-4dbb-9b16-ec215dfbcf6b/logs/log.json","template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.766Z","level":"info","message":"job_description_supplied_manually","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","jobId":"184189be-6c90-429c-932f-a1225820c689","characters":174,"template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.767Z","level":"info","message":"job_description_analyzed","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","jobId":"184189be-6c90-429c-932f-a1225820c689","jobTitle":"","jobSkills":5,"template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.768Z","level":"info","message":"resume_skills_analyzed","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","jobId":"184189be-6c90-429c-932f-a1225820c689","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.770Z","level":"info","message":"llm_call_metrics","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.771Z","level":"info","message":"process_cv_scoring_completed","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","jobId":"184189be-6c90-429c-932f-a1225820c689","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.781Z","level":"info","message":"llm_call_metrics","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"02d97c4de2dc6045a8d84c10e35b0b09be1fff3da32b47fa5d4c293317deef58","addedSkillCount":0,"template":"resume_rewrite","session":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.783Z","level":"info","message":"generation_section_rewrite_completed","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","jobId":"184189be-6c90-429c-932f-a1225820c689","generationRunId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","modifiedTitle":"Lead Engineer","addedSkills":0,"template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.784Z","level":"info","message":"llm_call_metrics","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"3cb5bda2be537250e5bef0d91034f772d9c2c805c99b7e04ba145ecb904d5893","skillCount":5,"template":"project_summary","session":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.789Z","level":"info","message":"generation_resume_verified","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","jobId":"184189be-6c90-429c-932f-a1225820c689","generationRunId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:42.798Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","jobId":"184189be-6c90-429c-932f-a1225820c689","generationRunId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20550:7)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:42.809Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","jobId":"184189be-6c90-429c-932f-a1225820c689","generationRunId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20739:7)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:42.819Z","level":"info","message":"generation_cover_letters_completed","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","jobId":"184189be-6c90-429c-932f-a1225820c689","generationRunId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","variants":2,"fallbackApplied":true,"template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.821Z","level":"info","message":"pdf_generation_attempt","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","jobId":"184189be-6c90-429c-932f-a1225820c689","generationRunId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c7655096-0d2f-4dbb-9b16-ec215dfbcf6b/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c7655096-0d2f-4dbb-9b16-ec215dfbcf6b/enhanced_modern.pdf","session":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.822Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","jobId":"184189be-6c90-429c-932f-a1225820c689","generationRunId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c7655096-0d2f-4dbb-9b16-ec215dfbcf6b/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.827Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","jobId":"184189be-6c90-429c-932f-a1225820c689","generationRunId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c7655096-0d2f-4dbb-9b16-ec215dfbcf6b/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c7655096-0d2f-4dbb-9b16-ec215dfbcf6b/enhanced_modern.pdf","session":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.829Z","level":"info","message":"pdf_generation_attempt","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","jobId":"184189be-6c90-429c-932f-a1225820c689","generationRunId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c7655096-0d2f-4dbb-9b16-ec215dfbcf6b/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c7655096-0d2f-4dbb-9b16-ec215dfbcf6b/enhanced_professional.pdf","session":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.830Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","jobId":"184189be-6c90-429c-932f-a1225820c689","generationRunId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c7655096-0d2f-4dbb-9b16-ec215dfbcf6b/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.831Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","jobId":"184189be-6c90-429c-932f-a1225820c689","generationRunId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c7655096-0d2f-4dbb-9b16-ec215dfbcf6b/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c7655096-0d2f-4dbb-9b16-ec215dfbcf6b/enhanced_professional.pdf","session":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.832Z","level":"info","message":"pdf_generation_attempt","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","jobId":"184189be-6c90-429c-932f-a1225820c689","generationRunId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c7655096-0d2f-4dbb-9b16-ec215dfbcf6b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c7655096-0d2f-4dbb-9b16-ec215dfbcf6b/cover_letter_cover_modern.pdf","session":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.832Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","jobId":"184189be-6c90-429c-932f-a1225820c689","generationRunId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c7655096-0d2f-4dbb-9b16-ec215dfbcf6b/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.833Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","jobId":"184189be-6c90-429c-932f-a1225820c689","generationRunId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c7655096-0d2f-4dbb-9b16-ec215dfbcf6b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c7655096-0d2f-4dbb-9b16-ec215dfbcf6b/cover_letter_cover_modern.pdf","session":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.834Z","level":"info","message":"pdf_generation_attempt","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","jobId":"184189be-6c90-429c-932f-a1225820c689","generationRunId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c7655096-0d2f-4dbb-9b16-ec215dfbcf6b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c7655096-0d2f-4dbb-9b16-ec215dfbcf6b/cover_letter_cover_professional.pdf","session":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.834Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","jobId":"184189be-6c90-429c-932f-a1225820c689","generationRunId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c7655096-0d2f-4dbb-9b16-ec215dfbcf6b/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.835Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","jobId":"184189be-6c90-429c-932f-a1225820c689","generationRunId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c7655096-0d2f-4dbb-9b16-ec215dfbcf6b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c7655096-0d2f-4dbb-9b16-ec215dfbcf6b/cover_letter_cover_professional.pdf","session":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.838Z","level":"info","message":"llm_call_metrics","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"aebf306d7fe64238aa9b05fc3798c6e6698d8708e05d8dd31d0cadc8f2f74f38","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.838Z","level":"info","message":"generation_completed","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","jobId":"184189be-6c90-429c-932f-a1225820c689","generationRunId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","enhancedScore":80,"outputs":5,"template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.839Z","level":"info","message":"placeholder_record_deleted","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","jobId":"184189be-6c90-429c-932f-a1225820c689","placeholderIdentifier":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"184189be-6c90-429c-932f-a1225820c689","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.841Z","level":"info","message":"http_request_completed","requestId":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":123,"contentLength":"59354","template":"unknown","session":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c7655096-0d2f-4dbb-9b16-ec215dfbcf6b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.846Z","level":"info","message":"http_request_received","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","method":"POST","path":"/api/process-cv","template":"unknown","session":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.847Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.848Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.850Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.852Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.854Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/aa5a60fe-87e8-496e-aa52-d0bf8e6f145f/incoming/original.pdf","chunks":1,"timestamp":1764857022856}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/aa5a60fe-87e8-496e-aa52-d0bf8e6f145f/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/aa5a60fe-87e8-496e-aa52-d0bf8e6f145f/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:03:42.858Z","level":"info","message":"process_cv_started","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","jobId":"774d469f-9b8d-478f-ae45-5bf4694818e6","manualJobDescriptionProvided":true,"template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.858Z","level":"info","message":"template_selection","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","jobId":"774d469f-9b8d-478f-ae45-5bf4694818e6","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:42.859Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","jobId":"774d469f-9b8d-478f-ae45-5bf4694818e6","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25147:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:03:42.866Z","level":"info","message":"initial_upload_completed","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","jobId":"774d469f-9b8d-478f-ae45-5bf4694818e6","bucket":"test-bucket","key":"cv/candidate/aa5a60fe-87e8-496e-aa52-d0bf8e6f145f/incoming/original.pdf","template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.866Z","level":"info","message":"resume_text_extracted","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","jobId":"774d469f-9b8d-478f-ae45-5bf4694818e6","characters":57,"template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.867Z","level":"info","message":"resume_classified","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","jobId":"774d469f-9b8d-478f-ae45-5bf4694818e6","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.867Z","level":"info","message":"raw_upload_relocated","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","jobId":"774d469f-9b8d-478f-ae45-5bf4694818e6","bucket":"test-bucket","fromKey":"cv/candidate/aa5a60fe-87e8-496e-aa52-d0bf8e6f145f/incoming/original.pdf","toKey":"cv/professional_summary/aa5a60fe-87e8-496e-aa52-d0bf8e6f145f/original.pdf","template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.867Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","jobId":"774d469f-9b8d-478f-ae45-5bf4694818e6","bucket":"test-bucket","key":"cv/professional_summary/aa5a60fe-87e8-496e-aa52-d0bf8e6f145f/original.pdf","template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.868Z","level":"info","message":"dynamo_initial_record_written","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","jobId":"774d469f-9b8d-478f-ae45-5bf4694818e6","bucket":"test-bucket","key":"cv/professional_summary/aa5a60fe-87e8-496e-aa52-d0bf8e6f145f/original.pdf","template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.868Z","level":"info","message":"upload_metadata_written","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","jobId":"774d469f-9b8d-478f-ae45-5bf4694818e6","bucket":"test-bucket","key":"cv/professional_summary/aa5a60fe-87e8-496e-aa52-d0bf8e6f145f/logs/log.json","template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.868Z","level":"info","message":"job_description_supplied_manually","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","jobId":"774d469f-9b8d-478f-ae45-5bf4694818e6","characters":174,"template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.869Z","level":"info","message":"job_description_analyzed","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","jobId":"774d469f-9b8d-478f-ae45-5bf4694818e6","jobTitle":"","jobSkills":5,"template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.870Z","level":"info","message":"resume_skills_analyzed","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","jobId":"774d469f-9b8d-478f-ae45-5bf4694818e6","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.870Z","level":"info","message":"llm_call_metrics","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.871Z","level":"info","message":"process_cv_scoring_completed","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","jobId":"774d469f-9b8d-478f-ae45-5bf4694818e6","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.873Z","level":"info","message":"llm_call_metrics","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.874Z","level":"info","message":"generation_section_rewrite_completed","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","jobId":"774d469f-9b8d-478f-ae45-5bf4694818e6","generationRunId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.874Z","level":"info","message":"llm_call_metrics","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"9f21e6c3bcbaef44e0e62da79c13bb8790b57affdb114dc9f59fc273f882540c","skillCount":5,"template":"project_summary","session":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.877Z","level":"info","message":"generation_resume_verified","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","jobId":"774d469f-9b8d-478f-ae45-5bf4694818e6","generationRunId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:42.882Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","jobId":"774d469f-9b8d-478f-ae45-5bf4694818e6","generationRunId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20550:7)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:42.889Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","jobId":"774d469f-9b8d-478f-ae45-5bf4694818e6","generationRunId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20739:7)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:42.896Z","level":"info","message":"generation_cover_letters_completed","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","jobId":"774d469f-9b8d-478f-ae45-5bf4694818e6","generationRunId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","variants":2,"fallbackApplied":true,"template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.897Z","level":"info","message":"pdf_generation_attempt","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","jobId":"774d469f-9b8d-478f-ae45-5bf4694818e6","generationRunId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/aa5a60fe-87e8-496e-aa52-d0bf8e6f145f/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/aa5a60fe-87e8-496e-aa52-d0bf8e6f145f/enhanced_modern.pdf","session":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.898Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","jobId":"774d469f-9b8d-478f-ae45-5bf4694818e6","generationRunId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/aa5a60fe-87e8-496e-aa52-d0bf8e6f145f/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.898Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","jobId":"774d469f-9b8d-478f-ae45-5bf4694818e6","generationRunId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/aa5a60fe-87e8-496e-aa52-d0bf8e6f145f/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/aa5a60fe-87e8-496e-aa52-d0bf8e6f145f/enhanced_modern.pdf","session":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.899Z","level":"info","message":"pdf_generation_attempt","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","jobId":"774d469f-9b8d-478f-ae45-5bf4694818e6","generationRunId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/aa5a60fe-87e8-496e-aa52-d0bf8e6f145f/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/aa5a60fe-87e8-496e-aa52-d0bf8e6f145f/enhanced_professional.pdf","session":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.899Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","jobId":"774d469f-9b8d-478f-ae45-5bf4694818e6","generationRunId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/aa5a60fe-87e8-496e-aa52-d0bf8e6f145f/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.900Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","jobId":"774d469f-9b8d-478f-ae45-5bf4694818e6","generationRunId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/aa5a60fe-87e8-496e-aa52-d0bf8e6f145f/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/aa5a60fe-87e8-496e-aa52-d0bf8e6f145f/enhanced_professional.pdf","session":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.900Z","level":"info","message":"pdf_generation_attempt","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","jobId":"774d469f-9b8d-478f-ae45-5bf4694818e6","generationRunId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/aa5a60fe-87e8-496e-aa52-d0bf8e6f145f/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/aa5a60fe-87e8-496e-aa52-d0bf8e6f145f/cover_letter_cover_modern.pdf","session":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.901Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","jobId":"774d469f-9b8d-478f-ae45-5bf4694818e6","generationRunId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/aa5a60fe-87e8-496e-aa52-d0bf8e6f145f/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.901Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","jobId":"774d469f-9b8d-478f-ae45-5bf4694818e6","generationRunId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/aa5a60fe-87e8-496e-aa52-d0bf8e6f145f/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/aa5a60fe-87e8-496e-aa52-d0bf8e6f145f/cover_letter_cover_modern.pdf","session":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.902Z","level":"info","message":"pdf_generation_attempt","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","jobId":"774d469f-9b8d-478f-ae45-5bf4694818e6","generationRunId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/aa5a60fe-87e8-496e-aa52-d0bf8e6f145f/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/aa5a60fe-87e8-496e-aa52-d0bf8e6f145f/cover_letter_cover_professional.pdf","session":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.902Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","jobId":"774d469f-9b8d-478f-ae45-5bf4694818e6","generationRunId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/aa5a60fe-87e8-496e-aa52-d0bf8e6f145f/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.903Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","jobId":"774d469f-9b8d-478f-ae45-5bf4694818e6","generationRunId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/aa5a60fe-87e8-496e-aa52-d0bf8e6f145f/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/aa5a60fe-87e8-496e-aa52-d0bf8e6f145f/cover_letter_cover_professional.pdf","session":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.905Z","level":"info","message":"llm_call_metrics","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.906Z","level":"info","message":"generation_completed","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","jobId":"774d469f-9b8d-478f-ae45-5bf4694818e6","generationRunId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","enhancedScore":80,"outputs":5,"template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.907Z","level":"info","message":"placeholder_record_deleted","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","jobId":"774d469f-9b8d-478f-ae45-5bf4694818e6","placeholderIdentifier":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"774d469f-9b8d-478f-ae45-5bf4694818e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.908Z","level":"info","message":"http_request_completed","requestId":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":62,"contentLength":"57968","template":"unknown","session":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aa5a60fe-87e8-496e-aa52-d0bf8e6f145f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.911Z","level":"info","message":"http_request_received","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","method":"POST","path":"/api/process-cv","template":"unknown","session":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.912Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.914Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.915Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.917Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.918Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82/incoming/original.pdf","chunks":1,"timestamp":1764857022921}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:03:42.922Z","level":"info","message":"process_cv_started","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","jobId":"6325b111-a648-4728-b787-e4f12a05db32","manualJobDescriptionProvided":true,"template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.923Z","level":"info","message":"template_selection","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","jobId":"6325b111-a648-4728-b787-e4f12a05db32","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:42.923Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","jobId":"6325b111-a648-4728-b787-e4f12a05db32","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25147:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:03:42.930Z","level":"info","message":"initial_upload_completed","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","jobId":"6325b111-a648-4728-b787-e4f12a05db32","bucket":"test-bucket","key":"cv/candidate/13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82/incoming/original.pdf","template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.931Z","level":"info","message":"resume_text_extracted","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","jobId":"6325b111-a648-4728-b787-e4f12a05db32","characters":57,"template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.931Z","level":"info","message":"resume_classified","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","jobId":"6325b111-a648-4728-b787-e4f12a05db32","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.931Z","level":"info","message":"raw_upload_relocated","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","jobId":"6325b111-a648-4728-b787-e4f12a05db32","bucket":"test-bucket","fromKey":"cv/candidate/13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82/incoming/original.pdf","toKey":"cv/professional_summary/13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82/original.pdf","template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.932Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","jobId":"6325b111-a648-4728-b787-e4f12a05db32","bucket":"test-bucket","key":"cv/professional_summary/13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82/original.pdf","template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.932Z","level":"info","message":"dynamo_initial_record_written","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","jobId":"6325b111-a648-4728-b787-e4f12a05db32","bucket":"test-bucket","key":"cv/professional_summary/13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82/original.pdf","template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.932Z","level":"info","message":"upload_metadata_written","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","jobId":"6325b111-a648-4728-b787-e4f12a05db32","bucket":"test-bucket","key":"cv/professional_summary/13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82/logs/log.json","template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.933Z","level":"info","message":"job_description_supplied_manually","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","jobId":"6325b111-a648-4728-b787-e4f12a05db32","characters":174,"template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.933Z","level":"info","message":"job_description_analyzed","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","jobId":"6325b111-a648-4728-b787-e4f12a05db32","jobTitle":"","jobSkills":5,"template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.934Z","level":"info","message":"resume_skills_analyzed","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","jobId":"6325b111-a648-4728-b787-e4f12a05db32","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.934Z","level":"info","message":"llm_call_metrics","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.935Z","level":"info","message":"process_cv_scoring_completed","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","jobId":"6325b111-a648-4728-b787-e4f12a05db32","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.937Z","level":"info","message":"llm_call_metrics","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"c32b748981f4e178814e257598e9097dabf82d48f753e111da0149a2ea5fd9aa","addedSkillCount":0,"template":"resume_rewrite","session":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.938Z","level":"info","message":"generation_section_rewrite_completed","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","jobId":"6325b111-a648-4728-b787-e4f12a05db32","generationRunId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","modifiedTitle":"Name","addedSkills":0,"template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.938Z","level":"info","message":"llm_call_metrics","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"78ddb280a2cb83c23c85b1035eed8b3d5fbcd26529ae4529d14b4e3768cf61d3","skillCount":5,"template":"project_summary","session":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.942Z","level":"info","message":"generation_resume_verified","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","jobId":"6325b111-a648-4728-b787-e4f12a05db32","generationRunId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:42.946Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","jobId":"6325b111-a648-4728-b787-e4f12a05db32","generationRunId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20550:7)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:42.953Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","jobId":"6325b111-a648-4728-b787-e4f12a05db32","generationRunId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20739:7)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:42.959Z","level":"info","message":"generation_cover_letters_completed","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","jobId":"6325b111-a648-4728-b787-e4f12a05db32","generationRunId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","variants":2,"fallbackApplied":true,"template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.960Z","level":"info","message":"pdf_generation_attempt","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","jobId":"6325b111-a648-4728-b787-e4f12a05db32","generationRunId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82/enhanced_modern.pdf","session":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.960Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","jobId":"6325b111-a648-4728-b787-e4f12a05db32","generationRunId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.961Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","jobId":"6325b111-a648-4728-b787-e4f12a05db32","generationRunId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82/enhanced_modern.pdf","session":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.961Z","level":"info","message":"pdf_generation_attempt","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","jobId":"6325b111-a648-4728-b787-e4f12a05db32","generationRunId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82/enhanced_professional.pdf","session":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.962Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","jobId":"6325b111-a648-4728-b787-e4f12a05db32","generationRunId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.962Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","jobId":"6325b111-a648-4728-b787-e4f12a05db32","generationRunId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82/enhanced_professional.pdf","session":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.963Z","level":"info","message":"pdf_generation_attempt","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","jobId":"6325b111-a648-4728-b787-e4f12a05db32","generationRunId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82/cover_letter_cover_modern.pdf","session":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.963Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","jobId":"6325b111-a648-4728-b787-e4f12a05db32","generationRunId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.964Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","jobId":"6325b111-a648-4728-b787-e4f12a05db32","generationRunId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82/cover_letter_cover_modern.pdf","session":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.964Z","level":"info","message":"pdf_generation_attempt","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","jobId":"6325b111-a648-4728-b787-e4f12a05db32","generationRunId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82/cover_letter_cover_professional.pdf","session":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.965Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","jobId":"6325b111-a648-4728-b787-e4f12a05db32","generationRunId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.965Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","jobId":"6325b111-a648-4728-b787-e4f12a05db32","generationRunId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82/cover_letter_cover_professional.pdf","session":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.968Z","level":"info","message":"llm_call_metrics","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"f00232cc4d88fb824e148aeaa761067d77604cbc2577582275a91ed208cbe5af","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.968Z","level":"info","message":"generation_completed","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","jobId":"6325b111-a648-4728-b787-e4f12a05db32","generationRunId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","enhancedScore":80,"outputs":5,"template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.971Z","level":"info","message":"placeholder_record_deleted","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","jobId":"6325b111-a648-4728-b787-e4f12a05db32","placeholderIdentifier":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6325b111-a648-4728-b787-e4f12a05db32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.972Z","level":"info","message":"http_request_completed","requestId":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":61,"contentLength":"59302","template":"unknown","session":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"13fc43a8-fb3b-4462-ac3c-2a6ea3e51c82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.975Z","level":"info","message":"http_request_received","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","method":"POST","path":"/api/process-cv","template":"unknown","session":"acbe61b0-27d6-4276-b5d6-2c54de288f45","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"acbe61b0-27d6-4276-b5d6-2c54de288f45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.976Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.978Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.979Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.981Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.983Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/acbe61b0-27d6-4276-b5d6-2c54de288f45/incoming/original.pdf","chunks":1,"timestamp":1764857022987}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/acbe61b0-27d6-4276-b5d6-2c54de288f45/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/acbe61b0-27d6-4276-b5d6-2c54de288f45/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:03:42.989Z","level":"info","message":"process_cv_started","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","jobId":"8c1e36df-6943-4b0e-8814-28cb892691c2","manualJobDescriptionProvided":true,"template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:42.990Z","level":"info","message":"template_selection","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","jobId":"8c1e36df-6943-4b0e-8814-28cb892691c2","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:42.991Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","jobId":"8c1e36df-6943-4b0e-8814-28cb892691c2","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25147:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:03:43.002Z","level":"info","message":"initial_upload_completed","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","jobId":"8c1e36df-6943-4b0e-8814-28cb892691c2","bucket":"test-bucket","key":"cv/candidate/acbe61b0-27d6-4276-b5d6-2c54de288f45/incoming/original.pdf","template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.003Z","level":"info","message":"resume_text_extracted","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","jobId":"8c1e36df-6943-4b0e-8814-28cb892691c2","characters":57,"template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.004Z","level":"info","message":"resume_classified","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","jobId":"8c1e36df-6943-4b0e-8814-28cb892691c2","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.005Z","level":"info","message":"raw_upload_relocated","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","jobId":"8c1e36df-6943-4b0e-8814-28cb892691c2","bucket":"test-bucket","fromKey":"cv/candidate/acbe61b0-27d6-4276-b5d6-2c54de288f45/incoming/original.pdf","toKey":"cv/professional_summary/acbe61b0-27d6-4276-b5d6-2c54de288f45/original.pdf","template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.005Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","jobId":"8c1e36df-6943-4b0e-8814-28cb892691c2","bucket":"test-bucket","key":"cv/professional_summary/acbe61b0-27d6-4276-b5d6-2c54de288f45/original.pdf","template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.006Z","level":"info","message":"dynamo_initial_record_written","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","jobId":"8c1e36df-6943-4b0e-8814-28cb892691c2","bucket":"test-bucket","key":"cv/professional_summary/acbe61b0-27d6-4276-b5d6-2c54de288f45/original.pdf","template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.006Z","level":"info","message":"upload_metadata_written","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","jobId":"8c1e36df-6943-4b0e-8814-28cb892691c2","bucket":"test-bucket","key":"cv/professional_summary/acbe61b0-27d6-4276-b5d6-2c54de288f45/logs/log.json","template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.007Z","level":"info","message":"job_description_supplied_manually","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","jobId":"8c1e36df-6943-4b0e-8814-28cb892691c2","characters":174,"template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.008Z","level":"info","message":"job_description_analyzed","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","jobId":"8c1e36df-6943-4b0e-8814-28cb892691c2","jobTitle":"","jobSkills":5,"template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.008Z","level":"info","message":"resume_skills_analyzed","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","jobId":"8c1e36df-6943-4b0e-8814-28cb892691c2","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.009Z","level":"info","message":"llm_call_metrics","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"acbe61b0-27d6-4276-b5d6-2c54de288f45","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"acbe61b0-27d6-4276-b5d6-2c54de288f45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.010Z","level":"info","message":"process_cv_scoring_completed","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","jobId":"8c1e36df-6943-4b0e-8814-28cb892691c2","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.015Z","level":"info","message":"llm_call_metrics","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"c32b748981f4e178814e257598e9097dabf82d48f753e111da0149a2ea5fd9aa","addedSkillCount":0,"template":"resume_rewrite","session":"acbe61b0-27d6-4276-b5d6-2c54de288f45","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"acbe61b0-27d6-4276-b5d6-2c54de288f45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.016Z","level":"info","message":"generation_section_rewrite_completed","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","jobId":"8c1e36df-6943-4b0e-8814-28cb892691c2","generationRunId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","modifiedTitle":"Name","addedSkills":0,"template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.017Z","level":"info","message":"llm_call_metrics","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"968eb1ed4b9ef5f26cd87ba7e60f108acaf8c335efc2ef153d4aaa0b022ea8c8","skillCount":5,"template":"project_summary","session":"acbe61b0-27d6-4276-b5d6-2c54de288f45","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"acbe61b0-27d6-4276-b5d6-2c54de288f45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.022Z","level":"info","message":"generation_resume_verified","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","jobId":"8c1e36df-6943-4b0e-8814-28cb892691c2","generationRunId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:43.027Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","jobId":"8c1e36df-6943-4b0e-8814-28cb892691c2","generationRunId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20550:7)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:43.036Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","jobId":"8c1e36df-6943-4b0e-8814-28cb892691c2","generationRunId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20739:7)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:43.043Z","level":"info","message":"generation_cover_letters_completed","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","jobId":"8c1e36df-6943-4b0e-8814-28cb892691c2","generationRunId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","variants":2,"fallbackApplied":true,"template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.044Z","level":"info","message":"pdf_generation_attempt","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","jobId":"8c1e36df-6943-4b0e-8814-28cb892691c2","generationRunId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/acbe61b0-27d6-4276-b5d6-2c54de288f45/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/acbe61b0-27d6-4276-b5d6-2c54de288f45/enhanced_modern.pdf","session":"acbe61b0-27d6-4276-b5d6-2c54de288f45","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"acbe61b0-27d6-4276-b5d6-2c54de288f45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.045Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","jobId":"8c1e36df-6943-4b0e-8814-28cb892691c2","generationRunId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/acbe61b0-27d6-4276-b5d6-2c54de288f45/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"acbe61b0-27d6-4276-b5d6-2c54de288f45","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"acbe61b0-27d6-4276-b5d6-2c54de288f45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.046Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","jobId":"8c1e36df-6943-4b0e-8814-28cb892691c2","generationRunId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/acbe61b0-27d6-4276-b5d6-2c54de288f45/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/acbe61b0-27d6-4276-b5d6-2c54de288f45/enhanced_modern.pdf","session":"acbe61b0-27d6-4276-b5d6-2c54de288f45","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"acbe61b0-27d6-4276-b5d6-2c54de288f45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.047Z","level":"info","message":"pdf_generation_attempt","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","jobId":"8c1e36df-6943-4b0e-8814-28cb892691c2","generationRunId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/acbe61b0-27d6-4276-b5d6-2c54de288f45/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/acbe61b0-27d6-4276-b5d6-2c54de288f45/enhanced_professional.pdf","session":"acbe61b0-27d6-4276-b5d6-2c54de288f45","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"acbe61b0-27d6-4276-b5d6-2c54de288f45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.048Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","jobId":"8c1e36df-6943-4b0e-8814-28cb892691c2","generationRunId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/acbe61b0-27d6-4276-b5d6-2c54de288f45/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"acbe61b0-27d6-4276-b5d6-2c54de288f45","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"acbe61b0-27d6-4276-b5d6-2c54de288f45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.049Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","jobId":"8c1e36df-6943-4b0e-8814-28cb892691c2","generationRunId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/acbe61b0-27d6-4276-b5d6-2c54de288f45/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/acbe61b0-27d6-4276-b5d6-2c54de288f45/enhanced_professional.pdf","session":"acbe61b0-27d6-4276-b5d6-2c54de288f45","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"acbe61b0-27d6-4276-b5d6-2c54de288f45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.050Z","level":"info","message":"pdf_generation_attempt","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","jobId":"8c1e36df-6943-4b0e-8814-28cb892691c2","generationRunId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/acbe61b0-27d6-4276-b5d6-2c54de288f45/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/acbe61b0-27d6-4276-b5d6-2c54de288f45/cover_letter_cover_modern.pdf","session":"acbe61b0-27d6-4276-b5d6-2c54de288f45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"acbe61b0-27d6-4276-b5d6-2c54de288f45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.051Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","jobId":"8c1e36df-6943-4b0e-8814-28cb892691c2","generationRunId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/acbe61b0-27d6-4276-b5d6-2c54de288f45/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"acbe61b0-27d6-4276-b5d6-2c54de288f45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"acbe61b0-27d6-4276-b5d6-2c54de288f45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.052Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","jobId":"8c1e36df-6943-4b0e-8814-28cb892691c2","generationRunId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/acbe61b0-27d6-4276-b5d6-2c54de288f45/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/acbe61b0-27d6-4276-b5d6-2c54de288f45/cover_letter_cover_modern.pdf","session":"acbe61b0-27d6-4276-b5d6-2c54de288f45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"acbe61b0-27d6-4276-b5d6-2c54de288f45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.053Z","level":"info","message":"pdf_generation_attempt","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","jobId":"8c1e36df-6943-4b0e-8814-28cb892691c2","generationRunId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/acbe61b0-27d6-4276-b5d6-2c54de288f45/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/acbe61b0-27d6-4276-b5d6-2c54de288f45/cover_letter_cover_professional.pdf","session":"acbe61b0-27d6-4276-b5d6-2c54de288f45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"acbe61b0-27d6-4276-b5d6-2c54de288f45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.053Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","jobId":"8c1e36df-6943-4b0e-8814-28cb892691c2","generationRunId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/acbe61b0-27d6-4276-b5d6-2c54de288f45/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"acbe61b0-27d6-4276-b5d6-2c54de288f45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"acbe61b0-27d6-4276-b5d6-2c54de288f45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.054Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","jobId":"8c1e36df-6943-4b0e-8814-28cb892691c2","generationRunId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/acbe61b0-27d6-4276-b5d6-2c54de288f45/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/acbe61b0-27d6-4276-b5d6-2c54de288f45/cover_letter_cover_professional.pdf","session":"acbe61b0-27d6-4276-b5d6-2c54de288f45","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"acbe61b0-27d6-4276-b5d6-2c54de288f45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.058Z","level":"info","message":"llm_call_metrics","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"f00232cc4d88fb824e148aeaa761067d77604cbc2577582275a91ed208cbe5af","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"acbe61b0-27d6-4276-b5d6-2c54de288f45","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"acbe61b0-27d6-4276-b5d6-2c54de288f45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.059Z","level":"info","message":"generation_completed","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","jobId":"8c1e36df-6943-4b0e-8814-28cb892691c2","generationRunId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","enhancedScore":80,"outputs":5,"template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.060Z","level":"info","message":"placeholder_record_deleted","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","jobId":"8c1e36df-6943-4b0e-8814-28cb892691c2","placeholderIdentifier":"acbe61b0-27d6-4276-b5d6-2c54de288f45","template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8c1e36df-6943-4b0e-8814-28cb892691c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.062Z","level":"info","message":"http_request_completed","requestId":"acbe61b0-27d6-4276-b5d6-2c54de288f45","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":87,"contentLength":"59835","template":"unknown","session":"acbe61b0-27d6-4276-b5d6-2c54de288f45","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"acbe61b0-27d6-4276-b5d6-2c54de288f45","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.071Z","level":"info","message":"http_request_received","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","method":"POST","path":"/api/process-cv","template":"unknown","session":"12d6bd18-192c-4d48-a26e-77c7637f3e14","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"12d6bd18-192c-4d48-a26e-77c7637f3e14","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.073Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.075Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.078Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.080Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.084Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/12d6bd18-192c-4d48-a26e-77c7637f3e14/incoming/original.pdf","chunks":1,"timestamp":1764857023087}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/12d6bd18-192c-4d48-a26e-77c7637f3e14/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/12d6bd18-192c-4d48-a26e-77c7637f3e14/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:03:43.090Z","level":"info","message":"process_cv_started","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","jobId":"62039657-b456-47e4-b764-ad731eee15a6","manualJobDescriptionProvided":true,"template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.091Z","level":"info","message":"template_selection","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","jobId":"62039657-b456-47e4-b764-ad731eee15a6","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:43.093Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","jobId":"62039657-b456-47e4-b764-ad731eee15a6","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25147:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:03:43.102Z","level":"info","message":"initial_upload_completed","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","jobId":"62039657-b456-47e4-b764-ad731eee15a6","bucket":"test-bucket","key":"cv/candidate/12d6bd18-192c-4d48-a26e-77c7637f3e14/incoming/original.pdf","template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.103Z","level":"info","message":"resume_text_extracted","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","jobId":"62039657-b456-47e4-b764-ad731eee15a6","characters":57,"template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.103Z","level":"info","message":"resume_classified","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","jobId":"62039657-b456-47e4-b764-ad731eee15a6","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.104Z","level":"info","message":"raw_upload_relocated","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","jobId":"62039657-b456-47e4-b764-ad731eee15a6","bucket":"test-bucket","fromKey":"cv/candidate/12d6bd18-192c-4d48-a26e-77c7637f3e14/incoming/original.pdf","toKey":"cv/professional_summary/12d6bd18-192c-4d48-a26e-77c7637f3e14/original.pdf","template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.105Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","jobId":"62039657-b456-47e4-b764-ad731eee15a6","bucket":"test-bucket","key":"cv/professional_summary/12d6bd18-192c-4d48-a26e-77c7637f3e14/original.pdf","template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.106Z","level":"info","message":"dynamo_initial_record_written","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","jobId":"62039657-b456-47e4-b764-ad731eee15a6","bucket":"test-bucket","key":"cv/professional_summary/12d6bd18-192c-4d48-a26e-77c7637f3e14/original.pdf","template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.106Z","level":"info","message":"upload_metadata_written","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","jobId":"62039657-b456-47e4-b764-ad731eee15a6","bucket":"test-bucket","key":"cv/professional_summary/12d6bd18-192c-4d48-a26e-77c7637f3e14/logs/log.json","template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.107Z","level":"info","message":"job_description_supplied_manually","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","jobId":"62039657-b456-47e4-b764-ad731eee15a6","characters":174,"template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.108Z","level":"info","message":"job_description_analyzed","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","jobId":"62039657-b456-47e4-b764-ad731eee15a6","jobTitle":"","jobSkills":5,"template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.109Z","level":"info","message":"resume_skills_analyzed","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","jobId":"62039657-b456-47e4-b764-ad731eee15a6","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.110Z","level":"info","message":"llm_call_metrics","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"12d6bd18-192c-4d48-a26e-77c7637f3e14","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"12d6bd18-192c-4d48-a26e-77c7637f3e14","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.111Z","level":"info","message":"process_cv_scoring_completed","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","jobId":"62039657-b456-47e4-b764-ad731eee15a6","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.115Z","level":"info","message":"llm_call_metrics","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"12d6bd18-192c-4d48-a26e-77c7637f3e14","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"12d6bd18-192c-4d48-a26e-77c7637f3e14","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.116Z","level":"info","message":"generation_section_rewrite_completed","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","jobId":"62039657-b456-47e4-b764-ad731eee15a6","generationRunId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.117Z","level":"info","message":"llm_call_metrics","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"12d6bd18-192c-4d48-a26e-77c7637f3e14","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"12d6bd18-192c-4d48-a26e-77c7637f3e14","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.121Z","level":"info","message":"generation_resume_verified","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","jobId":"62039657-b456-47e4-b764-ad731eee15a6","generationRunId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:43.126Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","jobId":"62039657-b456-47e4-b764-ad731eee15a6","generationRunId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20550:7)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:43.137Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","jobId":"62039657-b456-47e4-b764-ad731eee15a6","generationRunId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20739:7)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:43.147Z","level":"info","message":"generation_cover_letters_completed","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","jobId":"62039657-b456-47e4-b764-ad731eee15a6","generationRunId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","variants":2,"fallbackApplied":true,"template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.148Z","level":"info","message":"pdf_generation_attempt","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","jobId":"62039657-b456-47e4-b764-ad731eee15a6","generationRunId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/12d6bd18-192c-4d48-a26e-77c7637f3e14/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/12d6bd18-192c-4d48-a26e-77c7637f3e14/enhanced_modern.pdf","session":"12d6bd18-192c-4d48-a26e-77c7637f3e14","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"12d6bd18-192c-4d48-a26e-77c7637f3e14","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.149Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","jobId":"62039657-b456-47e4-b764-ad731eee15a6","generationRunId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/12d6bd18-192c-4d48-a26e-77c7637f3e14/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"12d6bd18-192c-4d48-a26e-77c7637f3e14","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"12d6bd18-192c-4d48-a26e-77c7637f3e14","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.151Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","jobId":"62039657-b456-47e4-b764-ad731eee15a6","generationRunId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/12d6bd18-192c-4d48-a26e-77c7637f3e14/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/12d6bd18-192c-4d48-a26e-77c7637f3e14/enhanced_modern.pdf","session":"12d6bd18-192c-4d48-a26e-77c7637f3e14","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"12d6bd18-192c-4d48-a26e-77c7637f3e14","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.153Z","level":"info","message":"pdf_generation_attempt","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","jobId":"62039657-b456-47e4-b764-ad731eee15a6","generationRunId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/12d6bd18-192c-4d48-a26e-77c7637f3e14/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/12d6bd18-192c-4d48-a26e-77c7637f3e14/enhanced_professional.pdf","session":"12d6bd18-192c-4d48-a26e-77c7637f3e14","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"12d6bd18-192c-4d48-a26e-77c7637f3e14","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.153Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","jobId":"62039657-b456-47e4-b764-ad731eee15a6","generationRunId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/12d6bd18-192c-4d48-a26e-77c7637f3e14/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"12d6bd18-192c-4d48-a26e-77c7637f3e14","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"12d6bd18-192c-4d48-a26e-77c7637f3e14","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.156Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","jobId":"62039657-b456-47e4-b764-ad731eee15a6","generationRunId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/12d6bd18-192c-4d48-a26e-77c7637f3e14/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/12d6bd18-192c-4d48-a26e-77c7637f3e14/enhanced_professional.pdf","session":"12d6bd18-192c-4d48-a26e-77c7637f3e14","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"12d6bd18-192c-4d48-a26e-77c7637f3e14","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.157Z","level":"info","message":"pdf_generation_attempt","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","jobId":"62039657-b456-47e4-b764-ad731eee15a6","generationRunId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/12d6bd18-192c-4d48-a26e-77c7637f3e14/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/12d6bd18-192c-4d48-a26e-77c7637f3e14/cover_letter_cover_modern.pdf","session":"12d6bd18-192c-4d48-a26e-77c7637f3e14","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"12d6bd18-192c-4d48-a26e-77c7637f3e14","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.158Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","jobId":"62039657-b456-47e4-b764-ad731eee15a6","generationRunId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/12d6bd18-192c-4d48-a26e-77c7637f3e14/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"12d6bd18-192c-4d48-a26e-77c7637f3e14","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"12d6bd18-192c-4d48-a26e-77c7637f3e14","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.159Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","jobId":"62039657-b456-47e4-b764-ad731eee15a6","generationRunId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/12d6bd18-192c-4d48-a26e-77c7637f3e14/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/12d6bd18-192c-4d48-a26e-77c7637f3e14/cover_letter_cover_modern.pdf","session":"12d6bd18-192c-4d48-a26e-77c7637f3e14","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"12d6bd18-192c-4d48-a26e-77c7637f3e14","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.160Z","level":"info","message":"pdf_generation_attempt","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","jobId":"62039657-b456-47e4-b764-ad731eee15a6","generationRunId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/12d6bd18-192c-4d48-a26e-77c7637f3e14/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/12d6bd18-192c-4d48-a26e-77c7637f3e14/cover_letter_cover_professional.pdf","session":"12d6bd18-192c-4d48-a26e-77c7637f3e14","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"12d6bd18-192c-4d48-a26e-77c7637f3e14","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.161Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","jobId":"62039657-b456-47e4-b764-ad731eee15a6","generationRunId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/12d6bd18-192c-4d48-a26e-77c7637f3e14/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"12d6bd18-192c-4d48-a26e-77c7637f3e14","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"12d6bd18-192c-4d48-a26e-77c7637f3e14","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.162Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","jobId":"62039657-b456-47e4-b764-ad731eee15a6","generationRunId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/12d6bd18-192c-4d48-a26e-77c7637f3e14/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/12d6bd18-192c-4d48-a26e-77c7637f3e14/cover_letter_cover_professional.pdf","session":"12d6bd18-192c-4d48-a26e-77c7637f3e14","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"12d6bd18-192c-4d48-a26e-77c7637f3e14","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.166Z","level":"info","message":"llm_call_metrics","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"12d6bd18-192c-4d48-a26e-77c7637f3e14","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"12d6bd18-192c-4d48-a26e-77c7637f3e14","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.167Z","level":"info","message":"generation_completed","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","jobId":"62039657-b456-47e4-b764-ad731eee15a6","generationRunId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","enhancedScore":80,"outputs":5,"template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.169Z","level":"info","message":"placeholder_record_deleted","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","jobId":"62039657-b456-47e4-b764-ad731eee15a6","placeholderIdentifier":"12d6bd18-192c-4d48-a26e-77c7637f3e14","template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62039657-b456-47e4-b764-ad731eee15a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.172Z","level":"info","message":"http_request_completed","requestId":"12d6bd18-192c-4d48-a26e-77c7637f3e14","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":101,"contentLength":"58133","template":"unknown","session":"12d6bd18-192c-4d48-a26e-77c7637f3e14","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"12d6bd18-192c-4d48-a26e-77c7637f3e14","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.179Z","level":"info","message":"http_request_received","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","method":"POST","path":"/api/process-cv","template":"unknown","session":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.181Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.183Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.185Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.188Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.193Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/d5325f3d-f570-4aba-ba99-66f28e3cb2ba/incoming/original.pdf","chunks":1,"timestamp":1764857023197}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/d5325f3d-f570-4aba-ba99-66f28e3cb2ba/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/d5325f3d-f570-4aba-ba99-66f28e3cb2ba/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:03:43.199Z","level":"info","message":"process_cv_started","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","jobId":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","manualJobDescriptionProvided":true,"template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.199Z","level":"info","message":"template_selection","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","jobId":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:43.200Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","jobId":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25147:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:03:43.210Z","level":"info","message":"initial_upload_completed","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","jobId":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","bucket":"test-bucket","key":"cv/candidate/d5325f3d-f570-4aba-ba99-66f28e3cb2ba/incoming/original.pdf","template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.211Z","level":"info","message":"resume_text_extracted","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","jobId":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","characters":57,"template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.212Z","level":"info","message":"resume_classified","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","jobId":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.212Z","level":"info","message":"raw_upload_relocated","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","jobId":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","bucket":"test-bucket","fromKey":"cv/candidate/d5325f3d-f570-4aba-ba99-66f28e3cb2ba/incoming/original.pdf","toKey":"cv/professional_summary/d5325f3d-f570-4aba-ba99-66f28e3cb2ba/original.pdf","template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.213Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","jobId":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","bucket":"test-bucket","key":"cv/professional_summary/d5325f3d-f570-4aba-ba99-66f28e3cb2ba/original.pdf","template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.214Z","level":"info","message":"dynamo_initial_record_written","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","jobId":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","bucket":"test-bucket","key":"cv/professional_summary/d5325f3d-f570-4aba-ba99-66f28e3cb2ba/original.pdf","template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.214Z","level":"info","message":"upload_metadata_written","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","jobId":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","bucket":"test-bucket","key":"cv/professional_summary/d5325f3d-f570-4aba-ba99-66f28e3cb2ba/logs/log.json","template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.215Z","level":"info","message":"job_description_supplied_manually","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","jobId":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","characters":174,"template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.216Z","level":"info","message":"job_description_analyzed","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","jobId":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","jobTitle":"","jobSkills":5,"template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.217Z","level":"info","message":"resume_skills_analyzed","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","jobId":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.218Z","level":"info","message":"llm_call_metrics","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.219Z","level":"info","message":"process_cv_scoring_completed","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","jobId":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.224Z","level":"info","message":"llm_call_metrics","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"9a6d2d1a9ce924151b6a4db0f761d85550b399b0c2990ac5bc2d2ac9b952bd0d","addedSkillCount":0,"template":"resume_rewrite","session":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.225Z","level":"info","message":"generation_section_rewrite_completed","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","jobId":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","generationRunId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","modifiedTitle":"Lead Engineer","addedSkills":0,"template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.230Z","level":"info","message":"generation_resume_verified","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","jobId":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","generationRunId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.235Z","level":"info","message":"generation_cover_letters_normalized","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","jobId":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","generationRunId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","variants":["cover_letter1","cover_letter2"],"template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:43.237Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","jobId":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","generationRunId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing"]}],"template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20550:7)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:43.245Z","level":"info","message":"generation_cover_letters_confident_closing_applied","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","jobId":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","generationRunId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","variants":["cover_letter1"],"template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.246Z","level":"info","message":"generation_cover_letters_completed","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","jobId":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","generationRunId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","variants":2,"fallbackApplied":true,"template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.247Z","level":"info","message":"pdf_generation_attempt","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","jobId":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","generationRunId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d5325f3d-f570-4aba-ba99-66f28e3cb2ba/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/d5325f3d-f570-4aba-ba99-66f28e3cb2ba/enhanced_modern.pdf","session":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.248Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","jobId":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","generationRunId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d5325f3d-f570-4aba-ba99-66f28e3cb2ba/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.249Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","jobId":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","generationRunId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d5325f3d-f570-4aba-ba99-66f28e3cb2ba/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/d5325f3d-f570-4aba-ba99-66f28e3cb2ba/enhanced_modern.pdf","session":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.250Z","level":"info","message":"pdf_generation_attempt","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","jobId":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","generationRunId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d5325f3d-f570-4aba-ba99-66f28e3cb2ba/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/d5325f3d-f570-4aba-ba99-66f28e3cb2ba/enhanced_professional.pdf","session":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.251Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","jobId":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","generationRunId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d5325f3d-f570-4aba-ba99-66f28e3cb2ba/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.252Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","jobId":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","generationRunId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d5325f3d-f570-4aba-ba99-66f28e3cb2ba/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/d5325f3d-f570-4aba-ba99-66f28e3cb2ba/enhanced_professional.pdf","session":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.253Z","level":"info","message":"pdf_generation_attempt","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","jobId":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","generationRunId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d5325f3d-f570-4aba-ba99-66f28e3cb2ba/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/d5325f3d-f570-4aba-ba99-66f28e3cb2ba/cover_letter_cover_modern.pdf","session":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.254Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","jobId":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","generationRunId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d5325f3d-f570-4aba-ba99-66f28e3cb2ba/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.255Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","jobId":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","generationRunId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d5325f3d-f570-4aba-ba99-66f28e3cb2ba/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/d5325f3d-f570-4aba-ba99-66f28e3cb2ba/cover_letter_cover_modern.pdf","session":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.256Z","level":"info","message":"pdf_generation_attempt","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","jobId":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","generationRunId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d5325f3d-f570-4aba-ba99-66f28e3cb2ba/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/d5325f3d-f570-4aba-ba99-66f28e3cb2ba/cover_letter_cover_professional.pdf","session":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.257Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","jobId":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","generationRunId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d5325f3d-f570-4aba-ba99-66f28e3cb2ba/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.258Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","jobId":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","generationRunId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d5325f3d-f570-4aba-ba99-66f28e3cb2ba/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/d5325f3d-f570-4aba-ba99-66f28e3cb2ba/cover_letter_cover_professional.pdf","session":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.261Z","level":"info","message":"llm_call_metrics","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"aebf306d7fe64238aa9b05fc3798c6e6698d8708e05d8dd31d0cadc8f2f74f38","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.262Z","level":"info","message":"generation_completed","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","jobId":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","generationRunId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","enhancedScore":80,"outputs":5,"template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.264Z","level":"info","message":"placeholder_record_deleted","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","jobId":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","placeholderIdentifier":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a64f228f-d4aa-4cc4-98c7-a24034f8e977","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.266Z","level":"info","message":"http_request_completed","requestId":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":87,"contentLength":"46262","template":"unknown","session":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d5325f3d-f570-4aba-ba99-66f28e3cb2ba","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.273Z","level":"info","message":"http_request_received","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","method":"POST","path":"/api/process-cv","template":"unknown","session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.275Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.279Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.281Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.287Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.291Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/9edf75e5-73ef-4e04-b804-017bb45def12/incoming/original.pdf","chunks":1,"timestamp":1764857023295}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/9edf75e5-73ef-4e04-b804-017bb45def12/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/9edf75e5-73ef-4e04-b804-017bb45def12/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:03:43.298Z","level":"info","message":"process_cv_started","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","jobId":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","manualJobDescriptionProvided":true,"template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.300Z","level":"info","message":"template_selection","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","jobId":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:43.301Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","jobId":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25147:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:03:43.312Z","level":"info","message":"initial_upload_completed","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","jobId":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","bucket":"test-bucket","key":"cv/candidate/9edf75e5-73ef-4e04-b804-017bb45def12/incoming/original.pdf","template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.314Z","level":"info","message":"resume_text_extracted","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","jobId":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","characters":57,"template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.315Z","level":"info","message":"resume_classified","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","jobId":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.316Z","level":"info","message":"raw_upload_relocated","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","jobId":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","bucket":"test-bucket","fromKey":"cv/candidate/9edf75e5-73ef-4e04-b804-017bb45def12/incoming/original.pdf","toKey":"cv/professional_summary/9edf75e5-73ef-4e04-b804-017bb45def12/original.pdf","template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.317Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","jobId":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","bucket":"test-bucket","key":"cv/professional_summary/9edf75e5-73ef-4e04-b804-017bb45def12/original.pdf","template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.317Z","level":"info","message":"dynamo_initial_record_written","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","jobId":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","bucket":"test-bucket","key":"cv/professional_summary/9edf75e5-73ef-4e04-b804-017bb45def12/original.pdf","template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.319Z","level":"info","message":"upload_metadata_written","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","jobId":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","bucket":"test-bucket","key":"cv/professional_summary/9edf75e5-73ef-4e04-b804-017bb45def12/logs/log.json","template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.320Z","level":"info","message":"job_description_supplied_manually","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","jobId":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","characters":174,"template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.321Z","level":"info","message":"job_description_analyzed","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","jobId":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","jobTitle":"","jobSkills":5,"template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.322Z","level":"info","message":"resume_skills_analyzed","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","jobId":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.324Z","level":"info","message":"llm_call_metrics","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.325Z","level":"info","message":"process_cv_scoring_completed","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","jobId":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:03:43.330Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","sample":"Here is your revised resume text without JSON formatting.","template":"unknown","session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at Object.error (server.js:3487:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8543:20)
      at generateEnhancedDocumentsResponse (server.js:20188:26)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:43.342Z","level":"info","message":"llm_call_metrics","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.343Z","level":"info","message":"llm_call_metrics","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.344Z","level":"info","message":"generation_section_rewrite_completed","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","jobId":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","generationRunId":"9edf75e5-73ef-4e04-b804-017bb45def12","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.345Z","level":"info","message":"llm_call_metrics","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"d230fd9d3c6f4e6f7bb7c385f22b3a147a5c937619c1919bfb6f5e09096df674","skillCount":5,"template":"project_summary","session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:43.357Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","jobId":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","generationRunId":"9edf75e5-73ef-4e04-b804-017bb45def12","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20550:7)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:43.373Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","jobId":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","generationRunId":"9edf75e5-73ef-4e04-b804-017bb45def12","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20739:7)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:43.386Z","level":"info","message":"generation_cover_letters_completed","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","jobId":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","generationRunId":"9edf75e5-73ef-4e04-b804-017bb45def12","variants":2,"fallbackApplied":true,"template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.389Z","level":"info","message":"pdf_generation_attempt","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","jobId":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","generationRunId":"9edf75e5-73ef-4e04-b804-017bb45def12","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9edf75e5-73ef-4e04-b804-017bb45def12/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/9edf75e5-73ef-4e04-b804-017bb45def12/enhanced_modern.pdf","session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.392Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","jobId":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","generationRunId":"9edf75e5-73ef-4e04-b804-017bb45def12","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9edf75e5-73ef-4e04-b804-017bb45def12/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.397Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","jobId":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","generationRunId":"9edf75e5-73ef-4e04-b804-017bb45def12","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9edf75e5-73ef-4e04-b804-017bb45def12/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/9edf75e5-73ef-4e04-b804-017bb45def12/enhanced_modern.pdf","session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.399Z","level":"info","message":"pdf_generation_attempt","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","jobId":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","generationRunId":"9edf75e5-73ef-4e04-b804-017bb45def12","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9edf75e5-73ef-4e04-b804-017bb45def12/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/9edf75e5-73ef-4e04-b804-017bb45def12/enhanced_professional.pdf","session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.401Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","jobId":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","generationRunId":"9edf75e5-73ef-4e04-b804-017bb45def12","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9edf75e5-73ef-4e04-b804-017bb45def12/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.403Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","jobId":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","generationRunId":"9edf75e5-73ef-4e04-b804-017bb45def12","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9edf75e5-73ef-4e04-b804-017bb45def12/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/9edf75e5-73ef-4e04-b804-017bb45def12/enhanced_professional.pdf","session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.405Z","level":"info","message":"pdf_generation_attempt","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","jobId":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","generationRunId":"9edf75e5-73ef-4e04-b804-017bb45def12","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9edf75e5-73ef-4e04-b804-017bb45def12/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/9edf75e5-73ef-4e04-b804-017bb45def12/cover_letter_cover_modern.pdf","session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.409Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","jobId":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","generationRunId":"9edf75e5-73ef-4e04-b804-017bb45def12","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9edf75e5-73ef-4e04-b804-017bb45def12/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.412Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","jobId":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","generationRunId":"9edf75e5-73ef-4e04-b804-017bb45def12","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9edf75e5-73ef-4e04-b804-017bb45def12/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/9edf75e5-73ef-4e04-b804-017bb45def12/cover_letter_cover_modern.pdf","session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.417Z","level":"info","message":"pdf_generation_attempt","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","jobId":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","generationRunId":"9edf75e5-73ef-4e04-b804-017bb45def12","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9edf75e5-73ef-4e04-b804-017bb45def12/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/9edf75e5-73ef-4e04-b804-017bb45def12/cover_letter_cover_professional.pdf","session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.418Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","jobId":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","generationRunId":"9edf75e5-73ef-4e04-b804-017bb45def12","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9edf75e5-73ef-4e04-b804-017bb45def12/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.420Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","jobId":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","generationRunId":"9edf75e5-73ef-4e04-b804-017bb45def12","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9edf75e5-73ef-4e04-b804-017bb45def12/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/9edf75e5-73ef-4e04-b804-017bb45def12/cover_letter_cover_professional.pdf","session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.426Z","level":"info","message":"llm_call_metrics","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.431Z","level":"info","message":"generation_completed","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","jobId":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","generationRunId":"9edf75e5-73ef-4e04-b804-017bb45def12","enhancedScore":80,"outputs":5,"template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.436Z","level":"info","message":"placeholder_record_deleted","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","jobId":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","placeholderIdentifier":"9edf75e5-73ef-4e04-b804-017bb45def12","template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9980d6c-b3e5-43ac-87cb-a282f8601e7d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.445Z","level":"info","message":"http_request_completed","requestId":"9edf75e5-73ef-4e04-b804-017bb45def12","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":172,"contentLength":"57871","template":"unknown","session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9edf75e5-73ef-4e04-b804-017bb45def12","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.463Z","level":"info","message":"http_request_received","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","method":"POST","path":"/api/process-cv","template":"unknown","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.467Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.471Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.476Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.490Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.494Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/incoming/original.pdf","chunks":1,"timestamp":1764857023502}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":3}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T14:03:43.506Z","level":"info","message":"process_cv_started","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","manualJobDescriptionProvided":true,"template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.508Z","level":"info","message":"template_selection","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:43.510Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25147:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:03:43.523Z","level":"info","message":"initial_upload_completed","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","bucket":"test-bucket","key":"cv/candidate/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/incoming/original.pdf","template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.526Z","level":"info","message":"resume_text_extracted","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","characters":57,"template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.527Z","level":"info","message":"resume_classified","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.530Z","level":"info","message":"raw_upload_relocated","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","bucket":"test-bucket","fromKey":"cv/candidate/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/incoming/original.pdf","toKey":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/original.pdf","template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.531Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","bucket":"test-bucket","key":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/original.pdf","template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.538Z","level":"info","message":"dynamo_initial_record_written","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","bucket":"test-bucket","key":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/original.pdf","template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.540Z","level":"info","message":"upload_metadata_written","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","bucket":"test-bucket","key":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/logs/log.json","template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.541Z","level":"info","message":"job_description_supplied_manually","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","characters":174,"template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.542Z","level":"info","message":"job_description_analyzed","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","jobTitle":"","jobSkills":5,"template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.545Z","level":"info","message":"resume_skills_analyzed","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.548Z","level":"info","message":"llm_call_metrics","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.551Z","level":"info","message":"process_cv_scoring_completed","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.561Z","level":"info","message":"llm_call_metrics","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.565Z","level":"info","message":"generation_section_rewrite_completed","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.568Z","level":"info","message":"llm_call_metrics","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.578Z","level":"info","message":"generation_resume_verified","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:43.589Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20550:7)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:43.614Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20739:7)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:43.629Z","level":"info","message":"generation_cover_letters_completed","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","variants":2,"fallbackApplied":true,"template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.632Z","level":"info","message":"pdf_generation_attempt","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/enhanced_modern.pdf","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.634Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:03:43.639Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"modern","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21317:17)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:43.654Z","level":"info","message":"pdf_generation_attempt","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"professional","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/enhanced_professional.pdf","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.656Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:03:43.658Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"professional","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/enhanced_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21317:17)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:43.670Z","level":"info","message":"pdf_generation_attempt","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"classic","attempt":3,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/enhanced_classic.pdf","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.672Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:03:43.673Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"classic","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/enhanced_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21317:17)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:43.692Z","level":"info","message":"pdf_generation_attempt","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"ats","attempt":4,"totalAttempts":5,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/enhanced_ats.pdf","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.695Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:03:43.698Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"ats","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/enhanced_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21317:17)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:43.712Z","level":"info","message":"pdf_generation_attempt","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"2025","attempt":5,"totalAttempts":5,"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/enhanced_2025.pdf","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.713Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:03:43.715Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"2025","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21317:17)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:43.730Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/enhanced_2025.pdf","forcedFallback":true,"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11163:7)
      at generateEnhancedDocumentsResponse (server.js:21317:17)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:43.763Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/enhanced_2025.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"2025","requestedTemplateId":"2025","engine":"pdf-lib","bytes":9,"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.772Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/enhanced_2025.pdf","bytes":9,"forcedFallback":true,"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.774Z","level":"info","message":"pdf_generation_attempt","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/enhanced_professional.pdf","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.776Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:03:43.778Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"professional","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/enhanced_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21317:17)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:43.797Z","level":"info","message":"pdf_generation_attempt","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"modern","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/enhanced_modern.pdf","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.800Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:03:43.803Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"modern","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21317:17)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:43.817Z","level":"info","message":"pdf_generation_attempt","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"2025","attempt":3,"totalAttempts":5,"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/enhanced_2025.pdf","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.818Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:03:43.820Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"2025","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21317:17)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:43.839Z","level":"info","message":"pdf_generation_attempt","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"classic","attempt":4,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/enhanced_classic.pdf","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.845Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:03:43.846Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"classic","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/enhanced_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21317:17)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:43.856Z","level":"info","message":"pdf_generation_attempt","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"ats","attempt":5,"totalAttempts":5,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/enhanced_ats.pdf","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.857Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:03:43.859Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"ats","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/enhanced_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21317:17)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:43.872Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/enhanced_ats.pdf","forcedFallback":true,"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11163:7)
      at generateEnhancedDocumentsResponse (server.js:21317:17)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:43.885Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/enhanced_ats.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"ats","requestedTemplateId":"ats","engine":"pdf-lib","bytes":9,"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.886Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/enhanced_ats.pdf","bytes":9,"forcedFallback":true,"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.888Z","level":"info","message":"pdf_generation_attempt","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/cover_letter_cover_modern.pdf","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.889Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:03:43.891Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21317:17)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:43.906Z","level":"info","message":"pdf_generation_attempt","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":2,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/cover_letter_cover_professional.pdf","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.908Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:03:43.909Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/cover_letter_cover_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21317:17)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:43.921Z","level":"info","message":"pdf_generation_attempt","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"cover_classic","attempt":3,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/cover_letter_cover_classic.pdf","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.923Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:03:43.924Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"cover_classic","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/cover_letter_cover_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21317:17)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:43.934Z","level":"info","message":"pdf_generation_attempt","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"cover_ats","attempt":4,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/cover_letter_cover_ats.pdf","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.935Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:03:43.936Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"cover_ats","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/cover_letter_cover_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21317:17)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:43.946Z","level":"info","message":"pdf_generation_attempt","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"cover_2025","attempt":5,"totalAttempts":5,"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/cover_letter_cover_2025.pdf","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.947Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"cover_2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:03:43.949Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"cover_2025","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/cover_letter_cover_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21317:17)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:43.972Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/cover_letter_cover_2025.pdf","forcedFallback":true,"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11163:7)
      at generateEnhancedDocumentsResponse (server.js:21317:17)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:43.982Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/cover_letter_cover_2025.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"cover_2025","requestedTemplateId":"cover_2025","engine":"pdf-lib","bytes":9,"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.983Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/cover_letter_cover_2025.pdf","bytes":9,"forcedFallback":true,"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.988Z","level":"info","message":"pdf_generation_attempt","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/cover_letter_cover_professional.pdf","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:43.988Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:03:43.989Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/cover_letter_cover_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21317:17)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:44.001Z","level":"info","message":"pdf_generation_attempt","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":2,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/cover_letter_cover_modern.pdf","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.003Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:03:44.005Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21317:17)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:44.053Z","level":"info","message":"pdf_generation_attempt","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"cover_2025","attempt":3,"totalAttempts":5,"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/cover_letter_cover_2025.pdf","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.064Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"cover_2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:03:44.074Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"cover_2025","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/cover_letter_cover_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21317:17)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:44.086Z","level":"info","message":"pdf_generation_attempt","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"cover_classic","attempt":4,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/cover_letter_cover_classic.pdf","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.087Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:03:44.087Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"cover_classic","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/cover_letter_cover_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21317:17)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:44.099Z","level":"info","message":"pdf_generation_attempt","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"cover_ats","attempt":5,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/cover_letter_cover_ats.pdf","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.100Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.error
    {"timestamp":"2025-12-04T14:03:44.102Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"cover_ats","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/cover_letter_cover_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
      at generateEnhancedDocumentsResponse (server.js:21317:17)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:44.112Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/cover_letter_cover_ats.pdf","forcedFallback":true,"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11163:7)
      at generateEnhancedDocumentsResponse (server.js:21317:17)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:44.124Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/cover_letter_cover_ats.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"cover_ats","requestedTemplateId":"cover_ats","engine":"pdf-lib","bytes":9,"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.126Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/1d690cc0-d59c-40ef-9ad9-a6f8c989594c/cover_letter_cover_ats.pdf","bytes":9,"forcedFallback":true,"session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.130Z","level":"info","message":"llm_call_metrics","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.132Z","level":"info","message":"generation_completed","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","generationRunId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","enhancedScore":80,"outputs":5,"template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.134Z","level":"info","message":"placeholder_record_deleted","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","jobId":"0b9f115a-1357-4f9d-963c-b14252dd0c21","placeholderIdentifier":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9f115a-1357-4f9d-963c-b14252dd0c21","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.136Z","level":"info","message":"http_request_completed","requestId":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":673,"contentLength":"60620","template":"unknown","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1d690cc0-d59c-40ef-9ad9-a6f8c989594c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.162Z","level":"info","message":"http_request_received","requestId":"121e826f-6720-4062-b550-63b69edf23eb","method":"POST","path":"/api/process-cv","template":"unknown","session":"121e826f-6720-4062-b550-63b69edf23eb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"121e826f-6720-4062-b550-63b69edf23eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.165Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.168Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.171Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.174Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.177Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/121e826f-6720-4062-b550-63b69edf23eb/incoming/original.pdf","chunks":1,"timestamp":1764857024184}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/121e826f-6720-4062-b550-63b69edf23eb/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/121e826f-6720-4062-b550-63b69edf23eb/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":3}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.188Z","level":"info","message":"process_cv_started","requestId":"121e826f-6720-4062-b550-63b69edf23eb","jobId":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","manualJobDescriptionProvided":true,"template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.190Z","level":"info","message":"template_selection","requestId":"121e826f-6720-4062-b550-63b69edf23eb","jobId":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:44.192Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"121e826f-6720-4062-b550-63b69edf23eb","jobId":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25147:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:03:44.203Z","level":"info","message":"initial_upload_completed","requestId":"121e826f-6720-4062-b550-63b69edf23eb","jobId":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","bucket":"test-bucket","key":"cv/candidate/121e826f-6720-4062-b550-63b69edf23eb/incoming/original.pdf","template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.205Z","level":"info","message":"resume_text_extracted","requestId":"121e826f-6720-4062-b550-63b69edf23eb","jobId":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","characters":57,"template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.205Z","level":"info","message":"resume_classified","requestId":"121e826f-6720-4062-b550-63b69edf23eb","jobId":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.206Z","level":"info","message":"raw_upload_relocated","requestId":"121e826f-6720-4062-b550-63b69edf23eb","jobId":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","bucket":"test-bucket","fromKey":"cv/candidate/121e826f-6720-4062-b550-63b69edf23eb/incoming/original.pdf","toKey":"cv/professional_summary/121e826f-6720-4062-b550-63b69edf23eb/original.pdf","template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.207Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"121e826f-6720-4062-b550-63b69edf23eb","jobId":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","bucket":"test-bucket","key":"cv/professional_summary/121e826f-6720-4062-b550-63b69edf23eb/original.pdf","template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.208Z","level":"info","message":"dynamo_initial_record_written","requestId":"121e826f-6720-4062-b550-63b69edf23eb","jobId":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","bucket":"test-bucket","key":"cv/professional_summary/121e826f-6720-4062-b550-63b69edf23eb/original.pdf","template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.209Z","level":"info","message":"upload_metadata_written","requestId":"121e826f-6720-4062-b550-63b69edf23eb","jobId":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","bucket":"test-bucket","key":"cv/professional_summary/121e826f-6720-4062-b550-63b69edf23eb/logs/log.json","template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.209Z","level":"info","message":"job_description_supplied_manually","requestId":"121e826f-6720-4062-b550-63b69edf23eb","jobId":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","characters":174,"template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.211Z","level":"info","message":"job_description_analyzed","requestId":"121e826f-6720-4062-b550-63b69edf23eb","jobId":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","jobTitle":"","jobSkills":5,"template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.212Z","level":"info","message":"resume_skills_analyzed","requestId":"121e826f-6720-4062-b550-63b69edf23eb","jobId":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.213Z","level":"info","message":"llm_call_metrics","requestId":"121e826f-6720-4062-b550-63b69edf23eb","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"121e826f-6720-4062-b550-63b69edf23eb","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"121e826f-6720-4062-b550-63b69edf23eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.214Z","level":"info","message":"process_cv_scoring_completed","requestId":"121e826f-6720-4062-b550-63b69edf23eb","jobId":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.222Z","level":"info","message":"llm_call_metrics","requestId":"121e826f-6720-4062-b550-63b69edf23eb","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"083bf06ffdad2254495e6ab02d51602dd213ec7860f8066358ba6750acc9f49a","addedSkillCount":1,"template":"resume_rewrite","session":"121e826f-6720-4062-b550-63b69edf23eb","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"121e826f-6720-4062-b550-63b69edf23eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.223Z","level":"info","message":"generation_section_rewrite_completed","requestId":"121e826f-6720-4062-b550-63b69edf23eb","jobId":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","generationRunId":"121e826f-6720-4062-b550-63b69edf23eb","modifiedTitle":"Revised Title","addedSkills":1,"template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.226Z","level":"info","message":"generation_resume_verified","requestId":"121e826f-6720-4062-b550-63b69edf23eb","jobId":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","generationRunId":"121e826f-6720-4062-b550-63b69edf23eb","template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:03:44.233Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"121e826f-6720-4062-b550-63b69edf23eb","jobId":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","generationRunId":"121e826f-6720-4062-b550-63b69edf23eb","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20550:7)
          at runMicrotasks (<anonymous>)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:44.246Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"121e826f-6720-4062-b550-63b69edf23eb","jobId":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","generationRunId":"121e826f-6720-4062-b550-63b69edf23eb","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20739:7)
          at runMicrotasks (<anonymous>)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:44.262Z","level":"info","message":"generation_cover_letters_completed","requestId":"121e826f-6720-4062-b550-63b69edf23eb","jobId":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","generationRunId":"121e826f-6720-4062-b550-63b69edf23eb","variants":2,"fallbackApplied":true,"template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.265Z","level":"info","message":"pdf_generation_attempt","requestId":"121e826f-6720-4062-b550-63b69edf23eb","jobId":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","generationRunId":"121e826f-6720-4062-b550-63b69edf23eb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/121e826f-6720-4062-b550-63b69edf23eb/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/121e826f-6720-4062-b550-63b69edf23eb/enhanced_modern.pdf","session":"121e826f-6720-4062-b550-63b69edf23eb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"121e826f-6720-4062-b550-63b69edf23eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.266Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"121e826f-6720-4062-b550-63b69edf23eb","jobId":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","generationRunId":"121e826f-6720-4062-b550-63b69edf23eb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/121e826f-6720-4062-b550-63b69edf23eb/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"121e826f-6720-4062-b550-63b69edf23eb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"121e826f-6720-4062-b550-63b69edf23eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.267Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"121e826f-6720-4062-b550-63b69edf23eb","jobId":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","generationRunId":"121e826f-6720-4062-b550-63b69edf23eb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/121e826f-6720-4062-b550-63b69edf23eb/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/121e826f-6720-4062-b550-63b69edf23eb/enhanced_modern.pdf","session":"121e826f-6720-4062-b550-63b69edf23eb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"121e826f-6720-4062-b550-63b69edf23eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.269Z","level":"info","message":"pdf_generation_attempt","requestId":"121e826f-6720-4062-b550-63b69edf23eb","jobId":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","generationRunId":"121e826f-6720-4062-b550-63b69edf23eb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/121e826f-6720-4062-b550-63b69edf23eb/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/121e826f-6720-4062-b550-63b69edf23eb/enhanced_professional.pdf","session":"121e826f-6720-4062-b550-63b69edf23eb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"121e826f-6720-4062-b550-63b69edf23eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.270Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"121e826f-6720-4062-b550-63b69edf23eb","jobId":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","generationRunId":"121e826f-6720-4062-b550-63b69edf23eb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/121e826f-6720-4062-b550-63b69edf23eb/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"121e826f-6720-4062-b550-63b69edf23eb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"121e826f-6720-4062-b550-63b69edf23eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.271Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"121e826f-6720-4062-b550-63b69edf23eb","jobId":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","generationRunId":"121e826f-6720-4062-b550-63b69edf23eb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/121e826f-6720-4062-b550-63b69edf23eb/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/121e826f-6720-4062-b550-63b69edf23eb/enhanced_professional.pdf","session":"121e826f-6720-4062-b550-63b69edf23eb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"121e826f-6720-4062-b550-63b69edf23eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.273Z","level":"info","message":"pdf_generation_attempt","requestId":"121e826f-6720-4062-b550-63b69edf23eb","jobId":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","generationRunId":"121e826f-6720-4062-b550-63b69edf23eb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/121e826f-6720-4062-b550-63b69edf23eb/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/121e826f-6720-4062-b550-63b69edf23eb/cover_letter_cover_modern.pdf","session":"121e826f-6720-4062-b550-63b69edf23eb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"121e826f-6720-4062-b550-63b69edf23eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.274Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"121e826f-6720-4062-b550-63b69edf23eb","jobId":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","generationRunId":"121e826f-6720-4062-b550-63b69edf23eb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/121e826f-6720-4062-b550-63b69edf23eb/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"121e826f-6720-4062-b550-63b69edf23eb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"121e826f-6720-4062-b550-63b69edf23eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.276Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"121e826f-6720-4062-b550-63b69edf23eb","jobId":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","generationRunId":"121e826f-6720-4062-b550-63b69edf23eb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/121e826f-6720-4062-b550-63b69edf23eb/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/121e826f-6720-4062-b550-63b69edf23eb/cover_letter_cover_modern.pdf","session":"121e826f-6720-4062-b550-63b69edf23eb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"121e826f-6720-4062-b550-63b69edf23eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.278Z","level":"info","message":"pdf_generation_attempt","requestId":"121e826f-6720-4062-b550-63b69edf23eb","jobId":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","generationRunId":"121e826f-6720-4062-b550-63b69edf23eb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/121e826f-6720-4062-b550-63b69edf23eb/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/121e826f-6720-4062-b550-63b69edf23eb/cover_letter_cover_professional.pdf","session":"121e826f-6720-4062-b550-63b69edf23eb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"121e826f-6720-4062-b550-63b69edf23eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.279Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"121e826f-6720-4062-b550-63b69edf23eb","jobId":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","generationRunId":"121e826f-6720-4062-b550-63b69edf23eb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/121e826f-6720-4062-b550-63b69edf23eb/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"121e826f-6720-4062-b550-63b69edf23eb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"121e826f-6720-4062-b550-63b69edf23eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.280Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"121e826f-6720-4062-b550-63b69edf23eb","jobId":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","generationRunId":"121e826f-6720-4062-b550-63b69edf23eb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/121e826f-6720-4062-b550-63b69edf23eb/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/121e826f-6720-4062-b550-63b69edf23eb/cover_letter_cover_professional.pdf","session":"121e826f-6720-4062-b550-63b69edf23eb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"121e826f-6720-4062-b550-63b69edf23eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.286Z","level":"info","message":"llm_call_metrics","requestId":"121e826f-6720-4062-b550-63b69edf23eb","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"1075df15bec8b8fc718989e1c7ca31af0c39036b671cabbdfc22628f8e2e250f","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"121e826f-6720-4062-b550-63b69edf23eb","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"121e826f-6720-4062-b550-63b69edf23eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.288Z","level":"info","message":"generation_completed","requestId":"121e826f-6720-4062-b550-63b69edf23eb","jobId":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","generationRunId":"121e826f-6720-4062-b550-63b69edf23eb","enhancedScore":80,"outputs":5,"template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.290Z","level":"info","message":"placeholder_record_deleted","requestId":"121e826f-6720-4062-b550-63b69edf23eb","jobId":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","placeholderIdentifier":"121e826f-6720-4062-b550-63b69edf23eb","template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fb4a1f8e-21c4-4235-9921-96f85f7fc5a0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.292Z","level":"info","message":"http_request_completed","requestId":"121e826f-6720-4062-b550-63b69edf23eb","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":130,"contentLength":"59251","template":"unknown","session":"121e826f-6720-4062-b550-63b69edf23eb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"121e826f-6720-4062-b550-63b69edf23eb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.306Z","level":"info","message":"http_request_received","requestId":"15849fbf-5ff8-4f41-a3f9-91baab2a7459","method":"POST","path":"/api/process-cv","template":"unknown","session":"15849fbf-5ff8-4f41-a3f9-91baab2a7459","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15849fbf-5ff8-4f41-a3f9-91baab2a7459","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.310Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.313Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.315Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.317Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.321Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.326Z","level":"info","message":"process_cv_started","requestId":"15849fbf-5ff8-4f41-a3f9-91baab2a7459","jobId":"8ef364c9-ac43-4848-b909-f5c1be252a10","manualJobDescriptionProvided":true,"template":"unknown","session":"8ef364c9-ac43-4848-b909-f5c1be252a10","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ef364c9-ac43-4848-b909-f5c1be252a10","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.342Z","level":"info","message":"template_selection","requestId":"15849fbf-5ff8-4f41-a3f9-91baab2a7459","jobId":"8ef364c9-ac43-4848-b909-f5c1be252a10","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"8ef364c9-ac43-4848-b909-f5c1be252a10","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8ef364c9-ac43-4848-b909-f5c1be252a10","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:44.352Z","level":"warn","message":"resume_missing","requestId":"15849fbf-5ff8-4f41-a3f9-91baab2a7459","jobId":"8ef364c9-ac43-4848-b909-f5c1be252a10","template":"unknown","session":"8ef364c9-ac43-4848-b909-f5c1be252a10","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ef364c9-ac43-4848-b909-f5c1be252a10","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25101:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T14:03:44.363Z","level":"warn","message":"api_error_response","requestId":"15849fbf-5ff8-4f41-a3f9-91baab2a7459","jobId":"8ef364c9-ac43-4848-b909-f5c1be252a10","status":400,"error":{"code":"RESUME_FILE_REQUIRED","message":"resume file required","details":{"field":"resume"},"requestId":"15849fbf-5ff8-4f41-a3f9-91baab2a7459","jobId":"8ef364c9-ac43-4848-b909-f5c1be252a10"},"template":"unknown","session":"8ef364c9-ac43-4848-b909-f5c1be252a10","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ef364c9-ac43-4848-b909-f5c1be252a10","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at sendError (server.js:3975:3)
      at server.js:25102:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:03:44.374Z","level":"info","message":"http_request_completed","requestId":"15849fbf-5ff8-4f41-a3f9-91baab2a7459","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":68,"contentLength":"217","template":"unknown","session":"15849fbf-5ff8-4f41-a3f9-91baab2a7459","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15849fbf-5ff8-4f41-a3f9-91baab2a7459","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.378Z","level":"info","message":"http_request_received","requestId":"2fbf3ba8-afff-4cfc-b5bc-5334b6f40905","method":"POST","path":"/api/process-cv","template":"unknown","session":"2fbf3ba8-afff-4cfc-b5bc-5334b6f40905","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2fbf3ba8-afff-4cfc-b5bc-5334b6f40905","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.380Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.382Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.384Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.386Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.389Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:44.399Z","level":"warn","message":"resume_upload_failed","requestId":"2fbf3ba8-afff-4cfc-b5bc-5334b6f40905","jobId":"1ed9ba02-877f-4d27-927a-82edf6df0e21","storageError":false,"error":{"name":"Error","message":"Unsupported resume format. Please upload a PDF, DOC, or DOCX file.","stack":"Error: Unsupported resume format. Please upload a PDF, DOC, or DOCX file.\n    at fileFilter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4997:9)\n    at wrappedFileFilter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/index.js:44:7)\n    at Multipart.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:109:7)\n    at Multipart.emit (node:events:513:28)\n    at HeaderParser.cb (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:358:14)\n    at HeaderParser.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:394:37)\n    at feed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:219:14)\n    at SBMH.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:391:12)\n    at _write (node:internal/streams/writable:332:10)\n    at Multipart.Writable.write (node:internal/streams/writable:336:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:754:22)\n    at IncomingMessage.emit (node:events:513:28)\n    at IncomingMessage.Readable.read (node:internal/streams/readable:527:10)\n    at flow (node:internal/streams/readable:1011:34)\n    at resume_ (node:internal/streams/readable:992:3)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)"},"template":"unknown","session":"1ed9ba02-877f-4d27-927a-82edf6df0e21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ed9ba02-877f-4d27-927a-82edf6df0e21","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:24795:7
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:5:28)
      at node_modules/multer/lib/make-middleware.js:63:9
      at Counter.onceZero (node_modules/multer/lib/counter.js:23:29)
      at abortWithError (node_modules/multer/lib/make-middleware.js:58:21)
      at node_modules/multer/lib/make-middleware.js:112:18
      at fileFilter (server.js:4996:14)
      at wrappedFileFilter (node_modules/multer/index.js:44:7)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:109:7)
      at HeaderParser.cb (node_modules/busboy/lib/types/multipart.js:358:14)
      at HeaderParser.push (node_modules/busboy/lib/types/multipart.js:162:20)
      at SBMH.ssCb [as _cb] (node_modules/busboy/lib/types/multipart.js:394:37)
      at feed (node_modules/streamsearch/lib/sbmh.js:219:14)
      at SBMH.push (node_modules/streamsearch/lib/sbmh.js:104:16)
      at Multipart._write (node_modules/busboy/lib/types/multipart.js:567:19)

  console.warn
    {"timestamp":"2025-12-04T14:03:44.411Z","level":"warn","message":"api_error_response","requestId":"2fbf3ba8-afff-4cfc-b5bc-5334b6f40905","jobId":"1ed9ba02-877f-4d27-927a-82edf6df0e21","status":400,"error":{"code":"UPLOAD_VALIDATION_FAILED","message":"Unsupported resume format. Please upload a PDF, DOC, or DOCX file.","details":{"field":"resume"},"requestId":"2fbf3ba8-afff-4cfc-b5bc-5334b6f40905","jobId":"1ed9ba02-877f-4d27-927a-82edf6df0e21"},"template":"unknown","session":"1ed9ba02-877f-4d27-927a-82edf6df0e21","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ed9ba02-877f-4d27-927a-82edf6df0e21","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at sendError (server.js:3975:3)
      at respond (server.js:24803:9)
      at server.js:24807:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:5:28)
      at node_modules/multer/lib/make-middleware.js:63:9
      at Counter.onceZero (node_modules/multer/lib/counter.js:23:29)
      at abortWithError (node_modules/multer/lib/make-middleware.js:58:21)
      at node_modules/multer/lib/make-middleware.js:112:18
      at fileFilter (server.js:4996:14)
      at wrappedFileFilter (node_modules/multer/index.js:44:7)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:109:7)
      at HeaderParser.cb (node_modules/busboy/lib/types/multipart.js:358:14)
      at HeaderParser.push (node_modules/busboy/lib/types/multipart.js:162:20)
      at SBMH.ssCb [as _cb] (node_modules/busboy/lib/types/multipart.js:394:37)
      at feed (node_modules/streamsearch/lib/sbmh.js:219:14)
      at SBMH.push (node_modules/streamsearch/lib/sbmh.js:104:16)
      at Multipart._write (node_modules/busboy/lib/types/multipart.js:567:19)

  console.log
    {"timestamp":"2025-12-04T14:03:44.423Z","level":"info","message":"http_request_completed","requestId":"2fbf3ba8-afff-4cfc-b5bc-5334b6f40905","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":45,"contentLength":"267","template":"unknown","session":"2fbf3ba8-afff-4cfc-b5bc-5334b6f40905","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2fbf3ba8-afff-4cfc-b5bc-5334b6f40905","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.427Z","level":"info","message":"http_request_received","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","method":"POST","path":"/api/process-cv","template":"unknown","session":"557dd37b-8e22-4159-8504-bbb17a01dfa2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"557dd37b-8e22-4159-8504-bbb17a01dfa2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.429Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.431Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.437Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.447Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.450Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/557dd37b-8e22-4159-8504-bbb17a01dfa2/incoming/original.pdf","chunks":1,"timestamp":1764857024457}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":32768}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":32768,"newSize":32768,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/557dd37b-8e22-4159-8504-bbb17a01dfa2/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/557dd37b-8e22-4159-8504-bbb17a01dfa2/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.460Z","level":"info","message":"process_cv_started","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","jobId":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","manualJobDescriptionProvided":true,"template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.461Z","level":"info","message":"template_selection","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","jobId":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:44.462Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","jobId":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25147:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:03:44.479Z","level":"info","message":"initial_upload_completed","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","jobId":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","bucket":"test-bucket","key":"cv/candidate/557dd37b-8e22-4159-8504-bbb17a01dfa2/incoming/original.pdf","template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.480Z","level":"info","message":"resume_text_extracted","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","jobId":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","characters":57,"template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.480Z","level":"info","message":"resume_classified","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","jobId":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.481Z","level":"info","message":"raw_upload_relocated","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","jobId":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","bucket":"test-bucket","fromKey":"cv/candidate/557dd37b-8e22-4159-8504-bbb17a01dfa2/incoming/original.pdf","toKey":"cv/professional_summary/557dd37b-8e22-4159-8504-bbb17a01dfa2/original.pdf","template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.482Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","jobId":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","bucket":"test-bucket","key":"cv/professional_summary/557dd37b-8e22-4159-8504-bbb17a01dfa2/original.pdf","template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.482Z","level":"info","message":"dynamo_initial_record_written","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","jobId":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","bucket":"test-bucket","key":"cv/professional_summary/557dd37b-8e22-4159-8504-bbb17a01dfa2/original.pdf","template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.483Z","level":"info","message":"upload_metadata_written","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","jobId":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","bucket":"test-bucket","key":"cv/professional_summary/557dd37b-8e22-4159-8504-bbb17a01dfa2/logs/log.json","template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.483Z","level":"info","message":"job_description_supplied_manually","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","jobId":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","characters":174,"template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.484Z","level":"info","message":"job_description_analyzed","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","jobId":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","jobTitle":"","jobSkills":5,"template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.485Z","level":"info","message":"resume_skills_analyzed","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","jobId":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.486Z","level":"info","message":"llm_call_metrics","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"557dd37b-8e22-4159-8504-bbb17a01dfa2","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"557dd37b-8e22-4159-8504-bbb17a01dfa2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.487Z","level":"info","message":"process_cv_scoring_completed","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","jobId":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.491Z","level":"info","message":"llm_call_metrics","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"557dd37b-8e22-4159-8504-bbb17a01dfa2","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"557dd37b-8e22-4159-8504-bbb17a01dfa2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.492Z","level":"info","message":"generation_section_rewrite_completed","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","jobId":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","generationRunId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.494Z","level":"info","message":"llm_call_metrics","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"557dd37b-8e22-4159-8504-bbb17a01dfa2","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"557dd37b-8e22-4159-8504-bbb17a01dfa2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.509Z","level":"info","message":"generation_resume_verified","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","jobId":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","generationRunId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:03:44.523Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","jobId":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","generationRunId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20550:7)
          at runMicrotasks (<anonymous>)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:44.543Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","jobId":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","generationRunId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20739:7)
          at runMicrotasks (<anonymous>)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:44.556Z","level":"info","message":"generation_cover_letters_completed","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","jobId":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","generationRunId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","variants":2,"fallbackApplied":true,"template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.557Z","level":"info","message":"pdf_generation_attempt","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","jobId":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","generationRunId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/557dd37b-8e22-4159-8504-bbb17a01dfa2/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/557dd37b-8e22-4159-8504-bbb17a01dfa2/enhanced_modern.pdf","session":"557dd37b-8e22-4159-8504-bbb17a01dfa2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"557dd37b-8e22-4159-8504-bbb17a01dfa2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.558Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","jobId":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","generationRunId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/557dd37b-8e22-4159-8504-bbb17a01dfa2/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"557dd37b-8e22-4159-8504-bbb17a01dfa2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"557dd37b-8e22-4159-8504-bbb17a01dfa2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.560Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","jobId":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","generationRunId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/557dd37b-8e22-4159-8504-bbb17a01dfa2/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/557dd37b-8e22-4159-8504-bbb17a01dfa2/enhanced_modern.pdf","session":"557dd37b-8e22-4159-8504-bbb17a01dfa2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"557dd37b-8e22-4159-8504-bbb17a01dfa2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.561Z","level":"info","message":"pdf_generation_attempt","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","jobId":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","generationRunId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/557dd37b-8e22-4159-8504-bbb17a01dfa2/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/557dd37b-8e22-4159-8504-bbb17a01dfa2/enhanced_professional.pdf","session":"557dd37b-8e22-4159-8504-bbb17a01dfa2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"557dd37b-8e22-4159-8504-bbb17a01dfa2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.562Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","jobId":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","generationRunId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/557dd37b-8e22-4159-8504-bbb17a01dfa2/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"557dd37b-8e22-4159-8504-bbb17a01dfa2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"557dd37b-8e22-4159-8504-bbb17a01dfa2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.563Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","jobId":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","generationRunId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/557dd37b-8e22-4159-8504-bbb17a01dfa2/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/557dd37b-8e22-4159-8504-bbb17a01dfa2/enhanced_professional.pdf","session":"557dd37b-8e22-4159-8504-bbb17a01dfa2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"557dd37b-8e22-4159-8504-bbb17a01dfa2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.564Z","level":"info","message":"pdf_generation_attempt","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","jobId":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","generationRunId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/557dd37b-8e22-4159-8504-bbb17a01dfa2/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/557dd37b-8e22-4159-8504-bbb17a01dfa2/cover_letter_cover_modern.pdf","session":"557dd37b-8e22-4159-8504-bbb17a01dfa2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"557dd37b-8e22-4159-8504-bbb17a01dfa2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.565Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","jobId":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","generationRunId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/557dd37b-8e22-4159-8504-bbb17a01dfa2/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"557dd37b-8e22-4159-8504-bbb17a01dfa2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"557dd37b-8e22-4159-8504-bbb17a01dfa2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.566Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","jobId":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","generationRunId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/557dd37b-8e22-4159-8504-bbb17a01dfa2/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/557dd37b-8e22-4159-8504-bbb17a01dfa2/cover_letter_cover_modern.pdf","session":"557dd37b-8e22-4159-8504-bbb17a01dfa2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"557dd37b-8e22-4159-8504-bbb17a01dfa2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.567Z","level":"info","message":"pdf_generation_attempt","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","jobId":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","generationRunId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/557dd37b-8e22-4159-8504-bbb17a01dfa2/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/557dd37b-8e22-4159-8504-bbb17a01dfa2/cover_letter_cover_professional.pdf","session":"557dd37b-8e22-4159-8504-bbb17a01dfa2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"557dd37b-8e22-4159-8504-bbb17a01dfa2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.568Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","jobId":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","generationRunId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/557dd37b-8e22-4159-8504-bbb17a01dfa2/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"557dd37b-8e22-4159-8504-bbb17a01dfa2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"557dd37b-8e22-4159-8504-bbb17a01dfa2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.569Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","jobId":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","generationRunId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/557dd37b-8e22-4159-8504-bbb17a01dfa2/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/557dd37b-8e22-4159-8504-bbb17a01dfa2/cover_letter_cover_professional.pdf","session":"557dd37b-8e22-4159-8504-bbb17a01dfa2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"557dd37b-8e22-4159-8504-bbb17a01dfa2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.574Z","level":"info","message":"llm_call_metrics","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"557dd37b-8e22-4159-8504-bbb17a01dfa2","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"557dd37b-8e22-4159-8504-bbb17a01dfa2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.577Z","level":"info","message":"generation_completed","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","jobId":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","generationRunId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","enhancedScore":80,"outputs":5,"template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.579Z","level":"info","message":"placeholder_record_deleted","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","jobId":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","placeholderIdentifier":"557dd37b-8e22-4159-8504-bbb17a01dfa2","template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d04c40f2-9ffc-47e4-a2e6-9a619626701f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.589Z","level":"info","message":"http_request_completed","requestId":"557dd37b-8e22-4159-8504-bbb17a01dfa2","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":162,"contentLength":"58133","template":"unknown","session":"557dd37b-8e22-4159-8504-bbb17a01dfa2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"557dd37b-8e22-4159-8504-bbb17a01dfa2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.599Z","level":"info","message":"http_request_received","requestId":"925a5611-74db-4438-b9e4-5397f825d083","method":"POST","path":"/api/process-cv","template":"unknown","session":"925a5611-74db-4438-b9e4-5397f825d083","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"925a5611-74db-4438-b9e4-5397f825d083","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.603Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.608Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.611Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.614Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.617Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/925a5611-74db-4438-b9e4-5397f825d083/incoming/original.pdf","chunks":5,"timestamp":1764857024623}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":262144}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":262144,"newSize":262144,"durationMs":10}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/925a5611-74db-4438-b9e4-5397f825d083/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/925a5611-74db-4438-b9e4-5397f825d083/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":13}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.637Z","level":"info","message":"process_cv_started","requestId":"925a5611-74db-4438-b9e4-5397f825d083","jobId":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","manualJobDescriptionProvided":true,"template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.638Z","level":"info","message":"template_selection","requestId":"925a5611-74db-4438-b9e4-5397f825d083","jobId":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.639Z","level":"info","message":"initial_upload_completed","requestId":"925a5611-74db-4438-b9e4-5397f825d083","jobId":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","bucket":"test-bucket","key":"cv/candidate/925a5611-74db-4438-b9e4-5397f825d083/incoming/original.pdf","template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.640Z","level":"info","message":"resume_text_extracted","requestId":"925a5611-74db-4438-b9e4-5397f825d083","jobId":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","characters":9,"template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.642Z","level":"info","message":"document_classification_ai_metrics","requestId":"925a5611-74db-4438-b9e4-5397f825d083","jobId":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"3fb95a90cc3314ffe158e6938082b6242f708ef53653928d4aec2ec0ec66e1aa","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.668Z","level":"info","message":"resume_classified","requestId":"925a5611-74db-4438-b9e4-5397f825d083","jobId":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","isResume":false,"description":"a document starting with \"Docx text\"","confidence":0.3,"accepted":true,"overridden":true,"template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.670Z","level":"info","message":"raw_upload_relocated","requestId":"925a5611-74db-4438-b9e4-5397f825d083","jobId":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","bucket":"test-bucket","fromKey":"cv/candidate/925a5611-74db-4438-b9e4-5397f825d083/incoming/original.pdf","toKey":"cv/docx_text/925a5611-74db-4438-b9e4-5397f825d083/original.docx","template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.670Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"925a5611-74db-4438-b9e4-5397f825d083","jobId":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","bucket":"test-bucket","key":"cv/docx_text/925a5611-74db-4438-b9e4-5397f825d083/original.docx","template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.671Z","level":"info","message":"dynamo_initial_record_written","requestId":"925a5611-74db-4438-b9e4-5397f825d083","jobId":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","bucket":"test-bucket","key":"cv/docx_text/925a5611-74db-4438-b9e4-5397f825d083/original.docx","template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.672Z","level":"info","message":"upload_metadata_written","requestId":"925a5611-74db-4438-b9e4-5397f825d083","jobId":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","bucket":"test-bucket","key":"cv/docx_text/925a5611-74db-4438-b9e4-5397f825d083/logs/log.json","template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.673Z","level":"info","message":"job_description_supplied_manually","requestId":"925a5611-74db-4438-b9e4-5397f825d083","jobId":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","characters":174,"template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.673Z","level":"info","message":"job_description_analyzed","requestId":"925a5611-74db-4438-b9e4-5397f825d083","jobId":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","jobTitle":"","jobSkills":5,"template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.675Z","level":"info","message":"resume_skills_analyzed","requestId":"925a5611-74db-4438-b9e4-5397f825d083","jobId":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.676Z","level":"info","message":"llm_call_metrics","requestId":"925a5611-74db-4438-b9e4-5397f825d083","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"925a5611-74db-4438-b9e4-5397f825d083","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"925a5611-74db-4438-b9e4-5397f825d083","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.677Z","level":"info","message":"process_cv_scoring_completed","requestId":"925a5611-74db-4438-b9e4-5397f825d083","jobId":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","applicantName":"Docx text","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.681Z","level":"info","message":"llm_call_metrics","requestId":"925a5611-74db-4438-b9e4-5397f825d083","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"31abd14e21e30560dd0979a805a53ba1e348c7a15b5557d1589a085105e61022","outputDigest":"20c6bad519a1c8c51482632fc36f521f4cdc6c74524ae2a7da48d87e23be89bd","addedSkillCount":0,"template":"resume_rewrite","session":"925a5611-74db-4438-b9e4-5397f825d083","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"925a5611-74db-4438-b9e4-5397f825d083","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.682Z","level":"info","message":"generation_section_rewrite_completed","requestId":"925a5611-74db-4438-b9e4-5397f825d083","jobId":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","generationRunId":"925a5611-74db-4438-b9e4-5397f825d083","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.684Z","level":"info","message":"llm_call_metrics","requestId":"925a5611-74db-4438-b9e4-5397f825d083","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"925a5611-74db-4438-b9e4-5397f825d083","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"925a5611-74db-4438-b9e4-5397f825d083","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.688Z","level":"info","message":"generation_resume_verified","requestId":"925a5611-74db-4438-b9e4-5397f825d083","jobId":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","generationRunId":"925a5611-74db-4438-b9e4-5397f825d083","template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:03:44.698Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"925a5611-74db-4438-b9e4-5397f825d083","jobId":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","generationRunId":"925a5611-74db-4438-b9e4-5397f825d083","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20550:7)
          at runMicrotasks (<anonymous>)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:44.719Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"925a5611-74db-4438-b9e4-5397f825d083","jobId":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","generationRunId":"925a5611-74db-4438-b9e4-5397f825d083","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20739:7)
          at runMicrotasks (<anonymous>)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:44.732Z","level":"info","message":"generation_cover_letters_completed","requestId":"925a5611-74db-4438-b9e4-5397f825d083","jobId":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","generationRunId":"925a5611-74db-4438-b9e4-5397f825d083","variants":2,"fallbackApplied":true,"template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.734Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"925a5611-74db-4438-b9e4-5397f825d083","jobId":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","generationRunId":"925a5611-74db-4438-b9e4-5397f825d083","documentType":"resume","outputName":"original_upload","outputKeyPrefix":"cv/docx_text/925a5611-74db-4438-b9e4-5397f825d083/","originalUploadKey":"cv/docx_text/925a5611-74db-4438-b9e4-5397f825d083/original.docx","originalUploadExtension":".docx","templateId":"modern","requestedTemplateId":"modern","engine":"pdf-lib","bytes":9,"template":"modern","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.738Z","level":"info","message":"original_upload_pdf_generated","requestId":"925a5611-74db-4438-b9e4-5397f825d083","jobId":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","generationRunId":"925a5611-74db-4438-b9e4-5397f825d083","storageKey":"cv/docx_text/925a5611-74db-4438-b9e4-5397f825d083/original/original_upload.pdf","originalUploadKey":"cv/docx_text/925a5611-74db-4438-b9e4-5397f825d083/original.docx","originalUploadExtension":".docx","template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.739Z","level":"info","message":"pdf_generation_attempt","requestId":"925a5611-74db-4438-b9e4-5397f825d083","jobId":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","generationRunId":"925a5611-74db-4438-b9e4-5397f825d083","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/925a5611-74db-4438-b9e4-5397f825d083/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/925a5611-74db-4438-b9e4-5397f825d083/enhanced_modern.pdf","session":"925a5611-74db-4438-b9e4-5397f825d083","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"925a5611-74db-4438-b9e4-5397f825d083","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.740Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"925a5611-74db-4438-b9e4-5397f825d083","jobId":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","generationRunId":"925a5611-74db-4438-b9e4-5397f825d083","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/925a5611-74db-4438-b9e4-5397f825d083/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"925a5611-74db-4438-b9e4-5397f825d083","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"925a5611-74db-4438-b9e4-5397f825d083","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.741Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"925a5611-74db-4438-b9e4-5397f825d083","jobId":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","generationRunId":"925a5611-74db-4438-b9e4-5397f825d083","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/925a5611-74db-4438-b9e4-5397f825d083/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/925a5611-74db-4438-b9e4-5397f825d083/enhanced_modern.pdf","session":"925a5611-74db-4438-b9e4-5397f825d083","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"925a5611-74db-4438-b9e4-5397f825d083","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.742Z","level":"info","message":"pdf_generation_attempt","requestId":"925a5611-74db-4438-b9e4-5397f825d083","jobId":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","generationRunId":"925a5611-74db-4438-b9e4-5397f825d083","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/925a5611-74db-4438-b9e4-5397f825d083/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/925a5611-74db-4438-b9e4-5397f825d083/enhanced_professional.pdf","session":"925a5611-74db-4438-b9e4-5397f825d083","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"925a5611-74db-4438-b9e4-5397f825d083","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.743Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"925a5611-74db-4438-b9e4-5397f825d083","jobId":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","generationRunId":"925a5611-74db-4438-b9e4-5397f825d083","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/925a5611-74db-4438-b9e4-5397f825d083/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"925a5611-74db-4438-b9e4-5397f825d083","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"925a5611-74db-4438-b9e4-5397f825d083","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.744Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"925a5611-74db-4438-b9e4-5397f825d083","jobId":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","generationRunId":"925a5611-74db-4438-b9e4-5397f825d083","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/925a5611-74db-4438-b9e4-5397f825d083/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/925a5611-74db-4438-b9e4-5397f825d083/enhanced_professional.pdf","session":"925a5611-74db-4438-b9e4-5397f825d083","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"925a5611-74db-4438-b9e4-5397f825d083","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.745Z","level":"info","message":"pdf_generation_attempt","requestId":"925a5611-74db-4438-b9e4-5397f825d083","jobId":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","generationRunId":"925a5611-74db-4438-b9e4-5397f825d083","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/925a5611-74db-4438-b9e4-5397f825d083/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/925a5611-74db-4438-b9e4-5397f825d083/cover_letter_cover_modern.pdf","session":"925a5611-74db-4438-b9e4-5397f825d083","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"925a5611-74db-4438-b9e4-5397f825d083","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.745Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"925a5611-74db-4438-b9e4-5397f825d083","jobId":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","generationRunId":"925a5611-74db-4438-b9e4-5397f825d083","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/925a5611-74db-4438-b9e4-5397f825d083/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"925a5611-74db-4438-b9e4-5397f825d083","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"925a5611-74db-4438-b9e4-5397f825d083","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.746Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"925a5611-74db-4438-b9e4-5397f825d083","jobId":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","generationRunId":"925a5611-74db-4438-b9e4-5397f825d083","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/925a5611-74db-4438-b9e4-5397f825d083/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/925a5611-74db-4438-b9e4-5397f825d083/cover_letter_cover_modern.pdf","session":"925a5611-74db-4438-b9e4-5397f825d083","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"925a5611-74db-4438-b9e4-5397f825d083","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.747Z","level":"info","message":"pdf_generation_attempt","requestId":"925a5611-74db-4438-b9e4-5397f825d083","jobId":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","generationRunId":"925a5611-74db-4438-b9e4-5397f825d083","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/925a5611-74db-4438-b9e4-5397f825d083/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/925a5611-74db-4438-b9e4-5397f825d083/cover_letter_cover_professional.pdf","session":"925a5611-74db-4438-b9e4-5397f825d083","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"925a5611-74db-4438-b9e4-5397f825d083","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.748Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"925a5611-74db-4438-b9e4-5397f825d083","jobId":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","generationRunId":"925a5611-74db-4438-b9e4-5397f825d083","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/925a5611-74db-4438-b9e4-5397f825d083/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"925a5611-74db-4438-b9e4-5397f825d083","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"925a5611-74db-4438-b9e4-5397f825d083","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.749Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"925a5611-74db-4438-b9e4-5397f825d083","jobId":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","generationRunId":"925a5611-74db-4438-b9e4-5397f825d083","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/925a5611-74db-4438-b9e4-5397f825d083/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/925a5611-74db-4438-b9e4-5397f825d083/cover_letter_cover_professional.pdf","session":"925a5611-74db-4438-b9e4-5397f825d083","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"925a5611-74db-4438-b9e4-5397f825d083","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.754Z","level":"info","message":"llm_call_metrics","requestId":"925a5611-74db-4438-b9e4-5397f825d083","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"925a5611-74db-4438-b9e4-5397f825d083","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"925a5611-74db-4438-b9e4-5397f825d083","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.756Z","level":"info","message":"generation_completed","requestId":"925a5611-74db-4438-b9e4-5397f825d083","jobId":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","generationRunId":"925a5611-74db-4438-b9e4-5397f825d083","enhancedScore":80,"outputs":6,"template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.758Z","level":"info","message":"placeholder_record_deleted","requestId":"925a5611-74db-4438-b9e4-5397f825d083","jobId":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","placeholderIdentifier":"925a5611-74db-4438-b9e4-5397f825d083","template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72ca968f-d3fe-42f2-ab58-e97bdee5917c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.761Z","level":"info","message":"http_request_completed","requestId":"925a5611-74db-4438-b9e4-5397f825d083","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":162,"contentLength":"58696","template":"unknown","session":"925a5611-74db-4438-b9e4-5397f825d083","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"925a5611-74db-4438-b9e4-5397f825d083","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.769Z","level":"info","message":"http_request_received","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","method":"POST","path":"/api/process-cv","template":"unknown","session":"6d3368f9-f9d7-4c40-911a-fb48e3212761","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6d3368f9-f9d7-4c40-911a-fb48e3212761","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.771Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.775Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.778Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.781Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.785Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/6d3368f9-f9d7-4c40-911a-fb48e3212761/incoming/original.pdf","chunks":33,"timestamp":1764857024800}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":2097152}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":2097152,"newSize":2097152,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/6d3368f9-f9d7-4c40-911a-fb48e3212761/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/6d3368f9-f9d7-4c40-911a-fb48e3212761/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":3}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.804Z","level":"info","message":"process_cv_started","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","jobId":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","manualJobDescriptionProvided":true,"template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.805Z","level":"info","message":"template_selection","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","jobId":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:44.806Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","jobId":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25147:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:03:44.819Z","level":"info","message":"initial_upload_completed","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","jobId":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","bucket":"test-bucket","key":"cv/candidate/6d3368f9-f9d7-4c40-911a-fb48e3212761/incoming/original.pdf","template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.820Z","level":"info","message":"resume_text_extracted","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","jobId":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","characters":57,"template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.820Z","level":"info","message":"resume_classified","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","jobId":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.821Z","level":"info","message":"raw_upload_relocated","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","jobId":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","bucket":"test-bucket","fromKey":"cv/candidate/6d3368f9-f9d7-4c40-911a-fb48e3212761/incoming/original.pdf","toKey":"cv/professional_summary/6d3368f9-f9d7-4c40-911a-fb48e3212761/original.pdf","template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.822Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","jobId":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","bucket":"test-bucket","key":"cv/professional_summary/6d3368f9-f9d7-4c40-911a-fb48e3212761/original.pdf","template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.823Z","level":"info","message":"dynamo_initial_record_written","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","jobId":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","bucket":"test-bucket","key":"cv/professional_summary/6d3368f9-f9d7-4c40-911a-fb48e3212761/original.pdf","template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.824Z","level":"info","message":"upload_metadata_written","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","jobId":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","bucket":"test-bucket","key":"cv/professional_summary/6d3368f9-f9d7-4c40-911a-fb48e3212761/logs/log.json","template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.825Z","level":"info","message":"job_description_supplied_manually","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","jobId":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","characters":174,"template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.826Z","level":"info","message":"job_description_analyzed","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","jobId":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","jobTitle":"","jobSkills":5,"template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.828Z","level":"info","message":"resume_skills_analyzed","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","jobId":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.829Z","level":"info","message":"llm_call_metrics","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"6d3368f9-f9d7-4c40-911a-fb48e3212761","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"6d3368f9-f9d7-4c40-911a-fb48e3212761","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.830Z","level":"info","message":"process_cv_scoring_completed","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","jobId":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.835Z","level":"info","message":"llm_call_metrics","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"6d3368f9-f9d7-4c40-911a-fb48e3212761","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"6d3368f9-f9d7-4c40-911a-fb48e3212761","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.835Z","level":"info","message":"generation_section_rewrite_completed","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","jobId":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","generationRunId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.836Z","level":"info","message":"llm_call_metrics","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"6d3368f9-f9d7-4c40-911a-fb48e3212761","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"6d3368f9-f9d7-4c40-911a-fb48e3212761","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.842Z","level":"info","message":"generation_resume_verified","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","jobId":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","generationRunId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:03:44.847Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","jobId":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","generationRunId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20550:7)
          at runMicrotasks (<anonymous>)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:44.864Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","jobId":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","generationRunId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20739:7)
          at runMicrotasks (<anonymous>)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:44.874Z","level":"info","message":"generation_cover_letters_completed","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","jobId":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","generationRunId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","variants":2,"fallbackApplied":true,"template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.877Z","level":"info","message":"pdf_generation_attempt","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","jobId":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","generationRunId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6d3368f9-f9d7-4c40-911a-fb48e3212761/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/6d3368f9-f9d7-4c40-911a-fb48e3212761/enhanced_modern.pdf","session":"6d3368f9-f9d7-4c40-911a-fb48e3212761","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6d3368f9-f9d7-4c40-911a-fb48e3212761","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.878Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","jobId":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","generationRunId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6d3368f9-f9d7-4c40-911a-fb48e3212761/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6d3368f9-f9d7-4c40-911a-fb48e3212761","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6d3368f9-f9d7-4c40-911a-fb48e3212761","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.880Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","jobId":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","generationRunId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6d3368f9-f9d7-4c40-911a-fb48e3212761/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/6d3368f9-f9d7-4c40-911a-fb48e3212761/enhanced_modern.pdf","session":"6d3368f9-f9d7-4c40-911a-fb48e3212761","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6d3368f9-f9d7-4c40-911a-fb48e3212761","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.881Z","level":"info","message":"pdf_generation_attempt","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","jobId":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","generationRunId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6d3368f9-f9d7-4c40-911a-fb48e3212761/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/6d3368f9-f9d7-4c40-911a-fb48e3212761/enhanced_professional.pdf","session":"6d3368f9-f9d7-4c40-911a-fb48e3212761","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6d3368f9-f9d7-4c40-911a-fb48e3212761","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.882Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","jobId":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","generationRunId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6d3368f9-f9d7-4c40-911a-fb48e3212761/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6d3368f9-f9d7-4c40-911a-fb48e3212761","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6d3368f9-f9d7-4c40-911a-fb48e3212761","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.883Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","jobId":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","generationRunId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6d3368f9-f9d7-4c40-911a-fb48e3212761/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/6d3368f9-f9d7-4c40-911a-fb48e3212761/enhanced_professional.pdf","session":"6d3368f9-f9d7-4c40-911a-fb48e3212761","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6d3368f9-f9d7-4c40-911a-fb48e3212761","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.884Z","level":"info","message":"pdf_generation_attempt","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","jobId":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","generationRunId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6d3368f9-f9d7-4c40-911a-fb48e3212761/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/6d3368f9-f9d7-4c40-911a-fb48e3212761/cover_letter_cover_modern.pdf","session":"6d3368f9-f9d7-4c40-911a-fb48e3212761","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6d3368f9-f9d7-4c40-911a-fb48e3212761","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.885Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","jobId":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","generationRunId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6d3368f9-f9d7-4c40-911a-fb48e3212761/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6d3368f9-f9d7-4c40-911a-fb48e3212761","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6d3368f9-f9d7-4c40-911a-fb48e3212761","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.886Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","jobId":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","generationRunId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6d3368f9-f9d7-4c40-911a-fb48e3212761/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/6d3368f9-f9d7-4c40-911a-fb48e3212761/cover_letter_cover_modern.pdf","session":"6d3368f9-f9d7-4c40-911a-fb48e3212761","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6d3368f9-f9d7-4c40-911a-fb48e3212761","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.887Z","level":"info","message":"pdf_generation_attempt","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","jobId":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","generationRunId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6d3368f9-f9d7-4c40-911a-fb48e3212761/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/6d3368f9-f9d7-4c40-911a-fb48e3212761/cover_letter_cover_professional.pdf","session":"6d3368f9-f9d7-4c40-911a-fb48e3212761","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6d3368f9-f9d7-4c40-911a-fb48e3212761","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.889Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","jobId":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","generationRunId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6d3368f9-f9d7-4c40-911a-fb48e3212761/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6d3368f9-f9d7-4c40-911a-fb48e3212761","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6d3368f9-f9d7-4c40-911a-fb48e3212761","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.890Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","jobId":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","generationRunId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6d3368f9-f9d7-4c40-911a-fb48e3212761/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/6d3368f9-f9d7-4c40-911a-fb48e3212761/cover_letter_cover_professional.pdf","session":"6d3368f9-f9d7-4c40-911a-fb48e3212761","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6d3368f9-f9d7-4c40-911a-fb48e3212761","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.895Z","level":"info","message":"llm_call_metrics","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"6d3368f9-f9d7-4c40-911a-fb48e3212761","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"6d3368f9-f9d7-4c40-911a-fb48e3212761","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.897Z","level":"info","message":"generation_completed","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","jobId":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","generationRunId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","enhancedScore":80,"outputs":5,"template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.900Z","level":"info","message":"placeholder_record_deleted","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","jobId":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","placeholderIdentifier":"6d3368f9-f9d7-4c40-911a-fb48e3212761","template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4c37bf96-ed2d-4770-95bd-50b4b20f9915","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:44.903Z","level":"info","message":"http_request_completed","requestId":"6d3368f9-f9d7-4c40-911a-fb48e3212761","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":134,"contentLength":"58133","template":"unknown","session":"6d3368f9-f9d7-4c40-911a-fb48e3212761","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6d3368f9-f9d7-4c40-911a-fb48e3212761","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.913Z","level":"info","message":"http_request_received","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","method":"POST","path":"/api/process-cv","template":"unknown","session":"50712b3c-bee4-4cc1-9306-5307b290acc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"50712b3c-bee4-4cc1-9306-5307b290acc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.916Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.919Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.933Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.939Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:44.945Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/50712b3c-bee4-4cc1-9306-5307b290acc5/incoming/original.pdf","chunks":83,"timestamp":1764857024970}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5241856}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5241856,"newSize":5241856,"durationMs":112}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/50712b3c-bee4-4cc1-9306-5307b290acc5/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/50712b3c-bee4-4cc1-9306-5307b290acc5/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":120}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.093Z","level":"info","message":"process_cv_started","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","jobId":"ed414992-bd33-44fe-8b97-27c20012fc5c","manualJobDescriptionProvided":true,"template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.096Z","level":"info","message":"template_selection","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","jobId":"ed414992-bd33-44fe-8b97-27c20012fc5c","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.098Z","level":"info","message":"initial_upload_completed","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","jobId":"ed414992-bd33-44fe-8b97-27c20012fc5c","bucket":"test-bucket","key":"cv/candidate/50712b3c-bee4-4cc1-9306-5307b290acc5/incoming/original.pdf","template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.099Z","level":"info","message":"resume_text_extracted","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","jobId":"ed414992-bd33-44fe-8b97-27c20012fc5c","characters":9,"template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.100Z","level":"info","message":"document_classification_ai_metrics","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","jobId":"ed414992-bd33-44fe-8b97-27c20012fc5c","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"3fb95a90cc3314ffe158e6938082b6242f708ef53653928d4aec2ec0ec66e1aa","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.102Z","level":"info","message":"resume_classified","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","jobId":"ed414992-bd33-44fe-8b97-27c20012fc5c","isResume":false,"description":"a document starting with \"Docx text\"","confidence":0.3,"accepted":true,"overridden":true,"template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.104Z","level":"info","message":"raw_upload_relocated","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","jobId":"ed414992-bd33-44fe-8b97-27c20012fc5c","bucket":"test-bucket","fromKey":"cv/candidate/50712b3c-bee4-4cc1-9306-5307b290acc5/incoming/original.pdf","toKey":"cv/docx_text/50712b3c-bee4-4cc1-9306-5307b290acc5/original.docx","template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.106Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","jobId":"ed414992-bd33-44fe-8b97-27c20012fc5c","bucket":"test-bucket","key":"cv/docx_text/50712b3c-bee4-4cc1-9306-5307b290acc5/original.docx","template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.107Z","level":"info","message":"dynamo_initial_record_written","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","jobId":"ed414992-bd33-44fe-8b97-27c20012fc5c","bucket":"test-bucket","key":"cv/docx_text/50712b3c-bee4-4cc1-9306-5307b290acc5/original.docx","template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.108Z","level":"info","message":"upload_metadata_written","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","jobId":"ed414992-bd33-44fe-8b97-27c20012fc5c","bucket":"test-bucket","key":"cv/docx_text/50712b3c-bee4-4cc1-9306-5307b290acc5/logs/log.json","template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.109Z","level":"info","message":"job_description_supplied_manually","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","jobId":"ed414992-bd33-44fe-8b97-27c20012fc5c","characters":174,"template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.110Z","level":"info","message":"job_description_analyzed","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","jobId":"ed414992-bd33-44fe-8b97-27c20012fc5c","jobTitle":"","jobSkills":5,"template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.111Z","level":"info","message":"resume_skills_analyzed","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","jobId":"ed414992-bd33-44fe-8b97-27c20012fc5c","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.113Z","level":"info","message":"llm_call_metrics","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"50712b3c-bee4-4cc1-9306-5307b290acc5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"50712b3c-bee4-4cc1-9306-5307b290acc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.115Z","level":"info","message":"process_cv_scoring_completed","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","jobId":"ed414992-bd33-44fe-8b97-27c20012fc5c","applicantName":"Docx text","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.119Z","level":"info","message":"llm_call_metrics","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"31abd14e21e30560dd0979a805a53ba1e348c7a15b5557d1589a085105e61022","outputDigest":"20c6bad519a1c8c51482632fc36f521f4cdc6c74524ae2a7da48d87e23be89bd","addedSkillCount":0,"template":"resume_rewrite","session":"50712b3c-bee4-4cc1-9306-5307b290acc5","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"50712b3c-bee4-4cc1-9306-5307b290acc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.122Z","level":"info","message":"generation_section_rewrite_completed","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","jobId":"ed414992-bd33-44fe-8b97-27c20012fc5c","generationRunId":"50712b3c-bee4-4cc1-9306-5307b290acc5","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.123Z","level":"info","message":"llm_call_metrics","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"50712b3c-bee4-4cc1-9306-5307b290acc5","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"50712b3c-bee4-4cc1-9306-5307b290acc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.131Z","level":"info","message":"generation_resume_verified","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","jobId":"ed414992-bd33-44fe-8b97-27c20012fc5c","generationRunId":"50712b3c-bee4-4cc1-9306-5307b290acc5","template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:03:45.137Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","jobId":"ed414992-bd33-44fe-8b97-27c20012fc5c","generationRunId":"50712b3c-bee4-4cc1-9306-5307b290acc5","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20550:7)
          at runMicrotasks (<anonymous>)
      at server.js:26746:28

  console.warn
    {"timestamp":"2025-12-04T14:03:45.149Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","jobId":"ed414992-bd33-44fe-8b97-27c20012fc5c","generationRunId":"50712b3c-bee4-4cc1-9306-5307b290acc5","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20739:7)
          at runMicrotasks (<anonymous>)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:45.158Z","level":"info","message":"generation_cover_letters_completed","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","jobId":"ed414992-bd33-44fe-8b97-27c20012fc5c","generationRunId":"50712b3c-bee4-4cc1-9306-5307b290acc5","variants":2,"fallbackApplied":true,"template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.160Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","jobId":"ed414992-bd33-44fe-8b97-27c20012fc5c","generationRunId":"50712b3c-bee4-4cc1-9306-5307b290acc5","documentType":"resume","outputName":"original_upload","outputKeyPrefix":"cv/docx_text/50712b3c-bee4-4cc1-9306-5307b290acc5/","originalUploadKey":"cv/docx_text/50712b3c-bee4-4cc1-9306-5307b290acc5/original.docx","originalUploadExtension":".docx","templateId":"modern","requestedTemplateId":"modern","engine":"pdf-lib","bytes":9,"template":"modern","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.161Z","level":"info","message":"original_upload_pdf_generated","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","jobId":"ed414992-bd33-44fe-8b97-27c20012fc5c","generationRunId":"50712b3c-bee4-4cc1-9306-5307b290acc5","storageKey":"cv/docx_text/50712b3c-bee4-4cc1-9306-5307b290acc5/original/original_upload.pdf","originalUploadKey":"cv/docx_text/50712b3c-bee4-4cc1-9306-5307b290acc5/original.docx","originalUploadExtension":".docx","template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.162Z","level":"info","message":"pdf_generation_attempt","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","jobId":"ed414992-bd33-44fe-8b97-27c20012fc5c","generationRunId":"50712b3c-bee4-4cc1-9306-5307b290acc5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/50712b3c-bee4-4cc1-9306-5307b290acc5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/50712b3c-bee4-4cc1-9306-5307b290acc5/enhanced_modern.pdf","session":"50712b3c-bee4-4cc1-9306-5307b290acc5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"50712b3c-bee4-4cc1-9306-5307b290acc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.163Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","jobId":"ed414992-bd33-44fe-8b97-27c20012fc5c","generationRunId":"50712b3c-bee4-4cc1-9306-5307b290acc5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/50712b3c-bee4-4cc1-9306-5307b290acc5/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"50712b3c-bee4-4cc1-9306-5307b290acc5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"50712b3c-bee4-4cc1-9306-5307b290acc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.165Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","jobId":"ed414992-bd33-44fe-8b97-27c20012fc5c","generationRunId":"50712b3c-bee4-4cc1-9306-5307b290acc5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/50712b3c-bee4-4cc1-9306-5307b290acc5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/50712b3c-bee4-4cc1-9306-5307b290acc5/enhanced_modern.pdf","session":"50712b3c-bee4-4cc1-9306-5307b290acc5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"50712b3c-bee4-4cc1-9306-5307b290acc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.166Z","level":"info","message":"pdf_generation_attempt","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","jobId":"ed414992-bd33-44fe-8b97-27c20012fc5c","generationRunId":"50712b3c-bee4-4cc1-9306-5307b290acc5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/50712b3c-bee4-4cc1-9306-5307b290acc5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/50712b3c-bee4-4cc1-9306-5307b290acc5/enhanced_professional.pdf","session":"50712b3c-bee4-4cc1-9306-5307b290acc5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"50712b3c-bee4-4cc1-9306-5307b290acc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.177Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","jobId":"ed414992-bd33-44fe-8b97-27c20012fc5c","generationRunId":"50712b3c-bee4-4cc1-9306-5307b290acc5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/50712b3c-bee4-4cc1-9306-5307b290acc5/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"50712b3c-bee4-4cc1-9306-5307b290acc5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"50712b3c-bee4-4cc1-9306-5307b290acc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.178Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","jobId":"ed414992-bd33-44fe-8b97-27c20012fc5c","generationRunId":"50712b3c-bee4-4cc1-9306-5307b290acc5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/50712b3c-bee4-4cc1-9306-5307b290acc5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/50712b3c-bee4-4cc1-9306-5307b290acc5/enhanced_professional.pdf","session":"50712b3c-bee4-4cc1-9306-5307b290acc5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"50712b3c-bee4-4cc1-9306-5307b290acc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.180Z","level":"info","message":"pdf_generation_attempt","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","jobId":"ed414992-bd33-44fe-8b97-27c20012fc5c","generationRunId":"50712b3c-bee4-4cc1-9306-5307b290acc5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/50712b3c-bee4-4cc1-9306-5307b290acc5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/50712b3c-bee4-4cc1-9306-5307b290acc5/cover_letter_cover_modern.pdf","session":"50712b3c-bee4-4cc1-9306-5307b290acc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"50712b3c-bee4-4cc1-9306-5307b290acc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.181Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","jobId":"ed414992-bd33-44fe-8b97-27c20012fc5c","generationRunId":"50712b3c-bee4-4cc1-9306-5307b290acc5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/50712b3c-bee4-4cc1-9306-5307b290acc5/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"50712b3c-bee4-4cc1-9306-5307b290acc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"50712b3c-bee4-4cc1-9306-5307b290acc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.183Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","jobId":"ed414992-bd33-44fe-8b97-27c20012fc5c","generationRunId":"50712b3c-bee4-4cc1-9306-5307b290acc5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/50712b3c-bee4-4cc1-9306-5307b290acc5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/50712b3c-bee4-4cc1-9306-5307b290acc5/cover_letter_cover_modern.pdf","session":"50712b3c-bee4-4cc1-9306-5307b290acc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"50712b3c-bee4-4cc1-9306-5307b290acc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.184Z","level":"info","message":"pdf_generation_attempt","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","jobId":"ed414992-bd33-44fe-8b97-27c20012fc5c","generationRunId":"50712b3c-bee4-4cc1-9306-5307b290acc5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/50712b3c-bee4-4cc1-9306-5307b290acc5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/50712b3c-bee4-4cc1-9306-5307b290acc5/cover_letter_cover_professional.pdf","session":"50712b3c-bee4-4cc1-9306-5307b290acc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"50712b3c-bee4-4cc1-9306-5307b290acc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.185Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","jobId":"ed414992-bd33-44fe-8b97-27c20012fc5c","generationRunId":"50712b3c-bee4-4cc1-9306-5307b290acc5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/50712b3c-bee4-4cc1-9306-5307b290acc5/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"50712b3c-bee4-4cc1-9306-5307b290acc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"50712b3c-bee4-4cc1-9306-5307b290acc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.186Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","jobId":"ed414992-bd33-44fe-8b97-27c20012fc5c","generationRunId":"50712b3c-bee4-4cc1-9306-5307b290acc5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/50712b3c-bee4-4cc1-9306-5307b290acc5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/50712b3c-bee4-4cc1-9306-5307b290acc5/cover_letter_cover_professional.pdf","session":"50712b3c-bee4-4cc1-9306-5307b290acc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"50712b3c-bee4-4cc1-9306-5307b290acc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.190Z","level":"info","message":"llm_call_metrics","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"50712b3c-bee4-4cc1-9306-5307b290acc5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"50712b3c-bee4-4cc1-9306-5307b290acc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.192Z","level":"info","message":"generation_completed","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","jobId":"ed414992-bd33-44fe-8b97-27c20012fc5c","generationRunId":"50712b3c-bee4-4cc1-9306-5307b290acc5","enhancedScore":80,"outputs":6,"template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.193Z","level":"info","message":"placeholder_record_deleted","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","jobId":"ed414992-bd33-44fe-8b97-27c20012fc5c","placeholderIdentifier":"50712b3c-bee4-4cc1-9306-5307b290acc5","template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed414992-bd33-44fe-8b97-27c20012fc5c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.196Z","level":"info","message":"http_request_completed","requestId":"50712b3c-bee4-4cc1-9306-5307b290acc5","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":283,"contentLength":"58696","template":"unknown","session":"50712b3c-bee4-4cc1-9306-5307b290acc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"50712b3c-bee4-4cc1-9306-5307b290acc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.205Z","level":"info","message":"http_request_received","requestId":"4afdbd14-34dc-4d3e-8b75-a4f491c40943","method":"POST","path":"/api/process-cv","template":"unknown","session":"4afdbd14-34dc-4d3e-8b75-a4f491c40943","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4afdbd14-34dc-4d3e-8b75-a4f491c40943","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.214Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.220Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.229Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.232Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.238Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/4afdbd14-34dc-4d3e-8b75-a4f491c40943/incoming/original.pdf","chunks":81,"timestamp":1764857025257}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5242880}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5242880,"newSize":5242880,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/4afdbd14-34dc-4d3e-8b75-a4f491c40943/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/4afdbd14-34dc-4d3e-8b75-a4f491c40943/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:03:45.264Z","level":"warn","message":"resume_upload_failed","requestId":"4afdbd14-34dc-4d3e-8b75-a4f491c40943","jobId":"bce1ce71-eae8-4c26-ac44-771046a446fb","storageError":false,"error":{"name":"MulterError","message":"File too large","code":"LIMIT_FILE_SIZE","stack":"MulterError: File too large\n    at abortWithCode (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:73:22)\n    at FileStream.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:136:11)\n    at FileStream.emit (node:events:513:28)\n    at SBMH.ssCb [as _cb] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:479:32)\n    at feed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:219:14)\n    at SBMH.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:391:12)\n    at _write (node:internal/streams/writable:332:10)\n    at Multipart.Writable.write (node:internal/streams/writable:336:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:754:22)\n    at IncomingMessage.emit (node:events:513:28)\n    at addChunk (node:internal/streams/readable:315:12)\n    at readableAddChunk (node:internal/streams/readable:289:9)\n    at IncomingMessage.Readable.push (node:internal/streams/readable:228:10)\n    at HTTPParser.parserOnBody (node:_http_common:140:24)"},"template":"unknown","session":"bce1ce71-eae8-4c26-ac44-771046a446fb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bce1ce71-eae8-4c26-ac44-771046a446fb","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:24795:7
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at node_modules/multer/lib/remove-uploaded-files.js:20:9
      at Object.cb [as _removeFile] (lib/uploads/s3StreamingStorage.js:166:9)
      at remove (node_modules/multer/lib/make-middleware.js:60:19)
      at handleFile (node_modules/multer/lib/remove-uploaded-files.js:10:5)
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:25:3)
      at Counter.<anonymous> (node_modules/multer/lib/make-middleware.js:63:9)
      at Counter.decrement (node_modules/multer/lib/counter.js:15:32)
      at node_modules/multer/lib/make-middleware.js:143:34
      at cb (lib/uploads/s3StreamingStorage.js:82:9)
      at FileStream.finish (lib/uploads/s3StreamingStorage.js:149:11)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:03:45.276Z","level":"warn","message":"api_error_response","requestId":"4afdbd14-34dc-4d3e-8b75-a4f491c40943","jobId":"bce1ce71-eae8-4c26-ac44-771046a446fb","status":400,"error":{"code":"UPLOAD_VALIDATION_FAILED","message":"File too large","details":{"field":"resume"},"requestId":"4afdbd14-34dc-4d3e-8b75-a4f491c40943","jobId":"bce1ce71-eae8-4c26-ac44-771046a446fb"},"template":"unknown","session":"bce1ce71-eae8-4c26-ac44-771046a446fb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bce1ce71-eae8-4c26-ac44-771046a446fb","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at sendError (server.js:3975:3)
      at respond (server.js:24803:9)
      at server.js:24807:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at node_modules/multer/lib/remove-uploaded-files.js:20:9
      at Object.cb [as _removeFile] (lib/uploads/s3StreamingStorage.js:166:9)
      at remove (node_modules/multer/lib/make-middleware.js:60:19)
      at handleFile (node_modules/multer/lib/remove-uploaded-files.js:10:5)
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:25:3)
      at Counter.<anonymous> (node_modules/multer/lib/make-middleware.js:63:9)
      at Counter.decrement (node_modules/multer/lib/counter.js:15:32)
      at node_modules/multer/lib/make-middleware.js:143:34
      at cb (lib/uploads/s3StreamingStorage.js:82:9)
      at FileStream.finish (lib/uploads/s3StreamingStorage.js:149:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.289Z","level":"info","message":"http_request_completed","requestId":"4afdbd14-34dc-4d3e-8b75-a4f491c40943","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":84,"contentLength":"215","template":"unknown","session":"4afdbd14-34dc-4d3e-8b75-a4f491c40943","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4afdbd14-34dc-4d3e-8b75-a4f491c40943","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.297Z","level":"info","message":"http_request_received","requestId":"72e2653a-de7b-4ce0-8c91-d75b52de6dc5","method":"POST","path":"/api/process-cv","template":"unknown","session":"72e2653a-de7b-4ce0-8c91-d75b52de6dc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72e2653a-de7b-4ce0-8c91-d75b52de6dc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.299Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.305Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.307Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.313Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.317Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/72e2653a-de7b-4ce0-8c91-d75b52de6dc5/incoming/original.pdf","chunks":1,"timestamp":1764857025323}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/72e2653a-de7b-4ce0-8c91-d75b52de6dc5/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/72e2653a-de7b-4ce0-8c91-d75b52de6dc5/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":4}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.329Z","level":"info","message":"process_cv_started","requestId":"72e2653a-de7b-4ce0-8c91-d75b52de6dc5","jobId":"ce45f704-a722-4927-8cd3-6e6e960fc2f0","manualJobDescriptionProvided":true,"template":"unknown","session":"ce45f704-a722-4927-8cd3-6e6e960fc2f0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce45f704-a722-4927-8cd3-6e6e960fc2f0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.330Z","level":"info","message":"template_selection","requestId":"72e2653a-de7b-4ce0-8c91-d75b52de6dc5","jobId":"ce45f704-a722-4927-8cd3-6e6e960fc2f0","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"ce45f704-a722-4927-8cd3-6e6e960fc2f0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ce45f704-a722-4927-8cd3-6e6e960fc2f0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:45.331Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"72e2653a-de7b-4ce0-8c91-d75b52de6dc5","jobId":"ce45f704-a722-4927-8cd3-6e6e960fc2f0","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"ce45f704-a722-4927-8cd3-6e6e960fc2f0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce45f704-a722-4927-8cd3-6e6e960fc2f0","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25147:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:03:45.348Z","level":"info","message":"initial_upload_completed","requestId":"72e2653a-de7b-4ce0-8c91-d75b52de6dc5","jobId":"ce45f704-a722-4927-8cd3-6e6e960fc2f0","bucket":"test-bucket","key":"cv/candidate/72e2653a-de7b-4ce0-8c91-d75b52de6dc5/incoming/original.pdf","template":"unknown","session":"ce45f704-a722-4927-8cd3-6e6e960fc2f0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce45f704-a722-4927-8cd3-6e6e960fc2f0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.352Z","level":"info","message":"resume_text_extracted","requestId":"72e2653a-de7b-4ce0-8c91-d75b52de6dc5","jobId":"ce45f704-a722-4927-8cd3-6e6e960fc2f0","characters":70,"template":"unknown","session":"ce45f704-a722-4927-8cd3-6e6e960fc2f0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce45f704-a722-4927-8cd3-6e6e960fc2f0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.355Z","level":"info","message":"document_classification_ai_metrics","requestId":"72e2653a-de7b-4ce0-8c91-d75b52de6dc5","jobId":"ce45f704-a722-4927-8cd3-6e6e960fc2f0","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"6e7cfda39efd36ecdd0998d74c5dc8668e761fe838cd589d1b8e87517f67efbf","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"ce45f704-a722-4927-8cd3-6e6e960fc2f0","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"ce45f704-a722-4927-8cd3-6e6e960fc2f0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.358Z","level":"info","message":"resume_classified","requestId":"72e2653a-de7b-4ce0-8c91-d75b52de6dc5","jobId":"ce45f704-a722-4927-8cd3-6e6e960fc2f0","isResume":false,"description":"an invoice document","confidence":0.4,"accepted":false,"overridden":false,"template":"unknown","session":"ce45f704-a722-4927-8cd3-6e6e960fc2f0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce45f704-a722-4927-8cd3-6e6e960fc2f0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:03:45.359Z","level":"warn","message":"resume_validation_failed","requestId":"72e2653a-de7b-4ce0-8c91-d75b52de6dc5","jobId":"ce45f704-a722-4927-8cd3-6e6e960fc2f0","reason":"not_identified_as_resume","description":"an invoice document","confidence":0.4,"wordCount":12,"invalidKey":"invalid/candidate/2025-12-04/72e2653a-de7b-4ce0-8c91-d75b52de6dc5/an-invoice-03a5ffe5-7d47-42e4-9b63-70aa7df3f439.pdf","classification":"an invoice","template":"unknown","session":"ce45f704-a722-4927-8cd3-6e6e960fc2f0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce45f704-a722-4927-8cd3-6e6e960fc2f0","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25682:9
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:03:45.383Z","level":"warn","message":"api_error_response","requestId":"72e2653a-de7b-4ce0-8c91-d75b52de6dc5","jobId":"ce45f704-a722-4927-8cd3-6e6e960fc2f0","status":400,"error":{"code":"INVALID_RESUME_CONTENT","message":"You have uploaded an invoice document (classified as \"invoice\"). Detected invoice document keywords such as \"invoice\", \"bill to\", and \"payment terms\". Please upload a correct CV or resume to continue.","details":{"description":"an invoice document","confidence":0.4,"reason":"Detected invoice document keywords such as \"invoice\", \"bill to\", and \"payment terms\".","classification":"an invoice","className":"invoice","storageKey":"invalid/candidate/2025-12-04/72e2653a-de7b-4ce0-8c91-d75b52de6dc5/an-invoice-03a5ffe5-7d47-42e4-9b63-70aa7df3f439.pdf","invalidStorageKey":"invalid/candidate/2025-12-04/72e2653a-de7b-4ce0-8c91-d75b52de6dc5/an-invoice-03a5ffe5-7d47-42e4-9b63-70aa7df3f439.pdf"},"requestId":"72e2653a-de7b-4ce0-8c91-d75b52de6dc5","jobId":"ce45f704-a722-4927-8cd3-6e6e960fc2f0"},"template":"unknown","session":"ce45f704-a722-4927-8cd3-6e6e960fc2f0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce45f704-a722-4927-8cd3-6e6e960fc2f0","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at sendError (server.js:3975:3)
      at server.js:25757:14
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.404Z","level":"info","message":"http_request_completed","requestId":"72e2653a-de7b-4ce0-8c91-d75b52de6dc5","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":107,"contentLength":"871","template":"unknown","session":"72e2653a-de7b-4ce0-8c91-d75b52de6dc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72e2653a-de7b-4ce0-8c91-d75b52de6dc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.419Z","level":"info","message":"http_request_received","requestId":"b8c0bd08-7fae-4dd8-ab07-87bf4f709b0c","method":"POST","path":"/api/process-cv","template":"unknown","session":"b8c0bd08-7fae-4dd8-ab07-87bf4f709b0c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8c0bd08-7fae-4dd8-ab07-87bf4f709b0c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.421Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.423Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.426Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.428Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.431Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/b8c0bd08-7fae-4dd8-ab07-87bf4f709b0c/incoming/original.pdf","chunks":1,"timestamp":1764857025437}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":203,"durationMs":4}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/b8c0bd08-7fae-4dd8-ab07-87bf4f709b0c/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/b8c0bd08-7fae-4dd8-ab07-87bf4f709b0c/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":6}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.444Z","level":"info","message":"process_cv_started","requestId":"b8c0bd08-7fae-4dd8-ab07-87bf4f709b0c","jobId":"0be8611c-fddd-43e2-8226-07df84680179","manualJobDescriptionProvided":true,"template":"unknown","session":"0be8611c-fddd-43e2-8226-07df84680179","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0be8611c-fddd-43e2-8226-07df84680179","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.445Z","level":"info","message":"template_selection","requestId":"b8c0bd08-7fae-4dd8-ab07-87bf4f709b0c","jobId":"0be8611c-fddd-43e2-8226-07df84680179","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"0be8611c-fddd-43e2-8226-07df84680179","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0be8611c-fddd-43e2-8226-07df84680179","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.446Z","level":"info","message":"initial_upload_completed","requestId":"b8c0bd08-7fae-4dd8-ab07-87bf4f709b0c","jobId":"0be8611c-fddd-43e2-8226-07df84680179","bucket":"test-bucket","key":"cv/candidate/b8c0bd08-7fae-4dd8-ab07-87bf4f709b0c/incoming/original.pdf","template":"unknown","session":"0be8611c-fddd-43e2-8226-07df84680179","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0be8611c-fddd-43e2-8226-07df84680179","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.447Z","level":"info","message":"resume_text_extracted","requestId":"b8c0bd08-7fae-4dd8-ab07-87bf4f709b0c","jobId":"0be8611c-fddd-43e2-8226-07df84680179","characters":52,"template":"unknown","session":"0be8611c-fddd-43e2-8226-07df84680179","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0be8611c-fddd-43e2-8226-07df84680179","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.448Z","level":"info","message":"document_classification_ai_metrics","requestId":"b8c0bd08-7fae-4dd8-ab07-87bf4f709b0c","jobId":"0be8611c-fddd-43e2-8226-07df84680179","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"b660b3e8ecbc83aad9e6543dcb4a0d862627f82012d98cdb58b183fb5f0cc539","outputDigest":"ce4b8bd954f55aa4d760051876705884299536b3f182fa6f09cbd2aaee0a6b16","latencyMs":0,"isResume":false,"confidence":0.2,"template":"document_classification","session":"0be8611c-fddd-43e2-8226-07df84680179","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"0be8611c-fddd-43e2-8226-07df84680179","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.449Z","level":"info","message":"resume_classified","requestId":"b8c0bd08-7fae-4dd8-ab07-87bf4f709b0c","jobId":"0be8611c-fddd-43e2-8226-07df84680179","isResume":false,"description":"a short memo","confidence":0.2,"accepted":false,"overridden":false,"template":"unknown","session":"0be8611c-fddd-43e2-8226-07df84680179","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0be8611c-fddd-43e2-8226-07df84680179","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:03:45.450Z","level":"warn","message":"resume_validation_failed","requestId":"b8c0bd08-7fae-4dd8-ab07-87bf4f709b0c","jobId":"0be8611c-fddd-43e2-8226-07df84680179","reason":"not_identified_as_resume","description":"a short memo","confidence":0.2,"wordCount":9,"invalidKey":"invalid/candidate/2025-12-04/b8c0bd08-7fae-4dd8-ab07-87bf4f709b0c/a-short-memo-6001c7f0-ff81-42b7-b41b-3aaba3e25eca.docx","classification":"a short memo","template":"unknown","session":"0be8611c-fddd-43e2-8226-07df84680179","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0be8611c-fddd-43e2-8226-07df84680179","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25682:9
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:03:45.458Z","level":"warn","message":"api_error_response","requestId":"b8c0bd08-7fae-4dd8-ab07-87bf4f709b0c","jobId":"0be8611c-fddd-43e2-8226-07df84680179","status":400,"error":{"code":"INVALID_RESUME_CONTENT","message":"You have uploaded a short memo document (classified as \"short_memo\"). Missing resume structure. Please upload a correct CV or resume to continue.","details":{"description":"a short memo","confidence":0.2,"reason":"Missing resume structure.","classification":"a short memo","className":"short_memo","storageKey":"invalid/candidate/2025-12-04/b8c0bd08-7fae-4dd8-ab07-87bf4f709b0c/a-short-memo-6001c7f0-ff81-42b7-b41b-3aaba3e25eca.docx","invalidStorageKey":"invalid/candidate/2025-12-04/b8c0bd08-7fae-4dd8-ab07-87bf4f709b0c/a-short-memo-6001c7f0-ff81-42b7-b41b-3aaba3e25eca.docx"},"requestId":"b8c0bd08-7fae-4dd8-ab07-87bf4f709b0c","jobId":"0be8611c-fddd-43e2-8226-07df84680179"},"template":"unknown","session":"0be8611c-fddd-43e2-8226-07df84680179","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0be8611c-fddd-43e2-8226-07df84680179","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at sendError (server.js:3975:3)
      at server.js:25757:14
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.474Z","level":"info","message":"http_request_completed","requestId":"b8c0bd08-7fae-4dd8-ab07-87bf4f709b0c","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":55,"contentLength":"748","template":"unknown","session":"b8c0bd08-7fae-4dd8-ab07-87bf4f709b0c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8c0bd08-7fae-4dd8-ab07-87bf4f709b0c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.478Z","level":"info","message":"http_request_received","requestId":"2b371119-5cde-4c4a-9d37-b7f7200d2fea","method":"POST","path":"/api/process-cv","template":"unknown","session":"2b371119-5cde-4c4a-9d37-b7f7200d2fea","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2b371119-5cde-4c4a-9d37-b7f7200d2fea","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.480Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.482Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.484Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.487Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.490Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/2b371119-5cde-4c4a-9d37-b7f7200d2fea/incoming/original.pdf","chunks":1,"timestamp":1764857025493}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/2b371119-5cde-4c4a-9d37-b7f7200d2fea/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/2b371119-5cde-4c4a-9d37-b7f7200d2fea/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.495Z","level":"info","message":"process_cv_started","requestId":"2b371119-5cde-4c4a-9d37-b7f7200d2fea","jobId":"b29194f4-6162-4911-8886-e90d8df50e2c","manualJobDescriptionProvided":false,"template":"unknown","session":"b29194f4-6162-4911-8886-e90d8df50e2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b29194f4-6162-4911-8886-e90d8df50e2c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.496Z","level":"info","message":"template_selection","requestId":"2b371119-5cde-4c4a-9d37-b7f7200d2fea","jobId":"b29194f4-6162-4911-8886-e90d8df50e2c","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"b29194f4-6162-4911-8886-e90d8df50e2c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b29194f4-6162-4911-8886-e90d8df50e2c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:45.497Z","level":"warn","message":"job_description_missing","requestId":"2b371119-5cde-4c4a-9d37-b7f7200d2fea","jobId":"b29194f4-6162-4911-8886-e90d8df50e2c","template":"unknown","session":"b29194f4-6162-4911-8886-e90d8df50e2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b29194f4-6162-4911-8886-e90d8df50e2c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25111:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T14:03:45.507Z","level":"warn","message":"api_error_response","requestId":"2b371119-5cde-4c4a-9d37-b7f7200d2fea","jobId":"b29194f4-6162-4911-8886-e90d8df50e2c","status":400,"error":{"code":"JOB_DESCRIPTION_REQUIRED","message":"manualJobDescription required","details":{"field":"manualJobDescription"},"requestId":"2b371119-5cde-4c4a-9d37-b7f7200d2fea","jobId":"b29194f4-6162-4911-8886-e90d8df50e2c"},"template":"unknown","session":"b29194f4-6162-4911-8886-e90d8df50e2c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b29194f4-6162-4911-8886-e90d8df50e2c","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at sendError (server.js:3975:3)
      at server.js:25112:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:03:45.516Z","level":"info","message":"http_request_completed","requestId":"2b371119-5cde-4c4a-9d37-b7f7200d2fea","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":38,"contentLength":"244","template":"unknown","session":"2b371119-5cde-4c4a-9d37-b7f7200d2fea","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2b371119-5cde-4c4a-9d37-b7f7200d2fea","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.521Z","level":"info","message":"http_request_received","requestId":"13c15a94-3c9c-4897-b2d7-0e018cec390e","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"13c15a94-3c9c-4897-b2d7-0e018cec390e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"13c15a94-3c9c-4897-b2d7-0e018cec390e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.523Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.525Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.527Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.529Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.530Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:45.533Z","level":"warn","message":"api_error_response","requestId":"13c15a94-3c9c-4897-b2d7-0e018cec390e","jobId":"edac7709-e21b-41e8-b13c-ffa28821c68e","status":400,"error":{"code":"JOB_ID_REQUIRED","message":"jobId is required to generate enhanced documents.","details":{},"requestId":"13c15a94-3c9c-4897-b2d7-0e018cec390e","jobId":"edac7709-e21b-41e8-b13c-ffa28821c68e"},"template":"unknown","session":"edac7709-e21b-41e8-b13c-ffa28821c68e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"edac7709-e21b-41e8-b13c-ffa28821c68e","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at sendError (server.js:3975:3)
      at server.js:22521:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at assignJobContext (server.js:16428:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at serveStatic (node_modules/serve-static/index.js:75:16)
      at server.js:4963:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at tryServeHashedIndexAssetFromS3 (server.js:1192:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at serveIndexAssetAlias (server.js:1528:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4945:5
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4939:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at urlencodedParser (node_modules/body-parser/lib/types/urlencoded.js:85:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/body-parser/lib/read.js:137:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

  console.log
    {"timestamp":"2025-12-04T14:03:45.547Z","level":"info","message":"http_request_completed","requestId":"13c15a94-3c9c-4897-b2d7-0e018cec390e","method":"POST","path":"/api/generate-enhanced-docs","statusCode":400,"durationMs":26,"contentLength":"225","template":"unknown","session":"13c15a94-3c9c-4897-b2d7-0e018cec390e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"13c15a94-3c9c-4897-b2d7-0e018cec390e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.551Z","level":"info","message":"http_request_received","requestId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.552Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.554Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.556Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.559Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.560Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:45.563Z","level":"warn","message":"generation_job_context_missing","requestId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:22713:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.575Z","level":"info","message":"llm_call_metrics","requestId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"7ff1a2fe49f8d71808c8d1fdb99db5320bf5a75739ee80e7efed665ea9588077","outputDigest":"5af248b63fed3c73350376c1d32988fbeb95f6a40181a19b7e450c5651a56ea6","addedSkillCount":0,"template":"resume_rewrite","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.577Z","level":"info","message":"generation_section_rewrite_completed","requestId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.580Z","level":"info","message":"generation_resume_verified","requestId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","template":"unknown","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:03:45.588Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20739:7)
          at runMicrotasks (<anonymous>)
      at server.js:23016:28

  console.log
    {"timestamp":"2025-12-04T14:03:45.595Z","level":"info","message":"generation_cover_letters_completed","requestId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","variants":2,"fallbackApplied":true,"template":"unknown","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.597Z","level":"info","message":"pdf_generation_attempt","requestId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/e6c5a584-a162-491a-b776-f0d0c21c8d96/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jane_doe/e6c5a584-a162-491a-b776-f0d0c21c8d96/enhanced_modern.pdf","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.598Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/e6c5a584-a162-491a-b776-f0d0c21c8d96/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.599Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/e6c5a584-a162-491a-b776-f0d0c21c8d96/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jane_doe/e6c5a584-a162-491a-b776-f0d0c21c8d96/enhanced_modern.pdf","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.600Z","level":"info","message":"pdf_generation_attempt","requestId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/e6c5a584-a162-491a-b776-f0d0c21c8d96/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jane_doe/e6c5a584-a162-491a-b776-f0d0c21c8d96/enhanced_professional.pdf","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.601Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/e6c5a584-a162-491a-b776-f0d0c21c8d96/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.602Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/e6c5a584-a162-491a-b776-f0d0c21c8d96/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jane_doe/e6c5a584-a162-491a-b776-f0d0c21c8d96/enhanced_professional.pdf","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.603Z","level":"info","message":"pdf_generation_attempt","requestId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/e6c5a584-a162-491a-b776-f0d0c21c8d96/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jane_doe/e6c5a584-a162-491a-b776-f0d0c21c8d96/cover_letter_cover_modern.pdf","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.605Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/e6c5a584-a162-491a-b776-f0d0c21c8d96/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.606Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/e6c5a584-a162-491a-b776-f0d0c21c8d96/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jane_doe/e6c5a584-a162-491a-b776-f0d0c21c8d96/cover_letter_cover_modern.pdf","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.607Z","level":"info","message":"pdf_generation_attempt","requestId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/e6c5a584-a162-491a-b776-f0d0c21c8d96/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jane_doe/e6c5a584-a162-491a-b776-f0d0c21c8d96/cover_letter_cover_professional.pdf","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.608Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/e6c5a584-a162-491a-b776-f0d0c21c8d96/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.609Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/e6c5a584-a162-491a-b776-f0d0c21c8d96/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jane_doe/e6c5a584-a162-491a-b776-f0d0c21c8d96/cover_letter_cover_professional.pdf","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.614Z","level":"info","message":"llm_call_metrics","requestId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.615Z","level":"info","message":"generation_completed","requestId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","enhancedScore":0,"outputs":4,"template":"unknown","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.622Z","level":"info","message":"http_request_completed","requestId":"e6c5a584-a162-491a-b776-f0d0c21c8d96","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":71,"contentLength":"55422","template":"unknown","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e6c5a584-a162-491a-b776-f0d0c21c8d96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.628Z","level":"info","message":"http_request_received","requestId":"64e8d858-f5b4-4bec-826b-64b3365351a5","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.630Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.633Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.642Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.645Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.647Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:45.649Z","level":"warn","message":"generation_job_context_missing","requestId":"64e8d858-f5b4-4bec-826b-64b3365351a5","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:22713:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.680Z","level":"info","message":"llm_call_metrics","requestId":"64e8d858-f5b4-4bec-826b-64b3365351a5","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.681Z","level":"info","message":"generation_section_rewrite_completed","requestId":"64e8d858-f5b4-4bec-826b-64b3365351a5","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64e8d858-f5b4-4bec-826b-64b3365351a5","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.693Z","level":"info","message":"generation_resume_verified","requestId":"64e8d858-f5b4-4bec-826b-64b3365351a5","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64e8d858-f5b4-4bec-826b-64b3365351a5","template":"unknown","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:03:45.722Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"64e8d858-f5b4-4bec-826b-64b3365351a5","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64e8d858-f5b4-4bec-826b-64b3365351a5","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20739:7)
          at runMicrotasks (<anonymous>)
      at server.js:23016:28

  console.log
    {"timestamp":"2025-12-04T14:03:45.734Z","level":"info","message":"generation_cover_letters_completed","requestId":"64e8d858-f5b4-4bec-826b-64b3365351a5","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64e8d858-f5b4-4bec-826b-64b3365351a5","variants":2,"fallbackApplied":true,"template":"unknown","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.735Z","level":"info","message":"pdf_generation_attempt","requestId":"64e8d858-f5b4-4bec-826b-64b3365351a5","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64e8d858-f5b4-4bec-826b-64b3365351a5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/64e8d858-f5b4-4bec-826b-64b3365351a5/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/64e8d858-f5b4-4bec-826b-64b3365351a5/enhanced_modern.pdf","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.738Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"64e8d858-f5b4-4bec-826b-64b3365351a5","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64e8d858-f5b4-4bec-826b-64b3365351a5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/64e8d858-f5b4-4bec-826b-64b3365351a5/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.742Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"64e8d858-f5b4-4bec-826b-64b3365351a5","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64e8d858-f5b4-4bec-826b-64b3365351a5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/64e8d858-f5b4-4bec-826b-64b3365351a5/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/64e8d858-f5b4-4bec-826b-64b3365351a5/enhanced_modern.pdf","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.743Z","level":"info","message":"pdf_generation_attempt","requestId":"64e8d858-f5b4-4bec-826b-64b3365351a5","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64e8d858-f5b4-4bec-826b-64b3365351a5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/64e8d858-f5b4-4bec-826b-64b3365351a5/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/64e8d858-f5b4-4bec-826b-64b3365351a5/enhanced_professional.pdf","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.744Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"64e8d858-f5b4-4bec-826b-64b3365351a5","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64e8d858-f5b4-4bec-826b-64b3365351a5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/64e8d858-f5b4-4bec-826b-64b3365351a5/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.745Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"64e8d858-f5b4-4bec-826b-64b3365351a5","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64e8d858-f5b4-4bec-826b-64b3365351a5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/64e8d858-f5b4-4bec-826b-64b3365351a5/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/64e8d858-f5b4-4bec-826b-64b3365351a5/enhanced_professional.pdf","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.746Z","level":"info","message":"pdf_generation_attempt","requestId":"64e8d858-f5b4-4bec-826b-64b3365351a5","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64e8d858-f5b4-4bec-826b-64b3365351a5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/64e8d858-f5b4-4bec-826b-64b3365351a5/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/64e8d858-f5b4-4bec-826b-64b3365351a5/cover_letter_cover_modern.pdf","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.747Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"64e8d858-f5b4-4bec-826b-64b3365351a5","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64e8d858-f5b4-4bec-826b-64b3365351a5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/64e8d858-f5b4-4bec-826b-64b3365351a5/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.748Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"64e8d858-f5b4-4bec-826b-64b3365351a5","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64e8d858-f5b4-4bec-826b-64b3365351a5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/64e8d858-f5b4-4bec-826b-64b3365351a5/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/64e8d858-f5b4-4bec-826b-64b3365351a5/cover_letter_cover_modern.pdf","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.749Z","level":"info","message":"pdf_generation_attempt","requestId":"64e8d858-f5b4-4bec-826b-64b3365351a5","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64e8d858-f5b4-4bec-826b-64b3365351a5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/64e8d858-f5b4-4bec-826b-64b3365351a5/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/64e8d858-f5b4-4bec-826b-64b3365351a5/cover_letter_cover_professional.pdf","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.750Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"64e8d858-f5b4-4bec-826b-64b3365351a5","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64e8d858-f5b4-4bec-826b-64b3365351a5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/64e8d858-f5b4-4bec-826b-64b3365351a5/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.753Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"64e8d858-f5b4-4bec-826b-64b3365351a5","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64e8d858-f5b4-4bec-826b-64b3365351a5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/64e8d858-f5b4-4bec-826b-64b3365351a5/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/64e8d858-f5b4-4bec-826b-64b3365351a5/cover_letter_cover_professional.pdf","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.762Z","level":"info","message":"llm_call_metrics","requestId":"64e8d858-f5b4-4bec-826b-64b3365351a5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.766Z","level":"info","message":"generation_completed","requestId":"64e8d858-f5b4-4bec-826b-64b3365351a5","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64e8d858-f5b4-4bec-826b-64b3365351a5","enhancedScore":0,"outputs":4,"template":"unknown","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.769Z","level":"info","message":"http_request_completed","requestId":"64e8d858-f5b4-4bec-826b-64b3365351a5","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":141,"contentLength":"60025","template":"unknown","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64e8d858-f5b4-4bec-826b-64b3365351a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.784Z","level":"info","message":"http_request_received","requestId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.786Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.788Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.791Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.797Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.798Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:45.800Z","level":"warn","message":"generation_job_context_missing","requestId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:22713:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.830Z","level":"info","message":"llm_call_metrics","requestId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.835Z","level":"info","message":"generation_section_rewrite_completed","requestId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.846Z","level":"info","message":"generation_resume_verified","requestId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","template":"unknown","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:03:45.874Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","invalidLetters":[{"key":"cover_letter1","issues":["placeholder_detected","weak_closing","section_heading_without_content"]}],"template":"unknown","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20550:7)
          at runMicrotasks (<anonymous>)
      at server.js:23016:28

  console.warn
    {"timestamp":"2025-12-04T14:03:45.888Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","missing":["cover_letter1"],"template":"unknown","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20739:7)
          at runMicrotasks (<anonymous>)
      at server.js:23016:28

  console.log
    {"timestamp":"2025-12-04T14:03:45.899Z","level":"info","message":"generation_cover_letters_completed","requestId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","variants":2,"fallbackApplied":true,"template":"unknown","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.902Z","level":"info","message":"pdf_generation_attempt","requestId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1/enhanced_modern.pdf","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.903Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.906Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1/enhanced_modern.pdf","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.908Z","level":"info","message":"pdf_generation_attempt","requestId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1/enhanced_professional.pdf","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.910Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.911Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1/enhanced_professional.pdf","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.912Z","level":"info","message":"pdf_generation_attempt","requestId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1/cover_letter_cover_modern.pdf","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.912Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.913Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1/cover_letter_cover_modern.pdf","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.914Z","level":"info","message":"pdf_generation_attempt","requestId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1/cover_letter_cover_professional.pdf","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.915Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.916Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1/cover_letter_cover_professional.pdf","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.921Z","level":"info","message":"llm_call_metrics","requestId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.923Z","level":"info","message":"generation_completed","requestId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","enhancedScore":0,"outputs":4,"template":"unknown","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.929Z","level":"info","message":"http_request_completed","requestId":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":144,"contentLength":"52626","template":"unknown","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b93c9bda-e8a0-4d29-8d58-6e4b76b10cf1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.934Z","level":"info","message":"http_request_received","requestId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.937Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.943Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.946Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.951Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:45.953Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:45.956Z","level":"warn","message":"generation_job_context_missing","requestId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:22713:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.982Z","level":"info","message":"llm_call_metrics","requestId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:45.984Z","level":"info","message":"generation_section_rewrite_completed","requestId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.026Z","level":"info","message":"generation_resume_verified","requestId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","template":"unknown","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:03:46.039Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing"]}],"template":"unknown","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20550:7)
          at runMicrotasks (<anonymous>)
      at server.js:23016:28

  console.log
    {"timestamp":"2025-12-04T14:03:46.051Z","level":"info","message":"generation_cover_letters_confident_closing_applied","requestId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","variants":["cover_letter1"],"template":"unknown","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.062Z","level":"info","message":"generation_cover_letters_completed","requestId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","variants":2,"fallbackApplied":true,"template":"unknown","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.065Z","level":"info","message":"pdf_generation_attempt","requestId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d/enhanced_modern.pdf","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.069Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.071Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d/enhanced_modern.pdf","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.073Z","level":"info","message":"pdf_generation_attempt","requestId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d/enhanced_professional.pdf","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.074Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.075Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d/enhanced_professional.pdf","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.076Z","level":"info","message":"pdf_generation_attempt","requestId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d/cover_letter_cover_modern.pdf","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.077Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.079Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d/cover_letter_cover_modern.pdf","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.083Z","level":"info","message":"pdf_generation_attempt","requestId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d/cover_letter_cover_professional.pdf","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.086Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.089Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d/cover_letter_cover_professional.pdf","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.099Z","level":"info","message":"llm_call_metrics","requestId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.101Z","level":"info","message":"generation_completed","requestId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","enhancedScore":0,"outputs":4,"template":"unknown","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.105Z","level":"info","message":"http_request_completed","requestId":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":171,"contentLength":"48347","template":"unknown","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf04ee82-9dc0-48b2-98aa-4dab49a7cb6d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:46.160Z","level":"info","message":"http_request_received","requestId":"2c5a6eea-0673-4b64-a00f-309833489ad5","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:46.163Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:46.168Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:46.174Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:46.176Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:46.187Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:46.189Z","level":"warn","message":"generation_job_context_missing","requestId":"2c5a6eea-0673-4b64-a00f-309833489ad5","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:22713:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.205Z","level":"info","message":"llm_call_metrics","requestId":"2c5a6eea-0673-4b64-a00f-309833489ad5","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.206Z","level":"info","message":"generation_section_rewrite_completed","requestId":"2c5a6eea-0673-4b64-a00f-309833489ad5","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2c5a6eea-0673-4b64-a00f-309833489ad5","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.212Z","level":"info","message":"generation_resume_verified","requestId":"2c5a6eea-0673-4b64-a00f-309833489ad5","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2c5a6eea-0673-4b64-a00f-309833489ad5","template":"unknown","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:03:46.260Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"2c5a6eea-0673-4b64-a00f-309833489ad5","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2c5a6eea-0673-4b64-a00f-309833489ad5","invalidLetters":[{"key":"cover_letter1","issues":["exceeds_word_limit"]},{"key":"cover_letter2","issues":["exceeds_word_limit"]}],"template":"unknown","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20550:7)
          at runMicrotasks (<anonymous>)
      at server.js:23016:28

  console.warn
    {"timestamp":"2025-12-04T14:03:46.278Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"2c5a6eea-0673-4b64-a00f-309833489ad5","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2c5a6eea-0673-4b64-a00f-309833489ad5","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20739:7)
          at runMicrotasks (<anonymous>)
      at server.js:23016:28

  console.log
    {"timestamp":"2025-12-04T14:03:46.462Z","level":"info","message":"generation_cover_letters_completed","requestId":"2c5a6eea-0673-4b64-a00f-309833489ad5","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2c5a6eea-0673-4b64-a00f-309833489ad5","variants":2,"fallbackApplied":true,"template":"unknown","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.467Z","level":"info","message":"pdf_generation_attempt","requestId":"2c5a6eea-0673-4b64-a00f-309833489ad5","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2c5a6eea-0673-4b64-a00f-309833489ad5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/2c5a6eea-0673-4b64-a00f-309833489ad5/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/2c5a6eea-0673-4b64-a00f-309833489ad5/enhanced_modern.pdf","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.468Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2c5a6eea-0673-4b64-a00f-309833489ad5","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2c5a6eea-0673-4b64-a00f-309833489ad5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/2c5a6eea-0673-4b64-a00f-309833489ad5/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.469Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2c5a6eea-0673-4b64-a00f-309833489ad5","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2c5a6eea-0673-4b64-a00f-309833489ad5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/2c5a6eea-0673-4b64-a00f-309833489ad5/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/2c5a6eea-0673-4b64-a00f-309833489ad5/enhanced_modern.pdf","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.470Z","level":"info","message":"pdf_generation_attempt","requestId":"2c5a6eea-0673-4b64-a00f-309833489ad5","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2c5a6eea-0673-4b64-a00f-309833489ad5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/2c5a6eea-0673-4b64-a00f-309833489ad5/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/2c5a6eea-0673-4b64-a00f-309833489ad5/enhanced_professional.pdf","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.471Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2c5a6eea-0673-4b64-a00f-309833489ad5","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2c5a6eea-0673-4b64-a00f-309833489ad5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/2c5a6eea-0673-4b64-a00f-309833489ad5/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.472Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2c5a6eea-0673-4b64-a00f-309833489ad5","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2c5a6eea-0673-4b64-a00f-309833489ad5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/2c5a6eea-0673-4b64-a00f-309833489ad5/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/2c5a6eea-0673-4b64-a00f-309833489ad5/enhanced_professional.pdf","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.474Z","level":"info","message":"pdf_generation_attempt","requestId":"2c5a6eea-0673-4b64-a00f-309833489ad5","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2c5a6eea-0673-4b64-a00f-309833489ad5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/2c5a6eea-0673-4b64-a00f-309833489ad5/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/2c5a6eea-0673-4b64-a00f-309833489ad5/cover_letter_cover_modern.pdf","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.476Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2c5a6eea-0673-4b64-a00f-309833489ad5","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2c5a6eea-0673-4b64-a00f-309833489ad5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/2c5a6eea-0673-4b64-a00f-309833489ad5/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.478Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2c5a6eea-0673-4b64-a00f-309833489ad5","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2c5a6eea-0673-4b64-a00f-309833489ad5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/2c5a6eea-0673-4b64-a00f-309833489ad5/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/2c5a6eea-0673-4b64-a00f-309833489ad5/cover_letter_cover_modern.pdf","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.479Z","level":"info","message":"pdf_generation_attempt","requestId":"2c5a6eea-0673-4b64-a00f-309833489ad5","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2c5a6eea-0673-4b64-a00f-309833489ad5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/2c5a6eea-0673-4b64-a00f-309833489ad5/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/2c5a6eea-0673-4b64-a00f-309833489ad5/cover_letter_cover_professional.pdf","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.480Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2c5a6eea-0673-4b64-a00f-309833489ad5","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2c5a6eea-0673-4b64-a00f-309833489ad5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/2c5a6eea-0673-4b64-a00f-309833489ad5/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.481Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2c5a6eea-0673-4b64-a00f-309833489ad5","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2c5a6eea-0673-4b64-a00f-309833489ad5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/2c5a6eea-0673-4b64-a00f-309833489ad5/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/2c5a6eea-0673-4b64-a00f-309833489ad5/cover_letter_cover_professional.pdf","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.504Z","level":"info","message":"llm_call_metrics","requestId":"2c5a6eea-0673-4b64-a00f-309833489ad5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.507Z","level":"info","message":"generation_completed","requestId":"2c5a6eea-0673-4b64-a00f-309833489ad5","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2c5a6eea-0673-4b64-a00f-309833489ad5","enhancedScore":0,"outputs":4,"template":"unknown","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.512Z","level":"info","message":"http_request_completed","requestId":"2c5a6eea-0673-4b64-a00f-309833489ad5","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":352,"contentLength":"60025","template":"unknown","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2c5a6eea-0673-4b64-a00f-309833489ad5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:46.521Z","level":"info","message":"http_request_received","requestId":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:46.524Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:46.527Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:46.533Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:46.539Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:46.540Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:46.543Z","level":"warn","message":"generation_job_context_missing","requestId":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:22713:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.574Z","level":"info","message":"llm_call_metrics","requestId":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"d49fc3c9f3e6b68c516d8ed2277f352be0cdf73d24dc9159a6ddd8d2156f86c9","outputDigest":"df45602e27dd18441258611754779b1df94aaddbe2a7ac6965c12432f6053bc4","addedSkillCount":0,"template":"resume_rewrite","session":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.575Z","level":"info","message":"generation_section_rewrite_completed","requestId":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.578Z","level":"info","message":"generation_resume_verified","requestId":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","template":"unknown","session":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:03:46.582Z","level":"warn","message":"generation_cover_letters_unavailable","requestId":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","unavailable":["cover_letter1","cover_letter2"],"template":"unknown","session":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20756:7)
          at runMicrotasks (<anonymous>)
      at server.js:23016:28

  console.log
    {"timestamp":"2025-12-04T14:03:46.590Z","level":"info","message":"generation_cover_letters_completed","requestId":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","variants":0,"fallbackApplied":false,"template":"unknown","session":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.591Z","level":"info","message":"pdf_generation_attempt","requestId":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/4b72c56d-faa9-45d0-abe6-7dde60dbed5a/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jamie_doe/4b72c56d-faa9-45d0-abe6-7dde60dbed5a/enhanced_modern.pdf","session":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.592Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/4b72c56d-faa9-45d0-abe6-7dde60dbed5a/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.593Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/4b72c56d-faa9-45d0-abe6-7dde60dbed5a/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jamie_doe/4b72c56d-faa9-45d0-abe6-7dde60dbed5a/enhanced_modern.pdf","session":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.593Z","level":"info","message":"pdf_generation_attempt","requestId":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/4b72c56d-faa9-45d0-abe6-7dde60dbed5a/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jamie_doe/4b72c56d-faa9-45d0-abe6-7dde60dbed5a/enhanced_professional.pdf","session":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.594Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/4b72c56d-faa9-45d0-abe6-7dde60dbed5a/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.595Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/4b72c56d-faa9-45d0-abe6-7dde60dbed5a/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jamie_doe/4b72c56d-faa9-45d0-abe6-7dde60dbed5a/enhanced_professional.pdf","session":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.598Z","level":"info","message":"llm_call_metrics","requestId":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.599Z","level":"info","message":"generation_completed","requestId":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","enhancedScore":0,"outputs":2,"template":"unknown","session":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.602Z","level":"info","message":"http_request_completed","requestId":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":81,"contentLength":"32129","template":"unknown","session":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4b72c56d-faa9-45d0-abe6-7dde60dbed5a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:46.610Z","level":"info","message":"http_request_received","requestId":"17277749-e23b-42b9-8cc4-48374bad6313","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:46.726Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:46.729Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:46.734Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:46.740Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:46.743Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:46.755Z","level":"warn","message":"generation_change_log_load_failed","requestId":"17277749-e23b-42b9-8cc4-48374bad6313","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","bucket":"test-bucket","key":"cv/candidate/session/logs/change-log.json","error":{"name":"ReferenceError","message":"sessionScoreSnapshot is not defined","stack":"ReferenceError: sessionScoreSnapshot is not defined\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:22779:34\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:22781:13
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.771Z","level":"info","message":"generation_session_artifacts_refreshed","requestId":"17277749-e23b-42b9-8cc4-48374bad6313","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","reason":"job_description_changed","template":"unknown","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.779Z","level":"info","message":"llm_call_metrics","requestId":"17277749-e23b-42b9-8cc4-48374bad6313","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"acf1b9378acb575b229122bd0509d239fb40292b5a2de638f8974b10630dddf9","outputDigest":"d38deb915a9824cbd24a0a21322f3421cffa08850deba8b630d4c012e36accc6","addedSkillCount":0,"template":"resume_rewrite","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.780Z","level":"info","message":"generation_section_rewrite_completed","requestId":"17277749-e23b-42b9-8cc4-48374bad6313","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"17277749-e23b-42b9-8cc4-48374bad6313","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.782Z","level":"info","message":"llm_call_metrics","requestId":"17277749-e23b-42b9-8cc4-48374bad6313","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"a89c45c951abfe25af2671eb78aaf142165e3f6bd78d4b83089b4f9a78e64f20","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":1,"template":"project_summary","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.787Z","level":"info","message":"generation_resume_verified","requestId":"17277749-e23b-42b9-8cc4-48374bad6313","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"17277749-e23b-42b9-8cc4-48374bad6313","template":"unknown","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:03:46.794Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"17277749-e23b-42b9-8cc4-48374bad6313","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"17277749-e23b-42b9-8cc4-48374bad6313","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20550:7)
          at runMicrotasks (<anonymous>)
      at server.js:23016:28

  console.warn
    {"timestamp":"2025-12-04T14:03:46.818Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"17277749-e23b-42b9-8cc4-48374bad6313","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"17277749-e23b-42b9-8cc4-48374bad6313","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20739:7)
          at runMicrotasks (<anonymous>)
      at server.js:23016:28

  console.log
    {"timestamp":"2025-12-04T14:03:46.838Z","level":"info","message":"generation_cover_letters_completed","requestId":"17277749-e23b-42b9-8cc4-48374bad6313","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"17277749-e23b-42b9-8cc4-48374bad6313","variants":2,"fallbackApplied":true,"template":"unknown","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.840Z","level":"info","message":"pdf_generation_attempt","requestId":"17277749-e23b-42b9-8cc4-48374bad6313","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"17277749-e23b-42b9-8cc4-48374bad6313","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.842Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"17277749-e23b-42b9-8cc4-48374bad6313","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"17277749-e23b-42b9-8cc4-48374bad6313","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.843Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"17277749-e23b-42b9-8cc4-48374bad6313","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"17277749-e23b-42b9-8cc4-48374bad6313","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.844Z","level":"info","message":"pdf_generation_attempt","requestId":"17277749-e23b-42b9-8cc4-48374bad6313","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"17277749-e23b-42b9-8cc4-48374bad6313","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.845Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"17277749-e23b-42b9-8cc4-48374bad6313","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"17277749-e23b-42b9-8cc4-48374bad6313","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.846Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"17277749-e23b-42b9-8cc4-48374bad6313","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"17277749-e23b-42b9-8cc4-48374bad6313","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.847Z","level":"info","message":"pdf_generation_attempt","requestId":"17277749-e23b-42b9-8cc4-48374bad6313","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"17277749-e23b-42b9-8cc4-48374bad6313","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.848Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"17277749-e23b-42b9-8cc4-48374bad6313","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"17277749-e23b-42b9-8cc4-48374bad6313","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.849Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"17277749-e23b-42b9-8cc4-48374bad6313","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"17277749-e23b-42b9-8cc4-48374bad6313","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.850Z","level":"info","message":"pdf_generation_attempt","requestId":"17277749-e23b-42b9-8cc4-48374bad6313","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"17277749-e23b-42b9-8cc4-48374bad6313","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.851Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"17277749-e23b-42b9-8cc4-48374bad6313","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"17277749-e23b-42b9-8cc4-48374bad6313","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.852Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"17277749-e23b-42b9-8cc4-48374bad6313","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"17277749-e23b-42b9-8cc4-48374bad6313","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.868Z","level":"info","message":"llm_call_metrics","requestId":"17277749-e23b-42b9-8cc4-48374bad6313","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"6daad81d53ca29e2440dbdfd5e7ac149ac9bc677f5bd5a926b958a85793be6c1","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.870Z","level":"info","message":"generation_completed","requestId":"17277749-e23b-42b9-8cc4-48374bad6313","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"17277749-e23b-42b9-8cc4-48374bad6313","enhancedScore":0,"outputs":5,"template":"unknown","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.874Z","level":"info","message":"http_request_completed","requestId":"17277749-e23b-42b9-8cc4-48374bad6313","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":264,"contentLength":"52667","template":"unknown","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"17277749-e23b-42b9-8cc4-48374bad6313","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:46.881Z","level":"info","message":"http_request_received","requestId":"8be58309-782c-48d5-9590-a95e60f1a640","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:46.883Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:46.886Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:46.888Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:46.891Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:46.892Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:46.895Z","level":"warn","message":"generation_change_log_load_failed","requestId":"8be58309-782c-48d5-9590-a95e60f1a640","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","bucket":"test-bucket","key":"cv/candidate/session/logs/change-log.json","error":{"name":"ReferenceError","message":"sessionScoreSnapshot is not defined","stack":"ReferenceError: sessionScoreSnapshot is not defined\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:22779:34\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:22781:13
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.903Z","level":"info","message":"generation_session_artifacts_refreshed","requestId":"8be58309-782c-48d5-9590-a95e60f1a640","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","reason":"job_description_changed","template":"unknown","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.907Z","level":"info","message":"llm_call_metrics","requestId":"8be58309-782c-48d5-9590-a95e60f1a640","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"fc71d2d7420045c9674c39d1bc893139670e4554452723b0b8930f14ae74efd1","outputDigest":"994365ee088ebf4da994d91479825476737b8633f45dc9441cf82f317f739457","addedSkillCount":0,"template":"resume_rewrite","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.908Z","level":"info","message":"generation_section_rewrite_completed","requestId":"8be58309-782c-48d5-9590-a95e60f1a640","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8be58309-782c-48d5-9590-a95e60f1a640","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.909Z","level":"info","message":"llm_call_metrics","requestId":"8be58309-782c-48d5-9590-a95e60f1a640","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"2941229673895ce87f4eb2dd47c041b77270273e0250170302676d5a10351fbf","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":1,"template":"project_summary","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.916Z","level":"info","message":"generation_resume_verified","requestId":"8be58309-782c-48d5-9590-a95e60f1a640","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8be58309-782c-48d5-9590-a95e60f1a640","template":"unknown","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:03:46.923Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"8be58309-782c-48d5-9590-a95e60f1a640","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8be58309-782c-48d5-9590-a95e60f1a640","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20550:7)
          at runMicrotasks (<anonymous>)
      at server.js:23016:28

  console.warn
    {"timestamp":"2025-12-04T14:03:46.953Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"8be58309-782c-48d5-9590-a95e60f1a640","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8be58309-782c-48d5-9590-a95e60f1a640","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20739:7)
          at runMicrotasks (<anonymous>)
      at server.js:23016:28

  console.log
    {"timestamp":"2025-12-04T14:03:46.964Z","level":"info","message":"generation_cover_letters_completed","requestId":"8be58309-782c-48d5-9590-a95e60f1a640","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8be58309-782c-48d5-9590-a95e60f1a640","variants":2,"fallbackApplied":true,"template":"unknown","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.965Z","level":"info","message":"pdf_generation_attempt","requestId":"8be58309-782c-48d5-9590-a95e60f1a640","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8be58309-782c-48d5-9590-a95e60f1a640","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.970Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8be58309-782c-48d5-9590-a95e60f1a640","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8be58309-782c-48d5-9590-a95e60f1a640","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.971Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8be58309-782c-48d5-9590-a95e60f1a640","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8be58309-782c-48d5-9590-a95e60f1a640","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.987Z","level":"info","message":"pdf_generation_attempt","requestId":"8be58309-782c-48d5-9590-a95e60f1a640","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8be58309-782c-48d5-9590-a95e60f1a640","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.988Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8be58309-782c-48d5-9590-a95e60f1a640","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8be58309-782c-48d5-9590-a95e60f1a640","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.989Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8be58309-782c-48d5-9590-a95e60f1a640","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8be58309-782c-48d5-9590-a95e60f1a640","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.990Z","level":"info","message":"pdf_generation_attempt","requestId":"8be58309-782c-48d5-9590-a95e60f1a640","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8be58309-782c-48d5-9590-a95e60f1a640","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.991Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8be58309-782c-48d5-9590-a95e60f1a640","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8be58309-782c-48d5-9590-a95e60f1a640","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.992Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8be58309-782c-48d5-9590-a95e60f1a640","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8be58309-782c-48d5-9590-a95e60f1a640","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.993Z","level":"info","message":"pdf_generation_attempt","requestId":"8be58309-782c-48d5-9590-a95e60f1a640","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8be58309-782c-48d5-9590-a95e60f1a640","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.994Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8be58309-782c-48d5-9590-a95e60f1a640","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8be58309-782c-48d5-9590-a95e60f1a640","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.994Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8be58309-782c-48d5-9590-a95e60f1a640","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8be58309-782c-48d5-9590-a95e60f1a640","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.997Z","level":"info","message":"llm_call_metrics","requestId":"8be58309-782c-48d5-9590-a95e60f1a640","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"bb70bada40357e7ad85703e98908783ac38c79f83207e1ee038136c2f4863594","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:46.998Z","level":"info","message":"generation_completed","requestId":"8be58309-782c-48d5-9590-a95e60f1a640","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8be58309-782c-48d5-9590-a95e60f1a640","enhancedScore":0,"outputs":5,"template":"unknown","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.003Z","level":"info","message":"http_request_completed","requestId":"8be58309-782c-48d5-9590-a95e60f1a640","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":122,"contentLength":"50998","template":"unknown","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8be58309-782c-48d5-9590-a95e60f1a640","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.010Z","level":"info","message":"http_request_received","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","method":"POST","path":"/api/process-cv","template":"unknown","session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.012Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.015Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.018Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.021Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.027Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/04ba6593-a617-4e6c-a7d1-876f36e46854/incoming/original.pdf","chunks":1,"timestamp":1764857027031}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/04ba6593-a617-4e6c-a7d1-876f36e46854/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/04ba6593-a617-4e6c-a7d1-876f36e46854/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.033Z","level":"info","message":"process_cv_started","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","jobId":"63347a19-5d03-48f9-ab15-974ea1ef924f","manualJobDescriptionProvided":true,"template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.035Z","level":"info","message":"template_selection","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","jobId":"63347a19-5d03-48f9-ab15-974ea1ef924f","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:47.035Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","jobId":"63347a19-5d03-48f9-ab15-974ea1ef924f","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at server.js:25147:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24787:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T14:03:47.060Z","level":"info","message":"initial_upload_completed","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","jobId":"63347a19-5d03-48f9-ab15-974ea1ef924f","bucket":"test-bucket","key":"cv/candidate/04ba6593-a617-4e6c-a7d1-876f36e46854/incoming/original.pdf","template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.061Z","level":"info","message":"resume_text_extracted","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","jobId":"63347a19-5d03-48f9-ab15-974ea1ef924f","characters":57,"template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.063Z","level":"info","message":"resume_classified","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","jobId":"63347a19-5d03-48f9-ab15-974ea1ef924f","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.064Z","level":"info","message":"raw_upload_relocated","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","jobId":"63347a19-5d03-48f9-ab15-974ea1ef924f","bucket":"test-bucket","fromKey":"cv/candidate/04ba6593-a617-4e6c-a7d1-876f36e46854/incoming/original.pdf","toKey":"cv/professional_summary/04ba6593-a617-4e6c-a7d1-876f36e46854/original.pdf","template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.067Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","jobId":"63347a19-5d03-48f9-ab15-974ea1ef924f","bucket":"test-bucket","key":"cv/professional_summary/04ba6593-a617-4e6c-a7d1-876f36e46854/original.pdf","template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.069Z","level":"info","message":"dynamo_initial_record_written","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","jobId":"63347a19-5d03-48f9-ab15-974ea1ef924f","bucket":"test-bucket","key":"cv/professional_summary/04ba6593-a617-4e6c-a7d1-876f36e46854/original.pdf","template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.073Z","level":"info","message":"upload_metadata_written","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","jobId":"63347a19-5d03-48f9-ab15-974ea1ef924f","bucket":"test-bucket","key":"cv/professional_summary/04ba6593-a617-4e6c-a7d1-876f36e46854/logs/log.json","template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.073Z","level":"info","message":"job_description_supplied_manually","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","jobId":"63347a19-5d03-48f9-ab15-974ea1ef924f","characters":174,"template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.074Z","level":"info","message":"job_description_analyzed","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","jobId":"63347a19-5d03-48f9-ab15-974ea1ef924f","jobTitle":"","jobSkills":5,"template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.076Z","level":"info","message":"resume_skills_analyzed","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","jobId":"63347a19-5d03-48f9-ab15-974ea1ef924f","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.077Z","level":"info","message":"llm_call_metrics","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.079Z","level":"info","message":"process_cv_scoring_completed","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","jobId":"63347a19-5d03-48f9-ab15-974ea1ef924f","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.084Z","level":"info","message":"llm_call_metrics","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"e0b0f289a004a53fc90e2f086b7a8368b36f3cb57e330732da1cad386d479cd5","addedSkillCount":0,"template":"resume_rewrite","session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.086Z","level":"info","message":"generation_section_rewrite_completed","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","jobId":"63347a19-5d03-48f9-ab15-974ea1ef924f","generationRunId":"04ba6593-a617-4e6c-a7d1-876f36e46854","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.092Z","level":"info","message":"generation_resume_verified","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","jobId":"63347a19-5d03-48f9-ab15-974ea1ef924f","generationRunId":"04ba6593-a617-4e6c-a7d1-876f36e46854","template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T14:03:47.101Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","jobId":"63347a19-5d03-48f9-ab15-974ea1ef924f","generationRunId":"04ba6593-a617-4e6c-a7d1-876f36e46854","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generateEnhancedDocumentsResponse (server.js:20739:7)
          at runMicrotasks (<anonymous>)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:47.115Z","level":"info","message":"generation_cover_letters_completed","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","jobId":"63347a19-5d03-48f9-ab15-974ea1ef924f","generationRunId":"04ba6593-a617-4e6c-a7d1-876f36e46854","variants":2,"fallbackApplied":true,"template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.117Z","level":"info","message":"pdf_generation_attempt","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","jobId":"63347a19-5d03-48f9-ab15-974ea1ef924f","generationRunId":"04ba6593-a617-4e6c-a7d1-876f36e46854","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/04ba6593-a617-4e6c-a7d1-876f36e46854/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/04ba6593-a617-4e6c-a7d1-876f36e46854/enhanced_modern.pdf","session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.118Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","jobId":"63347a19-5d03-48f9-ab15-974ea1ef924f","generationRunId":"04ba6593-a617-4e6c-a7d1-876f36e46854","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/04ba6593-a617-4e6c-a7d1-876f36e46854/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T14:03:47.120Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","jobId":"63347a19-5d03-48f9-ab15-974ea1ef924f","generationRunId":"04ba6593-a617-4e6c-a7d1-876f36e46854","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/04ba6593-a617-4e6c-a7d1-876f36e46854/","sessionId":"[REDACTED]","template":"modern","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3364:27)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/04ba6593-a617-4e6c-a7d1-876f36e46854/enhanced_modern.pdf","environment":{"nodeEnv":"development","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
          at runMicrotasks (<anonymous>)
      at generateEnhancedDocumentsResponse (server.js:21317:11)
      at server.js:26746:28

  console.log
    {"timestamp":"2025-12-04T14:03:47.131Z","level":"info","message":"pdf_generation_attempt","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","jobId":"63347a19-5d03-48f9-ab15-974ea1ef924f","generationRunId":"04ba6593-a617-4e6c-a7d1-876f36e46854","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/04ba6593-a617-4e6c-a7d1-876f36e46854/","sessionId":"[REDACTED]","template":"professional","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/04ba6593-a617-4e6c-a7d1-876f36e46854/enhanced_professional.pdf","session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.132Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","jobId":"63347a19-5d03-48f9-ab15-974ea1ef924f","generationRunId":"04ba6593-a617-4e6c-a7d1-876f36e46854","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/04ba6593-a617-4e6c-a7d1-876f36e46854/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.132Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","jobId":"63347a19-5d03-48f9-ab15-974ea1ef924f","generationRunId":"04ba6593-a617-4e6c-a7d1-876f36e46854","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/04ba6593-a617-4e6c-a7d1-876f36e46854/","sessionId":"[REDACTED]","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/04ba6593-a617-4e6c-a7d1-876f36e46854/enhanced_professional.pdf","session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.133Z","level":"info","message":"pdf_generation_attempt","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","jobId":"63347a19-5d03-48f9-ab15-974ea1ef924f","generationRunId":"04ba6593-a617-4e6c-a7d1-876f36e46854","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/04ba6593-a617-4e6c-a7d1-876f36e46854/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/04ba6593-a617-4e6c-a7d1-876f36e46854/enhanced_professional.pdf","session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.134Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","jobId":"63347a19-5d03-48f9-ab15-974ea1ef924f","generationRunId":"04ba6593-a617-4e6c-a7d1-876f36e46854","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/04ba6593-a617-4e6c-a7d1-876f36e46854/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.135Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","jobId":"63347a19-5d03-48f9-ab15-974ea1ef924f","generationRunId":"04ba6593-a617-4e6c-a7d1-876f36e46854","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/04ba6593-a617-4e6c-a7d1-876f36e46854/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/04ba6593-a617-4e6c-a7d1-876f36e46854/enhanced_professional.pdf","session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.136Z","level":"info","message":"pdf_generation_attempt","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","jobId":"63347a19-5d03-48f9-ab15-974ea1ef924f","generationRunId":"04ba6593-a617-4e6c-a7d1-876f36e46854","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/04ba6593-a617-4e6c-a7d1-876f36e46854/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/04ba6593-a617-4e6c-a7d1-876f36e46854/cover_letter_cover_modern.pdf","session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.137Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","jobId":"63347a19-5d03-48f9-ab15-974ea1ef924f","generationRunId":"04ba6593-a617-4e6c-a7d1-876f36e46854","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/04ba6593-a617-4e6c-a7d1-876f36e46854/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.138Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","jobId":"63347a19-5d03-48f9-ab15-974ea1ef924f","generationRunId":"04ba6593-a617-4e6c-a7d1-876f36e46854","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/04ba6593-a617-4e6c-a7d1-876f36e46854/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":16,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/04ba6593-a617-4e6c-a7d1-876f36e46854/cover_letter_cover_modern.pdf","session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.139Z","level":"info","message":"pdf_generation_attempt","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","jobId":"63347a19-5d03-48f9-ab15-974ea1ef924f","generationRunId":"04ba6593-a617-4e6c-a7d1-876f36e46854","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/04ba6593-a617-4e6c-a7d1-876f36e46854/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/04ba6593-a617-4e6c-a7d1-876f36e46854/cover_letter_cover_professional.pdf","session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.140Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","jobId":"63347a19-5d03-48f9-ab15-974ea1ef924f","generationRunId":"04ba6593-a617-4e6c-a7d1-876f36e46854","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/04ba6593-a617-4e6c-a7d1-876f36e46854/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.140Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","jobId":"63347a19-5d03-48f9-ab15-974ea1ef924f","generationRunId":"04ba6593-a617-4e6c-a7d1-876f36e46854","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/04ba6593-a617-4e6c-a7d1-876f36e46854/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":22,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/04ba6593-a617-4e6c-a7d1-876f36e46854/cover_letter_cover_professional.pdf","session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.144Z","level":"info","message":"llm_call_metrics","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"b81624598eca82514b81f4fd0ef858c4f8eda9605bf4a3b33ed31144fa2daed3","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.145Z","level":"info","message":"generation_completed","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","jobId":"63347a19-5d03-48f9-ab15-974ea1ef924f","generationRunId":"04ba6593-a617-4e6c-a7d1-876f36e46854","enhancedScore":80,"outputs":5,"template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.149Z","level":"info","message":"placeholder_record_deleted","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","jobId":"63347a19-5d03-48f9-ab15-974ea1ef924f","placeholderIdentifier":"04ba6593-a617-4e6c-a7d1-876f36e46854","template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63347a19-5d03-48f9-ab15-974ea1ef924f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.152Z","level":"info","message":"http_request_completed","requestId":"04ba6593-a617-4e6c-a7d1-876f36e46854","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":142,"contentLength":"59519","template":"unknown","session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"04ba6593-a617-4e6c-a7d1-876f36e46854","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.161Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"2025","attempt":1,"totalAttempts":2,"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.163Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"2025","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T14:03:47.165Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"2025","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","code":"TEMPLATE_RENDER_FAILED","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3469:25)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3483:20)

  console.log
    {"timestamp":"2025-12-04T14:03:47.173Z","level":"info","message":"pdf_generation_backstop_succeeded","documentType":"resume","template":"2025","templatesBackstopped":["2025"],"backstopResults":[{"templateId":"2025","bytes":1024}],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.174Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"modern","attempt":2,"totalAttempts":2,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.175Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.176Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"modern","attempt":2,"bytes":10,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.180Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"modern","attempt":1,"totalAttempts":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.181Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T14:03:47.182Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"modern","attempt":1,"error":{"name":"Error","message":"Modern renderer unavailable","stack":"Error: Modern renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3508:30)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3512:20)

  console.log
    {"timestamp":"2025-12-04T14:03:47.193Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"professional","attempt":2,"totalAttempts":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.196Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"professional","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.203Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.207Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"2025","attempt":1,"totalAttempts":3,"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.208Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"2025","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T14:03:47.209Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"2025","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","code":"TEMPLATE_RENDER_FAILED","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3530:25)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3543:20)

  console.log
    {"timestamp":"2025-12-04T14:03:47.219Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"professional","attempt":2,"totalAttempts":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.220Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"professional","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.221Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.224Z","level":"info","message":"pdf_generation_attempt","documentType":"cover_letter","template":"cover_modern","attempt":1,"totalAttempts":1,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cover_letter_cover_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.225Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"cover_letter","template":"cover_modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T14:03:47.236Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"cover_letter","template":"cover_modern","attempt":1,"error":{"name":"Error","message":"Primary renderer offline","stack":"Error: Primary renderer offline\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3561:48)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11019:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3598:5)

  console.warn
    {"timestamp":"2025-12-04T14:03:47.247Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","forcedFallback":false,"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11163:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3598:5)

  console.error
    {"timestamp":"2025-12-04T14:03:47.265Z","level":"error","message":"pdf_generation_plain_fallback_failed","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","error":{"name":"Error","message":"Plain fallback offline","stack":"Error: Plain fallback offline\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3563:13\n    at generatePlainPdfFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9799:12)\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11167:36)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3598:5)"},"forcedFallback":false,"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11212:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3598:5)

  console.error
    {"timestamp":"2025-12-04T14:03:47.282Z","level":"error","message":"pdf_generation_minimal_fallback_failed","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","forcedFallback":false,"error":{"name":"Error","message":"Minimal fallback unavailable","stack":"Error: Minimal fallback unavailable\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3566:13\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11233:29)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3598:5)"},"previousError":{"name":"Error","message":"Plain fallback offline","stack":"Error: Plain fallback offline\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3563:13\n    at generatePlainPdfFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9799:12)\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11167:36)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3598:5)"},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11256:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3598:5)

  console.error
    {"timestamp":"2025-12-04T14:03:47.294Z","level":"error","message":"pdf_generation_all_attempts_failed","documentType":"cover_letter","templates":["cover_modern"],"error":{"name":"Error","message":"Minimal fallback unavailable","stack":"Error: Minimal fallback unavailable\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3566:13\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11233:29)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3598:5)"},"targetFilePath":"cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"summary":"Unable to generate cover letter PDF. Tried templates: Modern Cover Letter. Last error: Minimal fallback unavailable","messages":["Unable to generate cover letter PDF. Tried templates: Modern Cover Letter. Last error: Minimal fallback unavailable"],"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3464 |     const safePayload = sanitizeLogPayload(payload);
      3465 |     const serialised = JSON.stringify(safePayload);
    > 3466 |     logFn(serialised);
           |     ^
      3467 |     if (level === 'error') {
      3468 |       scheduleErrorLog(safePayload);
      3469 |     }

      at logStructured (server.js:3466:5)
      at generatePdfWithFallback (server.js:11278:3)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3598:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.411Z","level":"info","message":"http_request_received","requestId":"1bb19995-5cc4-419f-a46b-289482c7b99b","method":"POST","path":"/api/change-log","template":"unknown","session":"1bb19995-5cc4-419f-a46b-289482c7b99b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1bb19995-5cc4-419f-a46b-289482c7b99b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.413Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.416Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.419Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.424Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.426Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.432Z","level":"info","message":"change_log_updated","requestId":"1bb19995-5cc4-419f-a46b-289482c7b99b","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.437Z","level":"info","message":"http_request_completed","requestId":"1bb19995-5cc4-419f-a46b-289482c7b99b","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":26,"contentLength":"48197","template":"unknown","session":"1bb19995-5cc4-419f-a46b-289482c7b99b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1bb19995-5cc4-419f-a46b-289482c7b99b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.450Z","level":"info","message":"http_request_received","requestId":"eadea25d-3880-4de2-964e-158948a401b2","method":"POST","path":"/api/change-log","template":"unknown","session":"eadea25d-3880-4de2-964e-158948a401b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eadea25d-3880-4de2-964e-158948a401b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.452Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.455Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.458Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.462Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.463Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.468Z","level":"info","message":"change_log_updated","requestId":"eadea25d-3880-4de2-964e-158948a401b2","jobId":"job-321","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-321","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-321","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.470Z","level":"info","message":"http_request_completed","requestId":"eadea25d-3880-4de2-964e-158948a401b2","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":20,"contentLength":"1958","template":"unknown","session":"eadea25d-3880-4de2-964e-158948a401b2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eadea25d-3880-4de2-964e-158948a401b2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.479Z","level":"info","message":"http_request_received","requestId":"5013affc-0564-4644-8870-34ece66c18d4","method":"POST","path":"/api/change-log","template":"unknown","session":"5013affc-0564-4644-8870-34ece66c18d4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5013affc-0564-4644-8870-34ece66c18d4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.481Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.485Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.490Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.493Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.496Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.502Z","level":"info","message":"change_log_updated","requestId":"5013affc-0564-4644-8870-34ece66c18d4","jobId":"job-789","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-789","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-789","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.503Z","level":"info","message":"http_request_completed","requestId":"5013affc-0564-4644-8870-34ece66c18d4","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":24,"contentLength":"6061","template":"unknown","session":"5013affc-0564-4644-8870-34ece66c18d4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5013affc-0564-4644-8870-34ece66c18d4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.510Z","level":"info","message":"http_request_received","requestId":"b21e5fe8-6185-4bcf-9ad5-92d80a19c4d0","method":"POST","path":"/api/change-log","template":"unknown","session":"b21e5fe8-6185-4bcf-9ad5-92d80a19c4d0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b21e5fe8-6185-4bcf-9ad5-92d80a19c4d0","build":"local-dev","artifactType":"none"},"userId":"user-789"}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.512Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.514Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.517Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.519Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.521Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.527Z","level":"info","message":"change_log_updated","requestId":"b21e5fe8-6185-4bcf-9ad5-92d80a19c4d0","jobId":"job-session","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-session","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-session","build":"local-dev","artifactType":"none"},"userId":"user-789"}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.529Z","level":"info","message":"http_request_completed","requestId":"b21e5fe8-6185-4bcf-9ad5-92d80a19c4d0","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":19,"contentLength":"1213","template":"unknown","session":"b21e5fe8-6185-4bcf-9ad5-92d80a19c4d0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b21e5fe8-6185-4bcf-9ad5-92d80a19c4d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.533Z","level":"info","message":"http_request_received","requestId":"9c9b0218-af74-420d-8cb5-705046986b66","method":"POST","path":"/api/change-log","template":"unknown","session":"9c9b0218-af74-420d-8cb5-705046986b66","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c9b0218-af74-420d-8cb5-705046986b66","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.535Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.537Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.540Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.542Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.556Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.561Z","level":"info","message":"change_log_updated","requestId":"9c9b0218-af74-420d-8cb5-705046986b66","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.563Z","level":"info","message":"http_request_completed","requestId":"9c9b0218-af74-420d-8cb5-705046986b66","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":30,"contentLength":"789","template":"unknown","session":"9c9b0218-af74-420d-8cb5-705046986b66","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9c9b0218-af74-420d-8cb5-705046986b66","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.568Z","level":"info","message":"http_request_received","requestId":"bd227aaf-227b-421c-bbf5-89fa2fe92317","method":"POST","path":"/api/change-log","template":"unknown","session":"bd227aaf-227b-421c-bbf5-89fa2fe92317","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bd227aaf-227b-421c-bbf5-89fa2fe92317","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.570Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.572Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.574Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.578Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.583Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.588Z","level":"info","message":"change_log_updated","requestId":"bd227aaf-227b-421c-bbf5-89fa2fe92317","jobId":"job-123","route":"change-log","entries":0,"action":"remove","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.589Z","level":"info","message":"http_request_completed","requestId":"bd227aaf-227b-421c-bbf5-89fa2fe92317","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":21,"contentLength":"350","template":"unknown","session":"bd227aaf-227b-421c-bbf5-89fa2fe92317","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bd227aaf-227b-421c-bbf5-89fa2fe92317","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.598Z","level":"info","message":"http_request_received","requestId":"50c52ec6-7564-412e-a896-ca7f11c7e498","method":"POST","path":"/api/change-log","template":"unknown","session":"50c52ec6-7564-412e-a896-ca7f11c7e498","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"50c52ec6-7564-412e-a896-ca7f11c7e498","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.600Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.602Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.604Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.607Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.608Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.611Z","level":"info","message":"change_log_updated","requestId":"50c52ec6-7564-412e-a896-ca7f11c7e498","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.613Z","level":"info","message":"http_request_completed","requestId":"50c52ec6-7564-412e-a896-ca7f11c7e498","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":15,"contentLength":"1151","template":"unknown","session":"50c52ec6-7564-412e-a896-ca7f11c7e498","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"50c52ec6-7564-412e-a896-ca7f11c7e498","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.618Z","level":"info","message":"http_request_received","requestId":"d512c6f5-e5de-4ade-8ff8-623769f44270","method":"POST","path":"/api/change-log","template":"unknown","session":"d512c6f5-e5de-4ade-8ff8-623769f44270","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d512c6f5-e5de-4ade-8ff8-623769f44270","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.620Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.622Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.624Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.630Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.631Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.634Z","level":"info","message":"change_log_updated","requestId":"d512c6f5-e5de-4ade-8ff8-623769f44270","jobId":"job-123","route":"change-log","entries":0,"action":"remove","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.634Z","level":"info","message":"http_request_completed","requestId":"d512c6f5-e5de-4ade-8ff8-623769f44270","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":16,"contentLength":"596","template":"unknown","session":"d512c6f5-e5de-4ade-8ff8-623769f44270","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d512c6f5-e5de-4ade-8ff8-623769f44270","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.639Z","level":"info","message":"http_request_received","requestId":"9b993f49-c5b8-4766-bdc3-79b2c65baf47","method":"POST","path":"/api/change-log","template":"unknown","session":"9b993f49-c5b8-4766-bdc3-79b2c65baf47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b993f49-c5b8-4766-bdc3-79b2c65baf47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.641Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.643Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.645Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.648Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.649Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

  console.log
    {"timestamp":"2025-12-04T14:03:47.654Z","level":"info","message":"change_log_updated","requestId":"9b993f49-c5b8-4766-bdc3-79b2c65baf47","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T14:03:47.655Z","level":"info","message":"http_request_completed","requestId":"9b993f49-c5b8-4766-bdc3-79b2c65baf47","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":16,"contentLength":"2337","template":"unknown","session":"9b993f49-c5b8-4766-bdc3-79b2c65baf47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b993f49-c5b8-4766-bdc3-79b2c65baf47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3466:5)

FAIL tests/server.test.mjs (12.216 s)
  health check
     GET /healthz (127 ms)
  static asset fallbacks
     GET /favicon.ico returns 204 (37 ms)
     serves hashed index asset from S3 when local file is missing (71 ms)
     serves hashed index asset directly from the bundled client when available (70 ms)
     strips API Gateway stage prefixes before resolving static index aliases (41 ms)
     performs HEAD lookup against S3 for hashed index asset metadata (53 ms)
     serves the latest index asset alias via S3 when local files are unavailable (59 ms)
     serves the index asset alias via the S3 manifest when the local manifest is missing (42 ms)
     serves the index asset alias when the manifest contains prefixed S3 keys (53 ms)
     serves the index asset alias via manifest fallback when the primary bundle is missing from S3 (64 ms)
  static asset proxy endpoint
     serves the index alias via the local build (40 ms)
     normalizes stray punctuation in proxy asset queries (69 ms)
     strips inline alias annotations from hashed proxy asset queries (49 ms)
     falls back to S3 when the hashed bundle is unavailable locally (41 ms)
     degrades hashed proxy requests to the index alias when upstream assets are missing (50 ms)
     degrades direct hashed asset requests to the index alias when upstream bundles are missing (146 ms)
     rejects invalid asset paths (78 ms)
  static asset manifest endpoint
     returns manifest data when available (83 ms)
     allows forcing a manifest refresh via query parameter (108 ms)
     returns 503 when manifest is unavailable (104 ms)
  /api/process-cv
     handles DynamoDB table lifecycle (967 ms)
     removes stale session change logs when starting a new upload session (126 ms)
     removes session change log data when the session prefix is reused (327 ms)
     requires manual job description input (257 ms)
     sanitizes manual job description input before analysis (120 ms)
     rejects manual job description input containing prohibited HTML tags (31 ms)
     stores sanitized job description as session input metadata (66 ms)
     accepts uploads without a LinkedIn profile URL (67 ms)
     malformed AI response (102 ms)
     handles code-fenced JSON with extra text (132 ms)
     handles JSON surrounded by text (135 ms)
     returns presigned PDF URLs with labeled asset types (107 ms)
     returns a structured error when download URLs cannot be generated (209 ms)
     cover letter urls include structured metadata (160 ms)
     uses provided templates in preferred order (125 ms)
     uses templates array (119 ms)
     filters AI guidance lines (130 ms)
     resume prompt asks for a project matching job skills (66 ms)
     inserts project into resume text (63 ms)
     adds project section when job description provided (95 ms)
     cover letters omit placeholder sections (107 ms)
     normalizes structured cover letter responses into text (94 ms)
     uses sanitized resume fallback when AI returns plain text for versions (190 ms)
     falls back to plain PDFs when template rendering fails (698 ms)
     final CV includes updated title, project, and skills (144 ms)
     missing file (73 ms)
     unsupported file type (49 ms)
     rejects non-resume content with descriptive feedback (123 ms)
     requires re-upload when classification does not identify a CV (59 ms)
     missing job description text (44 ms)
    download link refresh
       resigns an existing artifact key for the active job (101 ms)
       returns not found when the storage key does not match the job context (26 ms)
    resume size handling
       accepts tiny PDF (32 KB) uploads up to 5 MB (169 ms)
       accepts small DOCX (256 KB) uploads up to 5 MB (168 ms)
       accepts mid-sized PDF (2 MB) uploads up to 5 MB (146 ms)
       accepts near-limit DOCX (just under 5 MB) uploads up to 5 MB (289 ms)
       rejects resumes larger than 5 MB (95 ms)
  /api/generate-enhanced-docs
     responds with structured details when jobId is missing (29 ms)
     queues message when fallback cover letters are used (77 ms)
     replaces whitespace cover letters with fallback copy (154 ms)
     audits cover letters for placeholders and applies fallback (151 ms)
     replaces weak closing cover letters with confident fallback copy (225 ms)
     replaces cover letters exceeding the word limit with confident fallback copy (362 ms)
     surfaces message when cover letters remain unavailable (87 ms)
     refreshes session artifacts when job description changes for a new enhancement (271 ms)
     refreshes session artifacts automatically when job description changes (130 ms)
     persists template vs population errors in stage metadata (152 ms)
  generatePdfWithFallback
     records retry message when 2025 renderer fails (19 ms)
     announces next template when fallback occurs for non-2025 resume (27 ms)
     announces actual next template when 2025 fallback prefers contrast option (16 ms)
     throws explicit PdfGenerationError with summary when all strategies fail (88 ms)
  classifyDocument
     identifies resumes by section structure
     detects cover letters
     rejects job descriptions that mimic resume sections
  extractText
     extracts text from pdf (1 ms)
     extracts text from docx
     guides user when pdf parsing fails (53 ms)
     guides user when docx parsing fails (1 ms)
     extracts text from doc (23 ms)
     rejects plain text files (1 ms)
  client download labels
     App displays correct labels for each file type (11 ms)
  change log persistence safeguards
     truncates oversized change log fields before persisting (40 ms)
     persists category changelog details for ATS, skills, and related sections (28 ms)
     captures rescore summary and updates session score snapshot (29 ms)
     stores session change logs under a user session prefix when no prior key exists (24 ms)
  change log session visibility
     persists reverted entries when updating the change log (35 ms)
     stores rejected entries in the session change log dismissed list (28 ms)
     persists cover letter change log payloads to S3 (22 ms)
     removing a cover letter entry records dismissal state in S3 (21 ms)
     persists activity logs from nested payloads into the session change log (24 ms)

   static asset proxy endpoint  degrades direct hashed asset requests to the index alias when upstream bundles are missing

    TypeError: Cannot read properties of undefined (reading 'bucket')

      1426 |   if (await serveHashedIndexAssetFromS3({
      1427 |     assetPath: remoteHashedAssetPath,
    > 1428 |     bucket: metadataConfig.bucket,
           |                            ^
      1429 |     prefix: metadataConfig.prefix,
      1430 |     res,
      1431 |     logContext: { ...logContext, ...logLabels },

      at handleIndexAssetAliasRequest (server.js:1428:28)
      at server.js:19196:27

Test Suites: 1 failed, 1 total
Tests:       1 failed, 89 passed, 90 total
Snapshots:   0 total
Time:        12.3 s, estimated 278 s
Ran all test suites matching /tests\/server.test.mjs/i.
Test Suites: 1 failed, 1 total
Tests:       1 failed, 89 passed, 90 total
Snapshots:   0 total
Time:        12.312 s, estimated 278 s
Ran all test suites matching /tests\/server.test.mjs/i.
Force exiting Jest: Have you considered using `--detectOpenHandles` to detect async operations that kept running after all tests finished?
